{"version":3,"file":"static/js/main.8a8cb829.js","mappings":"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","sources":["../node_modules/@ungap/url-search-params/esm/index.js","../node_modules/attr-accept/dist/es/index.js","../node_modules/resolve-pathname/esm/resolve-pathname.js","../node_modules/value-equal/esm/value-equal.js","../node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../node_modules/history/esm/history.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js","../node_modules/hoist-non-react-statics/node_modules/react-is/index.js","../node_modules/html-loader/dist/runtime/getUrl.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/redux-query-sync/lib/redux-query-sync.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../node_modules/shallowequal/index.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../node_modules/use-sync-external-store/shim/index.js","../node_modules/use-sync-external-store/shim/with-selector.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../webpack/runtime/nonce","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/@emotion/stylis/dist/stylis.browser.esm.js","../node_modules/@emotion/unitless/dist/unitless.browser.esm.js","../node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","../node_modules/styled-components/src/utils/interleave.js","../node_modules/styled-components/src/utils/isPlainObject.js","../node_modules/styled-components/src/utils/empties.js","../node_modules/styled-components/src/utils/isFunction.js","../node_modules/styled-components/src/utils/getComponentName.js","../node_modules/styled-components/src/utils/isStyledComponent.js","../node_modules/styled-components/src/constants.js","../node_modules/styled-components/src/utils/error.js","../node_modules/styled-components/src/sheet/GroupedTag.js","../node_modules/styled-components/src/sheet/GroupIDAllocator.js","../node_modules/styled-components/src/sheet/Rehydration.js","../node_modules/styled-components/src/utils/nonce.js","../node_modules/styled-components/src/sheet/dom.js","../node_modules/styled-components/src/sheet/Tag.js","../node_modules/styled-components/src/sheet/Sheet.js","../node_modules/styled-components/src/utils/generateAlphabeticName.js","../node_modules/styled-components/src/utils/hash.js","../node_modules/styled-components/src/utils/isStaticRules.js","../node_modules/styled-components/src/models/ComponentStyle.js","../node_modules/styled-components/src/utils/stylis.js","../node_modules/styled-components/src/utils/stylisPluginInsertRule.js","../node_modules/styled-components/src/models/StyleSheetManager.js","../node_modules/styled-components/src/models/Keyframes.js","../node_modules/styled-components/src/utils/hyphenateStyleName.js","../node_modules/styled-components/src/utils/flatten.js","../node_modules/styled-components/src/utils/isStatelessFunction.js","../node_modules/styled-components/src/utils/addUnitIfNeeded.js","../node_modules/styled-components/src/constructors/css.js","../node_modules/styled-components/src/utils/checkDynamicCreation.js","../node_modules/styled-components/src/utils/determineTheme.js","../node_modules/styled-components/src/utils/escape.js","../node_modules/styled-components/src/utils/generateComponentId.js","../node_modules/styled-components/src/utils/isTag.js","../node_modules/styled-components/src/utils/mixinDeep.js","../node_modules/styled-components/src/models/ThemeProvider.js","../node_modules/styled-components/src/models/StyledComponent.js","../node_modules/styled-components/src/utils/generateDisplayName.js","../node_modules/styled-components/src/utils/joinStrings.js","../node_modules/styled-components/src/utils/domElements.js","../node_modules/styled-components/src/constructors/styled.js","../node_modules/styled-components/src/constructors/constructWithOptions.js","../node_modules/styled-components/src/models/GlobalStyle.js","../node_modules/styled-components/src/models/ServerStyleSheet.js","../node_modules/styled-components/src/base.js","theme.ts","components.tsx","Artefacts/PdFile.tsx","utils.ts","../node_modules/filesize/dist/filesize.esm.js","Artefacts/Wasm.tsx","Artefacts/Wav.tsx","Artefacts/ArtefactViewer.tsx","../node_modules/immer/src/utils/errors.ts","../node_modules/immer/src/utils/common.ts","../node_modules/immer/src/utils/plugins.ts","../node_modules/immer/src/core/scope.ts","../node_modules/immer/src/core/finalize.ts","../node_modules/immer/src/core/proxy.ts","../node_modules/immer/src/core/immerClass.ts","../node_modules/immer/src/core/current.ts","../node_modules/immer/src/plugins/es5.ts","../node_modules/immer/src/immer.ts","../node_modules/immer/src/utils/env.ts","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/redux/es/redux.js","../node_modules/redux-thunk/es/index.js","../node_modules/@reduxjs/toolkit/src/devtoolsExtension.ts","../node_modules/@reduxjs/toolkit/src/isPlainObject.ts","../node_modules/@reduxjs/toolkit/src/createAction.ts","../node_modules/@reduxjs/toolkit/src/utils.ts","../node_modules/@reduxjs/toolkit/src/getDefaultMiddleware.ts","../node_modules/@reduxjs/toolkit/src/mapBuilders.ts","../node_modules/@reduxjs/toolkit/src/createSlice.ts","../node_modules/@reduxjs/toolkit/src/createReducer.ts","../node_modules/@reduxjs/toolkit/src/nanoid.ts","../node_modules/@reduxjs/toolkit/src/createAsyncThunk.ts","../node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts","../node_modules/@reduxjs/toolkit/src/listenerMiddleware/task.ts","../node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts","../node_modules/@reduxjs/toolkit/src/index.ts","../node_modules/react-redux/es/utils/batch.js","../node_modules/react-redux/es/components/Context.js","../node_modules/react-redux/es/hooks/useReduxContext.js","../node_modules/react-redux/es/hooks/useSelector.js","../node_modules/react-redux/es/utils/useSyncExternalStore.js","../node_modules/react-redux/es/utils/Subscription.js","../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../node_modules/react-redux/es/components/connect.js","../node_modules/react-redux/es/components/Provider.js","../node_modules/react-redux/es/hooks/useStore.js","../node_modules/react-redux/es/hooks/useDispatch.js","../node_modules/react-redux/es/index.js","store/build-input.ts","store/build-output.ts","../node_modules/webpd/dist/WebPd/src/build/asc.js","../node_modules/webpd/dist/WebPd_pd-parser/dist/src/tokens.js","../node_modules/webpd/dist/WebPd_pd-parser/dist/src/hydrate.js","../node_modules/webpd/dist/WebPd_pd-parser/dist/src/tokenize.js","../node_modules/webpd/dist/WebPd_pd-parser/dist/src/types.js","../node_modules/webpd/dist/WebPd_pd-parser/dist/src/parse.js","../node_modules/webpd/dist/WebPd/src/build/helpers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/functional-helpers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/dsp-graph/getters.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/dsp-graph/traversal.js","../node_modules/webpd/dist/WebPd_compiler/dist/package.json.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-javascript/compile/macros.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/compile/macros.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/compile-helpers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/ast/declare.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/generate.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/ast/render.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/namespace.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/variable-names-index.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/stdlib/sked.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/stdlib/commons.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/stdlib/core.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/stdlib/buf.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/stdlib/msg.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/stdlib/fs.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/precompile/dependencies.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/ast/ast-helpers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/precompile/nodes.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/precompile/index.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/compile/index.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-javascript/compile/index.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/compile/index.js","../node_modules/webpd/dist/WebPd/src/app-generator/generate-app.js","../node_modules/webpd/dist/WebPd/src/app-generator/gui-controls.js","../node_modules/webpd/dist/WebPd/src/compile-dsp-graph/compile-helpers.js","../node_modules/webpd/dist/WebPd/src/compile-dsp-graph/instantiate-abstractions.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/subpatch.js","../node_modules/webpd/dist/WebPd/src/nodes/validation.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/_mixer~.js","../node_modules/webpd/dist/WebPd/src/nodes/standard-message-receivers.js","../node_modules/webpd/dist/WebPd/src/nodes/variable-names.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/sig~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/_routemsg.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/dsp-graph/mutations.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/dsp-graph/graph-helpers.js","../node_modules/webpd/dist/WebPd/src/compile-dsp-graph/to-dsp-graph.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/controls-base.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/buses.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/core.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/controls-float.js","../node_modules/webpd/dist/WebPd/src/app-generator/collect-message-receivers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/run/run-helpers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/core-bindings.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/msg-bindings.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/wasm-helpers.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/engine-lifecycle-bindings.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/fs-bindings.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/index.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-assemblyscript/run/commons-bindings.js","../node_modules/webpd/dist/WebPd_compiler/dist/src/engine-javascript/run/index.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/base64-arraybuffer.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/codecs/bitdepth.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/codecs/imaadpcm.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/codecs/alaw.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/codecs/mulaw.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/binary/lib/endianness.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/binary/lib/utf8-parser.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/binary/lib/int-parser.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/binary/lib/float-parser.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/binary/index.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/riff-file.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/wavefile-reader.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/write-string.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/wavefile-parser.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/validators/validate-sample-rate.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/wavefile-creator.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/parsers/interleave.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/validators/validate-num-channels.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/wavefile-tag-editor.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/wavefile-cue-editor.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/resampler/interpolator.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/resampler/index.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/resampler/butterworth-lpf.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/resampler/fir-lpf.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/lib/wavefile-converter.js","../node_modules/webpd/dist/WebPd/node_modules/wavefile/index.js","../node_modules/webpd/dist/WebPd/src/build/audio.js","../node_modules/webpd/dist/WebPd/src/build/formats.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/dac~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/adc~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/samplerate~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/osc~-phasor~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/clip~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/samphold~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/snapshot~.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/lines.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/points.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/timing.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/vline~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/line~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/line.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/funcs.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/funcs~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/tab-base.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/tabread.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/tabwrite.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/tabread~-tabread4~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/tabplay~.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/fs.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/readsf~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/writesf~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/filters-bp~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/throw~-catch~-send~-receive~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/metro.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/timer.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/delay.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/controls-bang.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/controls-atoms.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/loadbang.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/numbers.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/float-int.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/funcs.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/binop~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/noise~.js","../node_modules/webpd/dist/WebPd/src/nodes/global-code/delay-buffers.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/delread~-delread4~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/delwrite~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/filters-real~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/filters-complex~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/filters-hip~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/filters-lop~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/filters-vcf~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/msg.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/list.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/symbol.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/send-receive.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/soundfiler.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/print.js","../node_modules/webpd/dist/WebPd/src/nodes/type-arguments.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/trigger.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/change.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/moses.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/clip.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/route.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/spigot.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/until.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/random.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/pipe.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/pack.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/unpack.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/expr-expr~.js","../node_modules/webpd/dist/WebPd/src/nodes/nodes/binop.js","../node_modules/webpd/dist/WebPd/src/nodes/index.js","../node_modules/webpd/dist/WebPd/src/build/build.js","../node_modules/webpd/dist/WebPd/src/app-generator/runtime.generated.js.txt.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/node_modules/fetch-retry/index.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/utils.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/WebPdWorkletNode.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_compiler/dist/src/functional-helpers.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_compiler/dist/src/ast/declare.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_compiler/dist/src/stdlib/buf.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_compiler/dist/src/stdlib/fs.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_compiler/dist/src/stdlib/msg.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_compiler/dist/src/compile/precompile/nodes.js","../node_modules/webpd/dist/WebPd/src/browser/build-helpers.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/fake-filesystem.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/read-sound-stream.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/write-sound-file.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/write-sound-stream.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/index.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/read-sound-file.js","../node_modules/webpd/dist/WebPd_runtime/dist/WebPd_runtime/src/fs-web/close-sound-stream.js","../node_modules/webpd/dist/WebPd/src/browser/url-helpers.js","store/shared-action.ts","store/artefacts.ts","store/console.ts","store/app.ts","../node_modules/reselect/es/defaultMemoize.js","../node_modules/reselect/es/index.js","store/build-input-selectors.ts","store/build-output-selectors.ts","../node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js","../node_modules/@redux-saga/is/dist/redux-saga-is.esm.js","../node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js","../node_modules/@redux-saga/core/dist/io-c3792963.js","../node_modules/@redux-saga/deferred/dist/redux-saga-deferred.esm.js","../node_modules/@redux-saga/core/dist/redux-saga-core.esm.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js","../node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js","store/build-input-sagas.ts","PatchPlayer/math-utils.ts","PatchPlayer/misc-utils.ts","PatchPlayer/models.ts","PatchPlayer/constants.ts","PatchPlayer/views.ts","PatchPlayer/render.ts","PatchPlayer/main.ts","../node_modules/webpd/dist/WebPd/src/browser/initialize.js","../node_modules/webpd/dist/WebPd/src/browser/run.js","../node_modules/webpd/dist/WebPd/src/browser/run-helpers.js","store/shared-selectors.ts","types.ts","store/app-selectors.ts","store/artefacts-worker-safe.ts","store/artefacts-sagas.ts","store/app-sagas.ts","store/patch-player.ts","store/patch-player-selectors.ts","store/index.ts","../node_modules/@reduxjs/toolkit/src/configureStore.ts","Input/FromExample.tsx","../node_modules/tslib/tslib.es6.mjs","../node_modules/file-selector/src/file.ts","../node_modules/file-selector/src/file-selector.ts","../node_modules/react-dropzone/dist/es/utils/index.js","../node_modules/react-dropzone/dist/es/index.js","Input/FromLocalFile.tsx","Input/FromUrl.tsx","Input/Input.tsx","Output/OutputSelector.tsx","Output/OptionsCodeTarget.tsx","store/artefacts-selectors.ts","store/console-selectors.ts","Artefacts/PatchPlayerContainer.tsx","Artefacts/Artefacts.tsx","Output/OptionsWavLength.tsx","Output/Output.tsx","../node_modules/webpd/README.md","images/github-mark.svg","images/heart.svg","Introduction.tsx","Console.tsx","CompilerTitle.tsx","Footer.tsx","Debug.tsx","App.tsx","../node_modules/styled-components/src/constructors/createGlobalStyle.js","reportWebVitals.ts","index.tsx"],"sourcesContent":["/*! (c) Andrea Giammarchi - ISC */\nvar self = this || /* istanbul ignore next */ {};\ntry {\n  (function (URLSearchParams, plus) {\n    if (\n      new URLSearchParams('q=%2B').get('q') !== plus ||\n      new URLSearchParams({q: plus}).get('q') !== plus ||\n      new URLSearchParams([['q', plus]]).get('q') !== plus ||\n      new URLSearchParams('q=\\n').toString() !== 'q=%0A' ||\n      new URLSearchParams({q: ' &'}).toString() !== 'q=+%26' ||\n      new URLSearchParams({q: '%zx'}).toString() !== 'q=%25zx'\n    )\n      throw URLSearchParams;\n    self.URLSearchParams = URLSearchParams;\n  }(URLSearchParams, '+'));\n} catch(URLSearchParams) {\n  (function (Object, String, isArray) {'use strict';\n    var create = Object.create;\n    var defineProperty = Object.defineProperty;\n    var find = /[!'\\(\\)~]|%20|%00/g;\n    var findPercentSign = /%(?![0-9a-fA-F]{2})/g;\n    var plus = /\\+/g;\n    var replace = {\n      '!': '%21',\n      \"'\": '%27',\n      '(': '%28',\n      ')': '%29',\n      '~': '%7E',\n      '%20': '+',\n      '%00': '\\x00'\n    };\n    var proto = {\n      append: function (key, value) {\n        appendTo(this._ungap, key, value);\n      },\n      delete: function (key) {\n        delete this._ungap[key];\n      },\n      get: function (key) {\n        return this.has(key) ? this._ungap[key][0] : null;\n      },\n      getAll: function (key) {\n        return this.has(key) ? this._ungap[key].slice(0) : [];\n      },\n      has: function (key) {\n        return key in this._ungap;\n      },\n      set: function (key, value) {\n        this._ungap[key] = [String(value)];\n      },\n      forEach: function (callback, thisArg) {\n        var self = this;\n        for (var key in self._ungap)\n          self._ungap[key].forEach(invoke, key);\n        function invoke(value) {\n          callback.call(thisArg, value, String(key), self);\n        }\n      },\n      toJSON: function () {\n        return {};\n      },\n      toString: function () {\n        var query = [];\n        for (var key in this._ungap) {\n          var encoded = encode(key);\n          for (var\n            i = 0,\n            value = this._ungap[key];\n            i < value.length; i++\n          ) {\n            query.push(encoded + '=' + encode(value[i]));\n          }\n        }\n        return query.join('&');\n      }\n    };\n    for (var key in proto)\n      defineProperty(URLSearchParams.prototype, key, {\n        configurable: true,\n        writable: true,\n        value: proto[key]\n      });\n    self.URLSearchParams = URLSearchParams;\n    function URLSearchParams(query) {\n      var dict = create(null);\n      defineProperty(this, '_ungap', {value: dict});\n      switch (true) {\n        case !query:\n          break;\n        case typeof query === 'string':\n          if (query.charAt(0) === '?') {\n            query = query.slice(1);\n          }\n          for (var\n            pairs = query.split('&'),\n            i = 0,\n            length = pairs.length; i < length; i++\n          ) {\n            var value = pairs[i];\n            var index = value.indexOf('=');\n            if (-1 < index) {\n              appendTo(\n                dict,\n                decode(value.slice(0, index)),\n                decode(value.slice(index + 1))\n              );\n            } else if (value.length){\n              appendTo(\n                dict,\n                decode(value),\n                ''\n              );\n            }\n          }\n          break;\n        case isArray(query):\n          for (var\n            i = 0,\n            length = query.length; i < length; i++\n          ) {\n            var value = query[i];\n            appendTo(dict, value[0], value[1]);\n          }\n          break;\n        case 'forEach' in query:\n          query.forEach(addEach, dict);\n          break;\n        default:\n          for (var key in query)\n            appendTo(dict, key, query[key]);\n      }\n    }\n\n    function addEach(value, key) {\n      appendTo(this, key, value);\n    }\n\n    function appendTo(dict, key, value) {\n      var res = isArray(value) ? value.join(',') : value;\n      if (key in dict)\n        dict[key].push(res);\n      else\n        dict[key] = [res];\n    }\n\n    function decode(str) {\n      return decodeURIComponent(str.replace(findPercentSign, '%25').replace(plus, ' '));\n    }\n\n    function encode(str) {\n      return encodeURIComponent(str).replace(find, replacer);\n    }\n\n    function replacer(match) {\n      return replace[match];\n    }\n\n  }(Object, String, Array.isArray));\n}\n\n(function (URLSearchParamsProto) {\n\n  var iterable = false;\n  try { iterable = !!Symbol.iterator; } catch (o_O) {}\n\n  /* istanbul ignore else */\n  if (!('forEach' in URLSearchParamsProto)) {\n    URLSearchParamsProto.forEach = function forEach(callback, thisArg) {\n      var self = this;\n      var names = Object.create(null);\n      this.toString()\n          .replace(/=[\\s\\S]*?(?:&|$)/g, '=')\n          .split('=')\n          .forEach(function (name) {\n            if (!name.length || name in names)\n              return;\n            (names[name] = self.getAll(name)).forEach(function(value) {\n              callback.call(thisArg, value, name, self);\n            });\n          });\n    };\n  }\n\n  /* istanbul ignore else */\n  if (!('keys' in URLSearchParamsProto)) {\n    URLSearchParamsProto.keys = function keys() {\n      return iterator(this, function(value, key) { this.push(key); });\n    };\n  }\n\n   /* istanbul ignore else */\n  if (!('values' in URLSearchParamsProto)) {\n    URLSearchParamsProto.values = function values() {\n      return iterator(this, function(value, key) { this.push(value); });\n    };\n  }\n\n  /* istanbul ignore else */\n  if (!('entries' in URLSearchParamsProto)) {\n    URLSearchParamsProto.entries = function entries() {\n      return iterator(this, function(value, key) { this.push([key, value]); });\n    };\n  }\n\n  /* istanbul ignore else */\n  if (iterable && !(Symbol.iterator in URLSearchParamsProto)) {\n    URLSearchParamsProto[Symbol.iterator] = URLSearchParamsProto.entries;\n  }\n\n  /* istanbul ignore else */\n  if (!('sort' in URLSearchParamsProto)) {\n    URLSearchParamsProto.sort = function sort() {\n      var\n        entries = this.entries(),\n        entry = entries.next(),\n        done = entry.done,\n        keys = [],\n        values = Object.create(null),\n        i, key, value\n      ;\n      while (!done) {\n        value = entry.value;\n        key = value[0];\n        keys.push(key);\n        if (!(key in values)) {\n          values[key] = [];\n        }\n        values[key].push(value[1]);\n        entry = entries.next();\n        done = entry.done;\n      }\n      // not the champion in efficiency\n      // but these two bits just do the job\n      keys.sort();\n      for (i = 0; i < keys.length; i++) {\n        this.delete(keys[i]);\n      }\n      for (i = 0; i < keys.length; i++) {\n        key = keys[i];\n        this.append(key, values[key].shift());\n      }\n    };\n  }\n\n  function iterator(self, callback) {\n    var items = [];\n    self.forEach(callback, items);\n    return iterable ?\n      items[Symbol.iterator]() :\n      {\n        next: function() {\n          var value = items.shift();\n          return {done: value === undefined, value: value};\n        }\n      };\n  }\n\n  /* istanbul ignore next */\n  (function (Object) {\n    var\n      dP = Object.defineProperty,\n      gOPD = Object.getOwnPropertyDescriptor,\n      createSearchParamsPollute = function (search) {\n        function append(name, value) {\n          URLSearchParamsProto.append.call(this, name, value);\n          name = this.toString();\n          search.set.call(this._usp, name ? ('?' + name) : '');\n        }\n        function del(name) {\n          URLSearchParamsProto.delete.call(this, name);\n          name = this.toString();\n          search.set.call(this._usp, name ? ('?' + name) : '');\n        }\n        function set(name, value) {\n          URLSearchParamsProto.set.call(this, name, value);\n          name = this.toString();\n          search.set.call(this._usp, name ? ('?' + name) : '');\n        }\n        return function (sp, value) {\n          sp.append = append;\n          sp.delete = del;\n          sp.set = set;\n          return dP(sp, '_usp', {\n            configurable: true,\n            writable: true,\n            value: value\n          });\n        };\n      },\n      createSearchParamsCreate = function (polluteSearchParams) {\n        return function (obj, sp) {\n          dP(\n            obj, '_searchParams', {\n              configurable: true,\n              writable: true,\n              value: polluteSearchParams(sp, obj)\n            }\n          );\n          return sp;\n        };\n      },\n      updateSearchParams = function (sp) {\n        var append = sp.append;\n        sp.append = URLSearchParamsProto.append;\n        URLSearchParams.call(sp, sp._usp.search.slice(1));\n        sp.append = append;\n      },\n      verifySearchParams = function (obj, Class) {\n        if (!(obj instanceof Class)) throw new TypeError(\n          \"'searchParams' accessed on an object that \" +\n          \"does not implement interface \" + Class.name\n        );\n      },\n      upgradeClass = function (Class) {\n        var\n          ClassProto = Class.prototype,\n          searchParams = gOPD(ClassProto, 'searchParams'),\n          href = gOPD(ClassProto, 'href'),\n          search = gOPD(ClassProto, 'search'),\n          createSearchParams\n        ;\n        if (!searchParams && search && search.set) {\n          createSearchParams = createSearchParamsCreate(\n            createSearchParamsPollute(search)\n          );\n          Object.defineProperties(\n            ClassProto,\n            {\n              href: {\n                get: function () {\n                  return href.get.call(this);\n                },\n                set: function (value) {\n                  var sp = this._searchParams;\n                  href.set.call(this, value);\n                  if (sp) updateSearchParams(sp);\n                }\n              },\n              search: {\n                get: function () {\n                  return search.get.call(this);\n                },\n                set: function (value) {\n                  var sp = this._searchParams;\n                  search.set.call(this, value);\n                  if (sp) updateSearchParams(sp);\n                }\n              },\n              searchParams: {\n                get: function () {\n                  verifySearchParams(this, Class);\n                  return this._searchParams || createSearchParams(\n                    this,\n                    new URLSearchParams(this.search.slice(1))\n                  );\n                },\n                set: function (sp) {\n                  verifySearchParams(this, Class);\n                  createSearchParams(this, sp);\n                }\n              }\n            }\n          );\n        }\n      }\n    ;\n    try {\n      upgradeClass(HTMLAnchorElement);\n      if (/^function|object$/.test(typeof URL) && URL.prototype)\n        upgradeClass(URL);\n    } catch (meh) {}\n  }(Object));\n\n}(self.URLSearchParams.prototype, Object));\nexport default self.URLSearchParams;\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = (file.type || '').toLowerCase();\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim().toLowerCase();\n\n      if (validType.charAt(0) === '.') {\n        return fileName.toLowerCase().endsWith(validType);\n      } else if (validType.endsWith('/*')) {\n        // This is something like a image/* mime type\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      return mimeType === validType;\n    });\n  }\n\n  return true;\n};","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var b=Mg.current;E(Mg);a._currentValue=b}\nfunction Sg(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}function Tg(a,b){Ng=a;Pg=Og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Ug=!0),a.firstContext=null)}\nfunction Vg(a){var b=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:b,next:null},null===Og){if(null===Ng)throw Error(p(308));Og=a;Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return b}var Wg=null;function Xg(a){null===Wg?Wg=[a]:Wg.push(a)}function Yg(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,Xg(b)):(c.next=e.next,e.next=c);b.interleaved=c;return Zg(a,d)}\nfunction Zg(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction dh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return Zg(a,c)}e=d.interleaved;null===e?(b.next=b,Xg(d)):(b.next=e.next,e.next=b);d.interleaved=b;return Zg(a,c)}function eh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction fh(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction gh(a,b,c,d){var e=a.updateQueue;$g=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:$g=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);hh|=g;a.lanes=g;a.memoizedState=q}}\nfunction ih(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var jh=(new aa.Component).refs;function kh(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=L(),d=\nlh(a),e=ch(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=dh(a,e,d);null!==b&&(mh(b,a,d,c),eh(b,a,d))}};function oh(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction ph(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Vg(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction qh(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}\nfunction rh(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jh;ah(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Vg(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(kh(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&nh.enqueueReplaceState(e,e.state,null),gh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}\nfunction sh(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;b===jh&&(b=e.refs={});null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction th(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function uh(a){var b=a._init;return b(a._payload)}\nfunction vh(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=wh(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=xh(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&uh(f)===b.type))return d=e(b,c.props),d.ref=sh(a,b,c),d.return=a,d;d=yh(c.type,c.key,c.props,null,a.mode,d);d.ref=sh(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=zh(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ah(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=xh(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=yh(b.type,b.key,b.props,null,a.mode,c),\nc.ref=sh(a,null,b),c.return=a,c;case wa:return b=zh(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Ah(b,a.mode,c,null),b.return=a,b;th(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);th(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);th(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&uh(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=sh(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Ah(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=yh(f.type,f.key,f.props,null,a.mode,h),h.ref=sh(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=zh(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);th(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=xh(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,b){G(Gh,b);G(Fh,a);G(Eh,Dh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(Eh);G(Eh,b)}function Jh(){E(Eh);E(Fh);E(Gh)}\nfunction Kh(a){Hh(Gh.current);var b=Hh(Eh.current);var c=lb(b,a.type);b!==c&&(G(Fh,a),G(Eh,c))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);\nfunction Mh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Nh=[];\nfunction Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321));}function Wh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Xh(a,b,c,d,e,f){Rh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Ph.current=null===a||null===a.memoizedState?Yh:Zh;a=c(d,e);if(Th){f=0;do{Th=!1;Uh=0;if(25<=f)throw Error(p(301));f+=1;P=O=null;b.updateQueue=null;Ph.current=$h;a=c(d,e)}while(Th)}Ph.current=ai;b=null!==O&&null!==O.next;Rh=0;P=O=N=null;Sh=!1;if(b)throw Error(p(300));return a}function bi(){var a=0!==Uh;Uh=0;return a}\nfunction ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function di(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(p(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction ei(a,b){return\"function\"===typeof b?b(a):b}\nfunction fi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Rh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;N.lanes|=m;hh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(Ug=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,N.lanes|=f,hh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction gi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(Ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function hi(){}\nfunction ii(a,b){var c=N,d=di(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,Ug=!0);d=d.queue;ji(ki.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==P&&P.memoizedState.tag&1){c.flags|=2048;li(9,mi.bind(null,c,d,e,b),void 0,null);if(null===R)throw Error(p(349));0!==(Rh&30)||ni(c,b,e)}return e}function ni(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction mi(a,b,c,d){b.value=c;b.getSnapshot=d;oi(b)&&pi(a)}function ki(a,b,c){return c(function(){oi(b)&&pi(a)})}function oi(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function pi(a){var b=Zg(a,1);null!==b&&mh(b,a,1,-1)}\nfunction qi(a){var b=ci();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a};b.queue=a;a=a.dispatch=ri.bind(null,N,a);return[b.memoizedState,a]}\nfunction li(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function si(){return di().memoizedState}function ti(a,b,c,d){var e=ci();N.flags|=a;e.memoizedState=li(1|b,c,void 0,void 0===d?null:d)}\nfunction ui(a,b,c,d){var e=di();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Wh(d,g.deps)){e.memoizedState=li(b,c,f,d);return}}N.flags|=a;e.memoizedState=li(1|b,c,f,d)}function vi(a,b){return ti(8390656,8,a,b)}function ji(a,b){return ui(2048,8,a,b)}function wi(a,b){return ui(4,2,a,b)}function xi(a,b){return ui(4,4,a,b)}\nfunction yi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function zi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ui(4,4,yi.bind(null,b,a),c)}function Ai(){}function Bi(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Ci(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Di(a,b,c){if(0===(Rh&21))return a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=c;He(c,b)||(c=yc(),N.lanes|=c,hh|=c,a.baseState=!0);return b}function Ei(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Qh.transition;Qh.transition={};try{a(!1),b()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}\nfunction Gi(a,b,c){var d=lh(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,c);else if(c=Yg(a,b,c,d),null!==c){var e=L();mh(c,a,d,e);Ji(c,b,d)}}\nfunction ri(a,b,c){var d=lh(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,Xg(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=Yg(a,b,e,d);null!==c&&(e=L(),mh(c,a,d,e),Ji(c,b,d))}}\nfunction Hi(a){var b=a.alternate;return a===N||null!==b&&b===N}function Ii(a,b){Th=Sh=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Ji(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,b){ci().memoizedState=[a,void 0===b?null:b];return a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ti(4194308,\n4,yi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ti(4194308,4,a,b)},useInsertionEffect:function(a,b){return ti(4,2,a,b)},useMemo:function(a,b){var c=ci();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ci();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=Gi.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=\nci();a={current:a};return b.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),b=a[0];a=Ei.bind(null,a[1]);ci().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=N,e=ci();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===R)throw Error(p(349));0!==(Rh&30)||ni(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;vi(ki.bind(null,d,\nf,a),[a]);d.flags|=2048;li(9,mi.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=ci(),b=R.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Uh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Vh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},\nuseDebugValue:Ai,useDeferredValue:function(a){var b=di();return Di(b,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return null===\nO?b.memoizedState=a:Di(b,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Li(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}\nfunction Mi(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Ni=\"function\"===typeof WeakMap?WeakMap:Map;function Oi(a,b,c){c=ch(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Pi||(Pi=!0,Qi=d);Mi(a,b)};return c}\nfunction Ri(a,b,c){c=ch(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Mi(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Mi(a,b);\"function\"!==typeof d&&(null===Si?Si=new Set([this]):Si.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Ti(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Ni;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ui.bind(null,a,b,c),b.then(a,a))}function Vi(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Wi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=ch(-1,1),b.tag=2,dh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,b,c,d){b.child=null===a?Ch(b,null,c,d):Bh(b,a.child,c,d)}\nfunction Zi(a,b,c,d,e){c=c.render;var f=b.ref;Tg(b,e);d=Xh(a,b,c,d,f,e);c=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&c&&vg(b);b.flags|=1;Yi(a,b,d,e);return b.child}\nfunction aj(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!bj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,cj(a,b,f,d,e);a=yh(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return $i(a,b,e)}b.flags|=1;a=wh(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction cj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(Ug=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(Ug=!0);else return b.lanes=a.lanes,$i(a,b,e)}return dj(a,b,c,d,e)}\nfunction ej(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(fj,gj),gj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(fj,gj);gj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(fj,gj),gj|=d;Yi(a,b,e,c);return b.child}function hj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function dj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);Tg(b,e);c=Xh(a,b,c,d,f,e);d=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&d&&vg(b);b.flags|=1;Yi(a,b,c,e);return b.child}\nfunction ij(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;Tg(b,e);if(null===b.stateNode)jj(a,b),ph(b,c,d),rh(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=Vg(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&qh(b,g,d,l);$g=!1;var r=b.memoizedState;g.state=r;gh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||$g?(\"function\"===typeof m&&(kh(b,c,m,d),k=b.memoizedState),(h=$g||oh(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Lg(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=Vg(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&qh(b,g,d,k);$g=!1;r=b.memoizedState;g.state=r;gh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||$g?(\"function\"===typeof y&&(kh(b,c,y,d),n=b.memoizedState),(l=$g||oh(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return kj(a,b,c,d,f,e)}\nfunction kj(a,b,c,d,e,f){hj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),$i(a,b,f);d=b.stateNode;Xi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Bh(b,a.child,null,f),b.child=Bh(b,null,h,f)):Yi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function lj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);Ih(a,b.containerInfo)}\nfunction mj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Yi(a,b,c,d);return b.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction pj(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(M,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=qj(g,d,0,null),a=Ah(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=oj(c),b.memoizedState=nj,a):rj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return sj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=wh(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=wh(h,f):(f=Ah(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?oj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=nj;return d}f=a.child;a=f.sibling;d=wh(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction rj(a,b){b=qj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function tj(a,b,c,d){null!==d&&Jg(d);Bh(b,a.child,null,c);a=rj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction sj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Li(Error(p(422))),tj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=qj({mode:\"visible\",children:d.children},e,0,null);f=Ah(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Bh(b,a.child,null,g);b.child.memoizedState=oj(g);b.memoizedState=nj;return f}if(0===(b.mode&1))return tj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Li(f,d,void 0);return tj(a,b,g,d)}h=0!==(g&a.childLanes);if(Ug||h){d=R;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,Zg(a,e),mh(d,a,e,-1))}uj();d=Li(Error(p(421)));return tj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=vj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=rj(b,d.children);b.flags|=4096;return b}function wj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);Sg(a.return,b,c)}\nfunction xj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction yj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Yi(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&wj(a,c,b);else if(19===a.tag)wj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(M,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Mh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);xj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Mh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}xj(b,!0,c,null,f);break;case \"together\":xj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction jj(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function $i(a,b,c){null!==a&&(b.dependencies=a.dependencies);hh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=wh(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=wh(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction zj(a,b,c){switch(b.tag){case 3:lj(b);Ig();break;case 5:Kh(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:Ih(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Mg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(M,M.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return pj(a,b,c);G(M,M.current&1);a=$i(a,b,c);return null!==a?a.sibling:null}G(M,M.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return yj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(M,M.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,ej(a,b,c)}return $i(a,b,c)}var Aj,Bj,Cj,Dj;\nAj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Bj=function(){};\nCj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;Hh(Eh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Dj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Ej(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Fj(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;Jh();E(Wf);E(H);Oh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Gj(zg),zg=null));Bj(a,b);S(b);return null;case 5:Lh(b);var e=Hh(Gh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Cj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;Aj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Dj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=Hh(Gh.current);Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(M);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Gj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(M.current&1)?0===T&&(T=3):uj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return Jh(),\nBj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return Rg(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(M);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Ej(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Mh(a);if(null!==g){b.flags|=128;Ej(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(M,M.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Hj&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304)}else{if(!d)if(a=Mh(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Ej(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Hj&&1073741824!==c&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=M.current,G(M,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Ij(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(gj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Jj(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Lh(b),null;case 13:E(M);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(b.type._context),null;case 22:case 23:return Ij(),\nnull;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Mj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Nj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Oj=!1;\nfunction Pj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Lg(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Oj;Oj=!1;return n}\nfunction Qj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Nj(b,c,f)}e=e.next}while(e!==d)}}function Rj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Sj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Tj(a){var b=a.alternate;null!==b&&(a.alternate=null,Tj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Uj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Vj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Uj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}\nfunction Xj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Xj(a,b,c),a=a.sibling;null!==a;)Xj(a,b,c),a=a.sibling}var X=null,Yj=!1;function Zj(a,b,c){for(c=c.child;null!==c;)ak(a,b,c),c=c.sibling}\nfunction ak(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Mj(c,b);case 6:var d=X,e=Yj;X=null;Zj(a,b,c);X=d;Yj=e;null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Yj;X=c.stateNode.containerInfo;Yj=!0;\nZj(a,b,c);X=d;Yj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Nj(c,b,g):0!==(f&4)&&Nj(c,b,g));e=e.next}while(e!==d)}Zj(a,b,c);break;case 1:if(!U&&(Mj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Zj(a,b,c);break;case 21:Zj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Zj(a,b,c),U=d):Zj(a,b,c);break;default:Zj(a,b,c)}}function bk(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Lj);b.forEach(function(b){var d=ck.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction dk(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Yj=!1;break a;case 3:X=h.stateNode.containerInfo;Yj=!0;break a;case 4:X=h.stateNode.containerInfo;Yj=!0;break a}h=h.return}if(null===X)throw Error(p(160));ak(f,g,e);X=null;Yj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)ek(b,a),b=b.sibling}\nfunction ek(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dk(b,a);fk(a);if(d&4){try{Qj(3,a,a.return),Rj(3,a)}catch(t){W(a,a.return,t)}try{Qj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);break;case 5:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:dk(b,a);fk(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:dk(b,a);fk(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:dk(b,a);fk(a);break;case 13:dk(b,a);fk(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(gk=B()));d&4&&bk(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,dk(b,a),U=l):dk(b,a);fk(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Qj(4,r,r.return);break;case 1:Mj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Mj(r,r.return);break;case 22:if(null!==r.memoizedState){hk(q);continue}}null!==y?(y.return=r,V=y):hk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:dk(b,a);fk(a);d&4&&bk(a);break;case 21:break;default:dk(b,\na),fk(a)}}function fk(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Uj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Vj(a);Xj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Vj(a);Wj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function ik(a,b,c){V=a;jk(a,b,c)}\nfunction jk(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Kj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Kj;var l=U;Kj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?kk(e):null!==k?(k.return=g,V=k):kk(e);for(;null!==f;)V=f,jk(f,b,c),f=f.sibling;V=e;Kj=h;U=l}lk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):lk(a,b,c)}}\nfunction lk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Rj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Lg(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&ih(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}ih(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Sj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function hk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction kk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Rj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Sj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Sj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=Infinity,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return 0!==(K&6)?B():-1!==Bk?Bk:Bk=B()}\nfunction lh(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Ck&&(Ck=yc()),Ck;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function mh(a,b,c,d){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==R)a===R&&(0===(K&2)&&(rk|=c),4===T&&Dk(a,Z)),Ek(a,d),1===c&&0===K&&0===(b.mode&1)&&(Hj=B()+500,fg&&jg())}\nfunction Ek(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===R?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Hk(a,b){Bk=-1;Ck=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Ik()&&a.callbackNode!==c)return null;var d=uc(a,a===R?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Jk(a,d);else{b=d;var e=K;K|=2;var f=Kk();if(R!==a||Z!==b)vk=null,Hj=B()+500,Lk(a,b);do try{Mk();break}catch(h){Nk(a,h)}while(1);Qg();nk.current=f;K=e;null!==Y?b=0:(R=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Ok(a,e)));if(1===b)throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;if(6===b)Dk(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Pk(e)&&(b=Jk(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Ok(a,f))),1===b))throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:Dk(a,d);if((d&130023424)===d&&(b=gk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){L();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),b);break}Qk(a,uk,vk);break;case 4:Dk(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*mk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),d);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329));}}}Ek(a,B());return a.callbackNode===c?Hk.bind(null,a):null}\nfunction Ok(a,b){var c=tk;a.current.memoizedState.isDehydrated&&(Lk(a,b).flags|=256);a=Jk(a,b);2!==a&&(b=uk,uk=c,null!==b&&Gj(b));return a}function Gj(a){null===uk?uk=a:uk.push.apply(uk,a)}\nfunction Pk(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Dk(a,b){b&=~sk;b&=~rk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Fk(a){if(0!==(K&6))throw Error(p(327));Ik();var b=uc(a,0);if(0===(b&1))return Ek(a,B()),null;var c=Jk(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Ok(a,d))}if(1===c)throw c=qk,Lk(a,0),Dk(a,b),Ek(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Qk(a,uk,vk);Ek(a,B());return null}\nfunction Rk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Hj=B()+500,fg&&jg())}}function Sk(a){null!==xk&&0===xk.tag&&0===(K&6)&&Ik();var b=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=d,pk.transition=c,K=b,0===(K&6)&&jg()}}function Ij(){gj=fj.current;E(fj)}\nfunction Lk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:Jh();E(Wf);E(H);Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}R=a;Y=a=wh(a.current,null);Z=gj=b;T=0;qk=null;sk=rk=hh=0;uk=tk=null;if(null!==Wg){for(b=\n0;b<Wg.length;b++)if(c=Wg[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}Wg=null}return a}\nfunction Nk(a,b){do{var c=Y;try{Qg();Ph.current=ai;if(Sh){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Sh=!1}Rh=0;P=O=N=null;Th=!1;Uh=0;ok.current=null;if(null===c||null===c.return){T=1;qk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vi(g);if(null!==y){y.flags&=-257;Wi(y,g,h,f,b);y.mode&1&&Ti(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Ti(f,l,b);uj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Vi(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Wi(J,g,h,f,b);Jg(Ki(k,h));break a}}f=k=Ki(k,h);4!==T&&(T=2);null===tk?tk=[f]:tk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Oi(f,k,b);fh(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Si||!Si.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Ri(f,h,b);fh(f,F);break a}}f=f.return}while(null!==f)}Tk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Kk(){var a=nk.current;nk.current=ai;return null===a?ai:a}\nfunction uj(){if(0===T||3===T||2===T)T=4;null===R||0===(hh&268435455)&&0===(rk&268435455)||Dk(R,Z)}function Jk(a,b){var c=K;K|=2;var d=Kk();if(R!==a||Z!==b)vk=null,Lk(a,b);do try{Uk();break}catch(e){Nk(a,e)}while(1);Qg();K=c;nk.current=d;if(null!==Y)throw Error(p(261));R=null;Z=0;return T}function Uk(){for(;null!==Y;)Vk(Y)}function Mk(){for(;null!==Y&&!cc();)Vk(Y)}function Vk(a){var b=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps;null===b?Tk(a):Y=b;ok.current=null}\nfunction Tk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Fj(c,b,gj),null!==c){Y=c;return}}else{c=Jj(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Qk(a,b,c){var d=C,e=pk.transition;try{pk.transition=null,C=1,Xk(a,b,c,d)}finally{pk.transition=e,C=d}return null}\nfunction Xk(a,b,c,d){do Ik();while(null!==xk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===R&&(Y=R=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||wk||(wk=!0,Gk(hc,function(){Ik();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=pk.transition;pk.transition=null;\nvar g=C;C=1;var h=K;K|=4;ok.current=null;Pj(a,c);ek(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;ik(c,a,e);dc();K=h;C=g;pk.transition=f}else a.current=c;wk&&(wk=!1,xk=a,yk=e);f=a.pendingLanes;0===f&&(Si=null);mc(c.stateNode,d);Ek(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;0!==(yk&1)&&0!==a.tag&&Ik();f=a.pendingLanes;0!==(f&1)?a===Ak?zk++:(zk=0,Ak=a):zk=0;jg();return null}\nfunction Ik(){if(null!==xk){var a=Dc(yk),b=pk.transition,c=C;try{pk.transition=null;C=16>a?16:a;if(null===xk)var d=!1;else{a=xk;xk=null;yk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Qj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Tj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Qj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,pk.transition=b}}return!1}function Yk(a,b,c){b=Ki(c,b);b=Oi(a,b,1);a=dh(a,b,1);b=L();null!==a&&(Ac(a,1,b),Ek(a,b))}\nfunction W(a,b,c){if(3===a.tag)Yk(a,a,c);else for(;null!==b;){if(3===b.tag){Yk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Si||!Si.has(d))){a=Ki(c,a);a=Ri(b,a,1);b=dh(b,a,1);a=L();null!==b&&(Ac(b,1,a),Ek(b,a));break}}b=b.return}}\nfunction Ui(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=L();a.pingedLanes|=a.suspendedLanes&c;R===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=c);Ek(a,b)}function Zk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=L();a=Zg(a,b);null!==a&&(Ac(a,b,c),Ek(a,c))}function vj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Zk(a,c)}\nfunction ck(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Zk(a,c)}var Wk;\nWk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)Ug=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return Ug=!1,zj(a,b,c);Ug=0!==(a.flags&131072)?!0:!1}else Ug=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;jj(a,b);a=b.pendingProps;var e=Yf(b,H.current);Tg(b,c);e=Xh(null,b,d,a,e,c);var f=bi();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ah(b),e.updater=nh,b.stateNode=e,e._reactInternals=b,rh(b,d,a,c),b=kj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Yi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{jj(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=$k(d);a=Lg(d,a);switch(e){case 0:b=dj(null,b,d,a,c);break a;case 1:b=ij(null,b,d,a,c);break a;case 11:b=Zi(null,b,d,a,c);break a;case 14:b=aj(null,b,d,Lg(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),dj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),ij(a,b,d,e,c);case 3:a:{lj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;bh(a,b);gh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ki(Error(p(423)),b);b=mj(a,b,d,c,e);break a}else if(d!==e){e=Ki(Error(p(424)),b);b=mj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Ch(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=$i(a,b,c);break a}Yi(a,b,d,c)}b=b.child}return b;case 5:return Kh(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\nhj(a,b),Yi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return pj(a,b,c);case 4:return Ih(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Bh(b,null,d,c):Yi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),Zi(a,b,d,e,c);case 7:return Yi(a,b,b.pendingProps,c),b.child;case 8:return Yi(a,b,b.pendingProps.children,c),b.child;case 12:return Yi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Mg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=$i(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=ch(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);Sg(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);Sg(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Yi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Tg(b,c),e=Vg(e),d=d(e),b.flags|=1,Yi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Lg(d,b.pendingProps),e=Lg(d.type,e),aj(a,b,d,e,c);case 15:return cj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),jj(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,Tg(b,c),ph(b,d,e),rh(b,d,e,c),kj(null,b,d,!0,a,c);case 19:return yj(a,b,c);case 22:return ej(a,b,c)}throw Error(p(156,b.tag));};function Gk(a,b){return ac(a,b)}\nfunction al(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new al(a,b,c,d)}function bj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction $k(a){if(\"function\"===typeof a)return bj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction wh(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction yh(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Ah(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return qj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Ah(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function qj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function xh(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction zh(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction bl(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function cl(a,b,c,d,e,f,g,h,k){a=new bl(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};ah(f);return a}function dl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction el(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction fl(a,b,c,d,e,f,g,h,k){a=cl(c,d,!0,a,e,f,g,h,k);a.context=el(null);c=a.current;d=L();e=lh(c);f=ch(d,e);f.callback=void 0!==b&&null!==b?b:null;dh(c,f,e);a.current.lanes=e;Ac(a,e,d);Ek(a,d);return a}function gl(a,b,c,d){var e=b.current,f=L(),g=lh(e);c=el(c);null===b.context?b.context=c:b.pendingContext=c;b=ch(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=dh(e,b,g);null!==a&&(mh(a,e,g,f),eh(a,e,g));return g}\nfunction hl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function jl(a,b){il(a,b);(a=a.alternate)&&il(a,b)}function kl(){return null}var ll=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}\nnl.prototype.render=ml.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));gl(a,b,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Sk(function(){gl(null,a,null,null)});b[uf]=null}};function nl(a){this._internalRoot=a}\nnl.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function pl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function ql(){}\nfunction rl(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=hl(g);f.call(a)}}var g=fl(b,d,a,0,null,!1,!1,\"\",ql);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Sk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=hl(k);h.call(a)}}var k=cl(a,0,!1,null,null,!1,!1,\"\",ql);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Sk(function(){gl(b,k,c,d)});return k}\nfunction sl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=hl(g);h.call(a)}}gl(b,g,a,e)}else g=rl(c,b,a,e,d);return hl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Ek(b,B()),0===(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var b=Zg(a,1);if(null!==b){var c=L();mh(b,a,1,c)}}),jl(a,1)}};\nFc=function(a){if(13===a.tag){var b=Zg(a,134217728);if(null!==b){var c=L();mh(b,a,134217728,c)}jl(a,134217728)}};Gc=function(a){if(13===a.tag){var b=lh(a),c=Zg(a,b);if(null!==c){var d=L();mh(c,a,b,d)}jl(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Rk;Hb=Sk;\nvar tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:\"18.2.0\",rendererPackageName:\"react-dom\"};\nvar vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||\nkl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.2.0-next-9e3b772b8-20220608\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(b))throw Error(p(200));return dl(a,b,null,c)};exports.createRoot=function(a,b){if(!ol(a))throw Error(p(299));var c=!1,d=\"\",e=ll;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=cl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ml(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Sk(a)};exports.hydrate=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!ol(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=ll;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=fl(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new nl(b)};exports.render=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Rk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!pl(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return sl(a,b,c,!1,d)};exports.version=\"18.2.0-next-9e3b772b8-20220608\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _history = require(\"history\");\n\nvar _urlSearchParams = _interopRequireDefault(require(\"@ungap/url-search-params\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Sets up bidirectional synchronisation between a Redux store and window\n * location query parameters.\n *\n * @param {Object} options.store - The redux store object (= an object `{dispatch, getState}`).\n * @param {Object} options.params - The query parameters in the location to keep in sync.\n * @param {function value => action} options.params[].action - The action creator to be invoked with\n *     the parameter value. Should return an action that sets this value in the store.\n * @param {function state => value} options.params[].selector - The function that gets the value\n *     given the state.\n * @param {*} [options.params[].defaultValue] - The value corresponding to absence of the parameter.\n *     You may want this to equal the state's default/initial value. Default: `undefined`.\n * @param {function} [options.params[].valueToString] - The inverse of stringToValue. Specifies how\n *     to cast the value to a string, to be used in the URL. Defaults to javascript's automatic\n *     string conversion.\n * @param {function} [options.params[].stringToValue] - The inverse of valueToString. Specifies how\n *     to parse the parameter's string value to your desired value type. Defaults to the identity\n *     function (i.e. you get the string as it is).\n * @param {string} options.initialTruth - If set, indicates whose values to sync to the other,\n *     initially. Can be either `'location'` or `'store'`. If not set, the first of them that\n *     changes will set the other, which is not recommended. Usually you will want to use\n *     `location`.\n * @param {boolean} [options.replaceState] - If truthy, update location using\n *     history.replaceState instead of history.pushState, to not fill the browser history.\n * @param {Object} [options.history] - If you use the 'history' module, e.g. when using a router,\n *     pass your history object here in order to ensure all code uses the same instance.\n */\nfunction ReduxQuerySync(_ref) {\n  var store = _ref.store,\n      params = _ref.params,\n      replaceState = _ref.replaceState,\n      initialTruth = _ref.initialTruth,\n      _ref$history = _ref.history,\n      history = _ref$history === void 0 ? (0, _history.createBrowserHistory)() : _ref$history;\n  var dispatch = store.dispatch; // Two bits of state used to not respond to self-induced updates.\n\n  var ignoreLocationUpdate = false;\n  var ignoreStateUpdate = false; // Keeps the last seen values for comparing what has changed.\n\n  var lastQueryValues; // Helper function to support history module v3 as well as v4.\n\n  function getLocation(history) {\n    if (Object.hasOwnProperty.call(history, 'location')) {\n      return history.location;\n    } else if (Object.hasOwnProperty.call(history, 'getCurrentLocation')) {\n      return history.getCurrentLocation();\n    }\n  }\n\n  function getQueryValues(location) {\n    var locationParams = new _urlSearchParams[\"default\"](location.search);\n    var queryValues = {};\n    Object.keys(params).forEach(function (param) {\n      var _params$param = params[param],\n          defaultValue = _params$param.defaultValue,\n          _params$param$stringT = _params$param.stringToValue,\n          stringToValue = _params$param$stringT === void 0 ? function (s) {\n        return s;\n      } : _params$param$stringT;\n      var valueString = locationParams.get(param);\n      var value = valueString === null ? defaultValue : stringToValue(valueString);\n      queryValues[param] = value;\n    });\n    return queryValues;\n  }\n\n  function handleLocationUpdate(location) {\n    // Support history v5\n    if (location.location !== undefined) {\n      location = location.location;\n    } // Ignore the event if the location update was induced by ourselves.\n\n\n    if (ignoreLocationUpdate) return;\n    var state = store.getState(); // Read the values of the watched parameters\n\n    var queryValues = getQueryValues(location); // For each parameter value that changed, we dispatch the corresponding action.\n\n    var actionsToDispatch = [];\n    Object.keys(queryValues).forEach(function (param) {\n      var value = queryValues[param]; // Process the parameter both on initialisation and if it has changed since last time.\n      // (should we just do this unconditionally?)\n\n      if (lastQueryValues === undefined || lastQueryValues[param] !== value) {\n        var _params$param2 = params[param],\n            selector = _params$param2.selector,\n            action = _params$param2.action; // Dispatch the action to update the state if needed.\n        // (except on initialisation, this should always be needed)\n\n        if (selector(state) !== value) {\n          actionsToDispatch.push(action(value));\n        }\n      }\n    });\n    lastQueryValues = queryValues;\n    ignoreStateUpdate = true;\n    actionsToDispatch.forEach(function (action) {\n      dispatch(action);\n    });\n    ignoreStateUpdate = false; // Update the location the again: reducers may have e.g. corrected invalid values.\n\n    handleStateUpdate({\n      replaceState: true\n    });\n  }\n\n  function handleStateUpdate(_ref2) {\n    var replaceState = _ref2.replaceState;\n    if (ignoreStateUpdate) return;\n    var state = store.getState();\n    var location = getLocation(history); // Parse the current location's query string.\n\n    var locationParams = new _urlSearchParams[\"default\"](location.search); // Replace each configured parameter with its value in the state.\n\n    Object.keys(params).forEach(function (param) {\n      var _params$param3 = params[param],\n          selector = _params$param3.selector,\n          defaultValue = _params$param3.defaultValue,\n          _params$param3$valueT = _params$param3.valueToString,\n          valueToString = _params$param3$valueT === void 0 ? function (v) {\n        return \"\".concat(v);\n      } : _params$param3$valueT;\n      var value = selector(state);\n\n      if (value === defaultValue) {\n        locationParams[\"delete\"](param);\n      } else {\n        locationParams.set(param, valueToString(value));\n      }\n\n      lastQueryValues[param] = value;\n    });\n    var newLocationSearchString = \"?\".concat(locationParams);\n    var oldLocationSearchString = location.search || '?'; // Only update location if anything changed.\n\n    if (newLocationSearchString !== oldLocationSearchString) {\n      // Update location (but prevent triggering a state update).\n      ignoreLocationUpdate = true;\n      var newLocation = {\n        pathname: location.pathname,\n        search: newLocationSearchString,\n        hash: location.hash,\n        state: location.state\n      };\n      replaceState ? history.replace(newLocation) : history.push(newLocation);\n      ignoreLocationUpdate = false;\n    }\n  } // Sync location to store on every location change, and vice versa.\n\n\n  var unsubscribeFromLocation = history.listen(handleLocationUpdate);\n  var unsubscribeFromStore = store.subscribe(function () {\n    return handleStateUpdate({\n      replaceState: replaceState\n    });\n  }); // Sync location to store now, or vice versa, or neither.\n\n  if (initialTruth === 'location') {\n    handleLocationUpdate(getLocation(history));\n  } else {\n    // Just set the last seen values to later compare what changed.\n    lastQueryValues = getQueryValues(getLocation(history));\n  }\n\n  if (initialTruth === 'store') {\n    handleStateUpdate({\n      replaceState: true\n    });\n  }\n\n  return function unsubscribe() {\n    unsubscribeFromLocation();\n    unsubscribeFromStore();\n  };\n}\n/**\n * For convenience, one can set up the synchronisation by passing this enhancer to createStore.\n *\n * @example\n *\n *     const storeEnhancer = ReduxQuerySync.enhancer({params, initialTruth: 'location'})\n *     const store = createStore(reducer, initialState, storeEnhancer)\n *\n * Arguments are equal to those of ReduxQuerySync itself, except that `store` can now be omitted.\n */\n\n\nReduxQuerySync.enhancer = function makeStoreEnhancer(config) {\n  return function (storeCreator) {\n    return function (reducer, initialState, enhancer) {\n      // Create the store as usual.\n      var store = storeCreator(reducer, initialState, enhancer); // Hook up our listeners.\n\n      ReduxQuerySync(_objectSpread({\n        store: store\n      }, config));\n      return store;\n    };\n  };\n};\n\nvar _default = ReduxQuerySync;\nexports[\"default\"] = _default;","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"4f652202\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"webpd_website:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebpd_website\"] = self[\"webpackChunkwebpd_website\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport { memoize as default };\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport { isPropValid as default };\n","// @flow\nimport type { Interpolation } from '../types';\n\nexport default (\n  strings: Array<string>,\n  interpolations: Array<Interpolation>\n): Array<Interpolation> => {\n  const result = [strings[0]];\n\n  for (let i = 0, len = interpolations.length; i < len; i += 1) {\n    result.push(interpolations[i], strings[i + 1]);\n  }\n\n  return result;\n};\n","// @flow\nimport { typeOf } from 'react-is';\n\nexport default (x: any): boolean =>\n  x !== null &&\n  typeof x === 'object' &&\n  (x.toString ? x.toString() : Object.prototype.toString.call(x)) === '[object Object]' &&\n  !typeOf(x);\n","// @flow\nexport const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze({});\n","// @flow\nexport default function isFunction(test: any): boolean %checks {\n  return typeof test === 'function';\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function getComponentName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return (\n    (process.env.NODE_ENV !== 'production' ? typeof target === 'string' && target : false) ||\n    // $FlowFixMe\n    target.displayName ||\n    // $FlowFixMe\n    target.name ||\n    'Component'\n  );\n}\n","// @flow\nexport default function isStyledComponent(target: any): boolean %checks {\n  return target && typeof target.styledComponentId === 'string';\n}\n","// @flow\n\ndeclare var SC_DISABLE_SPEEDY: ?boolean;\ndeclare var __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' &&\n    typeof process.env !== 'undefined' &&\n    (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY = Boolean(\n  typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' &&\n      process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false'\n        ? false\n        : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' && process.env.SC_DISABLE_SPEEDY !== ''\n      ? process.env.SC_DISABLE_SPEEDY === 'false'\n        ? false\n        : process.env.SC_DISABLE_SPEEDY\n      : process.env.NODE_ENV !== 'production'\n    : false\n);\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","// @flow\nimport errorMap from './errors';\n\nconst ERRORS = process.env.NODE_ENV !== 'production' ? errorMap : {};\n\n/**\n * super basic version of sprintf\n */\nfunction format(...args) {\n  let a = args[0];\n  const b = [];\n\n  for (let c = 1, len = args.length; c < len; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(d => {\n    a = a.replace(/%[a-z]/, d);\n  });\n\n  return a;\n}\n\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n */\nexport default function throwStyledComponentsError(\n  code: string | number,\n  ...interpolations: Array<any>\n) {\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\n      `An error occurred. See https://git.io/JUIaE#${code} for more information.${\n        interpolations.length > 0 ? ` Args: ${interpolations.join(', ')}` : ''\n      }`\n    );\n  } else {\n    throw new Error(format(ERRORS[code], ...interpolations).trim());\n  }\n}\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport type { GroupedTag, Tag } from './types';\nimport { SPLITTER } from '../constants';\nimport throwStyledError from '../utils/error';\n\n/** Create a GroupedTag with an underlying Tag implementation */\nexport const makeGroupedTag = (tag: Tag): GroupedTag => {\n  return new DefaultGroupedTag(tag);\n};\n\nconst BASE_SIZE = 1 << 9;\n\nclass DefaultGroupedTag implements GroupedTag {\n  groupSizes: Uint32Array;\n\n  length: number;\n\n  tag: Tag;\n\n  constructor(tag: Tag) {\n    this.groupSizes = new Uint32Array(BASE_SIZE);\n    this.length = BASE_SIZE;\n    this.tag = tag;\n  }\n\n  indexOfGroup(group: number): number {\n    let index = 0;\n    for (let i = 0; i < group; i++) {\n      index += this.groupSizes[i];\n    }\n\n    return index;\n  }\n\n  insertRules(group: number, rules: string[]): void {\n    if (group >= this.groupSizes.length) {\n      const oldBuffer = this.groupSizes;\n      const oldSize = oldBuffer.length;\n\n      let newSize = oldSize;\n      while (group >= newSize) {\n        newSize <<= 1;\n        if (newSize < 0) {\n          throwStyledError(16, `${group}`);\n        }\n      }\n\n      this.groupSizes = new Uint32Array(newSize);\n      this.groupSizes.set(oldBuffer);\n      this.length = newSize;\n\n      for (let i = oldSize; i < newSize; i++) {\n        this.groupSizes[i] = 0;\n      }\n    }\n\n    let ruleIndex = this.indexOfGroup(group + 1);\n    for (let i = 0, l = rules.length; i < l; i++) {\n      if (this.tag.insertRule(ruleIndex, rules[i])) {\n        this.groupSizes[group]++;\n        ruleIndex++;\n      }\n    }\n  }\n\n  clearGroup(group: number): void {\n    if (group < this.length) {\n      const length = this.groupSizes[group];\n      const startIndex = this.indexOfGroup(group);\n      const endIndex = startIndex + length;\n\n      this.groupSizes[group] = 0;\n\n      for (let i = startIndex; i < endIndex; i++) {\n        this.tag.deleteRule(startIndex);\n      }\n    }\n  }\n\n  getGroup(group: number): string {\n    let css = '';\n    if (group >= this.length || this.groupSizes[group] === 0) {\n      return css;\n    }\n\n    const length = this.groupSizes[group];\n    const startIndex = this.indexOfGroup(group);\n    const endIndex = startIndex + length;\n\n    for (let i = startIndex; i < endIndex; i++) {\n      css += `${this.tag.getRule(i)}${SPLITTER}`;\n    }\n\n    return css;\n  }\n}\n","// @flow\n\nimport throwStyledError from '../utils/error';\n\nconst MAX_SMI = 1 << 31 - 1;\n\nlet groupIDRegister: Map<string, number> = new Map();\nlet reverseRegister: Map<number, string> = new Map();\nlet nextFreeGroup = 1;\n\nexport const resetGroupIds = () => {\n  groupIDRegister = new Map();\n  reverseRegister = new Map();\n  nextFreeGroup = 1;\n};\n\nexport const getGroupForId = (id: string): number => {\n  if (groupIDRegister.has(id)) {\n    return (groupIDRegister.get(id): any);\n  }\n\n  while (reverseRegister.has(nextFreeGroup)) {\n    nextFreeGroup++;\n  }\n\n  const group = nextFreeGroup++;\n\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    ((group | 0) < 0 || group > MAX_SMI)\n  ) {\n    throwStyledError(16, `${group}`);\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n  return group;\n};\n\nexport const getIdForGroup = (group: number): void | string => {\n  return reverseRegister.get(group);\n};\n\nexport const setGroupForId = (id: string, group: number) => {\n  if (group >= nextFreeGroup) {\n    nextFreeGroup = group + 1;\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n};\n","// @flow\n\nimport { SPLITTER, SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport { getIdForGroup, setGroupForId } from './GroupIDAllocator';\nimport type { Sheet } from './types';\n\nconst SELECTOR = `style[${SC_ATTR}][${SC_ATTR_VERSION}=\"${SC_VERSION}\"]`;\nconst MARKER_RE = new RegExp(`^${SC_ATTR}\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)`);\n\nexport const outputSheet = (sheet: Sheet) => {\n  const tag = sheet.getTag();\n  const { length } = tag;\n\n  let css = '';\n  for (let group = 0; group < length; group++) {\n    const id = getIdForGroup(group);\n    if (id === undefined) continue;\n\n    const names = sheet.names.get(id);\n    const rules = tag.getGroup(group);\n    if (!names || !rules || !names.size) continue;\n\n    const selector = `${SC_ATTR}.g${group}[id=\"${id}\"]`;\n\n    let content = '';\n    if (names !== undefined) {\n      names.forEach(name => {\n        if (name.length > 0) {\n          content += `${name},`;\n        }\n      });\n    }\n\n    // NOTE: It's easier to collect rules and have the marker\n    // after the actual rules to simplify the rehydration\n    css += `${rules}${selector}{content:\"${content}\"}${SPLITTER}`;\n  }\n\n  return css;\n};\n\nconst rehydrateNamesFromContent = (sheet: Sheet, id: string, content: string) => {\n  const names = content.split(',');\n  let name;\n\n  for (let i = 0, l = names.length; i < l; i++) {\n    // eslint-disable-next-line\n    if ((name = names[i])) {\n      sheet.registerName(id, name);\n    }\n  }\n};\n\nconst rehydrateSheetFromTag = (sheet: Sheet, style: HTMLStyleElement) => {\n  const parts = (style.textContent || '').split(SPLITTER);\n  const rules: string[] = [];\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    const part = parts[i].trim();\n    if (!part) continue;\n\n    const marker = part.match(MARKER_RE);\n\n    if (marker) {\n      const group = parseInt(marker[1], 10) | 0;\n      const id = marker[2];\n\n      if (group !== 0) {\n        // Rehydrate componentId to group index mapping\n        setGroupForId(id, group);\n        // Rehydrate names and rules\n        // looks like: data-styled.g11[id=\"idA\"]{content:\"nameA,\"}\n        rehydrateNamesFromContent(sheet, id, marker[3]);\n        sheet.getTag().insertRules(group, rules);\n      }\n\n      rules.length = 0;\n    } else {\n      rules.push(part);\n    }\n  }\n};\n\nexport const rehydrateSheet = (sheet: Sheet) => {\n  const nodes = document.querySelectorAll(SELECTOR);\n\n  for (let i = 0, l = nodes.length; i < l; i++) {\n    const node = ((nodes[i]: any): HTMLStyleElement);\n    if (node && node.getAttribute(SC_ATTR) !== SC_ATTR_ACTIVE) {\n      rehydrateSheetFromTag(sheet, node);\n\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n};\n","// @flow\n/* eslint-disable camelcase, no-undef */\n\ndeclare var __webpack_nonce__: string;\n\nconst getNonce = () => {\n  return typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n};\n\nexport default getNonce;\n","// @flow\n\nimport { SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport getNonce from '../utils/nonce';\nimport throwStyledError from '../utils/error';\n\nconst ELEMENT_TYPE = 1; /* Node.ELEMENT_TYPE */\n\n/** Find last style element if any inside target */\nconst findLastStyleTag = (target: HTMLElement): void | HTMLStyleElement => {\n  const { childNodes } = target;\n\n  for (let i = childNodes.length; i >= 0; i--) {\n    const child = ((childNodes[i]: any): ?HTMLElement);\n    if (child && child.nodeType === ELEMENT_TYPE && child.hasAttribute(SC_ATTR)) {\n      return ((child: any): HTMLStyleElement);\n    }\n  }\n\n  return undefined;\n};\n\n/** Create a style element inside `target` or <head> after the last */\nexport const makeStyleTag = (target?: HTMLElement): HTMLStyleElement => {\n  const head = ((document.head: any): HTMLElement);\n  const parent = target || head;\n  const style = document.createElement('style');\n  const prevStyle = findLastStyleTag(parent);\n  const nextSibling = prevStyle !== undefined ? prevStyle.nextSibling : null;\n\n  style.setAttribute(SC_ATTR, SC_ATTR_ACTIVE);\n  style.setAttribute(SC_ATTR_VERSION, SC_VERSION);\n\n  const nonce = getNonce();\n\n  if (nonce) style.setAttribute('nonce', nonce);\n\n  parent.insertBefore(style, nextSibling);\n\n  return style;\n};\n\n/** Get the CSSStyleSheet instance for a given style element */\nexport const getSheet = (tag: HTMLStyleElement): CSSStyleSheet => {\n  if (tag.sheet) {\n    return ((tag.sheet: any): CSSStyleSheet);\n  }\n\n  // Avoid Firefox quirk where the style element might not have a sheet property\n  const { styleSheets } = document;\n  for (let i = 0, l = styleSheets.length; i < l; i++) {\n    const sheet = styleSheets[i];\n    if (sheet.ownerNode === tag) {\n      return ((sheet: any): CSSStyleSheet);\n    }\n  }\n\n  throwStyledError(17);\n  return (undefined: any);\n};\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport { makeStyleTag, getSheet } from './dom';\nimport type { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions): Tag => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport class TextTag implements Tag {\n  element: HTMLStyleElement;\n\n  nodes: NodeList<Node>;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n}\n","// @flow\nimport { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport type { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean,\n  useCSSOMInjection?: boolean,\n  target?: HTMLElement,\n};\n\ntype GlobalStylesAllocationMap = { [key: string]: number };\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n\n  names: NamesAllocationMap;\n\n  options: SheetOptions;\n\n  server: boolean;\n\n  tag: void | GroupedTag;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT,\n    globalStyles?: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names);\n    this.server = !!options.isServer;\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.server && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames?: boolean = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag(): GroupedTag {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id): any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id): any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id): any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  toString(): string {\n    return outputSheet(this);\n  }\n}\n","// @flow\n/* eslint-disable no-bitwise */\n\nconst AD_REPLACER_R = /(a)(d)/gi;\n\n/* This is the \"capacity\" of our alphabet i.e. 2x26 for all letters plus their capitalised\n * counterparts */\nconst charsLength = 52;\n\n/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */\nconst getAlphabeticChar = (code: number): string =>\n  String.fromCharCode(code + (code > 25 ? 39 : 97));\n\n/* input a number, usually a hash and convert it to base-52 */\nexport default function generateAlphabeticName(code: number): string {\n  let name = '';\n  let x;\n\n  /* get a char and divide by alphabet-length */\n  for (x = Math.abs(code); x > charsLength; x = (x / charsLength) | 0) {\n    name = getAlphabeticChar(x % charsLength) + name;\n  }\n\n  return (getAlphabeticChar(x % charsLength) + name).replace(AD_REPLACER_R, '$1-$2');\n}\n","// @flow\n/* eslint-disable */\n\nexport const SEED = 5381;\n\n// When we have separate strings it's useful to run a progressive\n// version of djb2 where we pretend that we're still looping over\n// the same string\nexport const phash = (h: number, x: string): number => {\n  let i = x.length;\n\n  while (i) {\n    h = (h * 33) ^ x.charCodeAt(--i);\n  }\n\n  return h;\n};\n\n// This is a djb2 hashing function\nexport const hash = (x: string): number => {\n  return phash(SEED, x);\n};\n","// @flow\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\nimport type { RuleSet } from '../types';\n\nexport default function isStaticRules(rules: RuleSet): boolean {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","// @flow\nimport { SC_VERSION } from '../constants';\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport generateName from '../utils/generateAlphabeticName';\nimport { hash, phash } from '../utils/hash';\nimport isStaticRules from '../utils/isStaticRules';\n\nconst SEED = hash(SC_VERSION);\n\n/**\n * ComponentStyle is all the CSS-specific stuff, not the React-specific stuff.\n */\nexport default class ComponentStyle {\n  baseHash: number;\n\n  baseStyle: ?ComponentStyle;\n\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  staticRulesId: string;\n\n  constructor(rules: RuleSet, componentId: string, baseStyle?: ComponentStyle) {\n    this.rules = rules;\n    this.staticRulesId = '';\n    this.isStatic = process.env.NODE_ENV === 'production' &&\n      (baseStyle === undefined || baseStyle.isStatic) &&\n      isStaticRules(rules);\n    this.componentId = componentId;\n\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    this.baseHash = phash(SEED, componentId);\n\n    this.baseStyle = baseStyle;\n\n    // NOTE: This registers the componentId, which ensures a consistent order\n    // for this component's styles compared to others\n    StyleSheet.registerId(componentId);\n  }\n\n  /*\n   * Flattens a rule set into valid CSS\n   * Hashes it, wraps the whole chunk in a .hash1234 {}\n   * Returns the hash to be injected on render()\n   * */\n  generateAndInjectStyles(executionContext: Object, styleSheet: StyleSheet, stylis: Stringifier) {\n    const { componentId } = this;\n\n    const names = [];\n\n    if (this.baseStyle) {\n      names.push(this.baseStyle.generateAndInjectStyles(executionContext, styleSheet, stylis));\n    }\n\n    // force dynamic classnames if user-supplied stylis plugins are in use\n    if (this.isStatic && !stylis.hash) {\n      if (this.staticRulesId && styleSheet.hasNameForId(componentId, this.staticRulesId)) {\n        names.push(this.staticRulesId);\n      } else {\n        const cssStatic = flatten(this.rules, executionContext, styleSheet, stylis).join('');\n        const name = generateName(phash(this.baseHash, cssStatic) >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssStaticFormatted = stylis(cssStatic, `.${name}`, undefined, componentId);\n\n          styleSheet.insertRules(componentId, name, cssStaticFormatted);\n        }\n\n        names.push(name);\n        this.staticRulesId = name;\n      }\n    } else {\n      const { length } = this.rules;\n      let dynamicHash = phash(this.baseHash, stylis.hash);\n      let css = '';\n\n      for (let i = 0; i < length; i++) {\n        const partRule = this.rules[i];\n\n        if (typeof partRule === 'string') {\n          css += partRule;\n\n          if (process.env.NODE_ENV !== 'production') dynamicHash = phash(dynamicHash, partRule + i);\n        } else if (partRule) {\n          const partChunk = flatten(partRule, executionContext, styleSheet, stylis);\n          const partString = Array.isArray(partChunk) ? partChunk.join('') : partChunk;\n          dynamicHash = phash(dynamicHash, partString + i);\n          css += partString;\n        }\n      }\n\n      if (css) {\n        const name = generateName(dynamicHash >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssFormatted = stylis(css, `.${name}`, undefined, componentId);\n          styleSheet.insertRules(componentId, name, cssFormatted);\n        }\n\n        names.push(name);\n      }\n    }\n\n    return names.join(' ');\n  }\n}\n","import Stylis from '@emotion/stylis';\nimport { type Stringifier } from '../types';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from './empties';\nimport throwStyledError from './error';\nimport { phash, SEED } from './hash';\nimport insertRulePlugin from './stylisPluginInsertRule';\n\nconst COMMENT_REGEX = /^\\s*\\/\\/.*$/gm;\nconst COMPLEX_SELECTOR_PREFIX = [':', '[', '.', '#'];\n\ntype StylisInstanceConstructorArgs = {\n  options?: Object,\n  plugins?: Array<Function>,\n};\n\nexport default function createStylisInstance({\n  options = EMPTY_OBJECT,\n  plugins = EMPTY_ARRAY,\n}: StylisInstanceConstructorArgs = EMPTY_OBJECT) {\n  const stylis = new Stylis(options);\n\n  // Wrap `insertRulePlugin to build a list of rules,\n  // and then make our own plugin to return the rules. This\n  // makes it easier to hook into the existing SSR architecture\n\n  let parsingRules = [];\n\n  // eslint-disable-next-line consistent-return\n  const returnRulesPlugin = context => {\n    if (context === -2) {\n      const parsedRules = parsingRules;\n      parsingRules = [];\n      return parsedRules;\n    }\n  };\n\n  const parseRulesPlugin = insertRulePlugin(rule => {\n    parsingRules.push(rule);\n  });\n\n  let _componentId: string;\n  let _selector: string;\n  let _selectorRegexp: RegExp;\n  let _consecutiveSelfRefRegExp: RegExp;\n\n  const selfReferenceReplacer = (match, offset, string) => {\n    if (\n      // do not replace the first occurrence if it is complex (has a modifier)\n      (offset === 0 ? COMPLEX_SELECTOR_PREFIX.indexOf(string[_selector.length]) === -1 : true) &&\n      // no consecutive self refs (.b.b); that is a precedence boost and treated differently\n      !string.match(_consecutiveSelfRefRegExp)\n    ) {\n      return `.${_componentId}`;\n    }\n\n    return match;\n  };\n\n  /**\n   * When writing a style like\n   *\n   * & + & {\n   *   color: red;\n   * }\n   *\n   * The second ampersand should be a reference to the static component class. stylis\n   * has no knowledge of static class so we have to intelligently replace the base selector.\n   *\n   * https://github.com/thysultan/stylis.js/tree/v3.5.4#plugins <- more info about the context phase values\n   * \"2\" means this plugin is taking effect at the very end after all other processing is complete\n   */\n  const selfReferenceReplacementPlugin = (context, _, selectors) => {\n    if (context === 2 && selectors.length && selectors[0].lastIndexOf(_selector) > 0) {\n      // eslint-disable-next-line no-param-reassign\n      selectors[0] = selectors[0].replace(_selectorRegexp, selfReferenceReplacer);\n    }\n  };\n\n  stylis.use([...plugins, selfReferenceReplacementPlugin, parseRulesPlugin, returnRulesPlugin]);\n\n  function stringifyRules(css, selector, prefix, componentId = '&'): Stringifier {\n    const flatCSS = css.replace(COMMENT_REGEX, '');\n    const cssStr = selector && prefix ? `${prefix} ${selector} { ${flatCSS} }` : flatCSS;\n\n    // stylis has no concept of state to be passed to plugins\n    // but since JS is single-threaded, we can rely on that to ensure\n    // these properties stay in sync with the current stylis run\n    _componentId = componentId;\n    _selector = selector;\n    _selectorRegexp = new RegExp(`\\\\${_selector}\\\\b`, 'g');\n    _consecutiveSelfRefRegExp = new RegExp(`(\\\\${_selector}\\\\b){2,}`);\n\n    return stylis(prefix || !selector ? '' : selector, cssStr);\n  }\n\n  stringifyRules.hash = plugins.length\n    ? plugins\n        .reduce((acc, plugin) => {\n          if (!plugin.name) {\n            throwStyledError(15);\n          }\n\n          return phash(acc, plugin.name);\n        }, SEED)\n        .toString()\n    : '';\n\n  return stringifyRules;\n}\n","/**\n * MIT License\n *\n * Copyright (c) 2016 Sultan Tarimo\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n * IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n/* eslint-disable */\n\nexport default function(insertRule) {\n  const delimiter = '/*|*/';\n  const needle = `${delimiter}}`;\n\n  function toSheet(block) {\n    if (block) {\n      try {\n        insertRule(`${block}}`);\n      } catch (e) {}\n    }\n  }\n\n  return function ruleSheet(\n    context,\n    content,\n    selectors,\n    parents,\n    line,\n    column,\n    length,\n    ns,\n    depth,\n    at\n  ) {\n    switch (context) {\n      // property\n      case 1:\n        // @import\n        if (depth === 0 && content.charCodeAt(0) === 64) return insertRule(`${content};`), '';\n        break;\n      // selector\n      case 2:\n        if (ns === 0) return content + delimiter;\n        break;\n      // at-rule\n      case 3:\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            return insertRule(selectors[0] + content), '';\n          default:\n            return content + (at === 0 ? delimiter : '');\n        }\n      case -2:\n        content.split(needle).forEach(toSheet);\n    }\n  };\n}\n","// @flow\nimport React, { type Context, type Node, useContext, useEffect, useMemo, useState } from 'react';\nimport shallowequal from 'shallowequal';\nimport StyleSheet from '../sheet';\nimport type { Stringifier } from '../types';\nimport createStylisInstance from '../utils/stylis';\n\ntype Props = {\n  children?: Node,\n  disableCSSOMInjection?: boolean,\n  disableVendorPrefixes?: boolean,\n  sheet?: StyleSheet,\n  stylisPlugins?: Array<Function>,\n  target?: HTMLElement,\n};\n\nexport const StyleSheetContext: Context<StyleSheet | void> = React.createContext();\nexport const StyleSheetConsumer = StyleSheetContext.Consumer;\nexport const StylisContext: Context<Stringifier | void> = React.createContext();\nexport const StylisConsumer = StylisContext.Consumer;\n\nexport const masterSheet: StyleSheet = new StyleSheet();\nexport const masterStylis: Stringifier = createStylisInstance();\n\nexport function useStyleSheet(): StyleSheet {\n  return useContext(StyleSheetContext) || masterSheet;\n}\n\nexport function useStylis(): Stringifier {\n  return useContext(StylisContext) || masterStylis;\n}\n\nexport default function StyleSheetManager(props: Props) {\n  const [plugins, setPlugins] = useState(props.stylisPlugins);\n  const contextStyleSheet = useStyleSheet();\n\n  const styleSheet = useMemo(() => {\n    let sheet = contextStyleSheet;\n\n    if (props.sheet) {\n      // eslint-disable-next-line prefer-destructuring\n      sheet = props.sheet;\n    } else if (props.target) {\n      sheet = sheet.reconstructWithOptions({ target: props.target }, false);\n    }\n\n    if (props.disableCSSOMInjection) {\n      sheet = sheet.reconstructWithOptions({ useCSSOMInjection: false });\n    }\n\n    return sheet;\n  }, [props.disableCSSOMInjection, props.sheet, props.target]);\n\n  const stylis = useMemo(\n    () =>\n      createStylisInstance({\n        options: { prefix: !props.disableVendorPrefixes },\n        plugins,\n      }),\n    [props.disableVendorPrefixes, plugins]\n  );\n\n  useEffect(() => {\n    if (!shallowequal(plugins, props.stylisPlugins)) setPlugins(props.stylisPlugins);\n  }, [props.stylisPlugins]);\n\n  return (\n    <StyleSheetContext.Provider value={styleSheet}>\n      <StylisContext.Provider value={stylis}>\n        {process.env.NODE_ENV !== 'production'\n          ? React.Children.only(props.children)\n          : props.children}\n      </StylisContext.Provider>\n    </StyleSheetContext.Provider>\n  );\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport { type Stringifier } from '../types';\nimport throwStyledError from '../utils/error';\nimport { masterStylis } from './StyleSheetManager';\n\nexport default class Keyframes {\n  id: string;\n\n  name: string;\n\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = masterStylis) => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  toString = () => {\n    return throwStyledError(12, String(this.name));\n  };\n\n  getName(stylisInstance: Stringifier = masterStylis) {\n    return this.name + stylisInstance.hash;\n  }\n}\n","// @flow\n\n/**\n * inlined version of\n * https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/hyphenateStyleName.js\n */\n\nconst uppercaseCheck = /([A-Z])/;\nconst uppercasePattern = /([A-Z])/g;\nconst msPattern = /^ms-/;\nconst prefixAndLowerCase = (char: string): string => `-${char.toLowerCase()}`;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nexport default function hyphenateStyleName(string: string): string {\n  return uppercaseCheck.test(string)\n  ? string\n    .replace(uppercasePattern, prefixAndLowerCase)\n    .replace(msPattern, '-ms-')\n  : string;\n}\n","// @flow\nimport { isElement } from 'react-is';\nimport getComponentName from './getComponentName';\nimport isFunction from './isFunction';\nimport isStatelessFunction from './isStatelessFunction';\nimport isPlainObject from './isPlainObject';\nimport isStyledComponent from './isStyledComponent';\nimport Keyframes from '../models/Keyframes';\nimport hyphenate from './hyphenateStyleName';\nimport addUnitIfNeeded from './addUnitIfNeeded';\nimport { type Stringifier } from '../types';\n\n/**\n * It's falsish not falsy because 0 is allowed.\n */\nconst isFalsish = chunk => chunk === undefined || chunk === null || chunk === false || chunk === '';\n\nexport const objToCssArray = (obj: Object, prevKey?: string): Array<string | Function> => {\n  const rules = [];\n\n  for (const key in obj) {\n    if (!obj.hasOwnProperty(key) || isFalsish(obj[key])) continue;\n\n    if ((Array.isArray(obj[key]) && obj[key].isCss) || isFunction(obj[key])) {\n      rules.push(`${hyphenate(key)}:`, obj[key], ';');\n    } else if (isPlainObject(obj[key])) {\n      rules.push(...objToCssArray(obj[key], key));\n    } else {\n      rules.push(`${hyphenate(key)}: ${addUnitIfNeeded(key, obj[key])};`);\n    }\n  }\n\n  return prevKey ? [`${prevKey} {`, ...rules, '}'] : rules;\n};\n\nexport default function flatten(\n  chunk: any,\n  executionContext: ?Object,\n  styleSheet: ?Object,\n  stylisInstance: ?Stringifier\n): any {\n  if (Array.isArray(chunk)) {\n    const ruleSet = [];\n\n    for (let i = 0, len = chunk.length, result; i < len; i += 1) {\n      result = flatten(chunk[i], executionContext, styleSheet, stylisInstance);\n\n      if (result === '') continue;\n      else if (Array.isArray(result)) ruleSet.push(...result);\n      else ruleSet.push(result);\n    }\n\n    return ruleSet;\n  }\n\n  if (isFalsish(chunk)) {\n    return '';\n  }\n\n  /* Handle other components */\n  if (isStyledComponent(chunk)) {\n    return `.${chunk.styledComponentId}`;\n  }\n\n  /* Either execute or defer the function */\n  if (isFunction(chunk)) {\n    if (isStatelessFunction(chunk) && executionContext) {\n      const result = chunk(executionContext);\n\n      if (process.env.NODE_ENV !== 'production' && isElement(result)) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `${getComponentName(\n            chunk\n          )} is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.`\n        );\n      }\n\n      return flatten(result, executionContext, styleSheet, stylisInstance);\n    } else return chunk;\n  }\n\n  if (chunk instanceof Keyframes) {\n    if (styleSheet) {\n      chunk.inject(styleSheet, stylisInstance);\n      return chunk.getName(stylisInstance);\n    } else return chunk;\n  }\n\n  /* Handle objects */\n  return isPlainObject(chunk) ? objToCssArray(chunk) : chunk.toString();\n}\n","// @flow\nexport default function isStatelessFunction(test: any): boolean {\n  return (\n    typeof test === 'function'\n    && !(\n      test.prototype\n      && test.prototype.isReactComponent\n    )\n  );\n}\n","// @flow\nimport unitless from '@emotion/unitless';\n\n// Taken from https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/dangerousStyleValue.js\nexport default function addUnitIfNeeded(name: string, value: any): any {\n  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133\n  // $FlowFixMe\n  if (value == null || typeof value === 'boolean' || value === '') {\n    return '';\n  }\n\n  if (typeof value === 'number' && value !== 0 && !(name in unitless) && !name.startsWith('--')) {\n    return `${value}px`; // Presumes implicit 'px' suffix for unitless numbers except for CSS variables\n  }\n\n  return String(value).trim();\n}\n","// @flow\nimport interleave from '../utils/interleave';\nimport isPlainObject from '../utils/isPlainObject';\nimport { EMPTY_ARRAY } from '../utils/empties';\nimport isFunction from '../utils/isFunction';\nimport flatten from '../utils/flatten';\nimport type { Interpolation, RuleSet, Styles } from '../types';\n\n/**\n * Used when flattening object styles to determine if we should\n * expand an array of styles.\n */\nconst addTag = arg => {\n  if (Array.isArray(arg)) {\n    // eslint-disable-next-line no-param-reassign\n    arg.isCss = true;\n  }\n  return arg;\n};\n\nexport default function css(styles: Styles, ...interpolations: Array<Interpolation>): RuleSet {\n  if (isFunction(styles) || isPlainObject(styles)) {\n    // $FlowFixMe\n    return addTag(flatten(interleave(EMPTY_ARRAY, [styles, ...interpolations])));\n  }\n\n  if (interpolations.length === 0 && styles.length === 1 && typeof styles[0] === 'string') {\n    // $FlowFixMe\n    return styles;\n  }\n\n  // $FlowFixMe\n  return addTag(flatten(interleave(styles, interpolations)));\n}\n","// @flow\n\nimport { useRef } from 'react';\n\nconst invalidHookCallRe = /invalid hook call/i;\nconst seen = new Set();\n\nexport const checkDynamicCreation = (displayName: string, componentId?: string) => {\n  if (process.env.NODE_ENV !== 'production') {\n    const parsedIdString = componentId ? ` with the id of \"${componentId}\"` : '';\n    const message =\n      `The component ${displayName}${parsedIdString} has been created dynamically.\\n` +\n      \"You may see this warning because you've called styled inside another component.\\n\" +\n      'To resolve this only create new StyledComponents outside of any render method and function component.';\n\n    // If a hook is called outside of a component:\n    // React 17 and earlier throw an error\n    // React 18 and above use console.error\n\n    const originalConsoleError = console.error // eslint-disable-line no-console\n    try {\n      let didNotCallInvalidHook = true\n      /* $FlowIgnore[cannot-write] */\n      console.error = (consoleErrorMessage, ...consoleErrorArgs) => { // eslint-disable-line no-console\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n        if (invalidHookCallRe.test(consoleErrorMessage)) {\n          didNotCallInvalidHook = false\n          // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n          seen.delete(message);\n        } else {\n          originalConsoleError(consoleErrorMessage, ...consoleErrorArgs);\n        }\n      }\n      // We purposefully call `useRef` outside of a component and expect it to throw\n      // If it doesn't, then we're inside another component.\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useRef();\n\n      if (didNotCallInvalidHook && !seen.has(message)) {\n        // eslint-disable-next-line no-console\n        console.warn(message);\n        seen.add(message);\n      }\n    } catch (error) {\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n      if (invalidHookCallRe.test(error.message)) {\n        // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n        seen.delete(message);\n      }\n    } finally {\n      /* $FlowIgnore[cannot-write] */\n      console.error = originalConsoleError; // eslint-disable-line no-console\n    }\n  }\n};\n","// @flow\nimport { EMPTY_OBJECT } from './empties';\n\ntype Props = {\n  theme?: any,\n};\n\nexport default (props: Props, providedTheme: any, defaultProps: any = EMPTY_OBJECT) => {\n  return (props.theme !== defaultProps.theme && props.theme) || providedTheme || defaultProps.theme;\n};\n","// @flow\n\n// Source: https://www.w3.org/TR/cssom-1/#serialize-an-identifier\n// Control characters and non-letter first symbols are not supported\nconst escapeRegex = /[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g;\n\nconst dashesAtEnds = /(^-|-$)/g;\n\n/**\n * TODO: Explore using CSS.escape when it becomes more available\n * in evergreen browsers.\n */\nexport default function escape(str: string): string {\n  return (\n    str\n      // Replace all possible CSS selectors\n      .replace(escapeRegex, '-')\n\n      // Remove extraneous hyphens at the start and end\n      .replace(dashesAtEnds, '')\n  );\n}\n","// @flow\n/* eslint-disable */\nimport generateAlphabeticName from './generateAlphabeticName';\nimport { hash } from './hash';\n\nexport default (str: string): string => {\n  return generateAlphabeticName(hash(str) >>> 0);\n};\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function isTag(target: $PropertyType<IStyledComponent, 'target'>): boolean %checks {\n  return (\n    typeof target === 'string' &&\n    (process.env.NODE_ENV !== 'production'\n      ? target.charAt(0) === target.charAt(0).toLowerCase()\n      : true)\n  );\n}\n","/* eslint-disable */\n/**\n  mixin-deep; https://github.com/jonschlinkert/mixin-deep\n  Inlined such that it will be consistently transpiled to an IE-compatible syntax.\n\n  The MIT License (MIT)\n\n  Copyright (c) 2014-present, Jon Schlinkert.\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\nconst isObject = val => {\n  return (\n    typeof val === 'function' || (typeof val === 'object' && val !== null && !Array.isArray(val))\n  );\n};\n\nconst isValidKey = key => {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\nfunction mixin(target, val, key) {\n  const obj = target[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    target[key] = val;\n  }\n}\n\nexport default function mixinDeep(target, ...rest) {\n  for (const obj of rest) {\n    if (isObject(obj)) {\n      for (const key in obj) {\n        if (isValidKey(key)) {\n          mixin(target, obj[key], key);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n","// @flow\nimport React, { useContext, useMemo, type Element, type Context } from 'react';\nimport throwStyledError from '../utils/error';\nimport isFunction from '../utils/isFunction';\n\nexport type Theme = { [key: string]: mixed };\n\ntype ThemeArgument = Theme | ((outerTheme?: Theme) => Theme);\n\ntype Props = {\n  children?: Element<any>,\n  theme: ThemeArgument,\n};\n\nexport const ThemeContext: Context<Theme | void> = React.createContext();\n\nexport const ThemeConsumer = ThemeContext.Consumer;\n\nfunction mergeTheme(theme: ThemeArgument, outerTheme?: Theme): Theme {\n  if (!theme) {\n    return throwStyledError(14);\n  }\n\n  if (isFunction(theme)) {\n    const mergedTheme = theme(outerTheme);\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')\n    ) {\n      return throwStyledError(7);\n    }\n\n    return mergedTheme;\n  }\n\n  if (Array.isArray(theme) || typeof theme !== 'object') {\n    return throwStyledError(8);\n  }\n\n  return outerTheme ? { ...outerTheme, ...theme } : theme;\n}\n\n/**\n * Provide a theme to an entire react component tree via context\n */\nexport default function ThemeProvider(props: Props) {\n  const outerTheme = useContext(ThemeContext);\n  const themeContext = useMemo(() => mergeTheme(props.theme, outerTheme), [\n    props.theme,\n    outerTheme,\n  ]);\n\n  if (!props.children) {\n    return null;\n  }\n\n  return <ThemeContext.Provider value={themeContext}>{props.children}</ThemeContext.Provider>;\n}\n","// @flow\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\nimport React, { createElement, type Ref, useContext } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  Attrs,\n  IStyledComponent,\n  IStyledStatics,\n  RuleSet,\n  ShouldForwardProp,\n  Target,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport getComponentName from '../utils/getComponentName';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport joinStrings from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheet, useStylis } from './StyleSheetManager';\nimport { ThemeContext } from './ThemeProvider';\n\nconst identifiers = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(displayName?: string, parentComponentId?: string) {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useResolvedAttrs<Config>(theme: any = EMPTY_OBJECT, props: Config, attrs: Attrs) {\n  // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n  const context = { ...props, theme };\n  const resolvedAttrs = {};\n\n  attrs.forEach(attrDef => {\n    let resolvedAttrDef = attrDef;\n    let key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n\n    /* eslint-disable guard-for-in */\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] =\n        key === 'className'\n          ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key])\n          : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n  });\n\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle<T>(\n  componentStyle: ComponentStyle,\n  isStatic: boolean,\n  resolvedAttrs: T,\n  warnTooManyClasses?: $Call<typeof createWarnTooManyClasses, string, string>\n) {\n  const styleSheet = useStyleSheet();\n  const stylis = useStylis();\n\n  const className = isStatic\n    ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis)\n    : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(\n  forwardedComponent: IStyledComponent,\n  props: Object,\n  forwardedRef: Ref<any>,\n  isStatic: boolean\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    shouldForwardProp,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  const [context, attrs] = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs);\n\n  const generatedClassName = useInjectedStyle(\n    componentStyle,\n    isStatic,\n    context,\n    process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined\n  );\n\n  const refToForward = forwardedRef;\n\n  const elementToBeCreated: Target = attrs.$as || props.$as || attrs.as || props.as || target;\n\n  const isTargetTag = isTag(elementToBeCreated);\n  const computedProps = attrs !== props ? { ...props, ...attrs } : props;\n  const propsForElement = {};\n\n  // eslint-disable-next-line guard-for-in\n  for (const key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;\n    else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (\n      shouldForwardProp\n        ? shouldForwardProp(key, validAttr, elementToBeCreated)\n        : isTargetTag\n        ? validAttr(key)\n        : true\n    ) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = { ...props.style, ...attrs.style };\n  }\n\n  propsForElement.className = Array.prototype\n    .concat(\n      foldedComponentIds,\n      styledComponentId,\n      generatedClassName !== styledComponentId ? generatedClassName : null,\n      props.className,\n      attrs.className\n    )\n    .filter(Boolean)\n    .join(' ');\n\n  propsForElement.ref = refToForward;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nexport default function createStyledComponent(\n  target: $PropertyType<IStyledComponent, 'target'>,\n  options: {\n    attrs?: Attrs,\n    componentId: string,\n    displayName?: string,\n    parentComponentId?: string,\n    shouldForwardProp?: ShouldForwardProp,\n  },\n  rules: RuleSet\n) {\n  const isTargetStyledComp = isStyledComponent(target);\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && ((target: any): IStyledComponent).attrs\n      ? Array.prototype.concat(((target: any): IStyledComponent).attrs, attrs).filter(Boolean)\n      : attrs;\n\n  // eslint-disable-next-line prefer-destructuring\n  let shouldForwardProp = options.shouldForwardProp;\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (options.shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, filterFn, elementToBeCreated) =>\n        ((((target: any): IStyledComponent).shouldForwardProp: any): ShouldForwardProp)(\n          prop,\n          filterFn,\n          elementToBeCreated\n        ) &&\n        ((options.shouldForwardProp: any): ShouldForwardProp)(prop, filterFn, elementToBeCreated);\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = ((target: any): IStyledComponent).shouldForwardProp;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? ((target: Object).componentStyle: ComponentStyle) : undefined\n  );\n\n  // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n  const isStatic = componentStyle.isStatic && attrs.length === 0;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent: IStyledComponent;\n\n  const forwardRef = (props, ref) =>\n    // eslint-disable-next-line\n    useStyledComponentImpl(WrappedStyledComponent, props, ref, isStatic);\n\n  forwardRef.displayName = displayName;\n\n  WrappedStyledComponent = ((React.forwardRef(forwardRef): any): IStyledComponent);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? Array.prototype.concat(\n        ((target: any): IStyledComponent).foldedComponentIds,\n        ((target: any): IStyledComponent).styledComponentId\n      )\n    : EMPTY_ARRAY;\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp\n    ? ((target: any): IStyledComponent).target\n    : target;\n\n  WrappedStyledComponent.withComponent = function withComponent(tag: Target) {\n    const { componentId: previousComponentId, ...optionsToCopy } = options;\n\n    const newComponentId =\n      previousComponentId &&\n      `${previousComponentId}-${isTag(tag) ? tag : escape(getComponentName(tag))}`;\n\n    const newOptions = {\n      ...optionsToCopy,\n      attrs: finalAttrs,\n      componentId: newComponentId,\n    };\n\n    return createStyledComponent(tag, newOptions, rules);\n  };\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, ((target: any): IStyledComponent).defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  // If the Object prototype is frozen, the \"toString\" property is non-writable. This means that any objects which inherit this property\n  // cannot have the property changed using an assignment. If using strict mode, attempting that will cause an error. If not using strict\n  // mode, attempting that will be silently ignored.\n  // However, we can still explicitly shadow the prototype's \"toString\" property by defining a new \"toString\" property on this object.\n  Object.defineProperty(WrappedStyledComponent, 'toString', { value: () => `.${WrappedStyledComponent.styledComponentId}` });\n\n  if (isCompositeComponent) {\n    hoist<\n      IStyledStatics,\n      $PropertyType<IStyledComponent, 'target'>,\n      { [key: $Keys<IStyledStatics>]: true }\n    >(WrappedStyledComponent, ((target: any): $PropertyType<IStyledComponent, 'target'>), {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true,\n    });\n  }\n\n  return WrappedStyledComponent;\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\nimport getComponentName from './getComponentName';\nimport isTag from './isTag';\n\nexport default function generateDisplayName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return isTag(target) ? `styled.${target}` : `Styled(${getComponentName(target)})`;\n}\n","/**\n * Convenience function for joining strings to form className chains\n */\nexport default function joinStrings(a: ?String, b: ?String): ?String {\n  return a && b ? `${a} ${b}` : a || b;\n}\n","// @flow\n// Thanks to ReactDOMFactories for this handy list!\n\nexport default [\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'big',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'nav',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n\n  // SVG\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'foreignObject',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'marker',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'textPath',\n  'tspan',\n];\n","// @flow\nimport constructWithOptions from './constructWithOptions';\nimport StyledComponent from '../models/StyledComponent';\nimport domElements from '../utils/domElements';\n\nimport type { Target } from '../types';\n\nconst styled = (tag: Target) => constructWithOptions(StyledComponent, tag);\n\n// Shorthands for all valid HTML Elements\ndomElements.forEach(domElement => {\n  styled[domElement] = styled(domElement);\n});\n\nexport default styled;\n","// @flow\nimport { isValidElementType } from 'react-is';\nimport css from './css';\nimport throwStyledError from '../utils/error';\nimport { EMPTY_OBJECT } from '../utils/empties';\n\nimport type { Target } from '../types';\n\nexport default function constructWithOptions(\n  componentConstructor: Function,\n  tag: Target,\n  options: Object = EMPTY_OBJECT\n) {\n  if (!isValidElementType(tag)) {\n    return throwStyledError(1, String(tag));\n  }\n\n  /* This is callable directly as a template function */\n  // $FlowFixMe: Not typed to avoid destructuring arguments\n  const templateFunction = (...args) => componentConstructor(tag, options, css(...args));\n\n  /* If config methods are called, wrap up a new template function and merge options */\n  templateFunction.withConfig = config =>\n    constructWithOptions(componentConstructor, tag, { ...options, ...config });\n\n  /* Modify/inject new props at runtime */\n  templateFunction.attrs = attrs =>\n    constructWithOptions(componentConstructor, tag, {\n      ...options,\n      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean),\n    });\n\n  return templateFunction;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet, stylis);\n    const css = stylis(flatCSS.join(''), '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","// @flow\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport throwStyledError from '../utils/error';\nimport getNonce from '../utils/nonce';\nimport StyleSheet from '../sheet';\nimport StyleSheetManager from './StyleSheetManager';\n\ndeclare var __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  isStreaming: boolean;\n\n  instance: StyleSheet;\n\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    if (!css) return '';\n\n    const nonce = getNonce();\n    const attrs = [nonce && `nonce=\"${nonce}\"`, `${SC_ATTR}=\"true\"`, `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`];\n    const htmlAttr = attrs.filter(Boolean).join(' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any) {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props: any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // eslint-disable-next-line consistent-return\n  interleaveWithNodeStream(input: any) {\n    if (!__SERVER__ || IS_BROWSER) {\n      return throwStyledError(3);\n    } else if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      // eslint-disable-next-line global-require\n      const { Readable, Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer = new Transform({\n        transform: function appendStyleChunks(chunk, /* encoding */ _, callback) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = () => {\n    this.sealed = true;\n  };\n}\n","// @flow\n/* Import singletons */\nimport isStyledComponent from './utils/isStyledComponent';\nimport css from './constructors/css';\nimport createGlobalStyle from './constructors/createGlobalStyle';\nimport keyframes from './constructors/keyframes';\nimport ServerStyleSheet from './models/ServerStyleSheet';\nimport { SC_VERSION } from './constants';\n\nimport StyleSheetManager, {\n  StyleSheetContext,\n  StyleSheetConsumer,\n} from './models/StyleSheetManager';\n\n/* Import components */\nimport ThemeProvider, { ThemeContext, ThemeConsumer } from './models/ThemeProvider';\n\n/* Import Higher Order Components */\nimport withTheme from './hoc/withTheme';\n\n/* Import hooks */\nimport useTheme from './hooks/useTheme';\n\ndeclare var __SERVER__: boolean;\n\n/* Warning if you've imported this file on React Native */\nif (\n  process.env.NODE_ENV !== 'production' &&\n  typeof navigator !== 'undefined' &&\n  navigator.product === 'ReactNative'\n) {\n  // eslint-disable-next-line no-console\n  console.warn(\n    \"It looks like you've imported 'styled-components' on React Native.\\n\" +\n      \"Perhaps you're looking to import 'styled-components/native'?\\n\" +\n      'Read more about this at https://www.styled-components.com/docs/basics#react-native'\n  );\n}\n\n/* Warning if there are several instances of styled-components */\nif (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test' && typeof window !== 'undefined') {\n  window['__styled-components-init__'] = window['__styled-components-init__'] || 0;\n\n  if (window['__styled-components-init__'] === 1) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      \"It looks like there are several instances of 'styled-components' initialized in this application. \" +\n        'This may cause dynamic styles to not render properly, errors during the rehydration process, ' +\n        'a missing theme prop, and makes your application bigger without good reason.\\n\\n' +\n        'See https://s-c.sh/2BAXzed for more info.'\n    );\n  }\n\n  window['__styled-components-init__'] += 1;\n}\n\n/* Export everything */\nexport * from './secretInternals';\nexport {\n  createGlobalStyle,\n  css,\n  isStyledComponent,\n  keyframes,\n  ServerStyleSheet,\n  StyleSheetConsumer,\n  StyleSheetContext,\n  StyleSheetManager,\n  ThemeConsumer,\n  ThemeContext,\n  ThemeProvider,\n  useTheme,\n  SC_VERSION as version,\n  withTheme,\n};\n","export const generateColorScheme = (seed: number) => {\n    const colors: Array<string> = []\n    const colorCount = 10\n\n    switch (seed % 2) {\n        case 0:\n            for (let i = 0; i < colorCount; i++) {\n                const r = 0\n                const g = 180 + (colorCount - i) * (240 - 180) / colorCount\n                const b = 100 + i * 150 / colorCount\n                colors.push(`rgba(${Math.round(r)}, ${Math.round(g)}, ${Math.round(b)})`)\n            }\n            break\n        case 1:\n            for (let i = 0; i < colorCount; i++) {\n                const r = 160 + i * 95 / colorCount\n                const b = 80 + (colorCount - i) * 100 / colorCount\n                const g = 0\n                colors.push(`rgba(${Math.round(r)}, ${Math.round(g)}, ${Math.round(b)})`)\n            }\n            break\n    }\n\n    return {\n        colors,\n        counter: 0,\n        next () {\n            return colors[this.counter++ % colors.length]\n        }\n    }\n}\n\nconst COLOR_SCHEME = generateColorScheme(1)\nCOLOR_SCHEME.counter = 5\n\nconst theme = {\n\n    devices: {\n        desktop: {\n            fontSize: 20\n        },\n        mobile: {\n            fontSize: 16,\n            maxWidth: 600\n        }\n    },\n\n    dimensions: {\n        maxContentWidth: '900px',\n    },\n\n    fonts: {\n        title: 'Silkscreen',\n        default: 'Rajdhani',\n    },\n\n    fontSizes: {\n        h1: '300%',\n        h2: '140%',\n    },\n\n    colors: {\n        bg1: '#333333',\n        bg1p5: '#222222',\n        bg2: '#1a1a1a',\n        bg3: '#444444',\n        fg1: '#d1d1d1',\n        fg1p5: '#a1a1a1',\n        fg2: '#555555',\n        colorScheme: COLOR_SCHEME,\n    },\n\n    spacings: {\n        'space1': '1rem',\n        'space2': '2rem',\n        'space0p1': '0.25rem',\n    },\n\n    controls: {\n        gridSize: 50\n    },\n\n    zIndexes: {\n        closeButton: 2,\n        spinner: 3\n    }\n}\n\nexport { theme }\n","import styled from 'styled-components'\nimport { theme } from './theme'\n\nexport const H2 = styled.h2`\n    font-family: ${theme.fonts.title};\n    font-size: 140%;\n    color: ${theme.colors.colorScheme.next()};\n    margin: 0;\n    padding: 0;\n`\n\nexport const H3 = styled.h3`\n    text-transform: uppercase;\n    font-weight: bold;\n    font-family: ${theme.fonts.title};\n    margin: 0;\n    padding: 0;\n`\n\nexport const Box = styled.div`\n    background-color: ${theme.colors.bg2};\n    margin: ${theme.spacings.space1} auto 0 auto;\n    padding: ${theme.spacings.space1};\n    width: 100%;\n    max-width: ${theme.dimensions.maxContentWidth};\n`\n\nconst buttonMixin = `\n    border: none;\n    cursor: pointer;\n    background-color: ${theme.colors.bg3};\n`\n\nconst buttonActiveMixin = `\n    font-family: ${theme.fonts.title};\n`\n\nexport const Button = styled.button`\n    ${buttonMixin}\n`\n\nexport const ButtonActive = styled(Button)`\n    ${buttonActiveMixin}\n    background-color: ${() => theme.colors.colorScheme.next()};\n`\n\nexport const Select = styled.select`\n    border: none;\n    background-color: ${theme.colors.bg1p5};\n    cursor: pointer;\n`\n\nconst FilenameContainer = styled.span`\n    position: absolute;\n    bottom: ${theme.spacings.space0p1};\n    right: ${theme.spacings.space0p1};\n    color: ${theme.colors.fg1p5};\n`\n\nexport const Filename: React.FunctionComponent<{ filename: string }> = ({\n    filename,\n}) => {\n    const base = filename.split('/').slice(-1)[0] || null\n    return <FilenameContainer>{base}</FilenameContainer>\n}\n\nexport const Filesize = styled.span`\n    position: absolute;\n    bottom: ${theme.spacings.space0p1};\n    left: ${theme.spacings.space0p1};\n    color: ${theme.colors.fg1p5};\n`\n\nexport const fileViewportMixin = `\n    height: 20vh;\n    max-height: 10em;\n    user-select: none;\n`\n\nexport const Or = styled.span`\n    font-size: 120%;\n    font-weight: bold;\n    color: ${theme.colors.fg2};\n    min-width: 1.5em;\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        text-align: center;\n    }\n`\n\nexport const Hint = styled.div`\n    color: ${theme.colors.fg2};\n    ::before {\n        content: '→ ';\n    }\n    a {\n        color: ${theme.colors.fg2};\n    }\n`\n\nexport const CompilationBox = styled(Box)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n`\n\nexport const CompilationBoxLeft = styled.div`\n    min-width: 6.5rem;\n    transform: translateX(-20%);\n`\n\nexport const CompilationBoxRight = styled.div`\n    flex: auto;\n`\n\nconst SpinnerContainer = styled.div`\n    font-family: ${theme.fonts.title};\n    color: ${theme.colors.colorScheme.next()};\n`\n\nexport const Spinner: React.FunctionComponent<{ text: string, className?:string }> = ({\n    text, className\n}) => {\n    return <SpinnerContainer className={className}>{text}</SpinnerContainer>\n}\n\nexport const ArtefactButtonsContainer = styled.div`\n& > * {\n    font-size: 90%;\n    margin-right: ${theme.spacings.space0p1};\n    &:last-child {\n        margin-right: 0;\n    }\n}\n`","import styled from 'styled-components'\nimport React from 'react'\nimport { Build } from 'webpd'\nimport { ArtefactButtonsContainer, Filename, fileViewportMixin } from '../components'\nimport { theme } from '../theme'\n\ninterface Props {\n    pd: NonNullable<Build.Artefacts['pd']>\n    filename?: string\n    extraButtons?: Array<JSX.Element>\n}\n\nconst Container = styled.div`\n    position: relative;\n    background-color: ${theme.colors.bg1p5};\n`\n\nconst Pre = styled.pre`\n    ${fileViewportMixin}\n    letter-spacing: 0.1em;\n    overflow: auto;\n    margin: 0;\n    padding: 0;\n    opacity: 0.3;\n`\n\nconst ButtonsContainer = styled(ArtefactButtonsContainer)`\n    position: absolute;\n    top: calc(${theme.spacings.space0p1});\n    right: calc(${theme.spacings.space0p1});\n`\n\nconst PdFile: React.FunctionComponent<Props> = ({\n    pd,\n    filename,\n    extraButtons,\n}) => {\n    return (\n        <Container>\n            <Pre>{pd}</Pre>\n            {filename ? <Filename filename={filename} /> : null}\n            {extraButtons ? (\n                <ButtonsContainer>{extraButtons}</ButtonsContainer>\n            ) : null}\n        </Container>\n    )\n}\n\nexport default PdFile\n","export const download = (filename: string, data: string | ArrayBuffer, mimetype: string) => {\n    const blob = new Blob([data], { type: mimetype })\n    if ((window.navigator as any).msSaveOrOpenBlob) {\n        ;(window.navigator as any).msSaveBlob(blob, filename)\n    } else {\n        const elem = window.document.createElement('a')\n        elem.href = window.URL.createObjectURL(blob)\n        elem.download = filename\n        document.body.appendChild(elem)\n        elem.click()\n        document.body.removeChild(elem)\n    }\n}\n\nexport const round = (val: number, dec=4) => {\n    return Math.floor(val * Math.pow(10, dec)) / Math.pow(10, dec)\n}","/**\r\n * filesize\r\n *\r\n * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>\r\n * @license BSD-3-Clause\r\n * @version 10.1.0\r\n */\r\nconst ARRAY = \"array\";\r\nconst BIT = \"bit\";\r\nconst BITS = \"bits\";\r\nconst BYTE = \"byte\";\r\nconst BYTES = \"bytes\";\r\nconst EMPTY = \"\";\r\nconst EXPONENT = \"exponent\";\r\nconst FUNCTION = \"function\";\r\nconst IEC = \"iec\";\r\nconst INVALID_NUMBER = \"Invalid number\";\r\nconst INVALID_ROUND = \"Invalid rounding method\";\r\nconst JEDEC = \"jedec\";\r\nconst OBJECT = \"object\";\r\nconst PERIOD = \".\";\r\nconst ROUND = \"round\";\r\nconst S = \"s\";\r\nconst SI = \"si\";\r\nconst SI_KBIT = \"kbit\";\r\nconst SI_KBYTE = \"kB\";\r\nconst SPACE = \" \";\r\nconst STRING = \"string\";\r\nconst ZERO = \"0\";\r\nconst STRINGS = {\r\n\tsymbol: {\r\n\t\tiec: {\r\n\t\t\tbits: [\"bit\", \"Kibit\", \"Mibit\", \"Gibit\", \"Tibit\", \"Pibit\", \"Eibit\", \"Zibit\", \"Yibit\"],\r\n\t\t\tbytes: [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"]\r\n\t\t},\r\n\t\tjedec: {\r\n\t\t\tbits: [\"bit\", \"Kbit\", \"Mbit\", \"Gbit\", \"Tbit\", \"Pbit\", \"Ebit\", \"Zbit\", \"Ybit\"],\r\n\t\t\tbytes: [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"]\r\n\t\t}\r\n\t},\r\n\tfullform: {\r\n\t\tiec: [\"\", \"kibi\", \"mebi\", \"gibi\", \"tebi\", \"pebi\", \"exbi\", \"zebi\", \"yobi\"],\r\n\t\tjedec: [\"\", \"kilo\", \"mega\", \"giga\", \"tera\", \"peta\", \"exa\", \"zetta\", \"yotta\"]\r\n\t}\r\n};function filesize (arg, {\r\n\tbits = false,\r\n\tpad = false,\r\n\tbase = -1,\r\n\tround = 2,\r\n\tlocale = EMPTY,\r\n\tlocaleOptions = {},\r\n\tseparator = EMPTY,\r\n\tspacer = SPACE,\r\n\tsymbols = {},\r\n\tstandard = EMPTY,\r\n\toutput = STRING,\r\n\tfullform = false,\r\n\tfullforms = [],\r\n\texponent = -1,\r\n\troundingMethod = ROUND,\r\n\tprecision = 0\r\n} = {}) {\r\n\tlet e = exponent,\r\n\t\tnum = Number(arg),\r\n\t\tresult = [],\r\n\t\tval = 0,\r\n\t\tu = EMPTY;\r\n\r\n\t// Sync base & standard\r\n\tif (standard === SI) {\r\n\t\tbase = 10;\r\n\t\tstandard = JEDEC;\r\n\t} else if (standard === IEC || standard === JEDEC) {\r\n\t\tbase = 2;\r\n\t} else if (base === 2) {\r\n\t\tstandard = IEC;\r\n\t} else {\r\n\t\tbase = 10;\r\n\t\tstandard = JEDEC;\r\n\t}\r\n\r\n\tconst ceil = base === 10 ? 1000 : 1024,\r\n\t\tfull = fullform === true,\r\n\t\tneg = num < 0,\r\n\t\troundingFunc = Math[roundingMethod];\r\n\r\n\tif (typeof arg !== \"bigint\" && isNaN(arg)) {\r\n\t\tthrow new TypeError(INVALID_NUMBER);\r\n\t}\r\n\r\n\tif (typeof roundingFunc !== FUNCTION) {\r\n\t\tthrow new TypeError(INVALID_ROUND);\r\n\t}\r\n\r\n\t// Flipping a negative number to determine the size\r\n\tif (neg) {\r\n\t\tnum = -num;\r\n\t}\r\n\r\n\t// Determining the exponent\r\n\tif (e === -1 || isNaN(e)) {\r\n\t\te = Math.floor(Math.log(num) / Math.log(ceil));\r\n\r\n\t\tif (e < 0) {\r\n\t\t\te = 0;\r\n\t\t}\r\n\t}\r\n\r\n\t// Exceeding supported length, time to reduce & multiply\r\n\tif (e > 8) {\r\n\t\tif (precision > 0) {\r\n\t\t\tprecision += 8 - e;\r\n\t\t}\r\n\r\n\t\te = 8;\r\n\t}\r\n\r\n\tif (output === EXPONENT) {\r\n\t\treturn e;\r\n\t}\r\n\r\n\t// Zero is now a special case because bytes divide by 1\r\n\tif (num === 0) {\r\n\t\tresult[0] = 0;\r\n\t\tu = result[1] = STRINGS.symbol[standard][bits ? BITS : BYTES][e];\r\n\t} else {\r\n\t\tval = num / (base === 2 ? Math.pow(2, e * 10) : Math.pow(1000, e));\r\n\r\n\t\tif (bits) {\r\n\t\t\tval = val * 8;\r\n\r\n\t\t\tif (val >= ceil && e < 8) {\r\n\t\t\t\tval = val / ceil;\r\n\t\t\t\te++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst p = Math.pow(10, e > 0 ? round : 0);\r\n\t\tresult[0] = roundingFunc(val * p) / p;\r\n\r\n\t\tif (result[0] === ceil && e < 8 && exponent === -1) {\r\n\t\t\tresult[0] = 1;\r\n\t\t\te++;\r\n\t\t}\r\n\r\n\t\tu = result[1] = base === 10 && e === 1 ? bits ? SI_KBIT : SI_KBYTE : STRINGS.symbol[standard][bits ? BITS : BYTES][e];\r\n\t}\r\n\r\n\t// Decorating a 'diff'\r\n\tif (neg) {\r\n\t\tresult[0] = -result[0];\r\n\t}\r\n\r\n\t// Setting optional precision\r\n\tif (precision > 0) {\r\n\t\tresult[0] = result[0].toPrecision(precision);\r\n\t}\r\n\r\n\t// Applying custom symbol\r\n\tresult[1] = symbols[result[1]] || result[1];\r\n\r\n\tif (locale === true) {\r\n\t\tresult[0] = result[0].toLocaleString();\r\n\t} else if (locale.length > 0) {\r\n\t\tresult[0] = result[0].toLocaleString(locale, localeOptions);\r\n\t} else if (separator.length > 0) {\r\n\t\tresult[0] = result[0].toString().replace(PERIOD, separator);\r\n\t}\r\n\r\n\tif (pad && Number.isInteger(result[0]) === false && round > 0) {\r\n\t\tconst x = separator || PERIOD,\r\n\t\t\ttmp = result[0].toString().split(x),\r\n\t\t\ts = tmp[1] || EMPTY,\r\n\t\t\tl = s.length,\r\n\t\t\tn = round - l;\r\n\r\n\t\tresult[0] = `${tmp[0]}${x}${s.padEnd(l + n, ZERO)}`;\r\n\t}\r\n\r\n\tif (full) {\r\n\t\tresult[1] = fullforms[e] ? fullforms[e] : STRINGS.fullform[standard][e] + (bits ? BIT : BYTE) + (result[0] === 1 ? EMPTY : S);\r\n\t}\r\n\r\n\t// Returning Array, Object, or String (default)\r\n\treturn output === ARRAY ? result : output === OBJECT ? {\r\n\t\tvalue: result[0],\r\n\t\tsymbol: result[1],\r\n\t\texponent: e,\r\n\t\tunit: u\r\n\t} : result.join(spacer);\r\n}\r\n\r\n// Partial application for functional programming\r\nfunction partial ({\r\n\tbits = false,\r\n\tpad = false,\r\n\tbase = -1,\r\n\tround = 2,\r\n\tlocale = EMPTY,\r\n\tlocaleOptions = {},\r\n\tseparator = EMPTY,\r\n\tspacer = SPACE,\r\n\tsymbols = {},\r\n\tstandard = EMPTY,\r\n\toutput = STRING,\r\n\tfullform = false,\r\n\tfullforms = [],\r\n\texponent = -1,\r\n\troundingMethod = ROUND,\r\n\tprecision = 0\r\n} = {}) {\r\n\treturn arg => filesize(arg, {\r\n\t\tbits,\r\n\t\tpad,\r\n\t\tbase,\r\n\t\tround,\r\n\t\tlocale,\r\n\t\tlocaleOptions,\r\n\t\tseparator,\r\n\t\tspacer,\r\n\t\tsymbols,\r\n\t\tstandard,\r\n\t\toutput,\r\n\t\tfullform,\r\n\t\tfullforms,\r\n\t\texponent,\r\n\t\troundingMethod,\r\n\t\tprecision\r\n\t});\r\n}export{filesize,partial};","import { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { Build } from 'webpd'\nimport { ArtefactButtonsContainer, Button, Filename, Filesize, fileViewportMixin } from '../components'\nimport { theme } from '../theme'\nimport { download } from '../utils'\nimport { filesize } from 'filesize'\n\nconst CHAR_MAP = ['░', '▒', '▓', '▔', '▙', '▚', '▛', '▜', '▝', '▞', '▟']\n\ninterface Props {\n    wasm: NonNullable<Build.Artefacts['wasm']>\n    filename: string\n    showDownloadButton?: boolean\n    showFileSize?: boolean\n    extraButtons?: Array<JSX.Element>\n}\n\nconst Container = styled.div`\n    position: relative;\n`\n\nconst BinaryContainer = styled.div`\n    ${fileViewportMixin}\n    word-break: break-all;\n    overflow: hidden;\n    opacity: 0.1;\n    text-align: justify;\n`\n\nconst ButtonsContainer = styled(ArtefactButtonsContainer)`\n    position: absolute;\n    top: calc(${theme.spacings.space0p1});\n    right: calc(${theme.spacings.space0p1});\n`\n\nconst Wasm: React.FunctionComponent<Props> = ({\n    wasm,\n    filename,\n    showDownloadButton,\n    showFileSize,\n    extraButtons,\n}) => {\n    if (showDownloadButton) {\n        const onDownload = () => {\n            download(filename, wasm, 'application/wasm')\n        }\n        extraButtons = [\n            ...(extraButtons || []),\n            <Button key=\"download\" onClick={onDownload}>download</Button>,\n        ]\n    }\n\n    const array = useMemo(() => Array.from(new Uint8Array(wasm)), [wasm])\n\n    const fileSizeStr = filesize(wasm.byteLength) as string\n\n    return (\n        <Container>\n            {filename ? <Filename filename={filename} /> : null}\n            {showFileSize ? (\n                <Filesize>{fileSizeStr}</Filesize>\n            ) : null}\n            <BinaryContainer>\n                {array.slice(0, 1000).map((val, i) => (\n                    <span key={i}>{CHAR_MAP[val % CHAR_MAP.length]} </span>\n                ))}\n            </BinaryContainer>\n            {extraButtons ? (\n                <ButtonsContainer>{extraButtons}</ButtonsContainer>\n            ) : null}\n        </Container>\n    )\n}\nexport default Wasm\n","import { useEffect, useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { Build } from 'webpd'\nimport {\n    ArtefactButtonsContainer as ArtefactButtonsContainerBase,\n    Button,\n    ButtonActive,\n} from '../components'\nimport { theme } from '../theme'\nimport { download, round } from '../utils'\n\ninterface Props {\n    wav: NonNullable<Build.Artefacts['wav']>\n    showDownloadButton?: boolean\n    extraButtons?: Array<JSX.Element>\n}\n\nconst formatTime = (timeSeconds: number) => {\n    const intPart = Math.floor(round(timeSeconds, 2))\n    return `${intPart.toString().padStart(3, '0')}`\n}\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        flex-direction: column-reverse;\n        align-items: flex-end;\n    }\n`\n\nconst Time = styled.div`\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    min-width: 4em;\n    margin: 0 ${theme.spacings.space1};\n    font-size: ${theme.fontSizes.h2};\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        font-size: 120%;\n    }\n    & > span {\n        font-size: 100%;\n    }\n    & > span:nth-child(1) {\n        text-align: right;\n    }\n    & > span:nth-child(2) {\n        text-align: center;\n    }\n`\n\nconst Player = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    flex: auto;\n    margin-right: ${theme.spacings.space1};\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        align-self: stretch;\n        margin-right: 0;\n    }\n    @media (max-width: 400px) {\n        font-size: 50%;\n    }\n\n`\n\nconst PlayPauseButton = styled(ButtonActive)`\n    min-width: 4.5em;\n    align-self: stretch;\n    @media (max-width: 700px) {\n        font-size: 80%;\n    }\n`\n\nconst VolumeContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-self: stretch;\n`\n\nconst VolumeButton = styled(ButtonActive)`\n    min-width: 3em;\n    @media (max-width: 700px) {\n        font-size: 80%;\n    }\n`\n\nconst ArtefactButtonsContainer = styled(ArtefactButtonsContainerBase)`\n    align-self: stretch;\n    display: flex;\n    align-items: stretch;\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        justify-content: flex-end;\n        margin-bottom: ${theme.spacings.space1};\n    }\n`\n\nconst Wav: React.FunctionComponent<Props> = ({\n    wav,\n    showDownloadButton,\n    extraButtons,\n}) => {\n    const [isPlaying, setIsPlaying] = useState(false)\n    const [, setCurrentTime] = useState(0)\n\n    const audio = useMemo(() => {\n        const audio = new Audio(\n            URL.createObjectURL(\n                new Blob([wav], {\n                    type: 'audio/wav',\n                })\n            )\n        )\n        const onPlay = () => {\n            setIsPlaying(true)\n        }\n        const onPause = () => {\n            setIsPlaying(false)\n        }\n        const onEnded = () => {\n            setIsPlaying(false)\n        }\n        audio.onplay = onPlay\n        audio.onpause = onPause\n        audio.onended = onEnded\n        return audio\n    }, [wav])\n\n    useEffect(() => {\n        if (!isPlaying) {\n            return\n        }\n        const interval = setInterval(() => {\n            setCurrentTime(audio.currentTime)\n        }, 100)\n        return () => clearInterval(interval)\n    }, [isPlaying])\n\n    const onClickPlay = () => {\n        if (!audio.paused) {\n            setIsPlaying(true)\n        }\n        audio.play()\n    }\n\n    const onClickPause = () => {\n        if (audio.paused) {\n            setIsPlaying(false)\n        }\n        audio.pause()\n    }\n\n    const onVolumeUp = () => {\n        audio.volume = Math.min(audio.volume + 0.1, 1)\n    }\n\n    const onVolumeDown = () => {\n        audio.volume = Math.max(audio.volume - 0.1, 0)\n    }\n\n    const onDownload = () => {\n        download(`audio.webpd.wav`, wav, 'audio/wav')\n    }\n\n    return (\n        <Container>\n            <Player>\n                {isPlaying ? (\n                    <PlayPauseButton onClick={onClickPause}>\n                        Pause\n                    </PlayPauseButton>\n                ) : (\n                    <PlayPauseButton onClick={onClickPlay}>\n                        Play\n                    </PlayPauseButton>\n                )}\n                <Time>\n                    <span>{formatTime(audio.currentTime)}</span>\n                    <span>/</span>\n                    <span>\n                        {isNaN(audio.duration)\n                            ? formatTime(0)\n                            : formatTime(audio.duration)}\n                    </span>\n                </Time>\n                <VolumeContainer>\n                    <VolumeButton onClick={onVolumeDown}>-</VolumeButton>\n                    <VolumeButton onClick={onVolumeUp}>+</VolumeButton>\n                </VolumeContainer>\n            </Player>\n            <ArtefactButtonsContainer>\n                {extraButtons ? extraButtons : null}\n                {showDownloadButton ? (\n                    <Button onClick={onDownload}>download</Button>\n                ) : null}\n            </ArtefactButtonsContainer>\n        </Container>\n    )\n}\nexport default Wav\n","import { Build } from 'webpd'\nimport PdFile from './PdFile'\nimport Wasm from './Wasm'\nimport Wav from './Wav'\n\ninterface Props {\n    format: Build.BuildFormat\n    artefacts: Build.Artefacts\n    filename?: string\n    showDownloadButton?: boolean\n    extraButtons?: Array<JSX.Element>\n}\n\nconst ArtefactViewer: React.FunctionComponent<Props> = ({\n    format,\n    artefacts,\n    filename,\n    showDownloadButton,\n    extraButtons,\n}) => {\n    switch (format) {\n        case 'pd':\n            return artefacts.pd ? (\n                <PdFile\n                    pd={artefacts.pd}\n                    filename={filename}\n                    extraButtons={extraButtons}\n                />\n            ) : null\n        case 'wasm':\n            return artefacts.wasm ? (\n                <Wasm\n                    wasm={artefacts.wasm}\n                    filename={filename || 'patch.wasm'}\n                    showDownloadButton={showDownloadButton}\n                    extraButtons={extraButtons}\n                    showFileSize={true}\n                />\n            ) : null\n        case 'wav':\n            return artefacts.wav ? (\n                <Wav\n                    wav={artefacts.wav}\n                    showDownloadButton={showDownloadButton}\n                    extraButtons={extraButtons}\n                />\n            ) : null\n    }\n    return null\n}\n\nexport default ArtefactViewer\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtype,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor?.[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === Archtype.Object) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): Archtype {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? Archtype.Array\n\t\t: isMap(thing)\n\t\t? Archtype.Map\n\t\t: isSet(thing)\n\t\t? Archtype.Set\n\t\t: Archtype.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === Archtype.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === Archtype.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === Archtype.Map) thing.set(propOrOldValue, value)\n\telse if (t === Archtype.Set) {\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\tbase: any,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: ProxyType.ES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: ProxyType.ES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ProxyType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ProxyType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyType,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyType.ProxyObject ||\n\t\tstate.type_ === ProxyType.ProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE].base_,\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumerable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyType.ES5Object || state.type_ === ProxyType.ES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// To preserve insertion order in all cases we then clear the set\n\t\t// And we let finalizeProperty know it needs to re-add non-draft children back to the target\n\t\tlet resultEach = result\n\t\tlet isSet = false\n\t\tif (state.type_ === ProxyType.Set) {\n\t\t\tresultEach = new Set(result)\n\t\t\tresult.clear()\n\t\t\tisSet = true\n\t\t}\n\t\teach(resultEach, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path, isSet)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath,\n\ttargetIsSet?: boolean\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t} else if (targetIsSet) {\n\t\ttargetObject.add(childValue)\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\t// we never freeze for a non-root scope; as it would prevent pruning for drafts inside wrapping objects\n\tif (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyType\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyType.ProxyArray : (ProxyType.ProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\t(state.copy_![prop] === value &&\n\t\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t\t(value !== undefined || prop in state.copy_)) ||\n\t\t\t// special case: NaN\n\t\t\t(Number.isNaN(value) && Number.isNaN(state.copy_![prop]))\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyType.ProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\t// @ts-ignore\n\treturn arrayTraps.set!.call(this, state, prop, undefined)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === undefined) result = base\n\t\t\tif (result === NOTHING) result = undefined\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\tif (patchListener) {\n\t\t\t\tconst p: Patch[] = []\n\t\t\t\tconst ip: Patch[] = []\n\t\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip)\n\t\t\t\tpatchListener(p, ip)\n\t\t\t}\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (base: any, recipe?: any): any => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => base(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst result = this.produce(base, recipe, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\n\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\treturn result.then(nextState => [nextState, patches!, inversePatches!])\n\t\t}\n\t\treturn [result, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtype,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === Archtype.Set ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase Archtype.Map:\n\t\t\treturn new Map(value)\n\t\tcase Archtype.Set:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tImmerState,\n\tDrafted,\n\tES5ArrayState,\n\tES5ObjectState,\n\teach,\n\thas,\n\tisDraft,\n\tlatest,\n\tDRAFT_STATE,\n\tis,\n\tloadPlugin,\n\tImmerScope,\n\tProxyType,\n\tgetCurrentScope,\n\tdie,\n\tmarkChanged,\n\tobjectTraps,\n\townKeys,\n\tgetOwnPropertyDescriptors\n} from \"../internal\"\n\ntype ES5State = ES5ArrayState | ES5ObjectState\n\nexport function enableES5() {\n\tfunction willFinalizeES5_(\n\t\tscope: ImmerScope,\n\t\tresult: any,\n\t\tisReplaced: boolean\n\t) {\n\t\tif (!isReplaced) {\n\t\t\tif (scope.patches_) {\n\t\t\t\tmarkChangesRecursively(scope.drafts_![0])\n\t\t\t}\n\t\t\t// This is faster when we don't care about which attributes changed.\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t\t// When a child draft is returned, look for changes.\n\t\telse if (\n\t\t\tisDraft(result) &&\n\t\t\t(result[DRAFT_STATE] as ES5State).scope_ === scope\n\t\t) {\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t}\n\n\tfunction createES5Draft(isArray: boolean, base: any) {\n\t\tif (isArray) {\n\t\t\tconst draft = new Array(base.length)\n\t\t\tfor (let i = 0; i < base.length; i++)\n\t\t\t\tObject.defineProperty(draft, \"\" + i, proxyProperty(i, true))\n\t\t\treturn draft\n\t\t} else {\n\t\t\tconst descriptors = getOwnPropertyDescriptors(base)\n\t\t\tdelete descriptors[DRAFT_STATE as any]\n\t\t\tconst keys = ownKeys(descriptors)\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key: any = keys[i]\n\t\t\t\tdescriptors[key] = proxyProperty(\n\t\t\t\t\tkey,\n\t\t\t\t\tisArray || !!descriptors[key].enumerable\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n\t\t}\n\t}\n\n\tfunction createES5Proxy_<T>(\n\t\tbase: T,\n\t\tparent?: ImmerState\n\t): Drafted<T, ES5ObjectState | ES5ArrayState> {\n\t\tconst isArray = Array.isArray(base)\n\t\tconst draft = createES5Draft(isArray, base)\n\n\t\tconst state: ES5ObjectState | ES5ArrayState = {\n\t\t\ttype_: isArray ? ProxyType.ES5Array : (ProxyType.ES5Object as any),\n\t\t\tscope_: parent ? parent.scope_ : getCurrentScope(),\n\t\t\tmodified_: false,\n\t\t\tfinalized_: false,\n\t\t\tassigned_: {},\n\t\t\tparent_: parent,\n\t\t\t// base is the object we are drafting\n\t\t\tbase_: base,\n\t\t\t// draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n\t\t\tdraft_: draft,\n\t\t\tcopy_: null,\n\t\t\trevoked_: false,\n\t\t\tisManual_: false\n\t\t}\n\n\t\tObject.defineProperty(draft, DRAFT_STATE, {\n\t\t\tvalue: state,\n\t\t\t// enumerable: false <- the default\n\t\t\twritable: true\n\t\t})\n\t\treturn draft\n\t}\n\n\t// property descriptors are recycled to make sure we don't create a get and set closure per property,\n\t// but share them all instead\n\tconst descriptors: {[prop: string]: PropertyDescriptor} = {}\n\n\tfunction proxyProperty(\n\t\tprop: string | number,\n\t\tenumerable: boolean\n\t): PropertyDescriptor {\n\t\tlet desc = descriptors[prop]\n\t\tif (desc) {\n\t\t\tdesc.enumerable = enumerable\n\t\t} else {\n\t\t\tdescriptors[prop] = desc = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable,\n\t\t\t\tget(this: any) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn objectTraps.get(state, prop)\n\t\t\t\t},\n\t\t\t\tset(this: any, value) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tobjectTraps.set(state, prop, value)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn desc\n\t}\n\n\t// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\tfunction markChangesSweep(drafts: Drafted<any, ImmerState>[]) {\n\t\t// The natural order of drafts in the `scope` array is based on when they\n\t\t// were accessed. By processing drafts in reverse natural order, we have a\n\t\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t\t// have changed, we can avoid any traversal of its ancestor nodes.\n\t\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\t\tconst state: ES5State = drafts[i][DRAFT_STATE]\n\t\t\tif (!state.modified_) {\n\t\t\t\tswitch (state.type_) {\n\t\t\t\t\tcase ProxyType.ES5Array:\n\t\t\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase ProxyType.ES5Object:\n\t\t\t\t\t\tif (hasObjectChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction markChangesRecursively(object: any) {\n\t\tif (!object || typeof object !== \"object\") return\n\t\tconst state: ES5State | undefined = object[DRAFT_STATE]\n\t\tif (!state) return\n\t\tconst {base_, draft_, assigned_, type_} = state\n\t\tif (type_ === ProxyType.ES5Object) {\n\t\t\t// Look for added keys.\n\t\t\t// probably there is a faster way to detect changes, as sweep + recurse seems to do some\n\t\t\t// unnecessary work.\n\t\t\t// also: probably we can store the information we detect here, to speed up tree finalization!\n\t\t\teach(draft_, key => {\n\t\t\t\tif ((key as any) === DRAFT_STATE) return\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif ((base_ as any)[key] === undefined && !has(base_, key)) {\n\t\t\t\t\tassigned_[key] = true\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t} else if (!assigned_[key]) {\n\t\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\t\tmarkChangesRecursively(draft_[key])\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Look for removed keys.\n\t\t\teach(base_, key => {\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif (draft_[key] === undefined && !has(draft_, key)) {\n\t\t\t\t\tassigned_[key] = false\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (type_ === ProxyType.ES5Array) {\n\t\t\tif (hasArrayChanges(state as ES5ArrayState)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t\tassigned_.length = true\n\t\t\t}\n\n\t\t\tif (draft_.length < base_.length) {\n\t\t\t\tfor (let i = draft_.length; i < base_.length; i++) assigned_[i] = false\n\t\t\t} else {\n\t\t\t\tfor (let i = base_.length; i < draft_.length; i++) assigned_[i] = true\n\t\t\t}\n\n\t\t\t// Minimum count is enough, the other parts has been processed.\n\t\t\tconst min = Math.min(draft_.length, base_.length)\n\n\t\t\tfor (let i = 0; i < min; i++) {\n\t\t\t\t// Only untouched indices trigger recursion.\n\t\t\t\tif (!draft_.hasOwnProperty(i)) {\n\t\t\t\t\tassigned_[i] = true\n\t\t\t\t}\n\t\t\t\tif (assigned_[i] === undefined) markChangesRecursively(draft_[i])\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasObjectChanges(state: ES5ObjectState) {\n\t\tconst {base_, draft_} = state\n\n\t\t// Search for added keys and changed keys. Start at the back, because\n\t\t// non-numeric keys are ordered by time of definition on the object.\n\t\tconst keys = ownKeys(draft_)\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tconst key: any = keys[i]\n\t\t\tif (key === DRAFT_STATE) continue\n\t\t\tconst baseValue = base_[key]\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (baseValue === undefined && !has(base_, key)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t\t// descriptor is erased. This branch detects any missed changes.\n\t\t\telse {\n\t\t\t\tconst value = draft_[key]\n\t\t\t\tconst state: ImmerState = value && value[DRAFT_STATE]\n\t\t\t\tif (state ? state.base_ !== baseValue : !is(value, baseValue)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// At this point, no keys were added or changed.\n\t\t// Compare key count to determine if keys were deleted.\n\t\tconst baseIsDraft = !!base_[DRAFT_STATE as any]\n\t\treturn keys.length !== ownKeys(base_).length + (baseIsDraft ? 0 : 1) // + 1 to correct for DRAFT_STATE\n\t}\n\n\tfunction hasArrayChanges(state: ES5ArrayState) {\n\t\tconst {draft_} = state\n\t\tif (draft_.length !== state.base_.length) return true\n\t\t// See #116\n\t\t// If we first shorten the length, our array interceptors will be removed.\n\t\t// If after that new items are added, result in the same original length,\n\t\t// those last items will have no intercepting property.\n\t\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t\t// the last one\n\t\t// last descriptor can be not a trap, if the array was extended\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(\n\t\t\tdraft_,\n\t\t\tdraft_.length - 1\n\t\t)\n\t\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\t\tif (descriptor && !descriptor.get) return true\n\t\t// if we miss a property, it has been deleted, so array probobaly changed\n\t\tfor (let i = 0; i < draft_.length; i++) {\n\t\t\tif (!draft_.hasOwnProperty(i)) return true\n\t\t}\n\t\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\t\treturn false\n\t}\n\n\tfunction hasChanges_(state: ES5State) {\n\t\treturn state.type_ === ProxyType.ES5Object\n\t\t\t? hasObjectChanges(state)\n\t\t\t: hasArrayChanges(state)\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"ES5\", {\n\t\tcreateES5Proxy_,\n\t\twillFinalizeES5_,\n\t\thasChanges_\n\t})\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","import type { Action, ActionCreator, StoreEnhancer } from 'redux'\r\nimport { compose } from 'redux'\r\n\r\n/**\r\n * @public\r\n */\r\nexport interface DevToolsEnhancerOptions {\r\n  /**\r\n   * the instance name to be showed on the monitor page. Default value is `document.title`.\r\n   * If not specified and there's no document title, it will consist of `tabId` and `instanceId`.\r\n   */\r\n  name?: string\r\n  /**\r\n   * action creators functions to be available in the Dispatcher.\r\n   */\r\n  actionCreators?: ActionCreator<any>[] | { [key: string]: ActionCreator<any> }\r\n  /**\r\n   * if more than one action is dispatched in the indicated interval, all new actions will be collected and sent at once.\r\n   * It is the joint between performance and speed. When set to `0`, all actions will be sent instantly.\r\n   * Set it to a higher value when experiencing perf issues (also `maxAge` to a lower value).\r\n   *\r\n   * @default 500 ms.\r\n   */\r\n  latency?: number\r\n  /**\r\n   * (> 1) - maximum allowed actions to be stored in the history tree. The oldest actions are removed once maxAge is reached. It's critical for performance.\r\n   *\r\n   * @default 50\r\n   */\r\n  maxAge?: number\r\n  /**\r\n   * Customizes how actions and state are serialized and deserialized. Can be a boolean or object. If given a boolean, the behavior is the same as if you\r\n   * were to pass an object and specify `options` as a boolean. Giving an object allows fine-grained customization using the `replacer` and `reviver`\r\n   * functions.\r\n   */\r\n  serialize?:\r\n    | boolean\r\n    | {\r\n        /**\r\n         * - `undefined` - will use regular `JSON.stringify` to send data (it's the fast mode).\r\n         * - `false` - will handle also circular references.\r\n         * - `true` - will handle also date, regex, undefined, error objects, symbols, maps, sets and functions.\r\n         * - object, which contains `date`, `regex`, `undefined`, `error`, `symbol`, `map`, `set` and `function` keys.\r\n         *   For each of them you can indicate if to include (by setting as `true`).\r\n         *   For `function` key you can also specify a custom function which handles serialization.\r\n         *   See [`jsan`](https://github.com/kolodny/jsan) for more details.\r\n         */\r\n        options?:\r\n          | undefined\r\n          | boolean\r\n          | {\r\n              date?: true\r\n              regex?: true\r\n              undefined?: true\r\n              error?: true\r\n              symbol?: true\r\n              map?: true\r\n              set?: true\r\n              function?: true | ((fn: (...args: any[]) => any) => string)\r\n            }\r\n        /**\r\n         * [JSON replacer function](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#The_replacer_parameter) used for both actions and states stringify.\r\n         * In addition, you can specify a data type by adding a [`__serializedType__`](https://github.com/zalmoxisus/remotedev-serialize/blob/master/helpers/index.js#L4)\r\n         * key. So you can deserialize it back while importing or persisting data.\r\n         * Moreover, it will also [show a nice preview showing the provided custom type](https://cloud.githubusercontent.com/assets/7957859/21814330/a17d556a-d761-11e6-85ef-159dd12f36c5.png):\r\n         */\r\n        replacer?: (key: string, value: unknown) => any\r\n        /**\r\n         * [JSON `reviver` function](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter)\r\n         * used for parsing the imported actions and states. See [`remotedev-serialize`](https://github.com/zalmoxisus/remotedev-serialize/blob/master/immutable/serialize.js#L8-L41)\r\n         * as an example on how to serialize special data types and get them back.\r\n         */\r\n        reviver?: (key: string, value: unknown) => any\r\n        /**\r\n         * Automatically serialize/deserialize immutablejs via [remotedev-serialize](https://github.com/zalmoxisus/remotedev-serialize).\r\n         * Just pass the Immutable library. It will support all ImmutableJS structures. You can even export them into a file and get them back.\r\n         * The only exception is `Record` class, for which you should pass this in addition the references to your classes in `refs`.\r\n         */\r\n        immutable?: any\r\n        /**\r\n         * ImmutableJS `Record` classes used to make possible restore its instances back when importing, persisting...\r\n         */\r\n        refs?: any\r\n      }\r\n  /**\r\n   * function which takes `action` object and id number as arguments, and should return `action` object back.\r\n   */\r\n  actionSanitizer?: <A extends Action>(action: A, id: number) => A\r\n  /**\r\n   * function which takes `state` object and index as arguments, and should return `state` object back.\r\n   */\r\n  stateSanitizer?: <S>(state: S, index: number) => S\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsWhitelist` specified, `actionsBlacklist` is ignored.\r\n   * @deprecated Use actionsDenylist instead.\r\n   */\r\n  actionsBlacklist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsWhitelist` specified, `actionsBlacklist` is ignored.\r\n   * @deprecated Use actionsAllowlist instead.\r\n   */\r\n  actionsWhitelist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsAllowlist` specified, `actionsDenylist` is ignored.\r\n   */\r\n  actionsDenylist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsAllowlist` specified, `actionsDenylist` is ignored.\r\n   */\r\n  actionsAllowlist?: string | string[]\r\n  /**\r\n   * called for every action before sending, takes `state` and `action` object, and returns `true` in case it allows sending the current data to the monitor.\r\n   * Use it as a more advanced version of `actionsDenylist`/`actionsAllowlist` parameters.\r\n   */\r\n  predicate?: <S, A extends Action>(state: S, action: A) => boolean\r\n  /**\r\n   * if specified as `false`, it will not record the changes till clicking on `Start recording` button.\r\n   * Available only for Redux enhancer, for others use `autoPause`.\r\n   *\r\n   * @default true\r\n   */\r\n  shouldRecordChanges?: boolean\r\n  /**\r\n   * if specified, whenever clicking on `Pause recording` button and there are actions in the history log, will add this action type.\r\n   * If not specified, will commit when paused. Available only for Redux enhancer.\r\n   *\r\n   * @default \"@@PAUSED\"\"\r\n   */\r\n  pauseActionType?: string\r\n  /**\r\n   * auto pauses when the extension’s window is not opened, and so has zero impact on your app when not in use.\r\n   * Not available for Redux enhancer (as it already does it but storing the data to be sent).\r\n   *\r\n   * @default false\r\n   */\r\n  autoPause?: boolean\r\n  /**\r\n   * if specified as `true`, it will not allow any non-monitor actions to be dispatched till clicking on `Unlock changes` button.\r\n   * Available only for Redux enhancer.\r\n   *\r\n   * @default false\r\n   */\r\n  shouldStartLocked?: boolean\r\n  /**\r\n   * if set to `false`, will not recompute the states on hot reloading (or on replacing the reducers). Available only for Redux enhancer.\r\n   *\r\n   * @default true\r\n   */\r\n  shouldHotReload?: boolean\r\n  /**\r\n   * if specified as `true`, whenever there's an exception in reducers, the monitors will show the error message, and next actions will not be dispatched.\r\n   *\r\n   * @default false\r\n   */\r\n  shouldCatchErrors?: boolean\r\n  /**\r\n   * If you want to restrict the extension, specify the features you allow.\r\n   * If not specified, all of the features are enabled. When set as an object, only those included as `true` will be allowed.\r\n   * Note that except `true`/`false`, `import` and `export` can be set as `custom` (which is by default for Redux enhancer), meaning that the importing/exporting occurs on the client side.\r\n   * Otherwise, you'll get/set the data right from the monitor part.\r\n   */\r\n  features?: {\r\n    /**\r\n     * start/pause recording of dispatched actions\r\n     */\r\n    pause?: boolean\r\n    /**\r\n     * lock/unlock dispatching actions and side effects\r\n     */\r\n    lock?: boolean\r\n    /**\r\n     * persist states on page reloading\r\n     */\r\n    persist?: boolean\r\n    /**\r\n     * export history of actions in a file\r\n     */\r\n    export?: boolean | 'custom'\r\n    /**\r\n     * import history of actions from a file\r\n     */\r\n    import?: boolean | 'custom'\r\n    /**\r\n     * jump back and forth (time travelling)\r\n     */\r\n    jump?: boolean\r\n    /**\r\n     * skip (cancel) actions\r\n     */\r\n    skip?: boolean\r\n    /**\r\n     * drag and drop actions in the history list\r\n     */\r\n    reorder?: boolean\r\n    /**\r\n     * dispatch custom actions or action creators\r\n     */\r\n    dispatch?: boolean\r\n    /**\r\n     * generate tests for the selected actions\r\n     */\r\n    test?: boolean\r\n  }\r\n  /**\r\n   * Set to true or a stacktrace-returning function to record call stack traces for dispatched actions.\r\n   * Defaults to false.\r\n   */\r\n  trace?: boolean | (<A extends Action>(action: A) => string)\r\n  /**\r\n   * The maximum number of stack trace entries to record per action. Defaults to 10.\r\n   */\r\n  traceLimit?: number\r\n}\r\n\r\ntype Compose = typeof compose\r\n\r\ninterface ComposeWithDevTools {\r\n  (options: DevToolsEnhancerOptions): Compose\r\n  <StoreExt>(...funcs: StoreEnhancer<StoreExt>[]): StoreEnhancer<StoreExt>\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport const composeWithDevTools: ComposeWithDevTools =\r\n  typeof window !== 'undefined' &&\r\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : function () {\r\n        if (arguments.length === 0) return undefined\r\n        if (typeof arguments[0] === 'object') return compose\r\n        return compose.apply(null, arguments as any as Function[])\r\n      }\r\n\r\n/**\r\n * @public\r\n */\r\nexport const devToolsEnhancer: {\r\n  (options: DevToolsEnhancerOptions): StoreEnhancer<any>\r\n} =\r\n  typeof window !== 'undefined' && (window as any).__REDUX_DEVTOOLS_EXTENSION__\r\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION__\r\n    : function () {\r\n        return function (noop) {\r\n          return noop\r\n        }\r\n      }\r\n","/**\r\n * Returns true if the passed value is \"plain\" object, i.e. an object whose\r\n * prototype is the root `Object.prototype`. This includes objects created\r\n * using object literals, but not for instance for class instances.\r\n *\r\n * @param {any} value The value to inspect.\r\n * @returns {boolean} True if the argument appears to be a plain object.\r\n *\r\n * @public\r\n */\r\nexport default function isPlainObject(value: unknown): value is object {\r\n  if (typeof value !== 'object' || value === null) return false\r\n\r\n  let proto = Object.getPrototypeOf(value)\r\n  if (proto === null) return true\r\n\r\n  let baseProto = proto\r\n  while (Object.getPrototypeOf(baseProto) !== null) {\r\n    baseProto = Object.getPrototypeOf(baseProto)\r\n  }\r\n\r\n  return proto === baseProto\r\n}\r\n","import type { Action } from 'redux'\r\nimport type {\r\n  IsUnknownOrNonInferrable,\r\n  IfMaybeUndefined,\r\n  IfVoid,\r\n  IsAny,\r\n} from './tsHelpers'\r\nimport { hasMatchFunction } from './tsHelpers'\r\nimport isPlainObject from './isPlainObject'\r\n\r\n/**\r\n * An action with a string type and an associated payload. This is the\r\n * type of action returned by `createAction()` action creators.\r\n *\r\n * @template P The type of the action's payload.\r\n * @template T the type used for the action type.\r\n * @template M The type of the action's meta (optional)\r\n * @template E The type of the action's error (optional)\r\n *\r\n * @public\r\n */\r\nexport type PayloadAction<\r\n  P = void,\r\n  T extends string = string,\r\n  M = never,\r\n  E = never\r\n> = {\r\n  payload: P\r\n  type: T\r\n} & ([M] extends [never]\r\n  ? {}\r\n  : {\r\n      meta: M\r\n    }) &\r\n  ([E] extends [never]\r\n    ? {}\r\n    : {\r\n        error: E\r\n      })\r\n\r\n/**\r\n * A \"prepare\" method to be used as the second parameter of `createAction`.\r\n * Takes any number of arguments and returns a Flux Standard Action without\r\n * type (will be added later) that *must* contain a payload (might be undefined).\r\n *\r\n * @public\r\n */\r\nexport type PrepareAction<P> =\r\n  | ((...args: any[]) => { payload: P })\r\n  | ((...args: any[]) => { payload: P; meta: any })\r\n  | ((...args: any[]) => { payload: P; error: any })\r\n  | ((...args: any[]) => { payload: P; meta: any; error: any })\r\n\r\n/**\r\n * Internal version of `ActionCreatorWithPreparedPayload`. Not to be used externally.\r\n *\r\n * @internal\r\n */\r\nexport type _ActionCreatorWithPreparedPayload<\r\n  PA extends PrepareAction<any> | void,\r\n  T extends string = string\r\n> = PA extends PrepareAction<infer P>\r\n  ? ActionCreatorWithPreparedPayload<\r\n      Parameters<PA>,\r\n      P,\r\n      T,\r\n      ReturnType<PA> extends {\r\n        error: infer E\r\n      }\r\n        ? E\r\n        : never,\r\n      ReturnType<PA> extends {\r\n        meta: infer M\r\n      }\r\n        ? M\r\n        : never\r\n    >\r\n  : void\r\n\r\n/**\r\n * Basic type for all action creators.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n */\r\nexport interface BaseActionCreator<P, T extends string, M = never, E = never> {\r\n  type: T\r\n  match: (action: Action<unknown>) => action is PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator that takes multiple arguments that are passed\r\n * to a `PrepareAction` method to create the final Action.\r\n * @typeParam Args arguments for the action creator function\r\n * @typeParam P `payload` type\r\n * @typeParam T `type` name\r\n * @typeParam E optional `error` type\r\n * @typeParam M optional `meta` type\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPreparedPayload<\r\n  Args extends unknown[],\r\n  P,\r\n  T extends string = string,\r\n  E = never,\r\n  M = never\r\n> extends BaseActionCreator<P, T, M, E> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with `Args` will return\r\n   * an Action with a payload of type `P` and (depending on the `PrepareAction`\r\n   * method used) a `meta`- and `error` property of types `M` and `E` respectively.\r\n   */\r\n  (...args: Args): PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes an optional payload of type `P`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithOptionalPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`.\r\n   * Calling it without an argument will return a PayloadAction with a payload of `undefined`.\r\n   */\r\n  (payload?: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes no payload.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithoutPayload<T extends string = string>\r\n  extends BaseActionCreator<undefined, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `undefined`\r\n   */\r\n  (noArgument: void): PayloadAction<undefined, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that requires a payload of type P.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`\r\n   */\r\n  (payload: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` whose `payload` type could not be inferred. Accepts everything as `payload`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithNonInferrablePayload<\r\n  T extends string = string\r\n> extends BaseActionCreator<unknown, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload\r\n   * of exactly the type of the argument.\r\n   */\r\n  <PT extends unknown>(payload: PT): PayloadAction<PT, T>\r\n}\r\n\r\n/**\r\n * An action creator that produces actions with a `payload` attribute.\r\n *\r\n * @typeParam P the `payload` type\r\n * @typeParam T the `type` of the resulting action\r\n * @typeParam PA if the resulting action is preprocessed by a `prepare` method, the signature of said method.\r\n *\r\n * @public\r\n */\r\nexport type PayloadActionCreator<\r\n  P = void,\r\n  T extends string = string,\r\n  PA extends PrepareAction<P> | void = void\r\n> = IfPrepareActionMethodProvided<\r\n  PA,\r\n  _ActionCreatorWithPreparedPayload<PA, T>,\r\n  // else\r\n  IsAny<\r\n    P,\r\n    ActionCreatorWithPayload<any, T>,\r\n    IsUnknownOrNonInferrable<\r\n      P,\r\n      ActionCreatorWithNonInferrablePayload<T>,\r\n      // else\r\n      IfVoid<\r\n        P,\r\n        ActionCreatorWithoutPayload<T>,\r\n        // else\r\n        IfMaybeUndefined<\r\n          P,\r\n          ActionCreatorWithOptionalPayload<P, T>,\r\n          // else\r\n          ActionCreatorWithPayload<P, T>\r\n        >\r\n      >\r\n    >\r\n  >\r\n>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overridden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass its arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<P = void, T extends string = string>(\r\n  type: T\r\n): PayloadActionCreator<P, T>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overridden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass its arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<\r\n  PA extends PrepareAction<any>,\r\n  T extends string = string\r\n>(\r\n  type: T,\r\n  prepareAction: PA\r\n): PayloadActionCreator<ReturnType<PA>['payload'], T, PA>\r\n\r\nexport function createAction(type: string, prepareAction?: Function): any {\r\n  function actionCreator(...args: any[]) {\r\n    if (prepareAction) {\r\n      let prepared = prepareAction(...args)\r\n      if (!prepared) {\r\n        throw new Error('prepareAction did not return an object')\r\n      }\r\n\r\n      return {\r\n        type,\r\n        payload: prepared.payload,\r\n        ...('meta' in prepared && { meta: prepared.meta }),\r\n        ...('error' in prepared && { error: prepared.error }),\r\n      }\r\n    }\r\n    return { type, payload: args[0] }\r\n  }\r\n\r\n  actionCreator.toString = () => `${type}`\r\n\r\n  actionCreator.type = type\r\n\r\n  actionCreator.match = (action: Action<unknown>): action is PayloadAction =>\r\n    action.type === type\r\n\r\n  return actionCreator\r\n}\r\n\r\n/**\r\n * Returns true if value is a plain object with a `type` property.\r\n */\r\nexport function isAction(action: unknown): action is Action<unknown> {\r\n  return isPlainObject(action) && 'type' in action\r\n}\r\n\r\n/**\r\n * Returns true if value is an RTK-like action creator, with a static type property and match method.\r\n */\r\nexport function isActionCreator(\r\n  action: unknown\r\n): action is BaseActionCreator<unknown, string> & Function {\r\n  return (\r\n    typeof action === 'function' &&\r\n    'type' in action &&\r\n    // hasMatchFunction only wants Matchers but I don't see the point in rewriting it\r\n    hasMatchFunction(action as any)\r\n  )\r\n}\r\n\r\n/**\r\n * Returns true if value is an action with a string type and valid Flux Standard Action keys.\r\n */\r\nexport function isFSA(action: unknown): action is {\r\n  type: string\r\n  payload?: unknown\r\n  error?: unknown\r\n  meta?: unknown\r\n} {\r\n  return (\r\n    isAction(action) &&\r\n    typeof action.type === 'string' &&\r\n    Object.keys(action).every(isValidKey)\r\n  )\r\n}\r\n\r\nfunction isValidKey(key: string) {\r\n  return ['type', 'payload', 'error', 'meta'].indexOf(key) > -1\r\n}\r\n\r\n/**\r\n * Returns the action type of the actions created by the passed\r\n * `createAction()`-generated action creator (arbitrary action creators\r\n * are not supported).\r\n *\r\n * @param action The action creator whose action type to get.\r\n * @returns The action type used by the action creator.\r\n *\r\n * @public\r\n */\r\nexport function getType<T extends string>(\r\n  actionCreator: PayloadActionCreator<any, T>\r\n): T {\r\n  return `${actionCreator}` as T\r\n}\r\n\r\n// helper types for more readable typings\r\n\r\ntype IfPrepareActionMethodProvided<\r\n  PA extends PrepareAction<any> | void,\r\n  True,\r\n  False\r\n> = PA extends (...args: any[]) => any ? True : False\r\n","import createNextState, { isDraftable } from 'immer'\r\nimport type { Middleware, StoreEnhancer } from 'redux'\r\n\r\nexport function getTimeMeasureUtils(maxDelay: number, fnName: string) {\r\n  let elapsed = 0\r\n  return {\r\n    measureTime<T>(fn: () => T): T {\r\n      const started = Date.now()\r\n      try {\r\n        return fn()\r\n      } finally {\r\n        const finished = Date.now()\r\n        elapsed += finished - started\r\n      }\r\n    },\r\n    warnIfExceeded() {\r\n      if (elapsed > maxDelay) {\r\n        console.warn(`${fnName} took ${elapsed}ms, which is more than the warning threshold of ${maxDelay}ms. \r\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\r\nIt is disabled in production builds, so you don't need to worry about that.`)\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nexport function delay(ms: number) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms))\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport class MiddlewareArray<\r\n  Middlewares extends Middleware<any, any>[]\r\n> extends Array<Middlewares[number]> {\r\n  constructor(...items: Middlewares)\r\n  constructor(...args: any[]) {\r\n    super(...args)\r\n    Object.setPrototypeOf(this, MiddlewareArray.prototype)\r\n  }\r\n\r\n  static get [Symbol.species]() {\r\n    return MiddlewareArray as any\r\n  }\r\n\r\n  concat<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...Middlewares, ...AdditionalMiddlewares]>\r\n\r\n  concat<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    ...items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...Middlewares, ...AdditionalMiddlewares]>\r\n  concat(...arr: any[]) {\r\n    return super.concat.apply(this, arr)\r\n  }\r\n\r\n  prepend<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...AdditionalMiddlewares, ...Middlewares]>\r\n\r\n  prepend<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    ...items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...AdditionalMiddlewares, ...Middlewares]>\r\n\r\n  prepend(...arr: any[]) {\r\n    if (arr.length === 1 && Array.isArray(arr[0])) {\r\n      return new MiddlewareArray(...arr[0].concat(this))\r\n    }\r\n    return new MiddlewareArray(...arr.concat(this))\r\n  }\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport class EnhancerArray<\r\n  Enhancers extends StoreEnhancer<any, any>[]\r\n> extends Array<Enhancers[number]> {\r\n  constructor(...items: Enhancers)\r\n  constructor(...args: any[]) {\r\n    super(...args)\r\n    Object.setPrototypeOf(this, EnhancerArray.prototype)\r\n  }\r\n\r\n  static get [Symbol.species]() {\r\n    return EnhancerArray as any\r\n  }\r\n\r\n  concat<AdditionalEnhancers extends ReadonlyArray<StoreEnhancer<any, any>>>(\r\n    items: AdditionalEnhancers\r\n  ): EnhancerArray<[...Enhancers, ...AdditionalEnhancers]>\r\n\r\n  concat<AdditionalEnhancers extends ReadonlyArray<StoreEnhancer<any, any>>>(\r\n    ...items: AdditionalEnhancers\r\n  ): EnhancerArray<[...Enhancers, ...AdditionalEnhancers]>\r\n  concat(...arr: any[]) {\r\n    return super.concat.apply(this, arr)\r\n  }\r\n\r\n  prepend<AdditionalEnhancers extends ReadonlyArray<StoreEnhancer<any, any>>>(\r\n    items: AdditionalEnhancers\r\n  ): EnhancerArray<[...AdditionalEnhancers, ...Enhancers]>\r\n\r\n  prepend<AdditionalEnhancers extends ReadonlyArray<StoreEnhancer<any, any>>>(\r\n    ...items: AdditionalEnhancers\r\n  ): EnhancerArray<[...AdditionalEnhancers, ...Enhancers]>\r\n\r\n  prepend(...arr: any[]) {\r\n    if (arr.length === 1 && Array.isArray(arr[0])) {\r\n      return new EnhancerArray(...arr[0].concat(this))\r\n    }\r\n    return new EnhancerArray(...arr.concat(this))\r\n  }\r\n}\r\n\r\nexport function freezeDraftable<T>(val: T) {\r\n  return isDraftable(val) ? createNextState(val, () => {}) : val\r\n}\r\n","import type { Middleware, AnyAction } from 'redux'\r\nimport type { ThunkMiddleware } from 'redux-thunk'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport type { ActionCreatorInvariantMiddlewareOptions } from './actionCreatorInvariantMiddleware'\r\nimport { createActionCreatorInvariantMiddleware } from './actionCreatorInvariantMiddleware'\r\nimport type { ImmutableStateInvariantMiddlewareOptions } from './immutableStateInvariantMiddleware'\r\n/* PROD_START_REMOVE_UMD */\r\nimport { createImmutableStateInvariantMiddleware } from './immutableStateInvariantMiddleware'\r\n/* PROD_STOP_REMOVE_UMD */\r\n\r\nimport type { SerializableStateInvariantMiddlewareOptions } from './serializableStateInvariantMiddleware'\r\nimport { createSerializableStateInvariantMiddleware } from './serializableStateInvariantMiddleware'\r\nimport type { ExcludeFromTuple } from './tsHelpers'\r\nimport { MiddlewareArray } from './utils'\r\n\r\nfunction isBoolean(x: any): x is boolean {\r\n  return typeof x === 'boolean'\r\n}\r\n\r\ninterface ThunkOptions<E = any> {\r\n  extraArgument: E\r\n}\r\n\r\ninterface GetDefaultMiddlewareOptions {\r\n  thunk?: boolean | ThunkOptions\r\n  immutableCheck?: boolean | ImmutableStateInvariantMiddlewareOptions\r\n  serializableCheck?: boolean | SerializableStateInvariantMiddlewareOptions\r\n  actionCreatorCheck?: boolean | ActionCreatorInvariantMiddlewareOptions\r\n}\r\n\r\nexport type ThunkMiddlewareFor<\r\n  S,\r\n  O extends GetDefaultMiddlewareOptions = {}\r\n> = O extends {\r\n  thunk: false\r\n}\r\n  ? never\r\n  : O extends { thunk: { extraArgument: infer E } }\r\n  ? ThunkMiddleware<S, AnyAction, E>\r\n  : ThunkMiddleware<S, AnyAction>\r\n\r\nexport type CurriedGetDefaultMiddleware<S = any> = <\r\n  O extends Partial<GetDefaultMiddlewareOptions> = {\r\n    thunk: true\r\n    immutableCheck: true\r\n    serializableCheck: true\r\n    actionCreatorCheck: true\r\n  }\r\n>(\r\n  options?: O\r\n) => MiddlewareArray<ExcludeFromTuple<[ThunkMiddlewareFor<S, O>], never>>\r\n\r\nexport function curryGetDefaultMiddleware<\r\n  S = any\r\n>(): CurriedGetDefaultMiddleware<S> {\r\n  return function curriedGetDefaultMiddleware(options) {\r\n    return getDefaultMiddleware(options)\r\n  }\r\n}\r\n\r\n/**\r\n * Returns any array containing the default middleware installed by\r\n * `configureStore()`. Useful if you want to configure your store with a custom\r\n * `middleware` array but still keep the default set.\r\n *\r\n * @return The default middleware used by `configureStore()`.\r\n *\r\n * @public\r\n *\r\n * @deprecated Prefer to use the callback notation for the `middleware` option in `configureStore`\r\n * to access a pre-typed `getDefaultMiddleware` instead.\r\n */\r\nexport function getDefaultMiddleware<\r\n  S = any,\r\n  O extends Partial<GetDefaultMiddlewareOptions> = {\r\n    thunk: true\r\n    immutableCheck: true\r\n    serializableCheck: true\r\n    actionCreatorCheck: true\r\n  }\r\n>(\r\n  options: O = {} as O\r\n): MiddlewareArray<ExcludeFromTuple<[ThunkMiddlewareFor<S, O>], never>> {\r\n  const {\r\n    thunk = true,\r\n    immutableCheck = true,\r\n    serializableCheck = true,\r\n    actionCreatorCheck = true,\r\n  } = options\r\n\r\n  let middlewareArray = new MiddlewareArray<Middleware[]>()\r\n\r\n  if (thunk) {\r\n    if (isBoolean(thunk)) {\r\n      middlewareArray.push(thunkMiddleware)\r\n    } else {\r\n      middlewareArray.push(\r\n        thunkMiddleware.withExtraArgument(thunk.extraArgument)\r\n      )\r\n    }\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (immutableCheck) {\r\n      /* PROD_START_REMOVE_UMD */\r\n      let immutableOptions: ImmutableStateInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(immutableCheck)) {\r\n        immutableOptions = immutableCheck\r\n      }\r\n\r\n      middlewareArray.unshift(\r\n        createImmutableStateInvariantMiddleware(immutableOptions)\r\n      )\r\n      /* PROD_STOP_REMOVE_UMD */\r\n    }\r\n\r\n    if (serializableCheck) {\r\n      let serializableOptions: SerializableStateInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(serializableCheck)) {\r\n        serializableOptions = serializableCheck\r\n      }\r\n\r\n      middlewareArray.push(\r\n        createSerializableStateInvariantMiddleware(serializableOptions)\r\n      )\r\n    }\r\n    if (actionCreatorCheck) {\r\n      let actionCreatorOptions: ActionCreatorInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(actionCreatorCheck)) {\r\n        actionCreatorOptions = actionCreatorCheck\r\n      }\r\n\r\n      middlewareArray.unshift(\r\n        createActionCreatorInvariantMiddleware(actionCreatorOptions)\r\n      )\r\n    }\r\n  }\r\n\r\n  return middlewareArray as any\r\n}\r\n","import type { Action, AnyAction } from 'redux'\r\nimport type {\r\n  CaseReducer,\r\n  CaseReducers,\r\n  ActionMatcherDescriptionCollection,\r\n} from './createReducer'\r\nimport type { TypeGuard } from './tsHelpers'\r\n\r\nexport interface TypedActionCreator<Type extends string> {\r\n  (...args: any[]): Action<Type>\r\n  type: Type\r\n}\r\n\r\n/**\r\n * A builder for an action <-> reducer map.\r\n *\r\n * @public\r\n */\r\nexport interface ActionReducerMapBuilder<State> {\r\n  /**\r\n   * Adds a case reducer to handle a single exact action type.\r\n   * @remarks\r\n   * All calls to `builder.addCase` must come before any calls to `builder.addMatcher` or `builder.addDefaultCase`.\r\n   * @param actionCreator - Either a plain action type string, or an action creator generated by [`createAction`](./createAction) that can be used to determine the action type.\r\n   * @param reducer - The actual case reducer function.\r\n   */\r\n  addCase<ActionCreator extends TypedActionCreator<string>>(\r\n    actionCreator: ActionCreator,\r\n    reducer: CaseReducer<State, ReturnType<ActionCreator>>\r\n  ): ActionReducerMapBuilder<State>\r\n  /**\r\n   * Adds a case reducer to handle a single exact action type.\r\n   * @remarks\r\n   * All calls to `builder.addCase` must come before any calls to `builder.addMatcher` or `builder.addDefaultCase`.\r\n   * @param actionCreator - Either a plain action type string, or an action creator generated by [`createAction`](./createAction) that can be used to determine the action type.\r\n   * @param reducer - The actual case reducer function.\r\n   */\r\n  addCase<Type extends string, A extends Action<Type>>(\r\n    type: Type,\r\n    reducer: CaseReducer<State, A>\r\n  ): ActionReducerMapBuilder<State>\r\n\r\n  /**\r\n   * Allows you to match your incoming actions against your own filter function instead of only the `action.type` property.\r\n   * @remarks\r\n   * If multiple matcher reducers match, all of them will be executed in the order\r\n   * they were defined in - even if a case reducer already matched.\r\n   * All calls to `builder.addMatcher` must come after any calls to `builder.addCase` and before any calls to `builder.addDefaultCase`.\r\n   * @param matcher - A matcher function. In TypeScript, this should be a [type predicate](https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates)\r\n   *   function\r\n   * @param reducer - The actual case reducer function.\r\n   *\r\n   * @example\r\n```ts\r\nimport {\r\n  createAction,\r\n  createReducer,\r\n  AsyncThunk,\r\n  AnyAction,\r\n} from \"@reduxjs/toolkit\";\r\n\r\ntype GenericAsyncThunk = AsyncThunk<unknown, unknown, any>;\r\n\r\ntype PendingAction = ReturnType<GenericAsyncThunk[\"pending\"]>;\r\ntype RejectedAction = ReturnType<GenericAsyncThunk[\"rejected\"]>;\r\ntype FulfilledAction = ReturnType<GenericAsyncThunk[\"fulfilled\"]>;\r\n\r\nconst initialState: Record<string, string> = {};\r\nconst resetAction = createAction(\"reset-tracked-loading-state\");\r\n\r\nfunction isPendingAction(action: AnyAction): action is PendingAction {\r\n  return action.type.endsWith(\"/pending\");\r\n}\r\n\r\nconst reducer = createReducer(initialState, (builder) => {\r\n  builder\r\n    .addCase(resetAction, () => initialState)\r\n    // matcher can be defined outside as a type predicate function\r\n    .addMatcher(isPendingAction, (state, action) => {\r\n      state[action.meta.requestId] = \"pending\";\r\n    })\r\n    .addMatcher(\r\n      // matcher can be defined inline as a type predicate function\r\n      (action): action is RejectedAction => action.type.endsWith(\"/rejected\"),\r\n      (state, action) => {\r\n        state[action.meta.requestId] = \"rejected\";\r\n      }\r\n    )\r\n    // matcher can just return boolean and the matcher can receive a generic argument\r\n    .addMatcher<FulfilledAction>(\r\n      (action) => action.type.endsWith(\"/fulfilled\"),\r\n      (state, action) => {\r\n        state[action.meta.requestId] = \"fulfilled\";\r\n      }\r\n    );\r\n});\r\n```\r\n   */\r\n  addMatcher<A>(\r\n    matcher: TypeGuard<A> | ((action: any) => boolean),\r\n    reducer: CaseReducer<State, A extends AnyAction ? A : A & AnyAction>\r\n  ): Omit<ActionReducerMapBuilder<State>, 'addCase'>\r\n\r\n  /**\r\n   * Adds a \"default case\" reducer that is executed if no case reducer and no matcher\r\n   * reducer was executed for this action.\r\n   * @param reducer - The fallback \"default case\" reducer function.\r\n   *\r\n   * @example\r\n```ts\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nconst initialState = { otherActions: 0 }\r\nconst reducer = createReducer(initialState, builder => {\r\n  builder\r\n    // .addCase(...)\r\n    // .addMatcher(...)\r\n    .addDefaultCase((state, action) => {\r\n      state.otherActions++\r\n    })\r\n})\r\n```\r\n   */\r\n  addDefaultCase(reducer: CaseReducer<State, AnyAction>): {}\r\n}\r\n\r\nexport function executeReducerBuilderCallback<S>(\r\n  builderCallback: (builder: ActionReducerMapBuilder<S>) => void\r\n): [\r\n  CaseReducers<S, any>,\r\n  ActionMatcherDescriptionCollection<S>,\r\n  CaseReducer<S, AnyAction> | undefined\r\n] {\r\n  const actionsMap: CaseReducers<S, any> = {}\r\n  const actionMatchers: ActionMatcherDescriptionCollection<S> = []\r\n  let defaultCaseReducer: CaseReducer<S, AnyAction> | undefined\r\n  const builder = {\r\n    addCase(\r\n      typeOrActionCreator: string | TypedActionCreator<any>,\r\n      reducer: CaseReducer<S>\r\n    ) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        /*\r\n         to keep the definition by the user in line with actual behavior,\r\n         we enforce `addCase` to always be called before calling `addMatcher`\r\n         as matching cases take precedence over matchers\r\n         */\r\n        if (actionMatchers.length > 0) {\r\n          throw new Error(\r\n            '`builder.addCase` should only be called before calling `builder.addMatcher`'\r\n          )\r\n        }\r\n        if (defaultCaseReducer) {\r\n          throw new Error(\r\n            '`builder.addCase` should only be called before calling `builder.addDefaultCase`'\r\n          )\r\n        }\r\n      }\r\n      const type =\r\n        typeof typeOrActionCreator === 'string'\r\n          ? typeOrActionCreator\r\n          : typeOrActionCreator.type\r\n      if (!type) {\r\n        throw new Error(\r\n          '`builder.addCase` cannot be called with an empty action type'\r\n        )\r\n      }\r\n      if (type in actionsMap) {\r\n        throw new Error(\r\n          '`builder.addCase` cannot be called with two reducers for the same action type'\r\n        )\r\n      }\r\n      actionsMap[type] = reducer\r\n      return builder\r\n    },\r\n    addMatcher<A>(\r\n      matcher: TypeGuard<A>,\r\n      reducer: CaseReducer<S, A extends AnyAction ? A : A & AnyAction>\r\n    ) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (defaultCaseReducer) {\r\n          throw new Error(\r\n            '`builder.addMatcher` should only be called before calling `builder.addDefaultCase`'\r\n          )\r\n        }\r\n      }\r\n      actionMatchers.push({ matcher, reducer })\r\n      return builder\r\n    },\r\n    addDefaultCase(reducer: CaseReducer<S, AnyAction>) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (defaultCaseReducer) {\r\n          throw new Error('`builder.addDefaultCase` can only be called once')\r\n        }\r\n      }\r\n      defaultCaseReducer = reducer\r\n      return builder\r\n    },\r\n  }\r\n  builderCallback(builder)\r\n  return [actionsMap, actionMatchers, defaultCaseReducer]\r\n}\r\n","import type { AnyAction, Reducer } from 'redux'\r\nimport { createNextState } from '.'\r\nimport type {\r\n  ActionCreatorWithoutPayload,\r\n  PayloadAction,\r\n  PayloadActionCreator,\r\n  PrepareAction,\r\n  _ActionCreatorWithPreparedPayload,\r\n} from './createAction'\r\nimport { createAction } from './createAction'\r\nimport type {\r\n  CaseReducer,\r\n  CaseReducers,\r\n  ReducerWithInitialState,\r\n} from './createReducer'\r\nimport { createReducer, NotFunction } from './createReducer'\r\nimport type { ActionReducerMapBuilder } from './mapBuilders'\r\nimport { executeReducerBuilderCallback } from './mapBuilders'\r\nimport type { NoInfer } from './tsHelpers'\r\nimport { freezeDraftable } from './utils'\r\n\r\nlet hasWarnedAboutObjectNotation = false\r\n\r\n/**\r\n * An action creator attached to a slice.\r\n *\r\n * @deprecated please use PayloadActionCreator directly\r\n *\r\n * @public\r\n */\r\nexport type SliceActionCreator<P> = PayloadActionCreator<P>\r\n\r\n/**\r\n * The return value of `createSlice`\r\n *\r\n * @public\r\n */\r\nexport interface Slice<\r\n  State = any,\r\n  CaseReducers extends SliceCaseReducers<State> = SliceCaseReducers<State>,\r\n  Name extends string = string\r\n> {\r\n  /**\r\n   * The slice name.\r\n   */\r\n  name: Name\r\n\r\n  /**\r\n   * The slice's reducer.\r\n   */\r\n  reducer: Reducer<State>\r\n\r\n  /**\r\n   * Action creators for the types of actions that are handled by the slice\r\n   * reducer.\r\n   */\r\n  actions: CaseReducerActions<CaseReducers, Name>\r\n\r\n  /**\r\n   * The individual case reducer functions that were passed in the `reducers` parameter.\r\n   * This enables reuse and testing if they were defined inline when calling `createSlice`.\r\n   */\r\n  caseReducers: SliceDefinedCaseReducers<CaseReducers>\r\n\r\n  /**\r\n   * Provides access to the initial state value given to the slice.\r\n   * If a lazy state initializer was provided, it will be called and a fresh value returned.\r\n   */\r\n  getInitialState: () => State\r\n}\r\n\r\n/**\r\n * Options for `createSlice()`.\r\n *\r\n * @public\r\n */\r\nexport interface CreateSliceOptions<\r\n  State = any,\r\n  CR extends SliceCaseReducers<State> = SliceCaseReducers<State>,\r\n  Name extends string = string\r\n> {\r\n  /**\r\n   * The slice's name. Used to namespace the generated action types.\r\n   */\r\n  name: Name\r\n\r\n  /**\r\n   * The initial state that should be used when the reducer is called the first time. This may also be a \"lazy initializer\" function, which should return an initial state value when called. This will be used whenever the reducer is called with `undefined` as its state value, and is primarily useful for cases like reading initial state from `localStorage`.\r\n   */\r\n  initialState: State | (() => State)\r\n\r\n  /**\r\n   * A mapping from action types to action-type-specific *case reducer*\r\n   * functions. For every action type, a matching action creator will be\r\n   * generated using `createAction()`.\r\n   */\r\n  reducers: ValidateSliceCaseReducers<State, CR>\r\n\r\n  /**\r\n   * A callback that receives a *builder* object to define\r\n   * case reducers via calls to `builder.addCase(actionCreatorOrType, reducer)`.\r\n   * \r\n   * Alternatively, a mapping from action types to action-type-specific *case reducer*\r\n   * functions. These reducers should have existing action types used\r\n   * as the keys, and action creators will _not_ be generated.\r\n   * \r\n   * @example\r\n```ts\r\nimport { createAction, createSlice, Action, AnyAction } from '@reduxjs/toolkit'\r\nconst incrementBy = createAction<number>('incrementBy')\r\nconst decrement = createAction('decrement')\r\n\r\ninterface RejectedAction extends Action {\r\n  error: Error\r\n}\r\n\r\nfunction isRejectedAction(action: AnyAction): action is RejectedAction {\r\n  return action.type.endsWith('rejected')\r\n}\r\n\r\ncreateSlice({\r\n  name: 'counter',\r\n  initialState: 0,\r\n  reducers: {},\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(incrementBy, (state, action) => {\r\n        // action is inferred correctly here if using TS\r\n      })\r\n      // You can chain calls, or have separate `builder.addCase()` lines each time\r\n      .addCase(decrement, (state, action) => {})\r\n      // You can match a range of action types\r\n      .addMatcher(\r\n        isRejectedAction,\r\n        // `action` will be inferred as a RejectedAction due to isRejectedAction being defined as a type guard\r\n        (state, action) => {}\r\n      )\r\n      // and provide a default case if no other handlers matched\r\n      .addDefaultCase((state, action) => {})\r\n    }\r\n})\r\n```\r\n   */\r\n  extraReducers?:\r\n    | CaseReducers<NoInfer<State>, any>\r\n    | ((builder: ActionReducerMapBuilder<NoInfer<State>>) => void)\r\n}\r\n\r\n/**\r\n * A CaseReducer with a `prepare` method.\r\n *\r\n * @public\r\n */\r\nexport type CaseReducerWithPrepare<State, Action extends PayloadAction> = {\r\n  reducer: CaseReducer<State, Action>\r\n  prepare: PrepareAction<Action['payload']>\r\n}\r\n\r\n/**\r\n * The type describing a slice's `reducers` option.\r\n *\r\n * @public\r\n */\r\nexport type SliceCaseReducers<State> = {\r\n  [K: string]:\r\n    | CaseReducer<State, PayloadAction<any>>\r\n    | CaseReducerWithPrepare<State, PayloadAction<any, string, any, any>>\r\n}\r\n\r\ntype SliceActionType<\r\n  SliceName extends string,\r\n  ActionName extends keyof any\r\n> = ActionName extends string | number ? `${SliceName}/${ActionName}` : string\r\n\r\n/**\r\n * Derives the slice's `actions` property from the `reducers` options\r\n *\r\n * @public\r\n */\r\nexport type CaseReducerActions<\r\n  CaseReducers extends SliceCaseReducers<any>,\r\n  SliceName extends string\r\n> = {\r\n  [Type in keyof CaseReducers]: CaseReducers[Type] extends { prepare: any }\r\n    ? ActionCreatorForCaseReducerWithPrepare<\r\n        CaseReducers[Type],\r\n        SliceActionType<SliceName, Type>\r\n      >\r\n    : ActionCreatorForCaseReducer<\r\n        CaseReducers[Type],\r\n        SliceActionType<SliceName, Type>\r\n      >\r\n}\r\n\r\n/**\r\n * Get a `PayloadActionCreator` type for a passed `CaseReducerWithPrepare`\r\n *\r\n * @internal\r\n */\r\ntype ActionCreatorForCaseReducerWithPrepare<\r\n  CR extends { prepare: any },\r\n  Type extends string\r\n> = _ActionCreatorWithPreparedPayload<CR['prepare'], Type>\r\n\r\n/**\r\n * Get a `PayloadActionCreator` type for a passed `CaseReducer`\r\n *\r\n * @internal\r\n */\r\ntype ActionCreatorForCaseReducer<CR, Type extends string> = CR extends (\r\n  state: any,\r\n  action: infer Action\r\n) => any\r\n  ? Action extends { payload: infer P }\r\n    ? PayloadActionCreator<P, Type>\r\n    : ActionCreatorWithoutPayload<Type>\r\n  : ActionCreatorWithoutPayload<Type>\r\n\r\n/**\r\n * Extracts the CaseReducers out of a `reducers` object, even if they are\r\n * tested into a `CaseReducerWithPrepare`.\r\n *\r\n * @internal\r\n */\r\ntype SliceDefinedCaseReducers<CaseReducers extends SliceCaseReducers<any>> = {\r\n  [Type in keyof CaseReducers]: CaseReducers[Type] extends {\r\n    reducer: infer Reducer\r\n  }\r\n    ? Reducer\r\n    : CaseReducers[Type]\r\n}\r\n\r\n/**\r\n * Used on a SliceCaseReducers object.\r\n * Ensures that if a CaseReducer is a `CaseReducerWithPrepare`, that\r\n * the `reducer` and the `prepare` function use the same type of `payload`.\r\n *\r\n * Might do additional such checks in the future.\r\n *\r\n * This type is only ever useful if you want to write your own wrapper around\r\n * `createSlice`. Please don't use it otherwise!\r\n *\r\n * @public\r\n */\r\nexport type ValidateSliceCaseReducers<\r\n  S,\r\n  ACR extends SliceCaseReducers<S>\r\n> = ACR &\r\n  {\r\n    [T in keyof ACR]: ACR[T] extends {\r\n      reducer(s: S, action?: infer A): any\r\n    }\r\n      ? {\r\n          prepare(...a: never[]): Omit<A, 'type'>\r\n        }\r\n      : {}\r\n  }\r\n\r\nfunction getType(slice: string, actionKey: string): string {\r\n  return `${slice}/${actionKey}`\r\n}\r\n\r\n/**\r\n * A function that accepts an initial state, an object full of reducer\r\n * functions, and a \"slice name\", and automatically generates\r\n * action creators and action types that correspond to the\r\n * reducers and state.\r\n *\r\n * The `reducer` argument is passed to `createReducer()`.\r\n *\r\n * @public\r\n */\r\nexport function createSlice<\r\n  State,\r\n  CaseReducers extends SliceCaseReducers<State>,\r\n  Name extends string = string\r\n>(\r\n  options: CreateSliceOptions<State, CaseReducers, Name>\r\n): Slice<State, CaseReducers, Name> {\r\n  const { name } = options\r\n  if (!name) {\r\n    throw new Error('`name` is a required option for createSlice')\r\n  }\r\n\r\n  if (\r\n    typeof process !== 'undefined' &&\r\n    process.env.NODE_ENV === 'development'\r\n  ) {\r\n    if (options.initialState === undefined) {\r\n      console.error(\r\n        'You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`'\r\n      )\r\n    }\r\n  }\r\n\r\n  const initialState =\r\n    typeof options.initialState == 'function'\r\n      ? options.initialState\r\n      : freezeDraftable(options.initialState)\r\n\r\n  const reducers = options.reducers || {}\r\n\r\n  const reducerNames = Object.keys(reducers)\r\n\r\n  const sliceCaseReducersByName: Record<string, CaseReducer> = {}\r\n  const sliceCaseReducersByType: Record<string, CaseReducer> = {}\r\n  const actionCreators: Record<string, Function> = {}\r\n\r\n  reducerNames.forEach((reducerName) => {\r\n    const maybeReducerWithPrepare = reducers[reducerName]\r\n    const type = getType(name, reducerName)\r\n\r\n    let caseReducer: CaseReducer<State, any>\r\n    let prepareCallback: PrepareAction<any> | undefined\r\n\r\n    if ('reducer' in maybeReducerWithPrepare) {\r\n      caseReducer = maybeReducerWithPrepare.reducer\r\n      prepareCallback = maybeReducerWithPrepare.prepare\r\n    } else {\r\n      caseReducer = maybeReducerWithPrepare\r\n    }\r\n\r\n    sliceCaseReducersByName[reducerName] = caseReducer\r\n    sliceCaseReducersByType[type] = caseReducer\r\n    actionCreators[reducerName] = prepareCallback\r\n      ? createAction(type, prepareCallback)\r\n      : createAction(type)\r\n  })\r\n\r\n  function buildReducer() {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (typeof options.extraReducers === 'object') {\r\n        if (!hasWarnedAboutObjectNotation) {\r\n          hasWarnedAboutObjectNotation = true\r\n          console.warn(\r\n            \"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\"\r\n          )\r\n        }\r\n      }\r\n    }\r\n    const [\r\n      extraReducers = {},\r\n      actionMatchers = [],\r\n      defaultCaseReducer = undefined,\r\n    ] =\r\n      typeof options.extraReducers === 'function'\r\n        ? executeReducerBuilderCallback(options.extraReducers)\r\n        : [options.extraReducers]\r\n\r\n    const finalCaseReducers = { ...extraReducers, ...sliceCaseReducersByType }\r\n\r\n    return createReducer(initialState, (builder) => {\r\n      for (let key in finalCaseReducers) {\r\n        builder.addCase(key, finalCaseReducers[key] as CaseReducer<any>)\r\n      }\r\n      for (let m of actionMatchers) {\r\n        builder.addMatcher(m.matcher, m.reducer)\r\n      }\r\n      if (defaultCaseReducer) {\r\n        builder.addDefaultCase(defaultCaseReducer)\r\n      }\r\n    })\r\n  }\r\n\r\n  let _reducer: ReducerWithInitialState<State>\r\n\r\n  return {\r\n    name,\r\n    reducer(state, action) {\r\n      if (!_reducer) _reducer = buildReducer()\r\n\r\n      return _reducer(state, action)\r\n    },\r\n    actions: actionCreators as any,\r\n    caseReducers: sliceCaseReducersByName as any,\r\n    getInitialState() {\r\n      if (!_reducer) _reducer = buildReducer()\r\n\r\n      return _reducer.getInitialState()\r\n    },\r\n  }\r\n}\r\n","import type { Draft } from 'immer'\r\nimport createNextState, { isDraft, isDraftable } from 'immer'\r\nimport type { AnyAction, Action, Reducer } from 'redux'\r\nimport type { ActionReducerMapBuilder } from './mapBuilders'\r\nimport { executeReducerBuilderCallback } from './mapBuilders'\r\nimport type { NoInfer } from './tsHelpers'\r\nimport { freezeDraftable } from './utils'\r\n\r\n/**\r\n * Defines a mapping from action types to corresponding action object shapes.\r\n *\r\n * @deprecated This should not be used manually - it is only used for internal\r\n *             inference purposes and should not have any further value.\r\n *             It might be removed in the future.\r\n * @public\r\n */\r\nexport type Actions<T extends keyof any = string> = Record<T, Action>\r\n\r\n/**\r\n * @deprecated use `TypeGuard` instead\r\n */\r\nexport interface ActionMatcher<A extends AnyAction> {\r\n  (action: AnyAction): action is A\r\n}\r\n\r\nexport type ActionMatcherDescription<S, A extends AnyAction> = {\r\n  matcher: ActionMatcher<A>\r\n  reducer: CaseReducer<S, NoInfer<A>>\r\n}\r\n\r\nexport type ReadonlyActionMatcherDescriptionCollection<S> = ReadonlyArray<\r\n  ActionMatcherDescription<S, any>\r\n>\r\n\r\nexport type ActionMatcherDescriptionCollection<S> = Array<\r\n  ActionMatcherDescription<S, any>\r\n>\r\n\r\n/**\r\n * A *case reducer* is a reducer function for a specific action type. Case\r\n * reducers can be composed to full reducers using `createReducer()`.\r\n *\r\n * Unlike a normal Redux reducer, a case reducer is never called with an\r\n * `undefined` state to determine the initial state. Instead, the initial\r\n * state is explicitly specified as an argument to `createReducer()`.\r\n *\r\n * In addition, a case reducer can choose to mutate the passed-in `state`\r\n * value directly instead of returning a new state. This does not actually\r\n * cause the store state to be mutated directly; instead, thanks to\r\n * [immer](https://github.com/mweststrate/immer), the mutations are\r\n * translated to copy operations that result in a new state.\r\n *\r\n * @public\r\n */\r\nexport type CaseReducer<S = any, A extends Action = AnyAction> = (\r\n  state: Draft<S>,\r\n  action: A\r\n) => NoInfer<S> | void | Draft<NoInfer<S>>\r\n\r\n/**\r\n * A mapping from action types to case reducers for `createReducer()`.\r\n *\r\n * @deprecated This should not be used manually - it is only used\r\n *             for internal inference purposes and using it manually\r\n *             would lead to type erasure.\r\n *             It might be removed in the future.\r\n * @public\r\n */\r\nexport type CaseReducers<S, AS extends Actions> = {\r\n  [T in keyof AS]: AS[T] extends Action ? CaseReducer<S, AS[T]> : void\r\n}\r\n\r\nexport type NotFunction<T> = T extends Function ? never : T\r\n\r\nfunction isStateFunction<S>(x: unknown): x is () => S {\r\n  return typeof x === 'function'\r\n}\r\n\r\nexport type ReducerWithInitialState<S extends NotFunction<any>> = Reducer<S> & {\r\n  getInitialState: () => S\r\n}\r\n\r\nlet hasWarnedAboutObjectNotation = false\r\n\r\n/**\r\n * A utility function that allows defining a reducer as a mapping from action\r\n * type to *case reducer* functions that handle these action types. The\r\n * reducer's initial state is passed as the first argument.\r\n *\r\n * @remarks\r\n * The body of every case reducer is implicitly wrapped with a call to\r\n * `produce()` from the [immer](https://github.com/mweststrate/immer) library.\r\n * This means that rather than returning a new state object, you can also\r\n * mutate the passed-in state object directly; these mutations will then be\r\n * automatically and efficiently translated into copies, giving you both\r\n * convenience and immutability.\r\n *\r\n * @overloadSummary\r\n * This overload accepts a callback function that receives a `builder` object as its argument.\r\n * That builder provides `addCase`, `addMatcher` and `addDefaultCase` functions that may be\r\n * called to define what actions this reducer will handle.\r\n *\r\n * @param initialState - `State | (() => State)`: The initial state that should be used when the reducer is called the first time. This may also be a \"lazy initializer\" function, which should return an initial state value when called. This will be used whenever the reducer is called with `undefined` as its state value, and is primarily useful for cases like reading initial state from `localStorage`.\r\n * @param builderCallback - `(builder: Builder) => void` A callback that receives a *builder* object to define\r\n *   case reducers via calls to `builder.addCase(actionCreatorOrType, reducer)`.\r\n * @example\r\n```ts\r\nimport {\r\n  createAction,\r\n  createReducer,\r\n  AnyAction,\r\n  PayloadAction,\r\n} from \"@reduxjs/toolkit\";\r\n\r\nconst increment = createAction<number>(\"increment\");\r\nconst decrement = createAction<number>(\"decrement\");\r\n\r\nfunction isActionWithNumberPayload(\r\n  action: AnyAction\r\n): action is PayloadAction<number> {\r\n  return typeof action.payload === \"number\";\r\n}\r\n\r\nconst reducer = createReducer(\r\n  {\r\n    counter: 0,\r\n    sumOfNumberPayloads: 0,\r\n    unhandledActions: 0,\r\n  },\r\n  (builder) => {\r\n    builder\r\n      .addCase(increment, (state, action) => {\r\n        // action is inferred correctly here\r\n        state.counter += action.payload;\r\n      })\r\n      // You can chain calls, or have separate `builder.addCase()` lines each time\r\n      .addCase(decrement, (state, action) => {\r\n        state.counter -= action.payload;\r\n      })\r\n      // You can apply a \"matcher function\" to incoming actions\r\n      .addMatcher(isActionWithNumberPayload, (state, action) => {})\r\n      // and provide a default case if no other handlers matched\r\n      .addDefaultCase((state, action) => {});\r\n  }\r\n);\r\n```\r\n * @public\r\n */\r\nexport function createReducer<S extends NotFunction<any>>(\r\n  initialState: S | (() => S),\r\n  builderCallback: (builder: ActionReducerMapBuilder<S>) => void\r\n): ReducerWithInitialState<S>\r\n\r\n/**\r\n * A utility function that allows defining a reducer as a mapping from action\r\n * type to *case reducer* functions that handle these action types. The\r\n * reducer's initial state is passed as the first argument.\r\n *\r\n * The body of every case reducer is implicitly wrapped with a call to\r\n * `produce()` from the [immer](https://github.com/mweststrate/immer) library.\r\n * This means that rather than returning a new state object, you can also\r\n * mutate the passed-in state object directly; these mutations will then be\r\n * automatically and efficiently translated into copies, giving you both\r\n * convenience and immutability.\r\n * \r\n * @overloadSummary\r\n * This overload accepts an object where the keys are string action types, and the values\r\n * are case reducer functions to handle those action types.\r\n *\r\n * @param initialState - `State | (() => State)`: The initial state that should be used when the reducer is called the first time. This may also be a \"lazy initializer\" function, which should return an initial state value when called. This will be used whenever the reducer is called with `undefined` as its state value, and is primarily useful for cases like reading initial state from `localStorage`.\r\n * @param actionsMap - An object mapping from action types to _case reducers_, each of which handles one specific action type.\r\n * @param actionMatchers - An array of matcher definitions in the form `{matcher, reducer}`.\r\n *   All matching reducers will be executed in order, independently if a case reducer matched or not.\r\n * @param defaultCaseReducer - A \"default case\" reducer that is executed if no case reducer and no matcher\r\n *   reducer was executed for this action.\r\n *\r\n * @example\r\n```js\r\nconst counterReducer = createReducer(0, {\r\n  increment: (state, action) => state + action.payload,\r\n  decrement: (state, action) => state - action.payload\r\n})\r\n\r\n// Alternately, use a \"lazy initializer\" to provide the initial state\r\n// (works with either form of createReducer)\r\nconst initialState = () => 0\r\nconst counterReducer = createReducer(initialState, {\r\n  increment: (state, action) => state + action.payload,\r\n  decrement: (state, action) => state - action.payload\r\n})\r\n```\r\n \r\n * Action creators that were generated using [`createAction`](./createAction) may be used directly as the keys here, using computed property syntax:\r\n\r\n```js\r\nconst increment = createAction('increment')\r\nconst decrement = createAction('decrement')\r\n\r\nconst counterReducer = createReducer(0, {\r\n  [increment]: (state, action) => state + action.payload,\r\n  [decrement.type]: (state, action) => state - action.payload\r\n})\r\n```\r\n * @public\r\n */\r\nexport function createReducer<\r\n  S extends NotFunction<any>,\r\n  CR extends CaseReducers<S, any> = CaseReducers<S, any>\r\n>(\r\n  initialState: S | (() => S),\r\n  actionsMap: CR,\r\n  actionMatchers?: ActionMatcherDescriptionCollection<S>,\r\n  defaultCaseReducer?: CaseReducer<S>\r\n): ReducerWithInitialState<S>\r\n\r\nexport function createReducer<S extends NotFunction<any>>(\r\n  initialState: S | (() => S),\r\n  mapOrBuilderCallback:\r\n    | CaseReducers<S, any>\r\n    | ((builder: ActionReducerMapBuilder<S>) => void),\r\n  actionMatchers: ReadonlyActionMatcherDescriptionCollection<S> = [],\r\n  defaultCaseReducer?: CaseReducer<S>\r\n): ReducerWithInitialState<S> {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (typeof mapOrBuilderCallback === 'object') {\r\n      if (!hasWarnedAboutObjectNotation) {\r\n        hasWarnedAboutObjectNotation = true\r\n        console.warn(\r\n          \"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\"\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  let [actionsMap, finalActionMatchers, finalDefaultCaseReducer] =\r\n    typeof mapOrBuilderCallback === 'function'\r\n      ? executeReducerBuilderCallback(mapOrBuilderCallback)\r\n      : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer]\r\n\r\n  // Ensure the initial state gets frozen either way (if draftable)\r\n  let getInitialState: () => S\r\n  if (isStateFunction(initialState)) {\r\n    getInitialState = () => freezeDraftable(initialState())\r\n  } else {\r\n    const frozenInitialState = freezeDraftable(initialState)\r\n    getInitialState = () => frozenInitialState\r\n  }\r\n\r\n  function reducer(state = getInitialState(), action: any): S {\r\n    let caseReducers = [\r\n      actionsMap[action.type],\r\n      ...finalActionMatchers\r\n        .filter(({ matcher }) => matcher(action))\r\n        .map(({ reducer }) => reducer),\r\n    ]\r\n    if (caseReducers.filter((cr) => !!cr).length === 0) {\r\n      caseReducers = [finalDefaultCaseReducer]\r\n    }\r\n\r\n    return caseReducers.reduce((previousState, caseReducer): S => {\r\n      if (caseReducer) {\r\n        if (isDraft(previousState)) {\r\n          // If it's already a draft, we must already be inside a `createNextState` call,\r\n          // likely because this is being wrapped in `createReducer`, `createSlice`, or nested\r\n          // inside an existing draft. It's safe to just pass the draft to the mutator.\r\n          const draft = previousState as Draft<S> // We can assume this is already a draft\r\n          const result = caseReducer(draft, action)\r\n\r\n          if (result === undefined) {\r\n            return previousState\r\n          }\r\n\r\n          return result as S\r\n        } else if (!isDraftable(previousState)) {\r\n          // If state is not draftable (ex: a primitive, such as 0), we want to directly\r\n          // return the caseReducer func and not wrap it with produce.\r\n          const result = caseReducer(previousState as any, action)\r\n\r\n          if (result === undefined) {\r\n            if (previousState === null) {\r\n              return previousState\r\n            }\r\n            throw Error(\r\n              'A case reducer on a non-draftable value must not return undefined'\r\n            )\r\n          }\r\n\r\n          return result as S\r\n        } else {\r\n          // @ts-ignore createNextState() produces an Immutable<Draft<S>> rather\r\n          // than an Immutable<S>, and TypeScript cannot find out how to reconcile\r\n          // these two types.\r\n          return createNextState(previousState, (draft: Draft<S>) => {\r\n            return caseReducer(draft, action)\r\n          })\r\n        }\r\n      }\r\n\r\n      return previousState\r\n    }, state)\r\n  }\r\n\r\n  reducer.getInitialState = getInitialState\r\n\r\n  return reducer as ReducerWithInitialState<S>\r\n}\r\n","// Borrowed from https://github.com/ai/nanoid/blob/3.0.2/non-secure/index.js\r\n// This alphabet uses `A-Za-z0-9_-` symbols. A genetic algorithm helped\r\n// optimize the gzip compression for this alphabet.\r\nlet urlAlphabet =\r\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\r\n\r\n/**\r\n *\r\n * @public\r\n */\r\nexport let nanoid = (size = 21) => {\r\n  let id = ''\r\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\r\n  let i = size\r\n  while (i--) {\r\n    // `| 0` is more compact and faster than `Math.floor()`.\r\n    id += urlAlphabet[(Math.random() * 64) | 0]\r\n  }\r\n  return id\r\n}\r\n","import type { Dispatch, AnyAction } from 'redux'\r\nimport type {\r\n  PayloadAction,\r\n  ActionCreatorWithPreparedPayload,\r\n} from './createAction'\r\nimport { createAction } from './createAction'\r\nimport type { ThunkDispatch } from 'redux-thunk'\r\nimport type { FallbackIfUnknown, Id, IsAny, IsUnknown } from './tsHelpers'\r\nimport { nanoid } from './nanoid'\r\n\r\n// @ts-ignore we need the import of these types due to a bundling issue.\r\ntype _Keep = PayloadAction | ActionCreatorWithPreparedPayload<any, unknown>\r\n\r\nexport type BaseThunkAPI<\r\n  S,\r\n  E,\r\n  D extends Dispatch = Dispatch,\r\n  RejectedValue = unknown,\r\n  RejectedMeta = unknown,\r\n  FulfilledMeta = unknown\r\n> = {\r\n  dispatch: D\r\n  getState: () => S\r\n  extra: E\r\n  requestId: string\r\n  signal: AbortSignal\r\n  abort: (reason?: string) => void\r\n  rejectWithValue: IsUnknown<\r\n    RejectedMeta,\r\n    (value: RejectedValue) => RejectWithValue<RejectedValue, RejectedMeta>,\r\n    (\r\n      value: RejectedValue,\r\n      meta: RejectedMeta\r\n    ) => RejectWithValue<RejectedValue, RejectedMeta>\r\n  >\r\n  fulfillWithValue: IsUnknown<\r\n    FulfilledMeta,\r\n    <FulfilledValue>(value: FulfilledValue) => FulfilledValue,\r\n    <FulfilledValue>(\r\n      value: FulfilledValue,\r\n      meta: FulfilledMeta\r\n    ) => FulfillWithMeta<FulfilledValue, FulfilledMeta>\r\n  >\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport interface SerializedError {\r\n  name?: string\r\n  message?: string\r\n  stack?: string\r\n  code?: string\r\n}\r\n\r\nconst commonProperties: Array<keyof SerializedError> = [\r\n  'name',\r\n  'message',\r\n  'stack',\r\n  'code',\r\n]\r\n\r\nclass RejectWithValue<Payload, RejectedMeta> {\r\n  /*\r\n  type-only property to distinguish between RejectWithValue and FulfillWithMeta\r\n  does not exist at runtime\r\n  */\r\n  private readonly _type!: 'RejectWithValue'\r\n  constructor(\r\n    public readonly payload: Payload,\r\n    public readonly meta: RejectedMeta\r\n  ) {}\r\n}\r\n\r\nclass FulfillWithMeta<Payload, FulfilledMeta> {\r\n  /*\r\n  type-only property to distinguish between RejectWithValue and FulfillWithMeta\r\n  does not exist at runtime\r\n  */\r\n  private readonly _type!: 'FulfillWithMeta'\r\n  constructor(\r\n    public readonly payload: Payload,\r\n    public readonly meta: FulfilledMeta\r\n  ) {}\r\n}\r\n\r\n/**\r\n * Serializes an error into a plain object.\r\n * Reworked from https://github.com/sindresorhus/serialize-error\r\n *\r\n * @public\r\n */\r\nexport const miniSerializeError = (value: any): SerializedError => {\r\n  if (typeof value === 'object' && value !== null) {\r\n    const simpleError: SerializedError = {}\r\n    for (const property of commonProperties) {\r\n      if (typeof value[property] === 'string') {\r\n        simpleError[property] = value[property]\r\n      }\r\n    }\r\n\r\n    return simpleError\r\n  }\r\n\r\n  return { message: String(value) }\r\n}\r\n\r\ntype AsyncThunkConfig = {\r\n  state?: unknown\r\n  dispatch?: Dispatch\r\n  extra?: unknown\r\n  rejectValue?: unknown\r\n  serializedErrorType?: unknown\r\n  pendingMeta?: unknown\r\n  fulfilledMeta?: unknown\r\n  rejectedMeta?: unknown\r\n}\r\n\r\ntype GetState<ThunkApiConfig> = ThunkApiConfig extends {\r\n  state: infer State\r\n}\r\n  ? State\r\n  : unknown\r\ntype GetExtra<ThunkApiConfig> = ThunkApiConfig extends { extra: infer Extra }\r\n  ? Extra\r\n  : unknown\r\ntype GetDispatch<ThunkApiConfig> = ThunkApiConfig extends {\r\n  dispatch: infer Dispatch\r\n}\r\n  ? FallbackIfUnknown<\r\n      Dispatch,\r\n      ThunkDispatch<\r\n        GetState<ThunkApiConfig>,\r\n        GetExtra<ThunkApiConfig>,\r\n        AnyAction\r\n      >\r\n    >\r\n  : ThunkDispatch<GetState<ThunkApiConfig>, GetExtra<ThunkApiConfig>, AnyAction>\r\n\r\nexport type GetThunkAPI<ThunkApiConfig> = BaseThunkAPI<\r\n  GetState<ThunkApiConfig>,\r\n  GetExtra<ThunkApiConfig>,\r\n  GetDispatch<ThunkApiConfig>,\r\n  GetRejectValue<ThunkApiConfig>,\r\n  GetRejectedMeta<ThunkApiConfig>,\r\n  GetFulfilledMeta<ThunkApiConfig>\r\n>\r\n\r\ntype GetRejectValue<ThunkApiConfig> = ThunkApiConfig extends {\r\n  rejectValue: infer RejectValue\r\n}\r\n  ? RejectValue\r\n  : unknown\r\n\r\ntype GetPendingMeta<ThunkApiConfig> = ThunkApiConfig extends {\r\n  pendingMeta: infer PendingMeta\r\n}\r\n  ? PendingMeta\r\n  : unknown\r\n\r\ntype GetFulfilledMeta<ThunkApiConfig> = ThunkApiConfig extends {\r\n  fulfilledMeta: infer FulfilledMeta\r\n}\r\n  ? FulfilledMeta\r\n  : unknown\r\n\r\ntype GetRejectedMeta<ThunkApiConfig> = ThunkApiConfig extends {\r\n  rejectedMeta: infer RejectedMeta\r\n}\r\n  ? RejectedMeta\r\n  : unknown\r\n\r\ntype GetSerializedErrorType<ThunkApiConfig> = ThunkApiConfig extends {\r\n  serializedErrorType: infer GetSerializedErrorType\r\n}\r\n  ? GetSerializedErrorType\r\n  : SerializedError\r\n\r\ntype MaybePromise<T> = T | Promise<T> | (T extends any ? Promise<T> : never)\r\n\r\n/**\r\n * A type describing the return value of the `payloadCreator` argument to `createAsyncThunk`.\r\n * Might be useful for wrapping `createAsyncThunk` in custom abstractions.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkPayloadCreatorReturnValue<\r\n  Returned,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = MaybePromise<\r\n  | IsUnknown<\r\n      GetFulfilledMeta<ThunkApiConfig>,\r\n      Returned,\r\n      FulfillWithMeta<Returned, GetFulfilledMeta<ThunkApiConfig>>\r\n    >\r\n  | RejectWithValue<\r\n      GetRejectValue<ThunkApiConfig>,\r\n      GetRejectedMeta<ThunkApiConfig>\r\n    >\r\n>\r\n/**\r\n * A type describing the `payloadCreator` argument to `createAsyncThunk`.\r\n * Might be useful for wrapping `createAsyncThunk` in custom abstractions.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkPayloadCreator<\r\n  Returned,\r\n  ThunkArg = void,\r\n  ThunkApiConfig extends AsyncThunkConfig = {}\r\n> = (\r\n  arg: ThunkArg,\r\n  thunkAPI: GetThunkAPI<ThunkApiConfig>\r\n) => AsyncThunkPayloadCreatorReturnValue<Returned, ThunkApiConfig>\r\n\r\n/**\r\n * A ThunkAction created by `createAsyncThunk`.\r\n * Dispatching it returns a Promise for either a\r\n * fulfilled or rejected action.\r\n * Also, the returned value contains an `abort()` method\r\n * that allows the asyncAction to be cancelled from the outside.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkAction<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = (\r\n  dispatch: GetDispatch<ThunkApiConfig>,\r\n  getState: () => GetState<ThunkApiConfig>,\r\n  extra: GetExtra<ThunkApiConfig>\r\n) => Promise<\r\n  | ReturnType<AsyncThunkFulfilledActionCreator<Returned, ThunkArg>>\r\n  | ReturnType<AsyncThunkRejectedActionCreator<ThunkArg, ThunkApiConfig>>\r\n> & {\r\n  abort: (reason?: string) => void\r\n  requestId: string\r\n  arg: ThunkArg\r\n  unwrap: () => Promise<Returned>\r\n}\r\n\r\ntype AsyncThunkActionCreator<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = IsAny<\r\n  ThunkArg,\r\n  // any handling\r\n  (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>,\r\n  // unknown handling\r\n  unknown extends ThunkArg\r\n    ? (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> // argument not specified or specified as void or undefined\r\n    : [ThunkArg] extends [void] | [undefined]\r\n    ? () => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> // argument contains void\r\n    : [void] extends [ThunkArg] // make optional\r\n    ? (arg?: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> // argument contains undefined\r\n    : [undefined] extends [ThunkArg]\r\n    ? WithStrictNullChecks<\r\n        // with strict nullChecks: make optional\r\n        (\r\n          arg?: ThunkArg\r\n        ) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>,\r\n        // without strict null checks this will match everything, so don't make it optional\r\n        (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>\r\n      > // default case: normal argument\r\n    : (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>\r\n>\r\n\r\n/**\r\n * Options object for `createAsyncThunk`.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkOptions<\r\n  ThunkArg = void,\r\n  ThunkApiConfig extends AsyncThunkConfig = {}\r\n> = {\r\n  /**\r\n   * A method to control whether the asyncThunk should be executed. Has access to the\r\n   * `arg`, `api.getState()` and `api.extra` arguments.\r\n   *\r\n   * @returns `false` if it should be skipped\r\n   */\r\n  condition?(\r\n    arg: ThunkArg,\r\n    api: Pick<GetThunkAPI<ThunkApiConfig>, 'getState' | 'extra'>\r\n  ): MaybePromise<boolean | undefined>\r\n  /**\r\n   * If `condition` returns `false`, the asyncThunk will be skipped.\r\n   * This option allows you to control whether a `rejected` action with `meta.condition == false`\r\n   * will be dispatched or not.\r\n   *\r\n   * @default `false`\r\n   */\r\n  dispatchConditionRejection?: boolean\r\n\r\n  serializeError?: (x: unknown) => GetSerializedErrorType<ThunkApiConfig>\r\n\r\n  /**\r\n   * A function to use when generating the `requestId` for the request sequence.\r\n   *\r\n   * @default `nanoid`\r\n   */\r\n  idGenerator?: (arg: ThunkArg) => string\r\n} & IsUnknown<\r\n  GetPendingMeta<ThunkApiConfig>,\r\n  {\r\n    /**\r\n     * A method to generate additional properties to be added to `meta` of the pending action.\r\n     *\r\n     * Using this optional overload will not modify the types correctly, this overload is only in place to support JavaScript users.\r\n     * Please use the `ThunkApiConfig` parameter `pendingMeta` to get access to a correctly typed overload\r\n     */\r\n    getPendingMeta?(\r\n      base: {\r\n        arg: ThunkArg\r\n        requestId: string\r\n      },\r\n      api: Pick<GetThunkAPI<ThunkApiConfig>, 'getState' | 'extra'>\r\n    ): GetPendingMeta<ThunkApiConfig>\r\n  },\r\n  {\r\n    /**\r\n     * A method to generate additional properties to be added to `meta` of the pending action.\r\n     */\r\n    getPendingMeta(\r\n      base: {\r\n        arg: ThunkArg\r\n        requestId: string\r\n      },\r\n      api: Pick<GetThunkAPI<ThunkApiConfig>, 'getState' | 'extra'>\r\n    ): GetPendingMeta<ThunkApiConfig>\r\n  }\r\n>\r\n\r\nexport type AsyncThunkPendingActionCreator<\r\n  ThunkArg,\r\n  ThunkApiConfig = {}\r\n> = ActionCreatorWithPreparedPayload<\r\n  [string, ThunkArg, GetPendingMeta<ThunkApiConfig>?],\r\n  undefined,\r\n  string,\r\n  never,\r\n  {\r\n    arg: ThunkArg\r\n    requestId: string\r\n    requestStatus: 'pending'\r\n  } & GetPendingMeta<ThunkApiConfig>\r\n>\r\n\r\nexport type AsyncThunkRejectedActionCreator<\r\n  ThunkArg,\r\n  ThunkApiConfig = {}\r\n> = ActionCreatorWithPreparedPayload<\r\n  [\r\n    Error | null,\r\n    string,\r\n    ThunkArg,\r\n    GetRejectValue<ThunkApiConfig>?,\r\n    GetRejectedMeta<ThunkApiConfig>?\r\n  ],\r\n  GetRejectValue<ThunkApiConfig> | undefined,\r\n  string,\r\n  GetSerializedErrorType<ThunkApiConfig>,\r\n  {\r\n    arg: ThunkArg\r\n    requestId: string\r\n    requestStatus: 'rejected'\r\n    aborted: boolean\r\n    condition: boolean\r\n  } & (\r\n    | ({ rejectedWithValue: false } & {\r\n        [K in keyof GetRejectedMeta<ThunkApiConfig>]?: undefined\r\n      })\r\n    | ({ rejectedWithValue: true } & GetRejectedMeta<ThunkApiConfig>)\r\n  )\r\n>\r\n\r\nexport type AsyncThunkFulfilledActionCreator<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig = {}\r\n> = ActionCreatorWithPreparedPayload<\r\n  [Returned, string, ThunkArg, GetFulfilledMeta<ThunkApiConfig>?],\r\n  Returned,\r\n  string,\r\n  never,\r\n  {\r\n    arg: ThunkArg\r\n    requestId: string\r\n    requestStatus: 'fulfilled'\r\n  } & GetFulfilledMeta<ThunkApiConfig>\r\n>\r\n\r\n/**\r\n * A type describing the return value of `createAsyncThunk`.\r\n * Might be useful for wrapping `createAsyncThunk` in custom abstractions.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunk<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = AsyncThunkActionCreator<Returned, ThunkArg, ThunkApiConfig> & {\r\n  pending: AsyncThunkPendingActionCreator<ThunkArg, ThunkApiConfig>\r\n  rejected: AsyncThunkRejectedActionCreator<ThunkArg, ThunkApiConfig>\r\n  fulfilled: AsyncThunkFulfilledActionCreator<\r\n    Returned,\r\n    ThunkArg,\r\n    ThunkApiConfig\r\n  >\r\n  typePrefix: string\r\n}\r\n\r\ntype OverrideThunkApiConfigs<OldConfig, NewConfig> = Id<\r\n  NewConfig & Omit<OldConfig, keyof NewConfig>\r\n>\r\n\r\ntype CreateAsyncThunk<CurriedThunkApiConfig extends AsyncThunkConfig> = {\r\n  /**\r\n   *\r\n   * @param typePrefix\r\n   * @param payloadCreator\r\n   * @param options\r\n   *\r\n   * @public\r\n   */\r\n  // separate signature without `AsyncThunkConfig` for better inference\r\n  <Returned, ThunkArg = void>(\r\n    typePrefix: string,\r\n    payloadCreator: AsyncThunkPayloadCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      CurriedThunkApiConfig\r\n    >,\r\n    options?: AsyncThunkOptions<ThunkArg, CurriedThunkApiConfig>\r\n  ): AsyncThunk<Returned, ThunkArg, CurriedThunkApiConfig>\r\n\r\n  /**\r\n   *\r\n   * @param typePrefix\r\n   * @param payloadCreator\r\n   * @param options\r\n   *\r\n   * @public\r\n   */\r\n  <Returned, ThunkArg, ThunkApiConfig extends AsyncThunkConfig>(\r\n    typePrefix: string,\r\n    payloadCreator: AsyncThunkPayloadCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n    >,\r\n    options?: AsyncThunkOptions<\r\n      ThunkArg,\r\n      OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n    >\r\n  ): AsyncThunk<\r\n    Returned,\r\n    ThunkArg,\r\n    OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n  >\r\n\r\n  withTypes<ThunkApiConfig extends AsyncThunkConfig>(): CreateAsyncThunk<\r\n    OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n  >\r\n}\r\n\r\nexport const createAsyncThunk = (() => {\r\n  function createAsyncThunk<\r\n    Returned,\r\n    ThunkArg,\r\n    ThunkApiConfig extends AsyncThunkConfig\r\n  >(\r\n    typePrefix: string,\r\n    payloadCreator: AsyncThunkPayloadCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      ThunkApiConfig\r\n    >,\r\n    options?: AsyncThunkOptions<ThunkArg, ThunkApiConfig>\r\n  ): AsyncThunk<Returned, ThunkArg, ThunkApiConfig> {\r\n    type RejectedValue = GetRejectValue<ThunkApiConfig>\r\n    type PendingMeta = GetPendingMeta<ThunkApiConfig>\r\n    type FulfilledMeta = GetFulfilledMeta<ThunkApiConfig>\r\n    type RejectedMeta = GetRejectedMeta<ThunkApiConfig>\r\n\r\n    const fulfilled: AsyncThunkFulfilledActionCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      ThunkApiConfig\r\n    > = createAction(\r\n      typePrefix + '/fulfilled',\r\n      (\r\n        payload: Returned,\r\n        requestId: string,\r\n        arg: ThunkArg,\r\n        meta?: FulfilledMeta\r\n      ) => ({\r\n        payload,\r\n        meta: {\r\n          ...((meta as any) || {}),\r\n          arg,\r\n          requestId,\r\n          requestStatus: 'fulfilled' as const,\r\n        },\r\n      })\r\n    )\r\n\r\n    const pending: AsyncThunkPendingActionCreator<ThunkArg, ThunkApiConfig> =\r\n      createAction(\r\n        typePrefix + '/pending',\r\n        (requestId: string, arg: ThunkArg, meta?: PendingMeta) => ({\r\n          payload: undefined,\r\n          meta: {\r\n            ...((meta as any) || {}),\r\n            arg,\r\n            requestId,\r\n            requestStatus: 'pending' as const,\r\n          },\r\n        })\r\n      )\r\n\r\n    const rejected: AsyncThunkRejectedActionCreator<ThunkArg, ThunkApiConfig> =\r\n      createAction(\r\n        typePrefix + '/rejected',\r\n        (\r\n          error: Error | null,\r\n          requestId: string,\r\n          arg: ThunkArg,\r\n          payload?: RejectedValue,\r\n          meta?: RejectedMeta\r\n        ) => ({\r\n          payload,\r\n          error: ((options && options.serializeError) || miniSerializeError)(\r\n            error || 'Rejected'\r\n          ) as GetSerializedErrorType<ThunkApiConfig>,\r\n          meta: {\r\n            ...((meta as any) || {}),\r\n            arg,\r\n            requestId,\r\n            rejectedWithValue: !!payload,\r\n            requestStatus: 'rejected' as const,\r\n            aborted: error?.name === 'AbortError',\r\n            condition: error?.name === 'ConditionError',\r\n          },\r\n        })\r\n      )\r\n\r\n    let displayedWarning = false\r\n\r\n    const AC =\r\n      typeof AbortController !== 'undefined'\r\n        ? AbortController\r\n        : class implements AbortController {\r\n            signal = {\r\n              aborted: false,\r\n              addEventListener() {},\r\n              dispatchEvent() {\r\n                return false\r\n              },\r\n              onabort() {},\r\n              removeEventListener() {},\r\n              reason: undefined,\r\n              throwIfAborted() {},\r\n            }\r\n            abort() {\r\n              if (process.env.NODE_ENV !== 'production') {\r\n                if (!displayedWarning) {\r\n                  displayedWarning = true\r\n                  console.info(\r\n                    `This platform does not implement AbortController. \r\nIf you want to use the AbortController to react to \\`abort\\` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.`\r\n                  )\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n    function actionCreator(\r\n      arg: ThunkArg\r\n    ): AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> {\r\n      return (dispatch, getState, extra) => {\r\n        const requestId = options?.idGenerator\r\n          ? options.idGenerator(arg)\r\n          : nanoid()\r\n\r\n        const abortController = new AC()\r\n        let abortReason: string | undefined\r\n\r\n        let started = false\r\n        function abort(reason?: string) {\r\n          abortReason = reason\r\n          abortController.abort()\r\n        }\r\n\r\n        const promise = (async function () {\r\n          let finalAction: ReturnType<typeof fulfilled | typeof rejected>\r\n          try {\r\n            let conditionResult = options?.condition?.(arg, { getState, extra })\r\n            if (isThenable(conditionResult)) {\r\n              conditionResult = await conditionResult\r\n            }\r\n\r\n            if (conditionResult === false || abortController.signal.aborted) {\r\n              // eslint-disable-next-line no-throw-literal\r\n              throw {\r\n                name: 'ConditionError',\r\n                message: 'Aborted due to condition callback returning false.',\r\n              }\r\n            }\r\n            started = true\r\n\r\n            const abortedPromise = new Promise<never>((_, reject) =>\r\n              abortController.signal.addEventListener('abort', () =>\r\n                reject({\r\n                  name: 'AbortError',\r\n                  message: abortReason || 'Aborted',\r\n                })\r\n              )\r\n            )\r\n            dispatch(\r\n              pending(\r\n                requestId,\r\n                arg,\r\n                options?.getPendingMeta?.(\r\n                  { requestId, arg },\r\n                  { getState, extra }\r\n                )\r\n              )\r\n            )\r\n            finalAction = await Promise.race([\r\n              abortedPromise,\r\n              Promise.resolve(\r\n                payloadCreator(arg, {\r\n                  dispatch,\r\n                  getState,\r\n                  extra,\r\n                  requestId,\r\n                  signal: abortController.signal,\r\n                  abort,\r\n                  rejectWithValue: ((\r\n                    value: RejectedValue,\r\n                    meta?: RejectedMeta\r\n                  ) => {\r\n                    return new RejectWithValue(value, meta)\r\n                  }) as any,\r\n                  fulfillWithValue: ((value: unknown, meta?: FulfilledMeta) => {\r\n                    return new FulfillWithMeta(value, meta)\r\n                  }) as any,\r\n                })\r\n              ).then((result) => {\r\n                if (result instanceof RejectWithValue) {\r\n                  throw result\r\n                }\r\n                if (result instanceof FulfillWithMeta) {\r\n                  return fulfilled(result.payload, requestId, arg, result.meta)\r\n                }\r\n                return fulfilled(result as any, requestId, arg)\r\n              }),\r\n            ])\r\n          } catch (err) {\r\n            finalAction =\r\n              err instanceof RejectWithValue\r\n                ? rejected(null, requestId, arg, err.payload, err.meta)\r\n                : rejected(err as any, requestId, arg)\r\n          }\r\n          // We dispatch the result action _after_ the catch, to avoid having any errors\r\n          // here get swallowed by the try/catch block,\r\n          // per https://twitter.com/dan_abramov/status/770914221638942720\r\n          // and https://github.com/reduxjs/redux-toolkit/blob/e85eb17b39a2118d859f7b7746e0f3fee523e089/docs/tutorials/advanced-tutorial.md#async-error-handling-logic-in-thunks\r\n\r\n          const skipDispatch =\r\n            options &&\r\n            !options.dispatchConditionRejection &&\r\n            rejected.match(finalAction) &&\r\n            (finalAction as any).meta.condition\r\n\r\n          if (!skipDispatch) {\r\n            dispatch(finalAction)\r\n          }\r\n          return finalAction\r\n        })()\r\n        return Object.assign(promise as Promise<any>, {\r\n          abort,\r\n          requestId,\r\n          arg,\r\n          unwrap() {\r\n            return promise.then<any>(unwrapResult)\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    return Object.assign(\r\n      actionCreator as AsyncThunkActionCreator<\r\n        Returned,\r\n        ThunkArg,\r\n        ThunkApiConfig\r\n      >,\r\n      {\r\n        pending,\r\n        rejected,\r\n        fulfilled,\r\n        typePrefix,\r\n      }\r\n    )\r\n  }\r\n  createAsyncThunk.withTypes = () => createAsyncThunk\r\n\r\n  return createAsyncThunk as CreateAsyncThunk<AsyncThunkConfig>\r\n})()\r\n\r\ninterface UnwrappableAction {\r\n  payload: any\r\n  meta?: any\r\n  error?: any\r\n}\r\n\r\ntype UnwrappedActionPayload<T extends UnwrappableAction> = Exclude<\r\n  T,\r\n  { error: any }\r\n>['payload']\r\n\r\n/**\r\n * @public\r\n */\r\nexport function unwrapResult<R extends UnwrappableAction>(\r\n  action: R\r\n): UnwrappedActionPayload<R> {\r\n  if (action.meta && action.meta.rejectedWithValue) {\r\n    throw action.payload\r\n  }\r\n  if (action.error) {\r\n    throw action.error\r\n  }\r\n  return action.payload\r\n}\r\n\r\ntype WithStrictNullChecks<True, False> = undefined extends boolean\r\n  ? False\r\n  : True\r\n\r\nfunction isThenable(value: any): value is PromiseLike<any> {\r\n  return (\r\n    value !== null &&\r\n    typeof value === 'object' &&\r\n    typeof value.then === 'function'\r\n  )\r\n}\r\n","import type { Dispatch, AnyAction, MiddlewareAPI } from 'redux'\r\nimport type { ThunkDispatch } from 'redux-thunk'\r\nimport { createAction, isAction } from '../createAction'\r\nimport { nanoid } from '../nanoid'\r\n\r\nimport type {\r\n  ListenerMiddleware,\r\n  ListenerMiddlewareInstance,\r\n  AddListenerOverloads,\r\n  AnyListenerPredicate,\r\n  CreateListenerMiddlewareOptions,\r\n  TypedAddListener,\r\n  TypedCreateListenerEntry,\r\n  FallbackAddListenerOptions,\r\n  ListenerEntry,\r\n  ListenerErrorHandler,\r\n  UnsubscribeListener,\r\n  TakePattern,\r\n  ListenerErrorInfo,\r\n  ForkedTaskExecutor,\r\n  ForkedTask,\r\n  TypedRemoveListener,\r\n  TaskResult,\r\n  AbortSignalWithReason,\r\n  UnsubscribeListenerOptions,\r\n  ForkOptions,\r\n} from './types'\r\nimport {\r\n  abortControllerWithReason,\r\n  addAbortSignalListener,\r\n  assertFunction,\r\n  catchRejection,\r\n} from './utils'\r\nimport {\r\n  listenerCancelled,\r\n  listenerCompleted,\r\n  TaskAbortError,\r\n  taskCancelled,\r\n  taskCompleted,\r\n} from './exceptions'\r\nimport {\r\n  runTask,\r\n  validateActive,\r\n  createPause,\r\n  createDelay,\r\n  raceWithSignal,\r\n} from './task'\r\nexport { TaskAbortError } from './exceptions'\r\nexport type {\r\n  ListenerEffect,\r\n  ListenerMiddleware,\r\n  ListenerEffectAPI,\r\n  ListenerMiddlewareInstance,\r\n  CreateListenerMiddlewareOptions,\r\n  ListenerErrorHandler,\r\n  TypedStartListening,\r\n  TypedAddListener,\r\n  TypedStopListening,\r\n  TypedRemoveListener,\r\n  UnsubscribeListener,\r\n  UnsubscribeListenerOptions,\r\n  ForkedTaskExecutor,\r\n  ForkedTask,\r\n  ForkedTaskAPI,\r\n  AsyncTaskExecutor,\r\n  SyncTaskExecutor,\r\n  TaskCancelled,\r\n  TaskRejected,\r\n  TaskResolved,\r\n  TaskResult,\r\n} from './types'\r\n\r\n//Overly-aggressive byte-shaving\r\nconst { assign } = Object\r\n/**\r\n * @internal\r\n */\r\nconst INTERNAL_NIL_TOKEN = {} as const\r\n\r\nconst alm = 'listenerMiddleware' as const\r\n\r\nconst createFork = (\r\n  parentAbortSignal: AbortSignalWithReason<unknown>,\r\n  parentBlockingPromises: Promise<any>[]\r\n) => {\r\n  const linkControllers = (controller: AbortController) =>\r\n    addAbortSignalListener(parentAbortSignal, () =>\r\n      abortControllerWithReason(controller, parentAbortSignal.reason)\r\n    )\r\n\r\n  return <T>(\r\n    taskExecutor: ForkedTaskExecutor<T>,\r\n    opts?: ForkOptions\r\n  ): ForkedTask<T> => {\r\n    assertFunction(taskExecutor, 'taskExecutor')\r\n    const childAbortController = new AbortController()\r\n\r\n    linkControllers(childAbortController)\r\n\r\n    const result = runTask<T>(\r\n      async (): Promise<T> => {\r\n        validateActive(parentAbortSignal)\r\n        validateActive(childAbortController.signal)\r\n        const result = (await taskExecutor({\r\n          pause: createPause(childAbortController.signal),\r\n          delay: createDelay(childAbortController.signal),\r\n          signal: childAbortController.signal,\r\n        })) as T\r\n        validateActive(childAbortController.signal)\r\n        return result\r\n      },\r\n      () => abortControllerWithReason(childAbortController, taskCompleted)\r\n    )\r\n\r\n    if (opts?.autoJoin) {\r\n      parentBlockingPromises.push(result)\r\n    }\r\n\r\n    return {\r\n      result: createPause<TaskResult<T>>(parentAbortSignal)(result),\r\n      cancel() {\r\n        abortControllerWithReason(childAbortController, taskCancelled)\r\n      },\r\n    }\r\n  }\r\n}\r\n\r\nconst createTakePattern = <S>(\r\n  startListening: AddListenerOverloads<\r\n    UnsubscribeListener,\r\n    S,\r\n    Dispatch<AnyAction>\r\n  >,\r\n  signal: AbortSignal\r\n): TakePattern<S> => {\r\n  /**\r\n   * A function that takes a ListenerPredicate and an optional timeout,\r\n   * and resolves when either the predicate returns `true` based on an action\r\n   * state combination or when the timeout expires.\r\n   * If the parent listener is canceled while waiting, this will throw a\r\n   * TaskAbortError.\r\n   */\r\n  const take = async <P extends AnyListenerPredicate<S>>(\r\n    predicate: P,\r\n    timeout: number | undefined\r\n  ) => {\r\n    validateActive(signal)\r\n\r\n    // Placeholder unsubscribe function until the listener is added\r\n    let unsubscribe: UnsubscribeListener = () => {}\r\n\r\n    const tuplePromise = new Promise<[AnyAction, S, S]>((resolve, reject) => {\r\n      // Inside the Promise, we synchronously add the listener.\r\n      let stopListening = startListening({\r\n        predicate: predicate as any,\r\n        effect: (action, listenerApi): void => {\r\n          // One-shot listener that cleans up as soon as the predicate passes\r\n          listenerApi.unsubscribe()\r\n          // Resolve the promise with the same arguments the predicate saw\r\n          resolve([\r\n            action,\r\n            listenerApi.getState(),\r\n            listenerApi.getOriginalState(),\r\n          ])\r\n        },\r\n      })\r\n      unsubscribe = () => {\r\n        stopListening()\r\n        reject()\r\n      }\r\n    })\r\n\r\n    const promises: (Promise<null> | Promise<[AnyAction, S, S]>)[] = [\r\n      tuplePromise,\r\n    ]\r\n\r\n    if (timeout != null) {\r\n      promises.push(\r\n        new Promise<null>((resolve) => setTimeout(resolve, timeout, null))\r\n      )\r\n    }\r\n\r\n    try {\r\n      const output = await raceWithSignal(signal, Promise.race(promises))\r\n\r\n      validateActive(signal)\r\n      return output\r\n    } finally {\r\n      // Always clean up the listener\r\n      unsubscribe()\r\n    }\r\n  }\r\n\r\n  return ((predicate: AnyListenerPredicate<S>, timeout: number | undefined) =>\r\n    catchRejection(take(predicate, timeout))) as TakePattern<S>\r\n}\r\n\r\nconst getListenerEntryPropsFrom = (options: FallbackAddListenerOptions) => {\r\n  let { type, actionCreator, matcher, predicate, effect } = options\r\n\r\n  if (type) {\r\n    predicate = createAction(type).match\r\n  } else if (actionCreator) {\r\n    type = actionCreator!.type\r\n    predicate = actionCreator.match\r\n  } else if (matcher) {\r\n    predicate = matcher\r\n  } else if (predicate) {\r\n    // pass\r\n  } else {\r\n    throw new Error(\r\n      'Creating or removing a listener requires one of the known fields for matching an action'\r\n    )\r\n  }\r\n\r\n  assertFunction(effect, 'options.listener')\r\n\r\n  return { predicate, type, effect }\r\n}\r\n\r\n/** Accepts the possible options for creating a listener, and returns a formatted listener entry */\r\nexport const createListenerEntry: TypedCreateListenerEntry<unknown> = (\r\n  options: FallbackAddListenerOptions\r\n) => {\r\n  const { type, predicate, effect } = getListenerEntryPropsFrom(options)\r\n\r\n  const id = nanoid()\r\n  const entry: ListenerEntry<unknown> = {\r\n    id,\r\n    effect,\r\n    type,\r\n    predicate,\r\n    pending: new Set<AbortController>(),\r\n    unsubscribe: () => {\r\n      throw new Error('Unsubscribe not initialized')\r\n    },\r\n  }\r\n\r\n  return entry\r\n}\r\n\r\nconst cancelActiveListeners = (\r\n  entry: ListenerEntry<unknown, Dispatch<AnyAction>>\r\n) => {\r\n  entry.pending.forEach((controller) => {\r\n    abortControllerWithReason(controller, listenerCancelled)\r\n  })\r\n}\r\n\r\nconst createClearListenerMiddleware = (\r\n  listenerMap: Map<string, ListenerEntry>\r\n) => {\r\n  return () => {\r\n    listenerMap.forEach(cancelActiveListeners)\r\n\r\n    listenerMap.clear()\r\n  }\r\n}\r\n\r\n/**\r\n * Safely reports errors to the `errorHandler` provided.\r\n * Errors that occur inside `errorHandler` are notified in a new task.\r\n * Inspired by [rxjs reportUnhandledError](https://github.com/ReactiveX/rxjs/blob/6fafcf53dc9e557439b25debaeadfd224b245a66/src/internal/util/reportUnhandledError.ts)\r\n * @param errorHandler\r\n * @param errorToNotify\r\n */\r\nconst safelyNotifyError = (\r\n  errorHandler: ListenerErrorHandler,\r\n  errorToNotify: unknown,\r\n  errorInfo: ListenerErrorInfo\r\n): void => {\r\n  try {\r\n    errorHandler(errorToNotify, errorInfo)\r\n  } catch (errorHandlerError) {\r\n    // We cannot let an error raised here block the listener queue.\r\n    // The error raised here will be picked up by `window.onerror`, `process.on('error')` etc...\r\n    setTimeout(() => {\r\n      throw errorHandlerError\r\n    }, 0)\r\n  }\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport const addListener = createAction(\r\n  `${alm}/add`\r\n) as TypedAddListener<unknown>\r\n\r\n/**\r\n * @public\r\n */\r\nexport const clearAllListeners = createAction(`${alm}/removeAll`)\r\n\r\n/**\r\n * @public\r\n */\r\nexport const removeListener = createAction(\r\n  `${alm}/remove`\r\n) as TypedRemoveListener<unknown>\r\n\r\nconst defaultErrorHandler: ListenerErrorHandler = (...args: unknown[]) => {\r\n  console.error(`${alm}/error`, ...args)\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport function createListenerMiddleware<\r\n  S = unknown,\r\n  D extends Dispatch<AnyAction> = ThunkDispatch<S, unknown, AnyAction>,\r\n  ExtraArgument = unknown\r\n>(middlewareOptions: CreateListenerMiddlewareOptions<ExtraArgument> = {}) {\r\n  const listenerMap = new Map<string, ListenerEntry>()\r\n  const { extra, onError = defaultErrorHandler } = middlewareOptions\r\n\r\n  assertFunction(onError, 'onError')\r\n\r\n  const insertEntry = (entry: ListenerEntry) => {\r\n    entry.unsubscribe = () => listenerMap.delete(entry!.id)\r\n\r\n    listenerMap.set(entry.id, entry)\r\n    return (cancelOptions?: UnsubscribeListenerOptions) => {\r\n      entry.unsubscribe()\r\n      if (cancelOptions?.cancelActive) {\r\n        cancelActiveListeners(entry)\r\n      }\r\n    }\r\n  }\r\n\r\n  const findListenerEntry = (\r\n    comparator: (entry: ListenerEntry) => boolean\r\n  ): ListenerEntry | undefined => {\r\n    for (const entry of Array.from(listenerMap.values())) {\r\n      if (comparator(entry)) {\r\n        return entry\r\n      }\r\n    }\r\n\r\n    return undefined\r\n  }\r\n\r\n  const startListening = (options: FallbackAddListenerOptions) => {\r\n    let entry = findListenerEntry(\r\n      (existingEntry) => existingEntry.effect === options.effect\r\n    )\r\n\r\n    if (!entry) {\r\n      entry = createListenerEntry(options as any)\r\n    }\r\n\r\n    return insertEntry(entry)\r\n  }\r\n\r\n  const stopListening = (\r\n    options: FallbackAddListenerOptions & UnsubscribeListenerOptions\r\n  ): boolean => {\r\n    const { type, effect, predicate } = getListenerEntryPropsFrom(options)\r\n\r\n    const entry = findListenerEntry((entry) => {\r\n      const matchPredicateOrType =\r\n        typeof type === 'string'\r\n          ? entry.type === type\r\n          : entry.predicate === predicate\r\n\r\n      return matchPredicateOrType && entry.effect === effect\r\n    })\r\n\r\n    if (entry) {\r\n      entry.unsubscribe()\r\n      if (options.cancelActive) {\r\n        cancelActiveListeners(entry)\r\n      }\r\n    }\r\n\r\n    return !!entry\r\n  }\r\n\r\n  const notifyListener = async (\r\n    entry: ListenerEntry<unknown, Dispatch<AnyAction>>,\r\n    action: AnyAction,\r\n    api: MiddlewareAPI,\r\n    getOriginalState: () => S\r\n  ) => {\r\n    const internalTaskController = new AbortController()\r\n    const take = createTakePattern(\r\n      startListening,\r\n      internalTaskController.signal\r\n    )\r\n    const autoJoinPromises: Promise<any>[] = []\r\n\r\n    try {\r\n      entry.pending.add(internalTaskController)\r\n      await Promise.resolve(\r\n        entry.effect(\r\n          action,\r\n          // Use assign() rather than ... to avoid extra helper functions added to bundle\r\n          assign({}, api, {\r\n            getOriginalState,\r\n            condition: (\r\n              predicate: AnyListenerPredicate<any>,\r\n              timeout?: number\r\n            ) => take(predicate, timeout).then(Boolean),\r\n            take,\r\n            delay: createDelay(internalTaskController.signal),\r\n            pause: createPause<any>(internalTaskController.signal),\r\n            extra,\r\n            signal: internalTaskController.signal,\r\n            fork: createFork(internalTaskController.signal, autoJoinPromises),\r\n            unsubscribe: entry.unsubscribe,\r\n            subscribe: () => {\r\n              listenerMap.set(entry.id, entry)\r\n            },\r\n            cancelActiveListeners: () => {\r\n              entry.pending.forEach((controller, _, set) => {\r\n                if (controller !== internalTaskController) {\r\n                  abortControllerWithReason(controller, listenerCancelled)\r\n                  set.delete(controller)\r\n                }\r\n              })\r\n            },\r\n          })\r\n        )\r\n      )\r\n    } catch (listenerError) {\r\n      if (!(listenerError instanceof TaskAbortError)) {\r\n        safelyNotifyError(onError, listenerError, {\r\n          raisedBy: 'effect',\r\n        })\r\n      }\r\n    } finally {\r\n      await Promise.allSettled(autoJoinPromises)\r\n\r\n      abortControllerWithReason(internalTaskController, listenerCompleted) // Notify that the task has completed\r\n      entry.pending.delete(internalTaskController)\r\n    }\r\n  }\r\n\r\n  const clearListenerMiddleware = createClearListenerMiddleware(listenerMap)\r\n\r\n  const middleware: ListenerMiddleware<S, D, ExtraArgument> =\r\n    (api) => (next) => (action) => {\r\n      if (!isAction(action)) {\r\n        // we only want to notify listeners for action objects\r\n        return next(action)\r\n      }\r\n\r\n      if (addListener.match(action)) {\r\n        return startListening(action.payload)\r\n      }\r\n\r\n      if (clearAllListeners.match(action)) {\r\n        clearListenerMiddleware()\r\n        return\r\n      }\r\n\r\n      if (removeListener.match(action)) {\r\n        return stopListening(action.payload)\r\n      }\r\n\r\n      // Need to get this state _before_ the reducer processes the action\r\n      let originalState: S | typeof INTERNAL_NIL_TOKEN = api.getState()\r\n\r\n      // `getOriginalState` can only be called synchronously.\r\n      // @see https://github.com/reduxjs/redux-toolkit/discussions/1648#discussioncomment-1932820\r\n      const getOriginalState = (): S => {\r\n        if (originalState === INTERNAL_NIL_TOKEN) {\r\n          throw new Error(\r\n            `${alm}: getOriginalState can only be called synchronously`\r\n          )\r\n        }\r\n\r\n        return originalState as S\r\n      }\r\n\r\n      let result: unknown\r\n\r\n      try {\r\n        // Actually forward the action to the reducer before we handle listeners\r\n        result = next(action)\r\n\r\n        if (listenerMap.size > 0) {\r\n          let currentState = api.getState()\r\n          // Work around ESBuild+TS transpilation issue\r\n          const listenerEntries = Array.from(listenerMap.values())\r\n          for (let entry of listenerEntries) {\r\n            let runListener = false\r\n\r\n            try {\r\n              runListener = entry.predicate(action, currentState, originalState)\r\n            } catch (predicateError) {\r\n              runListener = false\r\n\r\n              safelyNotifyError(onError, predicateError, {\r\n                raisedBy: 'predicate',\r\n              })\r\n            }\r\n\r\n            if (!runListener) {\r\n              continue\r\n            }\r\n\r\n            notifyListener(entry, action, api, getOriginalState)\r\n          }\r\n        }\r\n      } finally {\r\n        // Remove `originalState` store from this scope.\r\n        originalState = INTERNAL_NIL_TOKEN\r\n      }\r\n\r\n      return result\r\n    }\r\n\r\n  return {\r\n    middleware,\r\n    startListening,\r\n    stopListening,\r\n    clearListeners: clearListenerMiddleware,\r\n  } as ListenerMiddlewareInstance<S, D, ExtraArgument>\r\n}\r\n","import { TaskAbortError } from './exceptions'\r\nimport type { AbortSignalWithReason, TaskResult } from './types'\r\nimport { addAbortSignalListener, catchRejection, noop } from './utils'\r\n\r\n/**\r\n * Synchronously raises {@link TaskAbortError} if the task tied to the input `signal` has been cancelled.\r\n * @param signal\r\n * @param reason\r\n * @see {TaskAbortError}\r\n */\r\nexport const validateActive = (signal: AbortSignal): void => {\r\n  if (signal.aborted) {\r\n    throw new TaskAbortError((signal as AbortSignalWithReason<string>).reason)\r\n  }\r\n}\r\n\r\n/**\r\n * Generates a race between the promise(s) and the AbortSignal\r\n * This avoids `Promise.race()`-related memory leaks:\r\n * https://github.com/nodejs/node/issues/17469#issuecomment-349794909\r\n */\r\nexport function raceWithSignal<T>(\r\n  signal: AbortSignalWithReason<string>,\r\n  promise: Promise<T>\r\n): Promise<T> {\r\n  let cleanup = noop\r\n  return new Promise<T>((resolve, reject) => {\r\n    const notifyRejection = () => reject(new TaskAbortError(signal.reason))\r\n\r\n    if (signal.aborted) {\r\n      notifyRejection()\r\n      return\r\n    }\r\n\r\n    cleanup = addAbortSignalListener(signal, notifyRejection)\r\n    promise.finally(() => cleanup()).then(resolve, reject)\r\n  }).finally(() => {\r\n    // after this point, replace `cleanup` with a noop, so there is no reference to `signal` any more\r\n    cleanup = noop\r\n  })\r\n}\r\n\r\n/**\r\n * Runs a task and returns promise that resolves to {@link TaskResult}.\r\n * Second argument is an optional `cleanUp` function that always runs after task.\r\n *\r\n * **Note:** `runTask` runs the executor in the next microtask.\r\n * @returns\r\n */\r\nexport const runTask = async <T>(\r\n  task: () => Promise<T>,\r\n  cleanUp?: () => void\r\n): Promise<TaskResult<T>> => {\r\n  try {\r\n    await Promise.resolve()\r\n    const value = await task()\r\n    return {\r\n      status: 'ok',\r\n      value,\r\n    }\r\n  } catch (error: any) {\r\n    return {\r\n      status: error instanceof TaskAbortError ? 'cancelled' : 'rejected',\r\n      error,\r\n    }\r\n  } finally {\r\n    cleanUp?.()\r\n  }\r\n}\r\n\r\n/**\r\n * Given an input `AbortSignal` and a promise returns another promise that resolves\r\n * as soon the input promise is provided or rejects as soon as\r\n * `AbortSignal.abort` is `true`.\r\n * @param signal\r\n * @returns\r\n */\r\nexport const createPause = <T>(signal: AbortSignal) => {\r\n  return (promise: Promise<T>): Promise<T> => {\r\n    return catchRejection(\r\n      raceWithSignal(signal, promise).then((output) => {\r\n        validateActive(signal)\r\n        return output\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Given an input `AbortSignal` and `timeoutMs` returns a promise that resolves\r\n * after `timeoutMs` or rejects as soon as `AbortSignal.abort` is `true`.\r\n * @param signal\r\n * @returns\r\n */\r\nexport const createDelay = (signal: AbortSignal) => {\r\n  const pause = createPause<void>(signal)\r\n  return (timeoutMs: number): Promise<void> => {\r\n    return pause(new Promise<void>((resolve) => setTimeout(resolve, timeoutMs)))\r\n  }\r\n}\r\n","import type { StoreEnhancer } from 'redux'\r\n\r\nexport const SHOULD_AUTOBATCH = 'RTK_autoBatch'\r\n\r\nexport const prepareAutoBatched =\r\n  <T>() =>\r\n  (payload: T): { payload: T; meta: unknown } => ({\r\n    payload,\r\n    meta: { [SHOULD_AUTOBATCH]: true },\r\n  })\r\n\r\n// TODO Remove this in 2.0\r\n// Copied from https://github.com/feross/queue-microtask\r\nlet promise: Promise<any>\r\nconst queueMicrotaskShim =\r\n  typeof queueMicrotask === 'function'\r\n    ? queueMicrotask.bind(\r\n        typeof window !== 'undefined'\r\n          ? window\r\n          : typeof global !== 'undefined'\r\n          ? global\r\n          : globalThis\r\n      )\r\n    : // reuse resolved promise, and allocate it lazily\r\n      (cb: () => void) =>\r\n        (promise || (promise = Promise.resolve())).then(cb).catch((err: any) =>\r\n          setTimeout(() => {\r\n            throw err\r\n          }, 0)\r\n        )\r\n\r\nconst createQueueWithTimer = (timeout: number) => {\r\n  return (notify: () => void) => {\r\n    setTimeout(notify, timeout)\r\n  }\r\n}\r\n\r\n// requestAnimationFrame won't exist in SSR environments.\r\n// Fall back to a vague approximation just to keep from erroring.\r\nconst rAF =\r\n  typeof window !== 'undefined' && window.requestAnimationFrame\r\n    ? window.requestAnimationFrame\r\n    : createQueueWithTimer(10)\r\n\r\nexport type AutoBatchOptions =\r\n  | { type: 'tick' }\r\n  | { type: 'timer'; timeout: number }\r\n  | { type: 'raf' }\r\n  | { type: 'callback'; queueNotification: (notify: () => void) => void }\r\n\r\n/**\r\n * A Redux store enhancer that watches for \"low-priority\" actions, and delays\r\n * notifying subscribers until either the queued callback executes or the\r\n * next \"standard-priority\" action is dispatched.\r\n *\r\n * This allows dispatching multiple \"low-priority\" actions in a row with only\r\n * a single subscriber notification to the UI after the sequence of actions\r\n * is finished, thus improving UI re-render performance.\r\n *\r\n * Watches for actions with the `action.meta[SHOULD_AUTOBATCH]` attribute.\r\n * This can be added to `action.meta` manually, or by using the\r\n * `prepareAutoBatched` helper.\r\n *\r\n * By default, it will queue a notification for the end of the event loop tick.\r\n * However, you can pass several other options to configure the behavior:\r\n * - `{type: 'tick'}: queues using `queueMicrotask` (default)\r\n * - `{type: 'timer, timeout: number}`: queues using `setTimeout`\r\n * - `{type: 'raf'}`: queues using `requestAnimationFrame`\r\n * - `{type: 'callback', queueNotification: (notify: () => void) => void}: lets you provide your own callback\r\n *\r\n *\r\n */\r\nexport const autoBatchEnhancer =\r\n  (options: AutoBatchOptions = { type: 'raf' }): StoreEnhancer =>\r\n  (next) =>\r\n  (...args) => {\r\n    const store = next(...args)\r\n\r\n    let notifying = true\r\n    let shouldNotifyAtEndOfTick = false\r\n    let notificationQueued = false\r\n\r\n    const listeners = new Set<() => void>()\r\n\r\n    const queueCallback =\r\n      options.type === 'tick'\r\n        ? queueMicrotaskShim\r\n        : options.type === 'raf'\r\n        ? rAF\r\n        : options.type === 'callback'\r\n        ? options.queueNotification\r\n        : createQueueWithTimer(options.timeout)\r\n\r\n    const notifyListeners = () => {\r\n      // We're running at the end of the event loop tick.\r\n      // Run the real listener callbacks to actually update the UI.\r\n      notificationQueued = false\r\n      if (shouldNotifyAtEndOfTick) {\r\n        shouldNotifyAtEndOfTick = false\r\n        listeners.forEach((l) => l())\r\n      }\r\n    }\r\n\r\n    return Object.assign({}, store, {\r\n      // Override the base `store.subscribe` method to keep original listeners\r\n      // from running if we're delaying notifications\r\n      subscribe(listener: () => void) {\r\n        // Each wrapped listener will only call the real listener if\r\n        // the `notifying` flag is currently active when it's called.\r\n        // This lets the base store work as normal, while the actual UI\r\n        // update becomes controlled by this enhancer.\r\n        const wrappedListener: typeof listener = () => notifying && listener()\r\n        const unsubscribe = store.subscribe(wrappedListener)\r\n        listeners.add(listener)\r\n        return () => {\r\n          unsubscribe()\r\n          listeners.delete(listener)\r\n        }\r\n      },\r\n      // Override the base `store.dispatch` method so that we can check actions\r\n      // for the `shouldAutoBatch` flag and determine if batching is active\r\n      dispatch(action: any) {\r\n        try {\r\n          // If the action does _not_ have the `shouldAutoBatch` flag,\r\n          // we resume/continue normal notify-after-each-dispatch behavior\r\n          notifying = !action?.meta?.[SHOULD_AUTOBATCH]\r\n          // If a `notifyListeners` microtask was queued, you can't cancel it.\r\n          // Instead, we set a flag so that it's a no-op when it does run\r\n          shouldNotifyAtEndOfTick = !notifying\r\n          if (shouldNotifyAtEndOfTick) {\r\n            // We've seen at least 1 action with `SHOULD_AUTOBATCH`. Try to queue\r\n            // a microtask to notify listeners at the end of the event loop tick.\r\n            // Make sure we only enqueue this _once_ per tick.\r\n            if (!notificationQueued) {\r\n              notificationQueued = true\r\n              queueCallback(notifyListeners)\r\n            }\r\n          }\r\n          // Go ahead and process the action as usual, including reducers.\r\n          // If normal notification behavior is enabled, the store will notify\r\n          // all of its own listeners, and the wrapper callbacks above will\r\n          // see `notifying` is true and pass on to the real listener callbacks.\r\n          // If we're \"batching\" behavior, then the wrapped callbacks will\r\n          // bail out, causing the base store notification behavior to be no-ops.\r\n          return store.dispatch(action)\r\n        } finally {\r\n          // Assume we're back to normal behavior after each action\r\n          notifying = true\r\n        }\r\n      },\r\n    })\r\n  }\r\n","import { enableES5 } from 'immer'\r\nexport * from 'redux'\r\nexport {\r\n  default as createNextState,\r\n  current,\r\n  freeze,\r\n  original,\r\n  isDraft,\r\n} from 'immer'\r\nexport type { Draft } from 'immer'\r\nexport { createSelector } from 'reselect'\r\nexport type {\r\n  Selector,\r\n  OutputParametricSelector,\r\n  OutputSelector,\r\n  ParametricSelector,\r\n} from 'reselect'\r\nexport { createDraftSafeSelector } from './createDraftSafeSelector'\r\nexport type { ThunkAction, ThunkDispatch, ThunkMiddleware } from 'redux-thunk'\r\n\r\n// We deliberately enable Immer's ES5 support, on the grounds that\r\n// we assume RTK will be used with React Native and other Proxy-less\r\n// environments.  In addition, that's how Immer 4 behaved, and since\r\n// we want to ship this in an RTK minor, we should keep the same behavior.\r\nenableES5()\r\n\r\nexport {\r\n  // js\r\n  configureStore,\r\n} from './configureStore'\r\nexport type {\r\n  // types\r\n  ConfigureEnhancersCallback,\r\n  ConfigureStoreOptions,\r\n  EnhancedStore,\r\n} from './configureStore'\r\nexport type { DevToolsEnhancerOptions } from './devtoolsExtension'\r\nexport {\r\n  // js\r\n  createAction,\r\n  getType,\r\n  isAction,\r\n  isActionCreator,\r\n  isFSA as isFluxStandardAction,\r\n} from './createAction'\r\nexport type {\r\n  // types\r\n  PayloadAction,\r\n  PayloadActionCreator,\r\n  ActionCreatorWithNonInferrablePayload,\r\n  ActionCreatorWithOptionalPayload,\r\n  ActionCreatorWithPayload,\r\n  ActionCreatorWithoutPayload,\r\n  ActionCreatorWithPreparedPayload,\r\n  PrepareAction,\r\n} from './createAction'\r\nexport {\r\n  // js\r\n  createReducer,\r\n} from './createReducer'\r\nexport type {\r\n  // types\r\n  Actions,\r\n  CaseReducer,\r\n  CaseReducers,\r\n} from './createReducer'\r\nexport {\r\n  // js\r\n  createSlice,\r\n} from './createSlice'\r\n\r\nexport type {\r\n  // types\r\n  CreateSliceOptions,\r\n  Slice,\r\n  CaseReducerActions,\r\n  SliceCaseReducers,\r\n  ValidateSliceCaseReducers,\r\n  CaseReducerWithPrepare,\r\n  SliceActionCreator,\r\n} from './createSlice'\r\nexport type { ActionCreatorInvariantMiddlewareOptions } from './actionCreatorInvariantMiddleware'\r\nexport { createActionCreatorInvariantMiddleware } from './actionCreatorInvariantMiddleware'\r\nexport {\r\n  // js\r\n  createImmutableStateInvariantMiddleware,\r\n  isImmutableDefault,\r\n} from './immutableStateInvariantMiddleware'\r\nexport type {\r\n  // types\r\n  ImmutableStateInvariantMiddlewareOptions,\r\n} from './immutableStateInvariantMiddleware'\r\nexport {\r\n  // js\r\n  createSerializableStateInvariantMiddleware,\r\n  findNonSerializableValue,\r\n  isPlain,\r\n} from './serializableStateInvariantMiddleware'\r\nexport type {\r\n  // types\r\n  SerializableStateInvariantMiddlewareOptions,\r\n} from './serializableStateInvariantMiddleware'\r\nexport {\r\n  // js\r\n  getDefaultMiddleware,\r\n} from './getDefaultMiddleware'\r\nexport type {\r\n  // types\r\n  ActionReducerMapBuilder,\r\n} from './mapBuilders'\r\nexport { MiddlewareArray, EnhancerArray } from './utils'\r\n\r\nexport { createEntityAdapter } from './entities/create_adapter'\r\nexport type {\r\n  Dictionary,\r\n  EntityState,\r\n  EntityAdapter,\r\n  EntitySelectors,\r\n  EntityStateAdapter,\r\n  EntityId,\r\n  Update,\r\n  IdSelector,\r\n  Comparer,\r\n} from './entities/models'\r\n\r\nexport {\r\n  createAsyncThunk,\r\n  unwrapResult,\r\n  miniSerializeError,\r\n} from './createAsyncThunk'\r\nexport type {\r\n  AsyncThunk,\r\n  AsyncThunkOptions,\r\n  AsyncThunkAction,\r\n  AsyncThunkPayloadCreatorReturnValue,\r\n  AsyncThunkPayloadCreator,\r\n  SerializedError,\r\n} from './createAsyncThunk'\r\n\r\nexport {\r\n  // js\r\n  isAllOf,\r\n  isAnyOf,\r\n  isPending,\r\n  isRejected,\r\n  isFulfilled,\r\n  isAsyncThunkAction,\r\n  isRejectedWithValue,\r\n} from './matchers'\r\nexport type {\r\n  // types\r\n  ActionMatchingAllOf,\r\n  ActionMatchingAnyOf,\r\n} from './matchers'\r\n\r\nexport { nanoid } from './nanoid'\r\n\r\nexport { default as isPlainObject } from './isPlainObject'\r\n\r\nexport type {\r\n  ListenerEffect,\r\n  ListenerMiddleware,\r\n  ListenerEffectAPI,\r\n  ListenerMiddlewareInstance,\r\n  CreateListenerMiddlewareOptions,\r\n  ListenerErrorHandler,\r\n  TypedStartListening,\r\n  TypedAddListener,\r\n  TypedStopListening,\r\n  TypedRemoveListener,\r\n  UnsubscribeListener,\r\n  UnsubscribeListenerOptions,\r\n  ForkedTaskExecutor,\r\n  ForkedTask,\r\n  ForkedTaskAPI,\r\n  AsyncTaskExecutor,\r\n  SyncTaskExecutor,\r\n  TaskCancelled,\r\n  TaskRejected,\r\n  TaskResolved,\r\n  TaskResult,\r\n} from './listenerMiddleware/index'\r\nexport type { AnyListenerPredicate } from './listenerMiddleware/types'\r\n\r\nexport {\r\n  createListenerMiddleware,\r\n  addListener,\r\n  removeListener,\r\n  clearAllListeners,\r\n  TaskAbortError,\r\n} from './listenerMiddleware/index'\r\n\r\nexport {\r\n  SHOULD_AUTOBATCH,\r\n  prepareAutoBatched,\r\n  autoBatchEnhancer,\r\n} from './autoBatchEnhancer'\r\nexport type { AutoBatchOptions } from './autoBatchEnhancer'\r\n\r\nexport type { ExtractDispatchExtensions as TSHelpersExtractDispatchExtensions } from './tsHelpers'\r\n","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nlet batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport const setBatch = newBatch => batch = newBatch; // Supply a getter just to skip dealing with ESM bindings\n\nexport const getBatch = () => batch;","import * as React from 'react';\nconst ContextKey = Symbol.for(`react-redux-context`);\nconst gT = typeof globalThis !== \"undefined\" ? globalThis :\n/* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n{};\n\nfunction getContext() {\n  var _gT$ContextKey;\n\n  if (!React.createContext) return {};\n  const contextMap = (_gT$ContextKey = gT[ContextKey]) != null ? _gT$ContextKey : gT[ContextKey] = new Map();\n  let realContext = contextMap.get(React.createContext);\n\n  if (!realContext) {\n    realContext = React.createContext(null);\n\n    if (process.env.NODE_ENV !== 'production') {\n      realContext.displayName = 'ReactRedux';\n    }\n\n    contextMap.set(React.createContext, realContext);\n  }\n\n  return realContext;\n}\n\nexport const ReactReduxContext = /*#__PURE__*/getContext();\nexport default ReactReduxContext;","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n\n/**\r\n * Hook factory, which creates a `useReduxContext` hook bound to a given context. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useReduxContext` hook bound to the specified context.\r\n */\nexport function createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext() {\n    const contextValue = useContext(context);\n\n    if (process.env.NODE_ENV !== 'production' && !contextValue) {\n      throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n    }\n\n    return contextValue;\n  };\n}\n/**\r\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @returns {any} the value of the `ReactReduxContext`\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useReduxContext } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const { store } = useReduxContext()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useReduxContext = /*#__PURE__*/createReduxContextHook();","import { useCallback, useDebugValue, useRef } from 'react';\nimport { createReduxContextHook, useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { ReactReduxContext } from '../components/Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStoreWithSelector = notInitialized;\nexport const initializeUseSelector = fn => {\n  useSyncExternalStoreWithSelector = fn;\n};\n\nconst refEquality = (a, b) => a === b;\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : createReduxContextHook(context);\n  return function useSelector(selector, equalityFnOrOptions = {}) {\n    const {\n      equalityFn = refEquality,\n      stabilityCheck = undefined,\n      noopCheck = undefined\n    } = typeof equalityFnOrOptions === 'function' ? {\n      equalityFn: equalityFnOrOptions\n    } : equalityFnOrOptions;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(`You must pass a function as an equality function to useSelector`);\n      }\n    }\n\n    const {\n      store,\n      subscription,\n      getServerState,\n      stabilityCheck: globalStabilityCheck,\n      noopCheck: globalNoopCheck\n    } = useReduxContext();\n    const firstRun = useRef(true);\n    const wrappedSelector = useCallback({\n      [selector.name](state) {\n        const selected = selector(state);\n\n        if (process.env.NODE_ENV !== 'production') {\n          const finalStabilityCheck = typeof stabilityCheck === 'undefined' ? globalStabilityCheck : stabilityCheck;\n\n          if (finalStabilityCheck === 'always' || finalStabilityCheck === 'once' && firstRun.current) {\n            const toCompare = selector(state);\n\n            if (!equalityFn(selected, toCompare)) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned a different result when called with the same parameters. This can lead to unnecessary rerenders.' + '\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization', {\n                state,\n                selected,\n                selected2: toCompare,\n                stack\n              });\n            }\n          }\n\n          const finalNoopCheck = typeof noopCheck === 'undefined' ? globalNoopCheck : noopCheck;\n\n          if (finalNoopCheck === 'always' || finalNoopCheck === 'once' && firstRun.current) {\n            // @ts-ignore\n            if (selected === state) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned the root state when called. This can lead to unnecessary rerenders.' + '\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.', {\n                stack\n              });\n            }\n          }\n\n          if (firstRun.current) firstRun.current = false;\n        }\n\n        return selected;\n      }\n\n    }[selector.name], [selector, globalStabilityCheck, stabilityCheck]);\n    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport const useSelector = /*#__PURE__*/createSelectorHook();","export const notInitialized = () => {\n  throw new Error('uSES not initialized!');\n};","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners; // Reasons to keep the subscription active\n\n  let subscriptionsAmount = 0; // Is this specific subscription subscribed (or only nested ones?)\n\n  let selfSubscribed = false;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener); // cleanup nested sub\n\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n\n  function trySubscribe() {\n    subscriptionsAmount++;\n\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import * as React from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"reactReduxForwardedRef\"];\n\n/* eslint-disable valid-jsdoc, @typescript-eslint/no-unused-vars */\nimport hoistStatics from 'hoist-non-react-statics';\nimport * as React from 'react';\nimport { isValidElementType, isContextConsumer } from 'react-is';\nimport defaultSelectorFactory from '../connect/selectorFactory';\nimport { mapDispatchToPropsFactory } from '../connect/mapDispatchToProps';\nimport { mapStateToPropsFactory } from '../connect/mapStateToProps';\nimport { mergePropsFactory } from '../connect/mergeProps';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport shallowEqual from '../utils/shallowEqual';\nimport warning from '../utils/warning';\nimport { ReactReduxContext } from './Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStore = notInitialized;\nexport const initializeConnect = fn => {\n  useSyncExternalStore = fn;\n}; // Define some constant arrays just to avoid re-creating these\n\nconst EMPTY_ARRAY = [null, 0];\nconst NO_SUBSCRIPTION_ARRAY = [null, null]; // Attempts to stringify whatever not-really-a-component value we were given\n// for logging in an error message\n\nconst stringifyComponent = Comp => {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\n\n// This is \"just\" a `useLayoutEffect`, but with two modifications:\n// - we need to fall back to `useEffect` in SSR to avoid annoying warnings\n// - we extract this to a separate function to avoid closing over values\n//   and causing memory leaks\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(() => effectFunc(...effectArgs), dependencies);\n} // Effect callback, extracted: assign the latest props values to refs for later usage\n\n\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, // actualChildProps: unknown,\nchildPropsFromStoreUpdate, notifyNestedSubs) {\n  // We want to capture the wrapper props and child props we used for later comparisons\n  lastWrapperProps.current = wrapperProps;\n  renderIsScheduled.current = false; // If the render was from a store update, clear out that reference and cascade the subscriber update\n\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n} // Effect callback, extracted: subscribe to the Redux store or nearest connected ancestor,\n// check for updates after dispatched actions, and trigger re-renders.\n\n\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, // forceComponentUpdateDispatch: React.Dispatch<any>,\nadditionalSubscribeListener) {\n  // If we're not subscribed to the store, nothing to do here\n  if (!shouldHandleStateChanges) return () => {}; // Capture values for checking if and when this component unmounts\n\n  let didUnsubscribe = false;\n  let lastThrownError = null; // We'll run this callback every time a store subscription update propagates to this component\n\n  const checkForUpdates = () => {\n    if (didUnsubscribe || !isMounted.current) {\n      // Don't run stale listeners.\n      // Redux doesn't guarantee unsubscriptions happen until next dispatch.\n      return;\n    } // TODO We're currently calling getState ourselves here, rather than letting `uSES` do it\n\n\n    const latestStoreState = store.getState();\n    let newChildProps, error;\n\n    try {\n      // Actually run the selector with the most recent store state and wrapper props\n      // to determine what the child props should be\n      newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n\n    if (!error) {\n      lastThrownError = null;\n    } // If the child props haven't changed, nothing to do here - cascade the subscription update\n\n\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      // Save references to the new child props.  Note that we track the \"child props from store update\"\n      // as a ref instead of a useState/useReducer because we need a way to determine if that value has\n      // been processed.  If this went into useState/useReducer, we couldn't clear out the value without\n      // forcing another re-render, which we don't want.\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true; // TODO This is hacky and not how `uSES` is meant to be used\n      // Trigger the React `useSyncExternalStore` subscriber\n\n      additionalSubscribeListener();\n    }\n  }; // Actually subscribe to the nearest connected ancestor (or store)\n\n\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe(); // Pull data from the store after first render in case the store has\n  // changed since we began.\n\n  checkForUpdates();\n\n  const unsubscribeWrapper = () => {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n\n    if (lastThrownError) {\n      // It's possible that we caught an error due to a bad mapState function, but the\n      // parent re-rendered without this component and we're about to unmount.\n      // This shouldn't happen as long as we do top-down subscriptions correctly, but\n      // if we ever do those wrong, this throw will surface the error in our tests.\n      // In that case, throw the error from here so it doesn't get lost.\n      throw lastThrownError;\n    }\n  };\n\n  return unsubscribeWrapper;\n} // Reducer initial state creation for our update reducer\n\n\nconst initStateUpdates = () => EMPTY_ARRAY;\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n/**\r\n * Infers the type of props that a connector will inject into a component.\r\n */\n\n\nlet hasWarnedAboutDeprecatedPureOption = false;\n/**\r\n * Connects a React component to a Redux store.\r\n *\r\n * - Without arguments, just wraps the component, without changing the behavior / props\r\n *\r\n * - If 2 params are passed (3rd param, mergeProps, is skipped), default behavior\r\n * is to override ownProps (as stated in the docs), so what remains is everything that's\r\n * not a state or dispatch prop\r\n *\r\n * - When 3rd param is passed, we don't know if ownProps propagate and whether they\r\n * should be valid component props, because it depends on mergeProps implementation.\r\n * As such, it is the user's responsibility to extend ownProps interface from state or\r\n * dispatch props or both when applicable\r\n *\r\n * @param mapStateToProps A function that extracts values from state\r\n * @param mapDispatchToProps Setup for dispatching actions\r\n * @param mergeProps Optional callback to merge state and dispatch props together\r\n * @param options Options for configuring the connection\r\n *\r\n */\n\nfunction connect(mapStateToProps, mapDispatchToProps, mergeProps, {\n  // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.\n  // @ts-ignore\n  pure,\n  areStatesEqual = strictEqual,\n  areOwnPropsEqual = shallowEqual,\n  areStatePropsEqual = shallowEqual,\n  areMergedPropsEqual = shallowEqual,\n  // use React's forwardRef to expose a ref of the wrapped component\n  forwardRef = false,\n  // the context consumer to use\n  context = ReactReduxContext\n} = {}) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (pure !== undefined && !hasWarnedAboutDeprecatedPureOption) {\n      hasWarnedAboutDeprecatedPureOption = true;\n      warning('The `pure` option has been removed. `connect` is now always a \"pure/memoized\" component');\n    }\n  }\n\n  const Context = context;\n  const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);\n  const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);\n  const initMergeProps = mergePropsFactory(mergeProps);\n  const shouldHandleStateChanges = Boolean(mapStateToProps);\n\n  const wrapWithConnect = WrappedComponent => {\n    if (process.env.NODE_ENV !== 'production' && !isValidElementType(WrappedComponent)) {\n      throw new Error(`You must pass a component to the function returned by connect. Instead received ${stringifyComponent(WrappedComponent)}`);\n    }\n\n    const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n    const displayName = `Connect(${wrappedComponentName})`;\n    const selectorFactoryOptions = {\n      shouldHandleStateChanges,\n      displayName,\n      wrappedComponentName,\n      WrappedComponent,\n      // @ts-ignore\n      initMapStateToProps,\n      // @ts-ignore\n      initMapDispatchToProps,\n      initMergeProps,\n      areStatesEqual,\n      areStatePropsEqual,\n      areOwnPropsEqual,\n      areMergedPropsEqual\n    };\n\n    function ConnectFunction(props) {\n      const [propsContext, reactReduxForwardedRef, wrapperProps] = React.useMemo(() => {\n        // Distinguish between actual \"data\" props that were passed to the wrapper component,\n        // and values needed to control behavior (forwarded refs, alternate context instances).\n        // To maintain the wrapperProps object reference, memoize this destructuring.\n        const {\n          reactReduxForwardedRef\n        } = props,\n              wrapperProps = _objectWithoutPropertiesLoose(props, _excluded);\n\n        return [props.context, reactReduxForwardedRef, wrapperProps];\n      }, [props]);\n      const ContextToUse = React.useMemo(() => {\n        // Users may optionally pass in a custom context instance to use instead of our ReactReduxContext.\n        // Memoize the check that determines which context instance we should use.\n        return propsContext && propsContext.Consumer && // @ts-ignore\n        isContextConsumer( /*#__PURE__*/React.createElement(propsContext.Consumer, null)) ? propsContext : Context;\n      }, [propsContext, Context]); // Retrieve the store and ancestor subscription via context, if available\n\n      const contextValue = React.useContext(ContextToUse); // The store _must_ exist as either a prop or in context.\n      // We'll check to see if it _looks_ like a Redux store first.\n      // This allows us to pass through a `store` prop that is just a plain value.\n\n      const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n\n      if (process.env.NODE_ENV !== 'production' && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(`Could not find \"store\" in the context of ` + `\"${displayName}\". Either wrap the root component in a <Provider>, ` + `or pass a custom React context provider to <Provider> and the corresponding ` + `React context consumer to ${displayName} in connect options.`);\n      } // Based on the previous check, one of these must be true\n\n\n      const store = didStoreComeFromProps ? props.store : contextValue.store;\n      const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;\n      const childPropsSelector = React.useMemo(() => {\n        // The child props selector needs the store reference as an input.\n        // Re-create this selector whenever the store changes.\n        return defaultSelectorFactory(store.dispatch, selectorFactoryOptions);\n      }, [store]);\n      const [subscription, notifyNestedSubs] = React.useMemo(() => {\n        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY; // This Subscription's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n\n        const subscription = createSubscription(store, didStoreComeFromProps ? undefined : contextValue.subscription); // `notifyNestedSubs` is duplicated to handle the case where the component is unmounted in\n        // the middle of the notification loop, where `subscription` will then be null. This can\n        // probably be avoided if Subscription's listeners logic is changed to not call listeners\n        // that have been unsubscribed in the  middle of the notification loop.\n\n        const notifyNestedSubs = subscription.notifyNestedSubs.bind(subscription);\n        return [subscription, notifyNestedSubs];\n      }, [store, didStoreComeFromProps, contextValue]); // Determine what {store, subscription} value should be put into nested context, if necessary,\n      // and memoize that value to avoid unnecessary context updates.\n\n      const overriddenContextValue = React.useMemo(() => {\n        if (didStoreComeFromProps) {\n          // This component is directly subscribed to a store from props.\n          // We don't want descendants reading from this store - pass down whatever\n          // the existing context value is from the nearest connected ancestor.\n          return contextValue;\n        } // Otherwise, put this component's subscription instance into context, so that\n        // connected descendants won't update until after this component is done\n\n\n        return _extends({}, contextValue, {\n          subscription\n        });\n      }, [didStoreComeFromProps, contextValue, subscription]); // Set up refs to coordinate values between the subscription effect and the render logic\n\n      const lastChildProps = React.useRef();\n      const lastWrapperProps = React.useRef(wrapperProps);\n      const childPropsFromStoreUpdate = React.useRef();\n      const renderIsScheduled = React.useRef(false);\n      const isProcessingDispatch = React.useRef(false);\n      const isMounted = React.useRef(false);\n      const latestSubscriptionCallbackError = React.useRef();\n      useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n          isMounted.current = false;\n        };\n      }, []);\n      const actualChildPropsSelector = React.useMemo(() => {\n        const selector = () => {\n          // Tricky logic here:\n          // - This render may have been triggered by a Redux store update that produced new child props\n          // - However, we may have gotten new wrapper props after that\n          // If we have new child props, and the same wrapper props, we know we should use the new child props as-is.\n          // But, if we have new wrapper props, those might change the child props, so we have to recalculate things.\n          // So, we'll use the child props from store update only if the wrapper props are the same as last time.\n          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n            return childPropsFromStoreUpdate.current;\n          } // TODO We're reading the store directly in render() here. Bad idea?\n          // This will likely cause Bad Things (TM) to happen in Concurrent Mode.\n          // Note that we do this because on renders _not_ caused by store updates, we need the latest store state\n          // to determine what the child props should be.\n\n\n          return childPropsSelector(store.getState(), wrapperProps);\n        };\n\n        return selector;\n      }, [store, wrapperProps]); // We need this to execute synchronously every time we re-render. However, React warns\n      // about useLayoutEffect in SSR, so we try to detect environment and fall back to\n      // just useEffect instead to avoid the warning, since neither will run anyway.\n\n      const subscribeForReact = React.useMemo(() => {\n        const subscribe = reactListener => {\n          if (!subscription) {\n            return () => {};\n          }\n\n          return subscribeUpdates(shouldHandleStateChanges, store, subscription, // @ts-ignore\n          childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, reactListener);\n        };\n\n        return subscribe;\n      }, [subscription]);\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs]);\n      let actualChildProps;\n\n      try {\n        actualChildProps = useSyncExternalStore( // TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing\n        subscribeForReact, // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,\n        // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.\n        actualChildPropsSelector, getServerState ? () => childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector);\n      } catch (err) {\n        if (latestSubscriptionCallbackError.current) {\n          ;\n          err.message += `\\nThe error may be correlated with this previous error:\\n${latestSubscriptionCallbackError.current.stack}\\n\\n`;\n        }\n\n        throw err;\n      }\n\n      useIsomorphicLayoutEffect(() => {\n        latestSubscriptionCallbackError.current = undefined;\n        childPropsFromStoreUpdate.current = undefined;\n        lastChildProps.current = actualChildProps;\n      }); // Now that all that's done, we can finally try to actually render the child component.\n      // We memoize the elements for the rendered child component as an optimization.\n\n      const renderedWrappedComponent = React.useMemo(() => {\n        return (\n          /*#__PURE__*/\n          // @ts-ignore\n          React.createElement(WrappedComponent, _extends({}, actualChildProps, {\n            ref: reactReduxForwardedRef\n          }))\n        );\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]); // If React sees the exact same element reference as last time, it bails out of re-rendering\n      // that child, same as if it was wrapped in React.memo() or returned false from shouldComponentUpdate.\n\n      const renderedChild = React.useMemo(() => {\n        if (shouldHandleStateChanges) {\n          // If this component is subscribed to store updates, we need to pass its own\n          // subscription instance down to our descendants. That means rendering the same\n          // Context instance, and putting a different value into the context.\n          return /*#__PURE__*/React.createElement(ContextToUse.Provider, {\n            value: overriddenContextValue\n          }, renderedWrappedComponent);\n        }\n\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    }\n\n    const _Connect = React.memo(ConnectFunction);\n\n    // Add a hacky cast to get the right output type\n    const Connect = _Connect;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = ConnectFunction.displayName = displayName;\n\n    if (forwardRef) {\n      const _forwarded = React.forwardRef(function forwardConnectRef(props, ref) {\n        // @ts-ignore\n        return /*#__PURE__*/React.createElement(Connect, _extends({}, props, {\n          reactReduxForwardedRef: ref\n        }));\n      });\n\n      const forwarded = _forwarded;\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return hoistStatics(forwarded, WrappedComponent);\n    }\n\n    return hoistStatics(Connect, WrappedComponent);\n  };\n\n  return wrapWithConnect;\n}\n\nexport default connect;","import * as React from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState,\n  stabilityCheck = 'once',\n  noopCheck = 'once'\n}) {\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined,\n      stabilityCheck,\n      noopCheck\n    };\n  }, [store, serverState, stabilityCheck, noopCheck]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext, createReduxContextHook } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context = ReactReduxContext) {\n  const useReduxContext = // @ts-ignore\n  context === ReactReduxContext ? useDefaultReduxContext : // @ts-ignore\n  createReduxContextHook(context);\n  return function useStore() {\n    const {\n      store\n    } = useReduxContext(); // @ts-ignore\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context = ReactReduxContext) {\n  const useStore = // @ts-ignore\n  context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    const store = useStore(); // @ts-ignore\n\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport const useDispatch = /*#__PURE__*/createDispatchHook();","// The primary entry point assumes we're working with standard ReactDOM/RN, but\n// older versions that do not include `useSyncExternalStore` (React 16.9 - 17.x).\n// Because of that, the useSyncExternalStore compat shim is needed.\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch';\nimport { initializeUseSelector } from './hooks/useSelector';\nimport { initializeConnect } from './components/connect';\ninitializeUseSelector(useSyncExternalStoreWithSelector);\ninitializeConnect(useSyncExternalStore); // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };\nexport * from './exports';","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { Build } from \"webpd\"\n\nexport const AVAILABLE_INPUT_FORMATS: Array<Build.BuildFormat> = ['pd', 'wasm']\n\ninterface BuildInputState {\n    url: string | null\n    filepath: string | null\n    arrayBuffer: ArrayBuffer | null\n    focusOn: 'url' | 'local'\n}\n\nconst initialState: BuildInputState = {\n    url: null,\n    filepath: null,\n    arrayBuffer: null,\n    focusOn: 'local',\n}\n\nexport default createSlice({\n    name: 'buildInput',\n    initialState,\n    reducers: {\n        setUrl: (state, action: PayloadAction<string>) => {\n            state.url = action.payload\n            state.focusOn = 'url'\n        },\n        fetchUrlError: (_, __: PayloadAction<string>) => {},\n        fetchUrlSuccess: (state, action: PayloadAction<{url: string, arrayBuffer: ArrayBuffer}>) => {\n            state.filepath = null\n            state.url = action.payload.url\n            state.arrayBuffer = action.payload.arrayBuffer\n        },\n        setLocalFile: (state, action: PayloadAction<{filepath: string, arrayBuffer: ArrayBuffer}>) => {\n            state.url = null\n            state.filepath = action.payload.filepath\n            state.arrayBuffer = action.payload.arrayBuffer\n            state.focusOn = 'local'\n        },\n        setFocusOn: (state, action: PayloadAction<BuildInputState['focusOn']>) => {\n            state.focusOn = action.payload\n        },\n        clear: () => initialState\n    },\n})","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { Build } from \"webpd\"\nimport { BuildFormatWebSite, CodeTarget } from \"../types\"\nimport buildInput from \"./build-input\"\n\nexport const AVAILABLE_OUTPUT_FORMATS: Array<Build.BuildFormat> = [\n    'wav',\n    'wasm',\n]\n\ninterface BuildOutputState {\n    format: BuildFormatWebSite | null\n    codeTarget: CodeTarget\n    previewDurationSeconds: number | null\n}\n\nconst initialState: BuildOutputState = {\n    format: null,\n    codeTarget: 'JavaScript',\n    previewDurationSeconds: 30,\n}\n\nexport default createSlice({\n    name: 'buildOutput',\n    initialState,\n    reducers: {\n        setFormat: (state, action: PayloadAction<BuildFormatWebSite>) => {\n            state.format = action.payload\n        },\n        setCodeTarget: (state, action: PayloadAction<CodeTarget>) => {\n            state.codeTarget = action.payload\n        },\n        setPreviewDurationSeconds: (state, action: PayloadAction<number | null>) => {\n            state.previewDurationSeconds = action.payload\n        },\n        clear: () => initialState\n    },\n    extraReducers(builder) {\n        builder.addCase(buildInput.actions.setFocusOn, (state) => {\n            state.format = null\n        })\n    },\n})","let ASC = null;\n/**\n * This function sets the assemblyscript compiler so that WebPd can use it.\n * The assemblyscript compiler is quite heavy and causes problems with bundling.\n * Also, depending on the host environment (web or node), it is loaded differently.\n * Therefore we leave it to the consumer to load it themselves and then pass the loaded\n * instance to WebPd.\n */\nconst setAsc = (asc) => ASC = asc;\nconst compileAssemblyscript = async (code, bitDepth) => {\n    if (!ASC) {\n        throw new Error(`assemblyscript compiler was not set properly. Please use WebPd's setAsc function to initialize it.`);\n    }\n    const compileOptions = {\n        optimizeLevel: 3,\n        debug: true,\n        runtime: 'incremental',\n        exportRuntime: true,\n        sourceMap: true,\n    };\n    if (bitDepth === 32) {\n        // For 32 bits version of Math\n        compileOptions.use = ['Math=NativeMathf'];\n    }\n    const { error, binary, stderr } = await ASC.compileString(code, compileOptions);\n    if (error) {\n        throw new Error(stderr.toString());\n    }\n    return binary.buffer;\n};\n\nexport { compileAssemblyscript, setAsc };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// Regular expressions to detect escaped special chars.\nconst ESCAPED_DOLLAR_VAR_RE_GLOB = /\\\\(\\$\\d+)/g;\nconst ESCAPED_COMMA_VAR_RE_GLOB = /\\\\\\\\\\\\,/g;\nconst ESCAPED_SEMICOLON_VAR_RE_GLOB = /\\\\\\\\\\\\;/g;\n/**\n * Parses token to a node arg (string or a number).\n * Needs to handle the case when the token is already a number as in the process of gathering\n * arguments we sometimes insert a number.\n */\nconst parseArg = (rawArg) => {\n    // Try to parse arg as a number\n    try {\n        return parseFloatToken(rawArg);\n    }\n    catch (err) {\n        if (!(err instanceof ValueError)) {\n            throw err;\n        }\n    }\n    // Try to parse arg as a string\n    try {\n        return parseStringToken(rawArg);\n    }\n    catch (err) {\n        if (!(err instanceof ValueError)) {\n            throw err;\n        }\n    }\n    throw new ValueError(`Not a valid arg ${rawArg}`);\n};\n/** Parses a float from a .pd file. Returns the parsed float or throws ValueError. */\nconst parseFloatToken = (val) => {\n    if (isNumber(val)) {\n        return val;\n    }\n    else if (isString(val)) {\n        // `Number` is better than `parseFloat` for example\n        // which is too flexible.\n        // REF : https://stackoverflow.com/questions/3257112/is-it-possible-to-parsefloat-the-whole-string\n        const parsed = Number(val);\n        if (isNaN(parsed)) {\n            throw new ValueError(`Not a valid number arg ${val}`);\n        }\n        return parsed;\n    }\n    else {\n        throw new ValueError(`Not a valid number arg ${val}`);\n    }\n};\n/** Parses an int from a .pd file. Returns the parsed int or throws ValueError. */\nconst parseIntToken = (token) => {\n    if (token === undefined) {\n        throw new ValueError(`Received undefined`);\n    }\n    const parsed = parseInt(token, 10);\n    if (isNaN(parsed)) {\n        throw new ValueError(`Invalid int received`);\n    }\n    return parsed;\n};\n/** Parses a '0' or '1' from a .pd file. */\nconst parseBoolToken = (val) => {\n    const parsed = parseFloatToken(val);\n    if (parsed === 0 || parsed === 1) {\n        return parsed;\n    }\n    throw new ValueError(`Should be 0 or 1`);\n};\n/** Unescape string args. */\nconst parseStringToken = (val, emptyValue = null) => {\n    if (!isString(val)) {\n        throw new ValueError(`Not a valid string arg ${val}`);\n    }\n    // If empty value, make real empty string\n    if (emptyValue !== null && val === emptyValue) {\n        return '';\n    }\n    // Unescape special characters\n    let arg = val\n        .replace(ESCAPED_COMMA_VAR_RE_GLOB, ',')\n        .replace(ESCAPED_SEMICOLON_VAR_RE_GLOB, ';');\n    // Unescape dollars\n    let matched;\n    while ((matched = ESCAPED_DOLLAR_VAR_RE_GLOB.exec(arg))) {\n        arg = arg.replace(matched[0], matched[1]);\n    }\n    return arg;\n};\nclass ValueError extends Error {\n}\nconst isNumber = (obj) => Number.isFinite(obj);\nconst isString = (obj) => typeof obj === 'string';\n\nexport { ValueError, parseArg, parseBoolToken, parseFloatToken, parseIntToken, parseStringToken };\n","import { parseIntToken, parseBoolToken, parseFloatToken, parseStringToken, parseArg } from './tokens.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @param coordsTokenizedLine Defined only if the patch declares a graph on its parent,\n * i.e. if the patch has a UI visible in its parent.\n */\nconst hydratePatch = (id, isRoot, canvasTokenizedLine, coordsTokenizedLine) => {\n    const { tokens: canvasTokens } = canvasTokenizedLine;\n    const coordsTokens = coordsTokenizedLine ? coordsTokenizedLine.tokens : null;\n    let layout = {\n        windowX: parseIntToken(canvasTokens[2]),\n        windowY: parseIntToken(canvasTokens[3]),\n        windowWidth: parseIntToken(canvasTokens[4]),\n        windowHeight: parseIntToken(canvasTokens[5]),\n    };\n    if (typeof canvasTokens[7] !== 'undefined') {\n        layout.openOnLoad = parseBoolToken(canvasTokens[7]);\n    }\n    if (coordsTokens && typeof coordsTokens[8] !== 'undefined') {\n        const graphOnParentRaw = parseFloatToken(coordsTokens[8]);\n        layout.graphOnParent = graphOnParentRaw > 0 ? 1 : 0;\n        if (layout.graphOnParent === 1) {\n            layout = {\n                ...layout,\n                hideObjectNameAndArguments: graphOnParentRaw === 2 ? 1 : 0,\n                viewportX: coordsTokens[9] ? parseIntToken(coordsTokens[9]) : 0,\n                viewportY: coordsTokens[10]\n                    ? parseIntToken(coordsTokens[10])\n                    : 0,\n                viewportWidth: parseIntToken(coordsTokens[6]),\n                viewportHeight: parseIntToken(coordsTokens[7]),\n            };\n        }\n    }\n    return {\n        id,\n        isRoot,\n        layout,\n        args: [],\n        nodes: {},\n        connections: [],\n        inlets: [],\n        outlets: [],\n    };\n};\nconst hydrateArray = (id, { tokens }) => {\n    const arrayName = parseStringToken(tokens[2]);\n    const arraySize = parseArg(tokens[3]);\n    // Options flag :\n    // first bit if for `saveContents` second for `drawAs`\n    const optionsFlag = parseIntToken(tokens[5]);\n    const saveContents = (optionsFlag % 2);\n    const drawAs = ['polygon', 'points', 'bezier'][optionsFlag >>> 1];\n    return {\n        id,\n        args: [arrayName, arraySize, saveContents],\n        data: null,\n        layout: {\n            drawAs,\n        },\n    };\n};\nconst hydrateNodePatch = (id, { tokens }) => {\n    const canvasType = tokens[4];\n    const args = [];\n    if (canvasType !== 'pd' &&\n        canvasType !== 'graph' &&\n        canvasType !== 'table') {\n        throw new Error(`unknown canvasType : ${canvasType}`);\n    }\n    // add subpatch name\n    if (canvasType === 'pd' && tokens[5] !== undefined) {\n        args.push(parseStringToken(tokens[5]));\n    }\n    return {\n        id,\n        type: canvasType,\n        patchId: parseStringToken(tokens[1]),\n        nodeClass: 'subpatch',\n        args,\n        layout: {\n            x: parseIntToken(tokens[2]),\n            y: parseIntToken(tokens[3]),\n        },\n    };\n};\nconst hydrateNodeArray = (id, { tokens }) => ({\n    id,\n    args: [],\n    type: 'array',\n    nodeClass: 'array',\n    arrayId: parseStringToken(tokens[1]),\n});\nconst hydrateNodeBase = (id, tokens) => {\n    const elementType = tokens[1];\n    let type = ''; // the object name\n    let args; // the construction args for the object\n    // 2 categories here :\n    //  - elems whose name is `elementType`\n    //  - elems whose name is `token[4]`\n    if (elementType === 'obj') {\n        type = parseStringToken(tokens[4]);\n        args = tokens.slice(5);\n    }\n    else {\n        type = parseStringToken(elementType);\n        args = tokens.slice(4);\n    }\n    // If text, we need to re-join all tokens\n    if (elementType === 'text') {\n        args = [tokens.slice(4).join(' ')];\n    }\n    return {\n        id,\n        type,\n        args,\n        layout: {\n            x: parseFloatToken(tokens[2]),\n            y: parseFloatToken(tokens[3]),\n        },\n    };\n};\nconst hydrateConnection = ({ tokens, }) => ({\n    source: {\n        nodeId: parseStringToken(tokens[2]),\n        portletId: parseIntToken(tokens[3]),\n    },\n    sink: {\n        nodeId: parseStringToken(tokens[4]),\n        portletId: parseIntToken(tokens[5]),\n    },\n});\nconst hydrateNodeGeneric = (nodeBase) => {\n    const node = {\n        ...nodeBase,\n        nodeClass: 'generic',\n    };\n    node.args = node.args.map(parseArg);\n    return node;\n};\n// This is put here just for readability of the main `parse` function\nconst hydrateNodeControl = (nodeBase) => {\n    const args = nodeBase.args;\n    const node = {\n        ...nodeBase,\n        type: nodeBase.type,\n        nodeClass: 'control',\n    };\n    if (node.type === 'floatatom' ||\n        node.type === 'symbolatom' ||\n        node.type === 'listbox') {\n        // <widthInChars> <lower_limit> <upper_limit> <label_pos> <label> <receive> <send>\n        node.layout = {\n            ...node.layout,\n            widthInChars: parseFloatToken(args[0]),\n            labelPos: parseFloatToken(args[3]),\n            label: parseStringToken(args[4], '-'),\n        };\n        node.args = [\n            parseFloatToken(args[1]),\n            parseFloatToken(args[2]),\n            parseStringToken(args[5], '-'),\n            parseStringToken(args[6], '-'),\n        ];\n        // In Pd `msg` is actually more handled like a standard object, even though it is a control.\n    }\n    else if (node.type === 'msg') {\n        node.args = node.args.map(parseArg);\n    }\n    else if (node.type === 'bng') {\n        // <size> <hold> <interrupt> <init> <send> <receive> <label> <x_off> <y_off> <font> <fontsize> <bg_color> <fg_color> <label_color>\n        node.layout = {\n            ...node.layout,\n            size: parseFloatToken(args[0]),\n            hold: parseFloatToken(args[1]),\n            interrupt: parseFloatToken(args[2]),\n            label: parseStringToken(args[6], 'empty'),\n            labelX: parseFloatToken(args[7]),\n            labelY: parseFloatToken(args[8]),\n            labelFont: args[9],\n            labelFontSize: parseFloatToken(args[10]),\n            bgColor: args[11],\n            fgColor: args[12],\n            labelColor: args[13],\n        };\n        node.args = [\n            parseBoolToken(args[3]),\n            parseStringToken(args[5], 'empty'),\n            parseStringToken(args[4], 'empty'),\n        ];\n    }\n    else if (node.type === 'tgl') {\n        // <size> <init> <send> <receive> <label> <x_off> <y_off> <font> <fontsize> <bg_color> <fg_color> <label_color> <init_value> <default_value>\n        node.layout = {\n            ...node.layout,\n            size: parseFloatToken(args[0]),\n            label: parseStringToken(args[4], 'empty'),\n            labelX: parseFloatToken(args[5]),\n            labelY: parseFloatToken(args[6]),\n            labelFont: args[7],\n            labelFontSize: parseFloatToken(args[8]),\n            bgColor: args[9],\n            fgColor: args[10],\n            labelColor: args[11],\n        };\n        node.args = [\n            parseFloatToken(args[13]),\n            parseBoolToken(args[1]),\n            parseFloatToken(args[12]),\n            parseStringToken(args[3], 'empty'),\n            parseStringToken(args[2], 'empty'),\n        ];\n    }\n    else if (node.type === 'nbx') {\n        // !!! doc is inexact here, logHeight is not at the specified position, and initial value of the nbx was missing.\n        // <size> <height> <min> <max> <log> <init> <send> <receive> <label> <x_off> <y_off> <font> <fontsize> <bg_color> <fg_color> <label_color> <log_height>\n        node.layout = {\n            ...node.layout,\n            widthInChars: parseFloatToken(args[0]),\n            height: parseFloatToken(args[1]),\n            log: parseFloatToken(args[4]),\n            label: parseStringToken(args[8], 'empty'),\n            labelX: parseFloatToken(args[9]),\n            labelY: parseFloatToken(args[10]),\n            labelFont: args[11],\n            labelFontSize: parseFloatToken(args[12]),\n            bgColor: args[13],\n            fgColor: args[14],\n            labelColor: args[15],\n            logHeight: args[17],\n        };\n        node.args = [\n            parseFloatToken(args[2]),\n            parseFloatToken(args[3]),\n            parseBoolToken(args[5]),\n            parseFloatToken(args[16]),\n            parseStringToken(args[7], 'empty'),\n            parseStringToken(args[6], 'empty'),\n        ];\n    }\n    else if (node.type === 'vsl' || node.type === 'hsl') {\n        // <width> <height> <min> <max> <log> <init> <send> <receive> <label> <x_off> <y_off> <font> <fontsize> <bg_color> <fg_color> <label_color> <default_value> <steady_on_click>\n        node.layout = {\n            ...node.layout,\n            width: parseFloatToken(args[0]),\n            height: parseFloatToken(args[1]),\n            log: parseFloatToken(args[4]),\n            label: parseStringToken(args[8], 'empty'),\n            labelX: parseFloatToken(args[9]),\n            labelY: parseFloatToken(args[10]),\n            labelFont: args[11],\n            labelFontSize: parseFloatToken(args[12]),\n            bgColor: args[13],\n            fgColor: args[14],\n            labelColor: args[15],\n            steadyOnClick: args[17],\n        };\n        const minValue = parseFloatToken(args[2]);\n        const maxValue = parseFloatToken(args[3]);\n        const isLogScale = parseBoolToken(args[4]);\n        const pixValue = parseFloatToken(args[16]);\n        const pixSize = node.type === 'hsl' ? node.layout.width : node.layout.height;\n        let initValue = 0;\n        if (isLogScale) {\n            const k = Math.log(maxValue / minValue) / (pixSize - 1);\n            initValue = minValue * Math.exp(k * pixValue * 0.01);\n        }\n        else {\n            // Reversed engineered formula for the initial value.\n            initValue =\n                minValue +\n                    ((maxValue - minValue) * pixValue) / ((pixSize - 1) * 100);\n        }\n        node.args = [\n            minValue,\n            maxValue,\n            parseBoolToken(args[5]),\n            initValue,\n            parseStringToken(args[7], 'empty'),\n            parseStringToken(args[6], 'empty'),\n        ];\n    }\n    else if (node.type === 'vradio' || node.type === 'hradio') {\n        // <size> <new_old> <init> <number> <send> <receive> <label> <x_off> <y_off> <font> <fontsize> <bg_color> <fg_color> <label_color> <default_value>\n        node.layout = {\n            ...node.layout,\n            size: parseFloatToken(args[0]),\n            label: parseStringToken(args[6], 'empty'),\n            labelX: parseFloatToken(args[7]),\n            labelY: parseFloatToken(args[8]),\n            labelFont: args[9],\n            labelFontSize: parseFloatToken(args[10]),\n            bgColor: args[11],\n            fgColor: args[12],\n            labelColor: args[13],\n        };\n        node.args = [\n            parseFloatToken(args[3]),\n            parseBoolToken(args[2]),\n            parseFloatToken(args[14]),\n            parseStringToken(args[5], 'empty'),\n            parseStringToken(args[4], 'empty'),\n            parseBoolToken(args[2]),\n        ];\n    }\n    else if (node.type === 'vu') {\n        // <width> <height> <receive> <label> <x_off> <y_off> <font> <fontsize> <bg_color> <label_color> <scale> <?>\n        node.layout = {\n            ...node.layout,\n            width: parseFloatToken(args[0]),\n            height: parseFloatToken(args[1]),\n            label: parseStringToken(args[3], 'empty'),\n            labelX: parseFloatToken(args[4]),\n            labelY: parseFloatToken(args[5]),\n            labelFont: args[6],\n            labelFontSize: parseFloatToken(args[7]),\n            bgColor: args[8],\n            labelColor: args[9],\n            log: parseFloatToken(args[10]),\n        };\n        node.args = [\n            parseStringToken(args[2], 'empty'),\n            parseStringToken(args[11]),\n        ];\n    }\n    else if (node.type === 'cnv') {\n        // <size> <width> <height> <send> <receive> <label> <x_off> <y_off> <font> <font_size> <bg_color> <label_color> <?>\n        node.layout = {\n            ...node.layout,\n            size: parseFloatToken(args[0]),\n            width: parseFloatToken(args[1]),\n            height: parseFloatToken(args[2]),\n            label: parseStringToken(args[5], 'empty'),\n            labelX: parseFloatToken(args[6]),\n            labelY: parseFloatToken(args[7]),\n            labelFont: args[8],\n            labelFontSize: parseFloatToken(args[9]),\n            bgColor: args[10],\n            labelColor: args[11],\n        };\n        node.args = [\n            parseStringToken(args[4], 'empty'),\n            parseStringToken(args[3], 'empty'),\n            parseStringToken(args[12]),\n        ];\n    }\n    else {\n        throw new Error(`Unexpected control node ${node.type}`);\n    }\n    return node;\n};\nfunction hydrateLineAfterComma(node, lineAfterComma) {\n    // Handling stuff after the comma\n    // I have no idea what's the specification for this, so this is really reverse\n    // engineering on what appears in pd files.\n    if (lineAfterComma) {\n        const afterCommaTokens = lineAfterComma;\n        while (afterCommaTokens.length) {\n            const command = afterCommaTokens.shift();\n            if (command === 'f') {\n                node.layout.width =\n                    parseFloatToken(afterCommaTokens.shift());\n            }\n        }\n    }\n    return node;\n}\n\nexport { hydrateArray, hydrateConnection, hydrateLineAfterComma, hydrateNodeArray, hydrateNodeBase, hydrateNodeControl, hydrateNodeGeneric, hydrateNodePatch, hydratePatch };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// Regular expression to split tokens in a message.\n// For groups 1 (captures semicolon) and group 5 (captures comma), we capture as a separator \n// only unescaped characters.\n// A separator can be e.g. : \" ,  \" or \"; \"\n// NOTE: Normally we'd use named regexp capturing groups, but that causes problems with \n// create-react-app which uses a babel plugin to remove them.\nconst TOKENS_RE = /(?<comma>((?<!\\\\)\\s*)((?<!\\\\\\\\)\\\\,)((?<!\\\\)\\s*))|(?<semi>((?<!\\\\)\\s*)((?<!\\\\\\\\)\\\\;)((?<!\\\\)\\s*))|((?<!\\\\)\\s)+|\\r\\n?|\\n/;\nconst AFTER_COMMA_RE = /,(?!\\\\)/;\n// Regular expression for finding valid lines of Pd in a file\nconst LINES_RE = /(#((.|\\r|\\n)*?)[^\\\\\\\\])\\r{0,1}\\n{0,1};\\r{0,1}(\\n|$)/gi;\n// Helper function to reverse a string\nconst _reverseString = (s) => s.split('').reverse().join('');\nvar tokenize = (pdString) => {\n    const tokenizedLines = [];\n    // use our regular expression to match instances of valid Pd lines\n    LINES_RE.lastIndex = 0; // reset lastIndex, in case the previous call threw an error\n    let lineMatch = null;\n    while ((lineMatch = LINES_RE.exec(pdString))) {\n        // In order to support object width, pd vanilla adds something like \", f 10\" at the end\n        // of the line. So we need to look for non-escaped comma, and get that part after it.\n        // Doing that is annoying in JS since regexps have no look-behind assertions.\n        // The hack is to reverse the string, and use a regexp look-forward assertion.\n        const lineParts = _reverseString(lineMatch[1])\n            .split(AFTER_COMMA_RE)\n            .reverse()\n            .map(_reverseString);\n        const lineIndex = pdString.slice(0, lineMatch.index).split('\\n').length - 1;\n        tokenizedLines.push({\n            tokens: tokenizeLine(lineParts[0]),\n            lineAfterComma: lineParts[1]\n                ? tokenizeLine(lineParts[1])\n                : undefined,\n            lineIndex,\n        });\n    }\n    return tokenizedLines;\n};\nconst tokenizeLine = (line) => {\n    const matches = Array.from(line.matchAll(new RegExp(TOKENS_RE, 'g')));\n    const tokens = [];\n    matches.forEach((match, i) => {\n        const tokenStart = i === 0 ? 0 : matches[i - 1].index + matches[i - 1][0].length;\n        const tokenEnd = match.index;\n        const token = line.slice(tokenStart, tokenEnd);\n        if (token.length) {\n            tokens.push(token);\n        }\n        if (match[1]) {\n            tokens.push(',');\n        }\n        else if (match[5]) {\n            tokens.push(';');\n        }\n    });\n    const lastMatch = matches.slice(-1)[0];\n    if (lastMatch) {\n        tokens.push(line.slice(lastMatch.index + lastMatch[0].length));\n    }\n    return tokens;\n};\n\nexport { AFTER_COMMA_RE, LINES_RE, TOKENS_RE, tokenize as default, tokenizeLine };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst CONTROL_TYPE = {\n    floatatom: 'floatatom',\n    symbolatom: 'symbolatom',\n    listbox: 'listbox',\n    bng: 'bng',\n    tgl: 'tgl',\n    nbx: 'nbx',\n    vsl: 'vsl',\n    hsl: 'hsl',\n    vradio: 'vradio',\n    hradio: 'hradio',\n    vu: 'vu',\n    cnv: 'cnv',\n    msg: 'msg',\n};\n\nexport { CONTROL_TYPE };\n","import { ValueError, parseStringToken, parseFloatToken } from './tokens.js';\nimport { hydratePatch, hydrateArray, hydrateNodePatch, hydrateNodeArray, hydrateNodeBase, hydrateNodeControl, hydrateLineAfterComma, hydrateNodeGeneric, hydrateConnection } from './hydrate.js';\nimport tokenize from './tokenize.js';\nimport { CONTROL_TYPE } from './types.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst DEFAULT_ARRAY_SIZE = 100;\nconst NODES = ['obj', 'floatatom', 'symbolatom', 'listbox', 'msg', 'text'];\nconst nextPatchId = () => `${++nextPatchId.counter}`;\nnextPatchId.counter = -1;\nconst nextArrayId = () => `${++nextArrayId.counter}`;\nnextArrayId.counter = -1;\nconst _tokensMatch = (tokens, ...values) => values.every((value, i) => value === tokens[i]);\n/** Parses a Pd file, returns a simplified JSON version */\nvar parse = (pdString) => {\n    let tokenizedLines = tokenize(pdString);\n    let patchTokenizedLinesMap = {};\n    const c = {\n        pd: {\n            rootPatchId: '0',\n            patches: {},\n            arrays: {},\n        },\n        errors: [],\n        warnings: [],\n        tokenizedLines,\n        patchTokenizedLinesMap,\n    };\n    _parsePatches(c, true);\n    Object.keys(c.pd.patches).forEach((patchId) => {\n        _parseArrays(c, patchId);\n        _parseNodesAndConnections(c, patchId);\n        _computePatchPortlets(c, patchId);\n        if (c.patchTokenizedLinesMap[patchId].length) {\n            c.patchTokenizedLinesMap[patchId].forEach(({ tokens, lineIndex }) => {\n                c.errors.push({ message: `\"${tokens[0]} ${tokens[1]}\" unexpected chunk`, lineIndex });\n            });\n        }\n    });\n    if (c.errors.length) {\n        return {\n            status: 1,\n            warnings: c.warnings,\n            errors: c.errors,\n        };\n    }\n    else {\n        return {\n            status: 0,\n            warnings: c.warnings,\n            pd: c.pd,\n        };\n    }\n};\nconst _parsePatches = (c, isPatchRoot) => {\n    const patchId = nextPatchId();\n    const patchTokenizedLines = [];\n    let patchCanvasTokens = null;\n    let patchCoordsTokens = null;\n    let iterCounter = -1;\n    let continueIteration = true;\n    let firstLineIndex = c.tokenizedLines[0] ? c.tokenizedLines[0].lineIndex : -1;\n    while (c.tokenizedLines.length && continueIteration) {\n        const { tokens, lineIndex } = c.tokenizedLines[0];\n        if (_tokensMatch(tokens, '#N', 'struct')\n            || _tokensMatch(tokens, '#X', 'declare')\n            || _tokensMatch(tokens, '#X', 'scalar')\n            || _tokensMatch(tokens, '#X', 'f')) {\n            c.warnings.push({ message: `\"${tokens[0]} ${tokens[1]}\" chunk is not supported`, lineIndex });\n            c.tokenizedLines.shift();\n            continue;\n        }\n        iterCounter++;\n        _catchParsingErrors(c, lineIndex, () => {\n            // First line of the patch / subpatch, initializes the patch\n            if (_tokensMatch(tokens, '#N', 'canvas') && iterCounter === 0) {\n                patchCanvasTokens = c.tokenizedLines.shift();\n                // If not first line, starts a subpatch\n            }\n            else if (_tokensMatch(tokens, '#N', 'canvas')) {\n                _parsePatches(c, false);\n                // Table : a table subpatch\n                // It seems that a table object is just a subpatch containing an array.\n                // Therefore we add some synthetic lines to the tokenized file to simulate\n                // this subpatch.\n            }\n            else if (\n            // prettier-ignore\n            _tokensMatch(tokens, '#X', 'obj', tokens[2], tokens[3], 'table')) {\n                const tableTokens = c.tokenizedLines.shift().tokens;\n                c.tokenizedLines = [\n                    {\n                        // prettier-ignore\n                        tokens: ['#N', 'canvas', '0', '0', '100', '100', '(subpatch)', '0'],\n                        lineIndex,\n                    },\n                    {\n                        // prettier-ignore\n                        tokens: ['#N', 'canvas', '0', '0', '100', '100', '(subpatch)', '0'],\n                        lineIndex,\n                    },\n                    {\n                        // prettier-ignore\n                        tokens: ['#X', 'array', parseStringToken(tableTokens[5]), tableTokens[6] || DEFAULT_ARRAY_SIZE.toString(), 'float', '0'],\n                        lineIndex,\n                    },\n                    // prettier-ignore\n                    { tokens: ['#X', 'restore', '0', '0', 'graph'], lineIndex },\n                    {\n                        // prettier-ignore\n                        tokens: ['#X', 'restore', tableTokens[2], tableTokens[3], 'table'],\n                        lineIndex,\n                    },\n                    ...c.tokenizedLines,\n                ];\n                _parsePatches(c, false);\n                // coords : visual range of framesets\n            }\n            else if (_tokensMatch(tokens, '#X', 'coords')) {\n                patchCoordsTokens = c.tokenizedLines.shift();\n                // Restore : ends a canvas definition\n            }\n            else if (_tokensMatch(tokens, '#X', 'restore')) {\n                // Creates a synthetic node that our parser will hydrate at a later stage\n                c.tokenizedLines[0].tokens = [\n                    'PATCH',\n                    patchId,\n                    ...c.tokenizedLines[0].tokens.slice(2),\n                ];\n                continueIteration = false;\n                // A normal chunk to add to the current patch\n            }\n            else {\n                patchTokenizedLines.push(c.tokenizedLines.shift());\n            }\n        });\n    }\n    if (patchCanvasTokens === null) {\n        c.errors.push({ message: `Parsing failed #canvas missing`, lineIndex: firstLineIndex });\n        return;\n    }\n    if (isPatchRoot) {\n        c.pd.rootPatchId = patchId;\n    }\n    c.pd.patches[patchId] = hydratePatch(patchId, isPatchRoot, patchCanvasTokens, patchCoordsTokens);\n    c.patchTokenizedLinesMap[patchId] = patchTokenizedLines;\n};\n/**\n * Use the layout of [inlet] / [outlet] objects to compute the order\n * of portlets of a subpatch.\n */\nconst _computePatchPortlets = (c, patchId) => {\n    const patch = c.pd.patches[patchId];\n    const _comparePortletsId = (node1, node2) => parseFloat(node1.id) - parseFloat(node2.id);\n    const _comparePortletsLayout = (node1, node2) => node1.layout.x - node2.layout.x;\n    const inletNodes = Object.values(patch.nodes).filter((node) => ['inlet', 'inlet~'].includes(node.type));\n    const inletsSortFunction = inletNodes.every((node) => !!node.layout)\n        ? _comparePortletsLayout\n        : _comparePortletsId;\n    inletNodes.sort(inletsSortFunction);\n    const outletNodes = Object.values(patch.nodes).filter((node) => ['outlet', 'outlet~'].includes(node.type));\n    const outletsSortFunction = outletNodes.every((node) => !!node.layout)\n        ? _comparePortletsLayout\n        : _comparePortletsId;\n    outletNodes.sort(outletsSortFunction);\n    c.pd.patches[patchId] = {\n        ...patch,\n        inlets: inletNodes.map((node) => node.id),\n        outlets: outletNodes.map((node) => node.id),\n    };\n};\nconst _parseArrays = (c, patchId) => {\n    const patchTokenizedLines = c.patchTokenizedLinesMap[patchId];\n    const remainingTokenizedLines = [];\n    // keep the last array for handling correctly\n    // the array related instructions which might follow.\n    let currentArray = null;\n    while (patchTokenizedLines.length) {\n        const { tokens, lineIndex } = patchTokenizedLines[0];\n        _catchParsingErrors(c, lineIndex, () => {\n            // start of an array definition\n            if (_tokensMatch(tokens, '#X', 'array')) {\n                currentArray = hydrateArray(nextArrayId(), patchTokenizedLines.shift());\n                c.pd.arrays[currentArray.id] = currentArray;\n                // Creates a synthetic node that our parser will hydrate at a later stage\n                remainingTokenizedLines.push({\n                    tokens: ['ARRAY', currentArray.id],\n                    lineAfterComma: [],\n                    lineIndex,\n                });\n                // array data to add to the current array\n            }\n            else if (_tokensMatch(tokens, '#A')) {\n                if (!currentArray) {\n                    throw new Error(`line ${lineIndex}: Unsupported data chunk #A.`);\n                }\n                if (currentArray.args[2] === 0) {\n                    throw new Error(\"got array data for an array that doesn't save contents.\");\n                }\n                const currentData = currentArray.data || [];\n                currentArray.data = currentData;\n                // reads in part of an array of data, starting at the index specified in this line\n                // name of the array comes from the the '#X array' and '#X restore' matches above\n                const indexOffset = parseFloatToken(tokens[1]);\n                tokens.slice(2).forEach((rawVal, i) => {\n                    const val = parseFloatToken(rawVal);\n                    if (Number.isFinite(val)) {\n                        currentData[indexOffset + i] = val;\n                    }\n                });\n                patchTokenizedLines.shift();\n                // A normal chunk to add to the current patch\n            }\n            else {\n                remainingTokenizedLines.push(patchTokenizedLines.shift());\n            }\n        });\n    }\n    c.patchTokenizedLinesMap[patchId] = remainingTokenizedLines;\n};\nconst _parseNodesAndConnections = (c, patchId) => {\n    const patch = c.pd.patches[patchId];\n    const patchTokenizedLines = c.patchTokenizedLinesMap[patchId];\n    const remainingTokenizedLines = [];\n    // In Pd files it seems like node ids are assigned in order in which nodes are declared.\n    // Then connection declarations use these same ids to identify nodes.\n    let idCounter = -1;\n    const nextId = () => `${++idCounter}`;\n    while (patchTokenizedLines.length) {\n        const { tokens, lineIndex } = patchTokenizedLines[0];\n        _catchParsingErrors(c, lineIndex, () => {\n            let node = null;\n            if (_tokensMatch(tokens, 'PATCH')) {\n                node = hydrateNodePatch(nextId(), patchTokenizedLines.shift());\n            }\n            else if (_tokensMatch(tokens, 'ARRAY')) {\n                node = hydrateNodeArray(nextId(), patchTokenizedLines.shift());\n            }\n            else if (NODES.some((nodeType) => _tokensMatch(tokens, '#X', nodeType))) {\n                const tokenizedLine = patchTokenizedLines.shift();\n                const nodeBase = hydrateNodeBase(nextId(), tokenizedLine.tokens);\n                if (Object.keys(CONTROL_TYPE).includes(nodeBase.type)) {\n                    node = hydrateNodeControl(nodeBase);\n                    node = hydrateLineAfterComma(node, tokenizedLine.lineAfterComma);\n                }\n                else {\n                    node = hydrateNodeGeneric(nodeBase);\n                    node = hydrateLineAfterComma(node, tokenizedLine.lineAfterComma);\n                }\n            }\n            if (node) {\n                patch.nodes[node.id] = node;\n                return;\n            }\n            if (_tokensMatch(tokens, '#X', 'connect')) {\n                patch.connections.push(hydrateConnection(patchTokenizedLines.shift()));\n            }\n            else {\n                remainingTokenizedLines.push(patchTokenizedLines.shift());\n            }\n        });\n    }\n    c.patchTokenizedLinesMap[patchId] = remainingTokenizedLines;\n};\nconst _catchParsingErrors = (c, lineIndex, func) => {\n    try {\n        func();\n    }\n    catch (err) {\n        if (err instanceof ValueError) {\n            c.errors.push({ message: err.message, lineIndex });\n        }\n        else {\n            throw err;\n        }\n    }\n};\n\nexport { DEFAULT_ARRAY_SIZE, _parsePatches, parse as default, nextArrayId, nextPatchId };\n","import parse from '../../../WebPd_pd-parser/dist/src/parse.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * A helper to build an abstraction loader.\n * @param pdFileLoader takes a node type and returns the corresponding pd file.\n * If the pd file could not be found, the function must throw an UnknownNodeTypeError.\n */\nconst makeAbstractionLoader = (pdFileLoader) => async (nodeType) => {\n    let pd = null;\n    try {\n        pd = await pdFileLoader(nodeType);\n    }\n    catch (err) {\n        if (err instanceof UnknownNodeTypeError) {\n            return {\n                status: 1,\n                unknownNodeType: nodeType,\n            };\n        }\n        else {\n            throw err;\n        }\n    }\n    const parseResult = parse(pd);\n    if (parseResult.status === 0) {\n        return {\n            status: 0,\n            pd: parseResult.pd,\n            parsingWarnings: parseResult.warnings,\n        };\n    }\n    else {\n        return {\n            status: 1,\n            parsingErrors: parseResult.errors,\n            parsingWarnings: parseResult.warnings,\n        };\n    }\n};\nclass UnknownNodeTypeError extends Error {\n}\nconst getArtefact = (artefacts, outFormat) => {\n    const artefact = artefacts[outFormat];\n    if (!artefact) {\n        throw new Error(`no artefact was generated for ${outFormat}`);\n    }\n    return artefact;\n};\nconst stringifyArrayBuffer = (buffer) => new TextDecoder().decode(buffer);\n\nexport { UnknownNodeTypeError, getArtefact, makeAbstractionLoader, stringifyArrayBuffer };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/** Generate an integer series from 0 to `count` (non-inclusive). */\nconst countTo = (count) => {\n    const results = [];\n    for (let i = 0; i < count; i++) {\n        results.push(i);\n    }\n    return results;\n};\n/**\n * @returns Generates a new object with the same keys as `src` and whose\n * values are the result of mapping `src`'s values with `func`.\n *\n * @todo : fix typings so that keys of SrcType appear in DestType.\n */\nconst mapObject = (src, func) => {\n    const dest = {};\n    Object.entries(src).forEach(([key, srcValue], i) => {\n        dest[key] = func(srcValue, key, i);\n    });\n    return dest;\n};\n/**\n * @param func Called for each element in `src`. Returns a pair `[<key>, <value>]`.\n * @returns A new object whoses keys and values are the result of\n * applying `func` to each element in `src`.\n */\nconst mapArray = (src, func) => {\n    const dest = {};\n    src.forEach((srcValue, i) => {\n        const [key, destValue] = func(srcValue, i);\n        dest[key] = destValue;\n    });\n    return dest;\n};\n/**\n * Renders one of several alternative bits of code.\n *\n * @param routes A list of alternatives `[<test>, <code>]`\n * @returns The first `code` whose `test` evaluated to true.\n */\nconst renderSwitch = (...routes) => {\n    const matchedRoute = routes.find(([test]) => test);\n    if (!matchedRoute) {\n        throw new Error(`no route found`);\n    }\n    return matchedRoute[1];\n};\n\nexport { countTo, mapArray, mapObject, renderSwitch };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst getNode = (graph, nodeId) => {\n    const node = graph[nodeId];\n    if (node) {\n        return node;\n    }\n    throw new Error(`Node \"${nodeId}\" not found in graph`);\n};\nconst getInlet = (node, inletId) => {\n    const inlet = node.inlets[inletId];\n    if (inlet) {\n        return inlet;\n    }\n    throw new Error(`Inlet \"${inletId}\" not found in node ${node.id} of type ${node.type}`);\n};\nconst getOutlet = (node, outletId) => {\n    const outlet = node.outlets[outletId];\n    if (outlet) {\n        return outlet;\n    }\n    throw new Error(`Outlet \"${outletId}\" not found in node ${node.id} of type ${node.type}`);\n};\n/** Returns the list of sinks for the outlet or an empty list. */\nconst getSinks = (node, outletId) => node.sinks[outletId] || [];\n/** Returns the list of sources for the inlet or an empty list. */\nconst getSources = (node, inletId) => node.sources[inletId] || [];\n\nexport { getInlet, getNode, getOutlet, getSinks, getSources };\n","import { mapArray } from '../functional-helpers.js';\nimport { getNode, getInlet, getOutlet } from './getters.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * Simple helper to get a list of nodes from a traversal (which is simply node ids).\n */\nconst toNodes = (graph, traversal) => traversal.map((nodeId) => getNode(graph, nodeId));\n/**\n * Breadth first traversal for signal in the graph.\n * Traversal path is calculated by pulling incoming connections from\n * {@link nodesPullingSignal}.\n */\nconst signalNodes = (graph, nodesPullingSignal, shouldContinue) => {\n    const traversal = [];\n    nodesPullingSignal.forEach((node) => _signalNodesBreadthFirstRecursive(traversal, [], graph, node, shouldContinue));\n    return traversal;\n};\nconst _signalNodesBreadthFirstRecursive = (traversal, currentPath, graph, node, shouldContinue) => {\n    if (shouldContinue && !shouldContinue(node)) {\n        return;\n    }\n    const nextPath = [...currentPath, node.id];\n    Object.entries(node.sources)\n        .filter(([inletId]) => getInlet(node, inletId).type === 'signal')\n        .forEach(([_, sources]) => {\n        sources.forEach((source) => {\n            const sourceNode = getNode(graph, source.nodeId);\n            if (currentPath.indexOf(sourceNode.id) !== -1) {\n                return;\n            }\n            _signalNodesBreadthFirstRecursive(traversal, nextPath, graph, sourceNode, shouldContinue);\n        });\n    });\n    if (traversal.indexOf(node.id) === -1) {\n        traversal.push(node.id);\n    }\n};\n/**\n * Breadth first traversal for signal in the graph.\n * Traversal path is calculated by pulling incoming connections from\n * {@link nodesPushingMessages}.\n */\nconst messageNodes = (graph, nodesPushingMessages) => {\n    const traversal = [];\n    nodesPushingMessages.forEach((node) => {\n        _messageNodesDepthFirstRecursive(traversal, graph, node);\n    });\n    return traversal;\n};\nconst _messageNodesDepthFirstRecursive = (traversal, graph, node) => {\n    if (traversal.indexOf(node.id) !== -1) {\n        return;\n    }\n    traversal.push(node.id);\n    Object.entries(node.sinks)\n        .filter(([outletId]) => getOutlet(node, outletId).type === 'message')\n        .forEach(([_, sinks]) => {\n        sinks.forEach((sink) => {\n            _messageNodesDepthFirstRecursive(traversal, graph, getNode(graph, sink.nodeId));\n        });\n    });\n};\n/**\n * Remove dead sinks and sources in graph.\n * @param graphTraversal contains all nodes that are connected to\n * an input or output of the graph.\n */\nconst trimGraph = (graph, graphTraversal) => mapArray(Object.values(graph).filter((node) => graphTraversal.includes(node.id)), (node) => [\n    node.id,\n    {\n        ...node,\n        sources: removeDeadSources(node.sources, graphTraversal),\n        sinks: removeDeadSinks(node.sinks, graphTraversal),\n    },\n]);\n/**\n * When `node` has a sink node that is not connected to an end sink, that sink node won't be included\n * in the traversal, but will still appear in `node.sinks`.\n * Therefore, we need to make sure to filter `node.sinks` to exclude sink nodes that don't\n * appear in the traversal.\n */\nconst removeDeadSinks = (sinks, graphTraversal) => {\n    const filteredSinks = {};\n    Object.entries(sinks).forEach(([outletId, outletSinks]) => {\n        const filteredOutletSinks = outletSinks.filter(({ nodeId: sinkNodeId }) => graphTraversal.includes(sinkNodeId));\n        if (filteredOutletSinks.length) {\n            filteredSinks[outletId] = filteredOutletSinks;\n        }\n    });\n    return filteredSinks;\n};\n/**\n * Filters a node's sources to exclude source nodes that don't\n * appear in the traversal.\n */\nconst removeDeadSources = (sources, graphTraversal) => {\n    const filteredSources = {};\n    Object.entries(sources).forEach(([inletId, inletSources]) => {\n        const filteredInletSources = inletSources.filter(({ nodeId: sourceNodeId }) => graphTraversal.includes(sourceNodeId));\n        if (filteredInletSources.length) {\n            filteredSources[inletId] = filteredInletSources;\n        }\n    });\n    return filteredSources;\n};\n\nexport { messageNodes, removeDeadSinks, removeDeadSources, signalNodes, toNodes, trimGraph };\n","var name = \"@webpd/compiler\";\nvar version = \"0.1.0\";\nvar description = \"WebPd compiler package\";\nvar main = \"./dist/index.js\";\nvar types = \"./dist/types/index.d.ts\";\nvar type = \"module\";\nvar license = \"LGPL-3.0\";\nvar author = \"Sébastien Piquemal\";\nvar scripts = {\n\ttest: \"NODE_OPTIONS='--experimental-vm-modules --no-warnings' npx jest --runInBand --config jest.mjs --testTimeout 10000\",\n\t\"build:dist\": \"npx rollup --config rollup.mjs\",\n\t\"build:bindings\": \"npx rollup --config rollup-bindings.mjs\",\n\t\"build:all\": \"rm -rf dist; npm run build:dist; npm run build:bindings\",\n\tprettier: \"npm explore @webpd/dev -- npm run prettier $(pwd)/src\",\n\teslint: \"npm explore @webpd/dev -- npm run eslint $(pwd)/src\"\n};\nvar repository = {\n\ttype: \"git\",\n\turl: \"git+https://github.com/sebpiq/WebPd_compiler.git\"\n};\nvar bugs = {\n\turl: \"https://github.com/sebpiq/WebPd_compiler/issues\"\n};\nvar homepage = \"https://github.com/sebpiq/WebPd_compiler#readme\";\nvar devDependencies = {\n\t\"@rollup/plugin-commonjs\": \"^23.0.4\",\n\t\"@rollup/plugin-node-resolve\": \"^15.0.1\",\n\t\"@rollup/plugin-typescript\": \"^10.0.1\",\n\t\"@types/jest\": \"^29.4.0\",\n\t\"@types/node\": \"^14.14.7\",\n\t\"@webpd/dev\": \"file:../WebPd_dev\",\n\tassemblyscript: \"^0.25.1\",\n\tjest: \"^29.4.3\",\n\trollup: \"^3.7.0\",\n\t\"ts-jest\": \"^29.0.5\",\n\t\"ts-node\": \"^10.9.1\",\n\ttslib: \"^2.4.1\",\n\ttypedoc: \"^0.22.17\",\n\ttypescript: \"^4.7.2\"\n};\nvar packageInfo = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\ttypes: types,\n\ttype: type,\n\tlicense: license,\n\tauthor: author,\n\tscripts: scripts,\n\trepository: repository,\n\tbugs: bugs,\n\thomepage: homepage,\n\tdevDependencies: devDependencies\n};\n\nexport { author, bugs, packageInfo as default, description, devDependencies, homepage, license, main, name, repository, scripts, type, types, version };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst Var = (declaration, renderedValue) => `let ${declaration.name}${renderedValue ? ` = ${renderedValue}` : ''}`;\nconst ConstVar = (declaration, renderedValue) => `const ${declaration.name} = ${renderedValue}`;\nconst Func = (declaration, renderedArgsValues, renderedBody) => `function ${declaration.name !== null ? declaration.name : ''}(${declaration.args.map((arg, i) => renderedArgsValues[i] ? `${arg.name}=${renderedArgsValues[i]}` : arg.name).join(', ')}) {${renderedBody}}`;\nconst Class = () => ``;\nconst macros = {\n    Var,\n    ConstVar,\n    Func,\n    Class,\n};\n\nexport { macros as default };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst Var = (declaration, renderedValue) => `let ${declaration.name}: ${declaration.type}${renderedValue ? ` = ${renderedValue}` : ''}`;\nconst ConstVar = (declaration, renderedValue) => `const ${declaration.name}: ${declaration.type} = ${renderedValue}`;\nconst Func = (declaration, renderedArgsValues, renderedBody) => `function ${declaration.name !== null ? declaration.name : ''}(${declaration.args.map((arg, i) => `${arg.name}: ${arg.type}${renderedArgsValues[i] ? `=${renderedArgsValues[i]}` : ''}`).join(', ')}): ${declaration.returnType} {${renderedBody}}`;\nconst Class = (declaration) => `class ${declaration.name} {\n${declaration.members.map(varDeclaration => `${varDeclaration.name}: ${varDeclaration.type}`).join('\\n')}\n}`;\nconst macros = {\n    Var,\n    ConstVar,\n    Func,\n    Class,\n};\n\nexport { macros as default };\n","import { messageNodes, signalNodes } from '../dsp-graph/traversal.js';\nimport { getNode } from '../dsp-graph/getters.js';\nimport packageInfo from '../../package.json.js';\nimport macros from '../engine-javascript/compile/macros.js';\nimport macros$1 from '../engine-assemblyscript/compile/macros.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/** Helper to get code macros from compile target. */\nconst getMacros = (target) => ({ javascript: macros, assemblyscript: macros$1 }[target]);\n/** Helper to get node implementation or throw an error if not implemented. */\nconst getNodeImplementation = (nodeImplementations, nodeType) => {\n    const nodeImplementation = nodeImplementations[nodeType];\n    if (!nodeImplementation) {\n        throw new Error(`node [${nodeType}] is not implemented`);\n    }\n    return {\n        dependencies: [],\n        ...nodeImplementation,\n    };\n};\n/** Helper to build engine metadata from compilation object */\nconst buildMetadata = (compilation) => {\n    const { settings: { audio: audioSettings, io, }, variableNamesIndex, } = compilation;\n    return {\n        libVersion: packageInfo.version,\n        audioSettings: {\n            ...audioSettings,\n            // Determined at configure\n            sampleRate: 0,\n            blockSize: 0,\n        },\n        compilation: {\n            io,\n            variableNamesIndex: {\n                io: variableNamesIndex.io,\n            },\n        },\n    };\n};\n/**\n * Build graph traversal for all nodes.\n * This should be exhaustive so that all nodes that are connected\n * to an input or output of the graph are declared correctly.\n * Order of nodes doesn't matter.\n * @TODO : messageSenders should also be included ?\n */\nconst buildGraphTraversalAll = (graph, io) => {\n    const nodesPullingSignal = Object.values(graph).filter((node) => !!node.isPullingSignal);\n    const nodesPushingMessages = Object.values(graph).filter((node) => !!node.isPushingMessages);\n    Object.keys(io.messageReceivers || {}).forEach((nodeId) => {\n        if (nodesPushingMessages.find((node) => node.id === nodeId)) {\n            return;\n        }\n        nodesPushingMessages.push(getNode(graph, nodeId));\n    });\n    return Array.from(new Set([\n        ...messageNodes(graph, nodesPushingMessages),\n        ...signalNodes(graph, nodesPullingSignal),\n    ]));\n};\n/**\n * Build graph traversal for generating the loop.\n */\nconst buildGraphTraversalSignal = (graph) => {\n    const nodesPullingSignal = Object.values(graph).filter((node) => !!node.isPullingSignal);\n    return signalNodes(graph, nodesPullingSignal);\n};\nconst isGlobalDefinitionWithSettings = (globalCodeDefinition) => !(typeof globalCodeDefinition === 'function');\n\nexport { buildGraphTraversalAll, buildGraphTraversalSignal, buildMetadata, getMacros, getNodeImplementation, isGlobalDefinitionWithSettings };\n","import { countTo } from '../functional-helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst Var = (typeName, name, value) => _preventToString({\n    astType: 'Var',\n    name,\n    type: typeName,\n    value: value !== undefined ? _prepareVarValue(value) : undefined,\n});\nconst ConstVar = (typeName, name, value) => _preventToString({\n    astType: 'ConstVar',\n    name,\n    type: typeName,\n    value: _prepareVarValue(value),\n});\nconst Func = (name, args = [], returnType = 'void') => (strings, ...content) => _preventToString({\n    astType: 'Func',\n    name,\n    args,\n    returnType,\n    body: ast(strings, ...content),\n});\nconst AnonFunc = (args = [], returnType = 'void') => (strings, ...content) => _preventToString({\n    astType: 'Func',\n    name: null,\n    args,\n    returnType,\n    body: ast(strings, ...content),\n});\nconst Class = (name, members) => _preventToString({\n    astType: 'Class',\n    name,\n    members,\n});\nconst Sequence = (content) => ({\n    astType: 'Sequence',\n    content: _processRawContent(_intersperse(content, countTo(content.length - 1).map(() => '\\n'))),\n});\nconst ast = (strings, ...content) => _preventToString({\n    astType: 'Sequence',\n    content: _processRawContent(_intersperse(strings, content)),\n});\nconst _processRawContent = (content) => {\n    // 1. Flatten arrays and AstSequence, filter out nulls, and convert numbers to strings\n    // Basically converts input to an Array<AstContent>.\n    const flattenedAndFiltered = content.flatMap((element) => {\n        if (typeof element === 'string') {\n            return [element];\n        }\n        else if (typeof element === 'number') {\n            return [element.toString()];\n        }\n        else {\n            if (element === null) {\n                return [];\n            }\n            else if (Array.isArray(element)) {\n                return _processRawContent(_intersperse(element, countTo(element.length - 1).map(() => '\\n')));\n            }\n            else if (typeof element === 'object' &&\n                element.astType === 'Sequence') {\n                return element.content;\n            }\n            else {\n                return [element];\n            }\n        }\n    });\n    // 2. Combine adjacent strings\n    const [combinedContent, remainingString] = flattenedAndFiltered.reduce(([combinedContent, currentString], element) => {\n        if (typeof element === 'string') {\n            return [combinedContent, currentString + element];\n        }\n        else {\n            if (currentString.length) {\n                return [[...combinedContent, currentString, element], ''];\n            }\n            else {\n                return [[...combinedContent, element], ''];\n            }\n        }\n    }, [[], '']);\n    if (remainingString.length) {\n        combinedContent.push(remainingString);\n    }\n    return combinedContent;\n};\n/**\n * Intersperse content from array1 with content from array2.\n * `array1.length` must be equal to `array2.length + 1`.\n */\nconst _intersperse = (array1, array2) => {\n    if (array1.length === 0) {\n        return [];\n    }\n    return array1\n        .slice(1)\n        .reduce((combinedContent, element, i) => combinedContent.concat([array2[i], element]), [array1[0]]);\n};\n/**\n * Prevents AST elements from being rendered as a string, as this is\n * most likely an error due to unproper use of `ast`.\n * Deacivated. Activate for debugging by uncommenting the line below.\n */\nconst _preventToString = (element) => ({\n    ...element,\n    // Uncomment this to activate\n    // toString: () => { throw new Error(`Rendering element ${elemennt.astType} as string is probably an error`) }\n});\nconst _prepareVarValue = (value) => {\n    if (typeof value === 'number') {\n        return Sequence([value.toString()]);\n    }\n    else if (typeof value === 'string') {\n        return Sequence([value]);\n    }\n    else {\n        return value;\n    }\n};\n\nexport { AnonFunc, Class, ConstVar, Func, Sequence, Var, _processRawContent, ast };\n","import { Sequence, Var, Func, ast } from '../ast/declare.js';\nimport { toNodes } from '../dsp-graph/traversal.js';\n\nconst generateGlobs = ({ variableNamesIndex: { globs }, }) => \n// prettier-ignore\nSequence([\n    Var('Int', globs.iterFrame, '0'),\n    Var('Int', globs.frame, '0'),\n    Var('Int', globs.blockSize, '0'),\n    Var('Float', globs.sampleRate, '0'),\n    Var('Float', globs.nullSignal, '0'),\n    Func(globs.nullMessageReceiver, [\n        Var('Message', 'm')\n    ], 'void') ``\n]);\n/**\n * Embed arrays passed to the compiler in the compiled module.\n */\nconst generateEmbeddedArrays = ({ settings: { arrays } }) => Sequence(Object.entries(arrays).map(([arrayName, array]) => Sequence([\n    `commons_setArray(\"${arrayName}\", createFloatArray(${array.length}))`,\n    `commons_getArray(\"${arrayName}\").set(${JSON.stringify(Array.from(array))})`,\n])));\nconst generateNodeInitializations = ({ precompilation, }) => Sequence([\n    precompilation.traversals.all.map((nodeId) => precompilation.nodes[nodeId].initialization),\n]);\nconst generateIoMessageReceivers = ({ settings: { io }, variableNamesIndex, }) => \n// Here not possible to assign directly the receiver because otherwise assemblyscript\n// doesn't export a function but a global instead.\nSequence(Object.entries(io.messageReceivers).map(([nodeId, spec]) => spec.portletIds.map((inletId) => Func(variableNamesIndex.io.messageReceivers[nodeId][inletId], [Var('Message', 'm')], 'void') `${variableNamesIndex.nodes[nodeId].messageReceivers[inletId]}(m)`)));\nconst generateIoMessageSenders = ({ settings: { io }, variableNamesIndex }, generateIoMessageSender) => Sequence(Object.entries(io.messageSenders).map(([nodeId, spec]) => spec.portletIds.map((outletId) => {\n    const listenerVariableName = variableNamesIndex.io.messageSenders[nodeId][outletId];\n    return generateIoMessageSender(listenerVariableName, nodeId, outletId);\n})));\nconst generatePortletsDeclarations = (compilation) => {\n    const { graph, precompilation, settings: { debug }, } = compilation;\n    const graphTraversalNodes = toNodes(graph, precompilation.traversals.all);\n    return Sequence([\n        graphTraversalNodes.map((node) => {\n            const precompiledNode = precompilation.nodes[node.id];\n            return [\n                // 1. Declares signal outlets\n                Object.values(precompiledNode.signalOuts).map((outName) => Var('Float', outName, '0')),\n                // 2. Declares message receivers for all message inlets.\n                Object.entries(precompiledNode.messageReceivers).map(([inletId, astFunc]) => {\n                    // prettier-ignore\n                    return Func(astFunc.name, astFunc.args, astFunc.returnType) `\n                                ${astFunc.body}\n                                throw new Error('[${node.type}], id \"${node.id}\", inlet \"${inletId}\", unsupported message : ' + msg_display(${astFunc.args[0].name})${debug\n                        ? \" + '\\\\nDEBUG : remember, you must return from message receiver'\"\n                        : ''})\n                            `;\n                }),\n            ];\n        }),\n        // 3. Declares message senders for all message outlets.\n        // This needs to come after all message receivers are declared since we reference them here.\n        graphTraversalNodes.map((node) => Object.values(precompilation.nodes[node.id].messageSenders).map(({ messageSenderName: sndName, messageReceiverNames: rcvNames, }) => \n        // prettier-ignore\n        Func(sndName, [\n            Var('Message', 'm')\n        ], 'void') `\n                    ${rcvNames.map(rcvName => `${rcvName}(m)`)}\n                `)),\n    ]);\n};\nconst generateLoop = (compilation) => {\n    const { variableNamesIndex, precompilation } = compilation;\n    const { traversals } = precompilation;\n    const { globs } = variableNamesIndex;\n    // prettier-ignore\n    return ast `\n        for (${globs.iterFrame} = 0; ${globs.iterFrame} < ${globs.blockSize}; ${globs.iterFrame}++) {\n            _commons_emitFrame(${globs.frame})\n            ${traversals.loop.map((nodeId) => precompilation.nodes[nodeId].loop)}\n            ${globs.frame}++\n        }\n    `;\n};\nconst generateImportsExports = ({ precompilation }, generateImport, generateExport) => Sequence([\n    precompilation.dependencies.imports.map(generateImport),\n    precompilation.dependencies.exports.map(generateExport),\n]);\n\nexport { generateEmbeddedArrays, generateGlobs, generateImportsExports, generateIoMessageReceivers, generateIoMessageSenders, generateLoop, generateNodeInitializations, generatePortletsDeclarations };\n","/**\n * Renders templated strings which contain nested arrays of strings.\n * This helper allows to use functions such as `.map` to generate several lines\n * of code, without having to use `.join('\\n')`.\n * If a code line inserted in the template is falsy (null / undefined), it is ignored.\n * @todo : should not have to check for falsy codeLine has it should be typechecked.\n */\nconst render = (macros, element) => {\n    if (typeof element === 'string') {\n        return element;\n    }\n    else if (element.astType === 'Var') {\n        return macros.Var(element, element.value ? render(macros, element.value) : undefined);\n    }\n    else if (element.astType === 'ConstVar') {\n        return macros.ConstVar(element, element.value ? render(macros, element.value) : undefined);\n    }\n    else if (element.astType === 'Func') {\n        return macros.Func(element, element.args.map(arg => arg.value ? render(macros, arg.value) : null), render(macros, element.body));\n    }\n    else if (element.astType === 'Class') {\n        return macros.Class(element);\n    }\n    else if (element.astType === 'Sequence') {\n        return element.content.map((child) => render(macros, child)).join('');\n    }\n    else {\n        throw new Error(`Unexpected element in AST ${element}`);\n    }\n};\n\nexport { render as default };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * Helper to declare namespace objects enforcing stricter access rules. Specifically, it forbids :\n * - reading an unknown property.\n * - trying to overwrite an existing property.\n *\n * Also allows to access properties starting with a number by prepending a `$`.\n * This is convenient to access portlets by their id without using indexing syntax, for example :\n * `namespace.$0` instead of `namespace['0']`.\n */\nconst createNamespace = (label, namespace) => {\n    return new Proxy(namespace, {\n        get: (target, k) => {\n            const key = _trimDollarKey(String(k));\n            if (!target.hasOwnProperty(key)) {\n                // Whitelist some fields that are undefined but accessed at\n                // some point or another by our code.\n                // TODO : find a better way to do this.\n                if ([\n                    'toJSON',\n                    'Symbol(Symbol.toStringTag)',\n                    'constructor',\n                    '$$typeof',\n                    '@@__IMMUTABLE_ITERABLE__@@',\n                    '@@__IMMUTABLE_RECORD__@@',\n                ].includes(key)) {\n                    return undefined;\n                }\n                throw new Error(`Namespace \"${label}\" doesn't know key \"${String(key)}\"`);\n            }\n            return target[key];\n        },\n        set: (target, k, newValue) => {\n            const key = _trimDollarKey(String(k));\n            if (target.hasOwnProperty(key)) {\n                throw new Error(`Key \"${String(key)}\" is protected and cannot be overwritten.`);\n            }\n            else {\n                target[key] = newValue;\n            }\n            return newValue;\n        },\n    });\n};\nconst nodeNamespaceLabel = (node, namespaceName) => `${node.type}:${node.id}${namespaceName ? `:${namespaceName}` : ''}`;\nconst _trimDollarKey = (key) => {\n    const match = /\\$(.*)/.exec(key);\n    if (!match) {\n        return key;\n    }\n    else {\n        return match[1];\n    }\n};\n\nexport { createNamespace, nodeNamespaceLabel };\n","import { mapObject } from '../functional-helpers.js';\nimport { getNode } from '../dsp-graph/getters.js';\nimport { createNamespace, nodeNamespaceLabel } from './namespace.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * Generates the whole set of variable names for a compilation for a given graph.\n *\n * @param nodeImplementations\n * @param graph\n * @returns\n */\nconst generateVariableNamesIndex = (graph, debug) => createNamespace('variableNamesIndex', {\n    nodes: createNamespace('nodes', mapObject(graph, (node) => createNamespace(nodeNamespaceLabel(node), {\n        // No need for `ins` here, as signal inlets will always directly be assigned\n        // the outlet from their source node.\n        messageReceivers: createNamespace(nodeNamespaceLabel(node, 'messageReceivers'), {}),\n        messageSenders: createNamespace(nodeNamespaceLabel(node, 'messageSenders'), {}),\n        signalOuts: createNamespace(nodeNamespaceLabel(node, 'signalOuts'), {}),\n        state: `${_namePrefix(debug, node)}_STATE`,\n    }))),\n    globs: generateVariableNamesGlobs(),\n    io: {\n        messageReceivers: createNamespace('io:messageReceivers', {}),\n        messageSenders: createNamespace('io:messageSenders', {}),\n    },\n});\nconst generateVariableNamesGlobs = () => createNamespace('globs', {\n    iterFrame: 'F',\n    frame: 'FRAME',\n    blockSize: 'BLOCK_SIZE',\n    sampleRate: 'SAMPLE_RATE',\n    output: 'OUTPUT',\n    input: 'INPUT',\n    nullMessageReceiver: 'SND_TO_NULL',\n    nullSignal: 'NULL_SIGNAL',\n});\nconst attachNodePortlet = (compilation, nsKey, nodeId, portletId) => {\n    const { graph, variableNamesIndex, settings: { debug }, } = compilation;\n    const nodeVariableNames = variableNamesIndex.nodes[nodeId];\n    const sinkNode = getNode(graph, nodeId);\n    const prefix = _namePrefix(debug, sinkNode);\n    // Shouldnt throw an error if the variable already exists, as precompile might try to\n    // declare it several times.\n    if (!(portletId in nodeVariableNames[nsKey])) {\n        nodeVariableNames[nsKey][portletId] = {\n            signalOuts: `${prefix}_OUTS_${_v(portletId)}`,\n            messageSenders: `${prefix}_SNDS_${_v(portletId)}`,\n            messageReceivers: `${prefix}_RCVS_${_v(portletId)}`,\n        }[nsKey];\n    }\n    return nodeVariableNames[nsKey][portletId];\n};\n/**\n * Helper that attaches to the generated `variableNamesIndex` the names of specified outlet listeners\n * and inlet callers.\n */\nconst attachIoMessages = ({ graph, variableNamesIndex, settings: { io }, }) => ['messageReceivers', 'messageSenders'].forEach((nsKey) => {\n    const specs = (nsKey === 'messageReceivers'\n        ? io.messageReceivers\n        : io.messageSenders) || {};\n    Object.entries(specs).forEach(([nodeId, spec]) => {\n        const node = getNode(graph, nodeId);\n        variableNamesIndex.io[nsKey][nodeId] = createNamespace(nodeNamespaceLabel(node, nsKey), {});\n        spec.portletIds.forEach((outletId) => {\n            variableNamesIndex.io[nsKey][nodeId][outletId] = `io${nsKey === 'messageReceivers' ? 'Rcv' : 'Snd'}_${nodeId}_${outletId}`;\n        });\n    });\n});\nconst assertValidNamePart = (namePart) => {\n    const isInvalid = !VALID_NAME_PART_REGEXP.exec(namePart);\n    if (isInvalid) {\n        throw new Error(`Invalid variable name for code generation \"${namePart}\"`);\n    }\n    return namePart;\n};\nconst _v = assertValidNamePart;\nconst _nodeType = (nodeType) => nodeType.replace(/[^a-zA-Z0-9_]/g, '');\nconst _namePrefix = (debug, node) => debug ? _v(`${_nodeType(node.type)}_${node.id}`) : _v(node.id);\nconst VALID_NAME_PART_REGEXP = /^[a-zA-Z0-9_]+$/;\n\nexport { assertValidNamePart, attachIoMessages, attachNodePortlet, generateVariableNamesGlobs, generateVariableNamesIndex };\n","import { Sequence, ConstVar, Class, Var, Func } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst sked = ({ target }) => {\n    const content = [];\n    if (target === 'assemblyscript') {\n        content.push(`\n            type SkedCallback = (event: SkedEvent) => void\n            type SkedId = Int\n            type SkedMode = Int\n            type SkedEvent = string\n        `);\n    }\n    return Sequence([\n        ...content,\n        /**\n         * Skeduler id that will never be used.\n         * Can be used as a \"no id\", or \"null\" value.\n         */\n        ConstVar('SkedId', 'SKED_ID_NULL', '-1'),\n        ConstVar('SkedId', 'SKED_ID_COUNTER_INIT', '1'),\n        ConstVar('Int', '_SKED_WAIT_IN_PROGRESS', '0'),\n        ConstVar('Int', '_SKED_WAIT_OVER', '1'),\n        ConstVar('Int', '_SKED_MODE_WAIT', '0'),\n        ConstVar('Int', '_SKED_MODE_SUBSCRIBE', '1'),\n        // =========================== SKED API\n        Class('SkedRequest', [\n            Var('SkedId', 'id'),\n            Var('SkedMode', 'mode'),\n            Var('SkedCallback', 'callback'),\n        ]),\n        Class('Skeduler', [\n            Var('Map<SkedEvent, Array<SkedId>>', 'events'),\n            Var('Map<SkedId, SkedRequest>', 'requests'),\n            Var('boolean', 'isLoggingEvents'),\n            Var('Set<SkedEvent>', 'eventLog'),\n            Var('SkedId', 'idCounter'),\n        ]),\n        /** Creates a new Skeduler. */\n        Func('sked_create', [\n            Var('boolean', 'isLoggingEvents')\n        ], 'Skeduler') `\n            return {\n                eventLog: new Set(),\n                events: new Map(),\n                requests: new Map(),\n                idCounter: SKED_ID_COUNTER_INIT,\n                isLoggingEvents,\n            }\n        `,\n        /**\n         * Asks the skeduler to wait for an event to occur and trigger a callback.\n         * If the event has already occurred, the callback is triggered instantly\n         * when calling the function.\n         * Once triggered, the callback is forgotten.\n         * @returns an id allowing to cancel the callback with {@link sked_cancel}\n         */\n        Func('sked_wait', [\n            Var('Skeduler', 'skeduler'),\n            Var('SkedEvent', 'event'),\n            Var('SkedCallback', 'callback'),\n        ], 'SkedId') `\n            if (skeduler.isLoggingEvents === false) {\n                throw new Error(\"Please activate skeduler's isLoggingEvents\")\n            }\n\n            if (skeduler.eventLog.has(event)) {\n                callback(event)\n                return SKED_ID_NULL\n            } else {\n                return _sked_createRequest(skeduler, event, callback, _SKED_MODE_WAIT)\n            }\n        `,\n        /**\n         * Asks the skeduler to wait for an event to occur and trigger a callback.\n         * If the event has already occurred, the callback is NOT triggered immediatelly.\n         * Once triggered, the callback is forgotten.\n         * @returns an id allowing to cancel the callback with {@link sked_cancel}\n         */\n        Func('sked_wait_future', [\n            Var('Skeduler', 'skeduler'),\n            Var('SkedEvent', 'event'),\n            Var('SkedCallback', 'callback'),\n        ], 'SkedId') `\n            return _sked_createRequest(skeduler, event, callback, _SKED_MODE_WAIT)\n        `,\n        /**\n         * Asks the skeduler to trigger a callback everytime an event occurs\n         * @returns an id allowing to cancel the callback with {@link sked_cancel}\n         */\n        Func('sked_subscribe', [\n            Var('Skeduler', 'skeduler'),\n            Var('SkedEvent', 'event'),\n            Var('SkedCallback', 'callback'),\n        ], 'SkedId') `\n            return _sked_createRequest(skeduler, event, callback, _SKED_MODE_SUBSCRIBE)\n        `,\n        /** Notifies the skeduler that an event has just occurred. */\n        Func('sked_emit', [\n            Var('Skeduler', 'skeduler'),\n            Var('SkedEvent', 'event')\n        ], 'void') `\n            if (skeduler.isLoggingEvents === true) {\n                skeduler.eventLog.add(event)\n            }\n            if (skeduler.events.has(event)) {\n                ${ConstVar('Array<SkedId>', 'skedIds', 'skeduler.events.get(event)')}\n                ${ConstVar('Array<SkedId>', 'skedIdsStaying', '[]')}\n                for (${Var('Int', 'i', '0')}; i < skedIds.length; i++) {\n                    if (skeduler.requests.has(skedIds[i])) {\n                        ${ConstVar('SkedRequest', 'request', 'skeduler.requests.get(skedIds[i])')}\n                        request.callback(event)\n                        if (request.mode === _SKED_MODE_WAIT) {\n                            skeduler.requests.delete(request.id)\n                        } else {\n                            skedIdsStaying.push(request.id)\n                        }\n                    }\n                }\n                skeduler.events.set(event, skedIdsStaying)\n            }\n        `,\n        /** Cancels a callback */\n        Func('sked_cancel', [\n            Var('Skeduler', 'skeduler'),\n            Var('SkedId', 'id'),\n        ], 'void') `\n            skeduler.requests.delete(id)\n        `,\n        // =========================== PRIVATE\n        Func('_sked_createRequest', [\n            Var('Skeduler', 'skeduler'),\n            Var('SkedEvent', 'event'),\n            Var('SkedCallback', 'callback'),\n            Var('SkedMode', 'mode'),\n        ], 'SkedId') `\n            ${ConstVar('SkedId', 'id', '_sked_nextId(skeduler)')}\n            ${ConstVar('SkedRequest', 'request', `{\n                id, \n                mode, \n                callback,\n            }`)}\n            skeduler.requests.set(id, request)\n            if (!skeduler.events.has(event)) {\n                skeduler.events.set(event, [id])    \n            } else {\n                skeduler.events.get(event).push(id)\n            }\n            return id\n        `,\n        Func('_sked_nextId', [\n            Var('Skeduler', 'skeduler')\n        ], 'SkedId') `\n            return skeduler.idCounter++\n        `,\n    ]);\n};\n\nexport { sked };\n","import { Sequence, Func, Var, ConstVar } from '../ast/declare.js';\nimport { sked } from './sked.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst commonsCore = {\n    codeGenerator: () => Sequence([\n        ConstVar('Skeduler', '_commons_ENGINE_LOGGED_SKEDULER', 'sked_create(true)'),\n        ConstVar('Skeduler', '_commons_FRAME_SKEDULER', 'sked_create(false)'),\n        Func('_commons_emitEngineConfigure') `\n            sked_emit(_commons_ENGINE_LOGGED_SKEDULER, 'configure')\n        `,\n        Func('_commons_emitFrame', [\n            Var('Int', 'frame')\n        ], 'void') `\n            sked_emit(_commons_FRAME_SKEDULER, frame.toString())\n        `\n    ]),\n    dependencies: [sked],\n};\nconst commonsArrays = {\n    codeGenerator: () => Sequence([\n        ConstVar('Map<string, FloatArray>', '_commons_ARRAYS', 'new Map()'),\n        ConstVar('Skeduler', '_commons_ARRAYS_SKEDULER', 'sked_create(false)'),\n        /** Gets an named array, throwing an error if the array doesn't exist. */\n        Func('commons_getArray', [\n            Var('string', 'arrayName')\n        ], 'FloatArray') `\n            if (!_commons_ARRAYS.has(arrayName)) {\n                throw new Error('Unknown array ' + arrayName)\n            }\n            return _commons_ARRAYS.get(arrayName)\n        `,\n        Func('commons_hasArray', [\n            Var('string', 'arrayName')\n        ], 'boolean') `\n            return _commons_ARRAYS.has(arrayName)\n        `,\n        Func('commons_setArray', [\n            Var('string', 'arrayName'),\n            Var('FloatArray', 'array'),\n        ], 'void') `\n            _commons_ARRAYS.set(arrayName, array)\n            sked_emit(_commons_ARRAYS_SKEDULER, arrayName)\n        `,\n        /**\n         * @param callback Called immediately if the array exists, and subsequently, everytime\n         * the array is set again.\n         * @returns An id that can be used to cancel the subscription.\n         */\n        Func('commons_subscribeArrayChanges', [\n            Var('string', 'arrayName'),\n            Var('SkedCallback', 'callback'),\n        ], 'SkedId') `\n            const id = sked_subscribe(_commons_ARRAYS_SKEDULER, arrayName, callback)\n            if (_commons_ARRAYS.has(arrayName)) {\n                callback(arrayName)\n            }\n            return id\n        `,\n        /**\n         * @param id The id received when subscribing.\n         */\n        Func('commons_cancelArrayChangesSubscription', [\n            Var('SkedId', 'id')\n        ], 'void') `\n            sked_cancel(_commons_ARRAYS_SKEDULER, id)\n        `,\n    ]),\n    exports: [{ name: 'commons_getArray' }, { name: 'commons_setArray' }],\n};\nconst commonsWaitEngineConfigure = {\n    codeGenerator: () => Sequence([\n        /**\n         * @param callback Called when the engine is configured, or immediately if the engine\n         * was already configured.\n         */\n        Func('commons_waitEngineConfigure', [\n            Var('SkedCallback', 'callback'),\n        ], 'void') `\n            sked_wait(_commons_ENGINE_LOGGED_SKEDULER, 'configure', callback)\n        `\n    ]),\n    dependencies: [commonsCore],\n};\nconst commonsWaitFrame = {\n    codeGenerator: () => Sequence([\n        /**\n         * Schedules a callback to be called at the given frame.\n         * If the frame already occurred, or is the current frame, the callback won't be executed.\n         */\n        Func('commons_waitFrame', [\n            Var('Int', 'frame'),\n            Var('SkedCallback', 'callback'),\n        ], 'SkedId') `\n            return sked_wait_future(_commons_FRAME_SKEDULER, frame.toString(), callback)\n        `,\n        /**\n         * Cancels waiting for a frame to occur.\n         */\n        Func('commons_cancelWaitFrame', [\n            Var('SkedId', 'id')\n        ], 'void') `\n            sked_cancel(_commons_FRAME_SKEDULER, id)\n        `,\n    ]),\n    dependencies: [commonsCore],\n};\n\nexport { commonsArrays, commonsCore, commonsWaitEngineConfigure, commonsWaitFrame };\n","import { Func, Var, Sequence } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst core = {\n    codeGenerator: ({ target, audioSettings: { bitDepth } }) => {\n        const Int = 'i32';\n        const Float = bitDepth === 32 ? 'f32' : 'f64';\n        const FloatArray = bitDepth === 32 ? 'Float32Array' : 'Float64Array';\n        const getFloat = bitDepth === 32 ? 'getFloat32' : 'getFloat64';\n        const setFloat = bitDepth === 32 ? 'setFloat32' : 'setFloat64';\n        const declareFuncs = {\n            toInt: Func('toInt', [Var('Float', 'v')], 'Int'),\n            toFloat: Func('toFloat', [Var('Int', 'v')], 'Float'),\n            createFloatArray: Func('createFloatArray', [Var('Int', 'length')], 'FloatArray'),\n            setFloatDataView: Func('setFloatDataView', [\n                Var('DataView', 'dataView'),\n                Var('Int', 'position'),\n                Var('Float', 'value'),\n            ], 'void'),\n            getFloatDataView: Func('getFloatDataView', [\n                Var('DataView', 'dataView'),\n                Var('Int', 'position'),\n            ], 'Float')\n        };\n        if (target === 'assemblyscript') {\n            return Sequence([\n                `\n                type FloatArray = ${FloatArray}\n                type Float = ${Float}\n                type Int = ${Int}\n                `,\n                declareFuncs.toInt `\n                    return ${Int}(v)\n                `,\n                declareFuncs.toFloat `\n                    return ${Float}(v)\n                `,\n                declareFuncs.createFloatArray `\n                    return new ${FloatArray}(length)\n                `,\n                declareFuncs.setFloatDataView `\n                    dataView.${setFloat}(position, value)\n                `,\n                declareFuncs.getFloatDataView `\n                    return dataView.${getFloat}(position)\n                `,\n                // =========================== EXPORTED API\n                Func('x_core_createListOfArrays', [], 'FloatArray[]') `\n                    const arrays: FloatArray[] = []\n                    return arrays\n                `,\n                Func('x_core_pushToListOfArrays', [\n                    Var('FloatArray[]', 'arrays'),\n                    Var('FloatArray', 'array')\n                ], 'void') `\n                    arrays.push(array)\n                `,\n                Func('x_core_getListOfArraysLength', [\n                    Var('FloatArray[]', 'arrays')\n                ], 'Int') `\n                    return arrays.length\n                `,\n                Func('x_core_getListOfArraysElem', [\n                    Var('FloatArray[]', 'arrays'),\n                    Var('Int', 'index')\n                ], 'FloatArray') `\n                    return arrays[index]\n                `\n            ]);\n        }\n        else if (target === 'javascript') {\n            return Sequence([\n                `\n                const i32 = (v) => v\n                const f32 = i32\n                const f64 = i32\n                `,\n                declareFuncs.toInt `\n                    return v\n                `,\n                declareFuncs.toFloat `\n                    return v\n                `,\n                declareFuncs.createFloatArray `\n                    return new ${FloatArray}(length)\n                `,\n                declareFuncs.setFloatDataView `\n                    dataView.${setFloat}(position, value)\n                `,\n                declareFuncs.getFloatDataView `\n                    return dataView.${getFloat}(position)\n                `,\n            ]);\n        }\n        else {\n            throw new Error(`Unexpected target: ${target}`);\n        }\n    },\n    exports: [\n        { name: 'x_core_createListOfArrays', targets: ['assemblyscript'] },\n        { name: 'x_core_pushToListOfArrays', targets: ['assemblyscript'] },\n        { name: 'x_core_getListOfArraysLength', targets: ['assemblyscript'] },\n        { name: 'x_core_getListOfArraysElem', targets: ['assemblyscript'] },\n        { name: 'createFloatArray', targets: ['assemblyscript'] },\n    ],\n};\n\nexport { core };\n","import { Sequence, Class, Var, Func, ConstVar } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst bufCore = () => Sequence([\n    /**\n     * Ring buffer\n     */\n    Class('buf_SoundBuffer', [\n        Var('FloatArray', 'data'),\n        Var('Int', 'length'),\n        Var('Int', 'writeCursor'),\n        Var('Int', 'pullAvailableLength'),\n    ]),\n    /** Erases all the content from the buffer */\n    Func('buf_clear', [\n        Var('buf_SoundBuffer', 'buffer')\n    ], 'void') `\n        buffer.data.fill(0)\n    `,\n    /** Erases all the content from the buffer */\n    Func('buf_create', [\n        Var('Int', 'length')\n    ], 'buf_SoundBuffer') `\n        return {\n            data: createFloatArray(length),\n            length: length,\n            writeCursor: 0,\n            pullAvailableLength: 0,\n        }\n    `\n]);\nconst bufPushPull = {\n    codeGenerator: () => Sequence([\n        /**\n         * Pushes a block to the buffer, throwing an error if the buffer is full.\n         * If the block is written successfully, {@link buf_SoundBuffer#writeCursor}\n         * is moved corresponding with the length of data written.\n         *\n         * @todo : Optimize by allowing to read/write directly from host\n         */\n        Func('buf_pushBlock', [\n            Var('buf_SoundBuffer', 'buffer'),\n            Var('FloatArray', 'block')\n        ], 'Int') `\n            if (buffer.pullAvailableLength + block.length > buffer.length) {\n                throw new Error('buffer full')\n            }\n\n            ${Var('Int', 'left', 'block.length')}\n            while (left > 0) {\n                ${ConstVar('Int', 'lengthToWrite', `toInt(Math.min(\n                    toFloat(buffer.length - buffer.writeCursor), \n                    toFloat(left),\n                ))`)}\n                buffer.data.set(\n                    block.subarray(\n                        block.length - left, \n                        block.length - left + lengthToWrite\n                    ), \n                    buffer.writeCursor\n                )\n                left -= lengthToWrite\n                buffer.writeCursor = (buffer.writeCursor + lengthToWrite) % buffer.length\n                buffer.pullAvailableLength += lengthToWrite\n            }\n            return buffer.pullAvailableLength\n        `,\n        /**\n         * Pulls a single sample from the buffer.\n         * This is a destructive operation, and the sample will be\n         * unavailable for subsequent readers with the same operation.\n         */\n        Func('buf_pullSample', [\n            Var('buf_SoundBuffer', 'buffer')\n        ], 'Float') `\n            if (buffer.pullAvailableLength <= 0) {\n                return 0\n            }\n            ${ConstVar('Int', 'readCursor', 'buffer.writeCursor - buffer.pullAvailableLength')}\n            buffer.pullAvailableLength -= 1\n            return buffer.data[readCursor >= 0 ? readCursor : buffer.length + readCursor]\n        `\n    ]),\n    dependencies: [bufCore],\n};\nconst bufWriteRead = {\n    codeGenerator: () => Sequence([\n        /**\n         * Writes a sample at \\`@link writeCursor\\` and increments \\`writeCursor\\` by one.\n         */\n        Func('buf_writeSample', [\n            Var('buf_SoundBuffer', 'buffer'),\n            Var('Float', 'value')\n        ], 'void') `\n            buffer.data[buffer.writeCursor] = value\n            buffer.writeCursor = (buffer.writeCursor + 1) % buffer.length\n        `,\n        /**\n         * Reads the sample at position \\`writeCursor - offset\\`.\n         * @param offset Must be between 0 (for reading the last written sample)\n         *  and {@link buf_SoundBuffer#length} - 1. A value outside these bounds will not cause\n         *  an error, but might cause unexpected results.\n         */\n        Func('buf_readSample', [\n            Var('buf_SoundBuffer', 'buffer'),\n            Var('Int', 'offset')\n        ], 'Float') `\n            // R = (buffer.writeCursor - 1 - offset) -> ideal read position\n            // W = R % buffer.length -> wrap it so that its within buffer length bounds (but could be negative)\n            // (W + buffer.length) % buffer.length -> if W negative, (W + buffer.length) shifts it back to positive.\n            return buffer.data[(buffer.length + ((buffer.writeCursor - 1 - offset) % buffer.length)) % buffer.length]\n        `\n    ]),\n    dependencies: [bufCore],\n};\n\nexport { bufCore, bufPushPull, bufWriteRead };\n","import { Func, Var, Sequence, ConstVar, Class } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst msg = {\n    codeGenerator: ({ target }) => {\n        const declareFuncs = {\n            msg_create: Func('msg_create', [Var('MessageTemplate', 'template')], 'Message'),\n            msg_writeStringToken: Func('msg_writeStringToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n                Var('string', 'value'),\n            ], 'void'),\n            msg_writeFloatToken: Func('msg_writeFloatToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n                Var('MessageFloatToken', 'value'),\n            ], 'void'),\n            msg_readStringToken: Func('msg_readStringToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'string'),\n            msg_readFloatToken: Func('msg_readFloatToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'MessageFloatToken'),\n            msg_getLength: Func('msg_getLength', [\n                Var('Message', 'message')\n            ], 'Int'),\n            msg_getTokenType: Func('msg_getTokenType', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'Int'),\n            msg_isStringToken: Func('msg_isStringToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'boolean'),\n            msg_isFloatToken: Func('msg_isFloatToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'boolean'),\n            msg_isMatching: Func('msg_isMatching', [\n                Var('Message', 'message'),\n                Var('Array<MessageHeaderEntry>', 'tokenTypes'),\n            ], 'boolean'),\n            msg_floats: Func('msg_floats', [\n                Var('Array<Float>', 'values'),\n            ], 'Message'),\n            msg_strings: Func('msg_strings', [\n                Var('Array<string>', 'values'),\n            ], 'Message'),\n            msg_display: Func('msg_display', [\n                Var('Message', 'message'),\n            ], 'string')\n        };\n        if (target === 'assemblyscript') {\n            return Sequence([\n                `\n                type MessageFloatToken = Float\n                type MessageCharToken = Int\n\n                type MessageTemplate = Array<Int>\n                type MessageHeaderEntry = Int\n                type MessageHeader = Int32Array\n                `,\n                ConstVar('MessageHeaderEntry', 'MSG_FLOAT_TOKEN', '0'),\n                ConstVar('MessageHeaderEntry', 'MSG_STRING_TOKEN', '1'),\n                // =========================== EXPORTED API\n                Func('x_msg_create', [\n                    Var('Int32Array', 'templateTypedArray')\n                ], 'Message') `\n                    const template: MessageTemplate = new Array<Int>(templateTypedArray.length)\n                    for (let i: Int = 0; i < templateTypedArray.length; i++) {\n                        template[i] = templateTypedArray[i]\n                    }\n                    return msg_create(template)\n                `,\n                Func('x_msg_getTokenTypes', [\n                    Var('Message', 'message')\n                ], 'MessageHeader') `\n                    return message.tokenTypes\n                `,\n                Func('x_msg_createTemplate', [\n                    Var('i32', 'length')\n                ], 'Int32Array') `\n                    return new Int32Array(length)\n                `,\n                // =========================== MSG API\n                declareFuncs.msg_create `\n                    let i: Int = 0\n                    let byteCount: Int = 0\n                    let tokenTypes: Array<MessageHeaderEntry> = []\n                    let tokenPositions: Array<MessageHeaderEntry> = []\n\n                    i = 0\n                    while (i < template.length) {\n                        switch(template[i]) {\n                            case MSG_FLOAT_TOKEN:\n                                byteCount += sizeof<MessageFloatToken>()\n                                tokenTypes.push(MSG_FLOAT_TOKEN)\n                                tokenPositions.push(byteCount)\n                                i += 1\n                                break\n                            case MSG_STRING_TOKEN:\n                                byteCount += sizeof<MessageCharToken>() * template[i + 1]\n                                tokenTypes.push(MSG_STRING_TOKEN)\n                                tokenPositions.push(byteCount)\n                                i += 2\n                                break\n                            default:\n                                throw new Error(\"unknown token type : \" + template[i].toString())\n                        }\n                    }\n\n                    const tokenCount = tokenTypes.length\n                    const headerByteCount = _msg_computeHeaderLength(tokenCount) * sizeof<MessageHeaderEntry>()\n                    byteCount += headerByteCount\n\n                    const buffer = new ArrayBuffer(byteCount)\n                    const dataView = new DataView(buffer)\n                    let writePosition: Int = 0\n                    \n                    dataView.setInt32(writePosition, tokenCount)\n                    writePosition += sizeof<MessageHeaderEntry>()\n\n                    for (i = 0; i < tokenCount; i++) {\n                        dataView.setInt32(writePosition, tokenTypes[i])\n                        writePosition += sizeof<MessageHeaderEntry>()\n                    }\n\n                    dataView.setInt32(writePosition, headerByteCount)\n                    writePosition += sizeof<MessageHeaderEntry>()\n                    for (i = 0; i < tokenCount; i++) {\n                        dataView.setInt32(writePosition, headerByteCount + tokenPositions[i])\n                        writePosition += sizeof<MessageHeaderEntry>()\n                    }\n\n                    const header = _msg_unpackHeader(dataView, tokenCount)\n                    return {\n                        dataView,\n                        tokenCount,\n                        header,\n                        tokenTypes: _msg_unpackTokenTypes(header),\n                        tokenPositions: _msg_unpackTokenPositions(header),\n                    }\n                `,\n                declareFuncs.msg_writeStringToken `\n                    const startPosition = message.tokenPositions[tokenIndex]\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\n                    const expectedStringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\n                    if (value.length !== expectedStringLength) {\n                        throw new Error('Invalid string size, specified ' + expectedStringLength.toString() + ', received ' + value.length.toString())\n                    }\n\n                    for (let i = 0; i < value.length; i++) {\n                        message.dataView.setInt32(\n                            startPosition + i * sizeof<MessageCharToken>(), \n                            value.codePointAt(i)\n                        )\n                    }\n                `,\n                declareFuncs.msg_writeFloatToken `\n                    setFloatDataView(message.dataView, message.tokenPositions[tokenIndex], value)\n                `,\n                declareFuncs.msg_readStringToken `\n                    const startPosition = message.tokenPositions[tokenIndex]\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\n                    const stringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\n                    let value: string = ''\n                    for (let i = 0; i < stringLength; i++) {\n                        value += String.fromCodePoint(message.dataView.getInt32(startPosition + sizeof<MessageCharToken>() * i))\n                    }\n                    return value\n                `,\n                declareFuncs.msg_readFloatToken `\n                    return getFloatDataView(message.dataView, message.tokenPositions[tokenIndex])\n                `,\n                declareFuncs.msg_getLength `\n                    return message.tokenTypes.length\n                `,\n                declareFuncs.msg_getTokenType `\n                    return message.tokenTypes[tokenIndex]\n                `,\n                declareFuncs.msg_isStringToken `\n                    return msg_getTokenType(message, tokenIndex) === MSG_STRING_TOKEN\n                `,\n                declareFuncs.msg_isFloatToken `\n                    return msg_getTokenType(message, tokenIndex) === MSG_FLOAT_TOKEN\n                `,\n                declareFuncs.msg_isMatching `\n                    if (message.tokenTypes.length !== tokenTypes.length) {\n                        return false\n                    }\n                    for (let i: Int = 0; i < tokenTypes.length; i++) {\n                        if (message.tokenTypes[i] !== tokenTypes[i]) {\n                            return false\n                        }\n                    }\n                    return true\n                `,\n                declareFuncs.msg_floats `\n                    const message: Message = msg_create(values.map<MessageHeaderEntry>(v => MSG_FLOAT_TOKEN))\n                    for (let i: Int = 0; i < values.length; i++) {\n                        msg_writeFloatToken(message, i, values[i])\n                    }\n                    return message\n                `,\n                declareFuncs.msg_strings `\n                    const template: MessageTemplate = []\n                    for (let i: Int = 0; i < values.length; i++) {\n                        template.push(MSG_STRING_TOKEN)\n                        template.push(values[i].length)\n                    }\n                    const message: Message = msg_create(template)\n                    for (let i: Int = 0; i < values.length; i++) {\n                        msg_writeStringToken(message, i, values[i])\n                    }\n                    return message\n                `,\n                declareFuncs.msg_display `\n                    let displayArray: Array<string> = []\n                    for (let i: Int = 0; i < msg_getLength(message); i++) {\n                        if (msg_isFloatToken(message, i)) {\n                            displayArray.push(msg_readFloatToken(message, i).toString())\n                        } else {\n                            displayArray.push('\"' + msg_readStringToken(message, i) + '\"')\n                        }\n                    }\n                    return '[' + displayArray.join(', ') + ']'\n                `,\n                // =========================== PRIVATE\n                // Message header : [\n                //      <Token count>, \n                //      <Token 1 type>,  ..., <Token N type>, \n                //      <Token 1 start>, ..., <Token N start>, <Token N end>\n                //      ... DATA ...\n                // ]\n                Class('Message', [\n                    Var('DataView', 'dataView'),\n                    Var('MessageHeader', 'header'),\n                    Var('MessageHeaderEntry', 'tokenCount'),\n                    Var('MessageHeader', 'tokenTypes'),\n                    Var('MessageHeader', 'tokenPositions'),\n                ]),\n                Func('_msg_computeHeaderLength', [\n                    Var('Int', 'tokenCount')\n                ], 'Int') `\n                    return 1 + tokenCount * 2 + 1\n                `,\n                Func('_msg_unpackTokenCount', [\n                    Var('DataView', 'messageDataView')\n                ], 'MessageHeaderEntry') `\n                    return messageDataView.getInt32(0)\n                `,\n                Func('_msg_unpackHeader', [\n                    Var('DataView', 'messageDataView'),\n                    Var('MessageHeaderEntry', 'tokenCount'),\n                ], 'MessageHeader') `\n                    const headerLength = _msg_computeHeaderLength(tokenCount)\n                    // TODO : why is this \\`wrap\\` not working ?\n                    // return Int32Array.wrap(messageDataView.buffer, 0, headerLength)\n                    const messageHeader = new Int32Array(headerLength)\n                    for (let i = 0; i < headerLength; i++) {\n                        messageHeader[i] = messageDataView.getInt32(sizeof<MessageHeaderEntry>() * i)\n                    }\n                    return messageHeader\n                `,\n                Func('_msg_unpackTokenTypes', [\n                    Var('MessageHeader', 'header'),\n                ], 'MessageHeader') `\n                    return header.slice(1, 1 + header[0])\n                `,\n                Func('_msg_unpackTokenPositions', [\n                    Var('MessageHeader', 'header'),\n                ], 'MessageHeader') `\n                    return header.slice(1 + header[0])\n                `,\n            ]);\n        }\n        else if (target === 'javascript') {\n            return Sequence([\n                ConstVar('string', 'MSG_FLOAT_TOKEN', '\"number\"'),\n                ConstVar('string', 'MSG_STRING_TOKEN', '\"string\"'),\n                declareFuncs.msg_create `\n                    const m = []\n                    let i = 0\n                    while (i < template.length) {\n                        if (template[i] === MSG_STRING_TOKEN) {\n                            m.push('')\n                            i += 2\n                        } else if (template[i] === MSG_FLOAT_TOKEN) {\n                            m.push(0)\n                            i += 1\n                        }\n                    }\n                    return m\n                `,\n                declareFuncs.msg_getLength `\n                    return message.length\n                `,\n                declareFuncs.msg_getTokenType `\n                    return typeof message[tokenIndex]\n                `,\n                declareFuncs.msg_isStringToken `\n                    return msg_getTokenType(message, tokenIndex) === 'string'\n                `,\n                declareFuncs.msg_isFloatToken `\n                    return msg_getTokenType(message, tokenIndex) === 'number'\n                `,\n                declareFuncs.msg_isMatching `\n                    return (message.length === tokenTypes.length) \n                        && message.every((v, i) => msg_getTokenType(message, i) === tokenTypes[i])\n                `,\n                declareFuncs.msg_writeFloatToken `\n                    message[tokenIndex] = value\n                `,\n                declareFuncs.msg_writeStringToken `\n                    message[tokenIndex] = value\n                `,\n                declareFuncs.msg_readFloatToken `\n                    return message[tokenIndex]\n                `,\n                declareFuncs.msg_readStringToken `\n                    return message[tokenIndex]\n                `,\n                declareFuncs.msg_floats `\n                    return values\n                `,\n                declareFuncs.msg_strings `\n                    return values\n                `,\n                declareFuncs.msg_display `\n                    return '[' + message\n                        .map(t => typeof t === 'string' ? '\"' + t + '\"' : t.toString())\n                        .join(', ') + ']'\n                `,\n            ]);\n        }\n        else {\n            throw new Error(`Unexpected target: ${target}`);\n        }\n    },\n    exports: [\n        { name: 'x_msg_create', targets: ['assemblyscript'] },\n        { name: 'x_msg_getTokenTypes', targets: ['assemblyscript'] },\n        { name: 'x_msg_createTemplate', targets: ['assemblyscript'] },\n        { name: 'msg_writeStringToken', targets: ['assemblyscript'] },\n        { name: 'msg_writeFloatToken', targets: ['assemblyscript'] },\n        { name: 'msg_readStringToken', targets: ['assemblyscript'] },\n        { name: 'msg_readFloatToken', targets: ['assemblyscript'] },\n        { name: 'MSG_FLOAT_TOKEN', targets: ['assemblyscript'] },\n        { name: 'MSG_STRING_TOKEN', targets: ['assemblyscript'] },\n    ],\n};\n\nexport { msg };\n","import { bufCore, bufPushPull } from './buf.js';\nimport { msg } from './msg.js';\nimport { Sequence, Func, Var, ConstVar, Class } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst FS_OPERATION_SUCCESS = 0;\nconst FS_OPERATION_FAILURE = 1;\nconst fsCore = {\n    codeGenerator: ({ target }) => {\n        const content = [];\n        if (target === 'assemblyscript') {\n            content.push(`\n                type fs_OperationId = Int\n                type fs_OperationStatus = Int\n                type fs_OperationCallback = (id: fs_OperationId, status: fs_OperationStatus) => void\n                type fs_OperationSoundCallback = (id: fs_OperationId, status: fs_OperationStatus, sound: FloatArray[]) => void\n                type fs_Url = string\n            `);\n        }\n        return Sequence([\n            ...content,\n            ConstVar('Int', 'FS_OPERATION_SUCCESS', FS_OPERATION_SUCCESS.toString()),\n            ConstVar('Int', 'FS_OPERATION_FAILURE', FS_OPERATION_FAILURE.toString()),\n            ConstVar('Set<fs_OperationId>', '_FS_OPERATIONS_IDS', 'new Set()'),\n            ConstVar('Map<fs_OperationId, fs_OperationCallback>', '_FS_OPERATIONS_CALLBACKS', 'new Map()'),\n            ConstVar('Map<fs_OperationId, fs_OperationSoundCallback>', '_FS_OPERATIONS_SOUND_CALLBACKS', 'new Map()'),\n            // We start at 1, because 0 is what ASC uses when host forgets to pass an arg to \n            // a function. Therefore we can get false negatives when a test happens to expect a 0.\n            Var('Int', '_FS_OPERATION_COUNTER', '1'),\n            Class('fs_SoundInfo', [\n                Var('Int', 'channelCount'),\n                Var('Int', 'sampleRate'),\n                Var('Int', 'bitDepth'),\n                Var('string', 'encodingFormat'),\n                Var('string', 'endianness'),\n                Var('string', 'extraOptions'),\n            ]),\n            Func('fs_soundInfoToMessage', [\n                Var('fs_SoundInfo', 'soundInfo')\n            ], 'Message') `\n                ${ConstVar('Message', 'info', `msg_create([\n                    MSG_FLOAT_TOKEN,\n                    MSG_FLOAT_TOKEN,\n                    MSG_FLOAT_TOKEN,\n                    MSG_STRING_TOKEN,\n                    soundInfo.encodingFormat.length,\n                    MSG_STRING_TOKEN,\n                    soundInfo.endianness.length,\n                    MSG_STRING_TOKEN,\n                    soundInfo.extraOptions.length\n                ])`)}\n                msg_writeFloatToken(info, 0, toFloat(soundInfo.channelCount))\n                msg_writeFloatToken(info, 1, toFloat(soundInfo.sampleRate))\n                msg_writeFloatToken(info, 2, toFloat(soundInfo.bitDepth))\n                msg_writeStringToken(info, 3, soundInfo.encodingFormat)\n                msg_writeStringToken(info, 4, soundInfo.endianness)\n                msg_writeStringToken(info, 5, soundInfo.extraOptions)\n                return info\n            `,\n            Func('_fs_assertOperationExists', [\n                Var('fs_OperationId', 'id'),\n                Var('string', 'operationName'),\n            ], 'void') `\n                if (!_FS_OPERATIONS_IDS.has(id)) {\n                    throw new Error(operationName + ' operation unknown : ' + id.toString())\n                }\n            `,\n            Func('_fs_createOperationId', [], 'fs_OperationId') `\n                ${ConstVar('fs_OperationId', 'id', '_FS_OPERATION_COUNTER++')}\n                _FS_OPERATIONS_IDS.add(id)\n                return id\n            `\n        ]);\n    },\n    dependencies: [msg],\n};\nconst fsReadSoundFile = {\n    codeGenerator: () => Sequence([\n        Func('fs_readSoundFile', [\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationSoundCallback', 'callback'),\n        ], 'fs_OperationId') `\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\n            _FS_OPERATIONS_SOUND_CALLBACKS.set(id, callback)\n            i_fs_readSoundFile(id, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('x_fs_onReadSoundFileResponse', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n            Var('FloatArray[]', 'sound'),\n        ], 'void') `\n            _fs_assertOperationExists(id, 'x_fs_onReadSoundFileResponse')\n            _FS_OPERATIONS_IDS.delete(id)\n            // Finish cleaning before calling the callback in case it would throw an error.\n            const callback = _FS_OPERATIONS_SOUND_CALLBACKS.get(id)\n            callback(id, status, sound)\n            _FS_OPERATIONS_SOUND_CALLBACKS.delete(id)\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onReadSoundFileResponse',\n        },\n    ],\n    imports: [\n        Func('i_fs_readSoundFile', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsCore],\n};\nconst fsWriteSoundFile = {\n    codeGenerator: () => Sequence([\n        Func('fs_writeSoundFile', [\n            Var('FloatArray[]', 'sound'),\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationCallback', 'callback'),\n        ], 'fs_OperationId') `\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\n            i_fs_writeSoundFile(id, sound, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('x_fs_onWriteSoundFileResponse', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') `\n            _fs_assertOperationExists(id, 'x_fs_onWriteSoundFileResponse')\n            _FS_OPERATIONS_IDS.delete(id)\n            // Finish cleaning before calling the callback in case it would throw an error.\n            ${ConstVar('fs_OperationCallback', 'callback', '_FS_OPERATIONS_CALLBACKS.get(id)')}\n            callback(id, status)\n            _FS_OPERATIONS_CALLBACKS.delete(id)\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onWriteSoundFileResponse',\n        },\n    ],\n    imports: [\n        Func('i_fs_writeSoundFile', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'sound'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsCore],\n};\nconst fsSoundStreamCore = {\n    codeGenerator: () => Sequence([\n        ConstVar('Map<fs_OperationId, Array<buf_SoundBuffer>>', '_FS_SOUND_STREAM_BUFFERS', 'new Map()'),\n        ConstVar('Int', '_FS_SOUND_BUFFER_LENGTH', '20 * 44100'),\n        Func('fs_closeSoundStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') `\n            if (!_FS_OPERATIONS_IDS.has(id)) {\n                return\n            }\n            _FS_OPERATIONS_IDS.delete(id)\n            _FS_OPERATIONS_CALLBACKS.get(id)(id, status)\n            _FS_OPERATIONS_CALLBACKS.delete(id)\n            // Delete this last, to give the callback \n            // a chance to save a reference to the buffer\n            // If write stream, there won't be a buffer\n            if (_FS_SOUND_STREAM_BUFFERS.has(id)) {\n                _FS_SOUND_STREAM_BUFFERS.delete(id)\n            }\n            i_fs_closeSoundStream(id, status)\n        `,\n        Func('x_fs_onCloseSoundStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') `\n            fs_closeSoundStream(id, status)\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onCloseSoundStream',\n        },\n    ],\n    imports: [\n        Func('i_fs_closeSoundStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') ``,\n    ],\n    dependencies: [bufCore, fsCore],\n};\nconst fsReadSoundStream = {\n    codeGenerator: () => Sequence([\n        Func('fs_openSoundReadStream', [\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationCallback', 'callback'),\n        ], 'fs_OperationId') `\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\n            ${ConstVar('Array<buf_SoundBuffer>', 'buffers', '[]')}\n            for (${Var('Int', 'channel', '0')}; channel < soundInfo.channelCount; channel++) {\n                buffers.push(buf_create(_FS_SOUND_BUFFER_LENGTH))\n            }\n            _FS_SOUND_STREAM_BUFFERS.set(id, buffers)\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\n            i_fs_openSoundReadStream(id, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('x_fs_onSoundStreamData', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'block'),\n        ], 'Int') `\n            _fs_assertOperationExists(id, 'x_fs_onSoundStreamData')\n            const buffers = _FS_SOUND_STREAM_BUFFERS.get(id)\n            for (${Var('Int', 'i', '0')}; i < buffers.length; i++) {\n                buf_pushBlock(buffers[i], block[i])\n            }\n            return buffers[0].pullAvailableLength\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onSoundStreamData',\n        },\n    ],\n    imports: [\n        Func('i_fs_openSoundReadStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsSoundStreamCore, bufPushPull],\n};\nconst fsWriteSoundStream = {\n    codeGenerator: () => Sequence([\n        Func('fs_openSoundWriteStream', [\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationCallback', 'callback'),\n        ], 'fs_OperationId') `\n            const id = _fs_createOperationId()\n            _FS_SOUND_STREAM_BUFFERS.set(id, [])\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\n            i_fs_openSoundWriteStream(id, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('fs_sendSoundStreamData', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'block')\n        ], 'void') `\n            _fs_assertOperationExists(id, 'fs_sendSoundStreamData')\n            i_fs_sendSoundStreamData(id, block)\n        `\n    ]),\n    imports: [\n        Func('i_fs_openSoundWriteStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n        Func('i_fs_sendSoundStreamData', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'block'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsSoundStreamCore],\n};\n\nexport { FS_OPERATION_FAILURE, FS_OPERATION_SUCCESS, fsCore, fsReadSoundFile, fsReadSoundStream, fsSoundStreamCore, fsWriteSoundFile, fsWriteSoundStream };\n","import { isGlobalDefinitionWithSettings, getNodeImplementation } from '../compile-helpers.js';\nimport { toNodes } from '../../dsp-graph/traversal.js';\nimport { Sequence } from '../../ast/declare.js';\nimport { commonsCore } from '../../stdlib/commons.js';\nimport { core } from '../../stdlib/core.js';\nimport '../../stdlib/fs.js';\nimport { msg } from '../../stdlib/msg.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar precompileDependencies = (compilation) => {\n    const { graph, nodeImplementations, precompilation, target, } = compilation;\n    const dependencies = flattenDependencies([\n        ...engineMinimalDependencies(),\n        ..._collectDependenciesFromTraversal(nodeImplementations, graph, precompilation.traversals.all),\n    ]);\n    // Flatten and de-duplicate all the module's dependencies\n    precompilation.dependencies.ast = instantiateAndDedupeDependencies(compilation, dependencies);\n    // Collect and attach imports / exports info\n    precompilation.dependencies.exports = collectAndDedupeExports(target, dependencies);\n    precompilation.dependencies.imports = collectAndDedupeImports(dependencies);\n};\nconst instantiateAndDedupeDependencies = (compilation, dependencies) => {\n    const context = _getGlobalCodeGeneratorContext(compilation);\n    return Sequence(dependencies\n        .map((codeDefinition) => isGlobalDefinitionWithSettings(codeDefinition)\n        ? codeDefinition.codeGenerator(context)\n        : codeDefinition(context))\n        .reduce((astElements, astElement) => astElements.every((otherElement) => !_deepEqual(otherElement, astElement))\n        ? [...astElements, astElement]\n        : astElements, []));\n};\nconst engineMinimalDependencies = () => [\n    core,\n    commonsCore,\n    msg,\n];\nconst collectAndDedupeExports = (target, dependencies) => dependencies\n    .filter(isGlobalDefinitionWithSettings)\n    .filter((codeDefinition) => codeDefinition.exports)\n    .reduce((exports, codeDefinition) => [\n    ...exports,\n    ...codeDefinition.exports.filter((xprt) => (!xprt.targets || xprt.targets.includes(target)) &&\n        exports.every((otherExport) => xprt.name !== otherExport.name)),\n], []);\nconst collectAndDedupeImports = (dependencies) => dependencies\n    .filter(isGlobalDefinitionWithSettings)\n    .filter((codeDefinition) => codeDefinition.imports)\n    .reduce((imports, codeDefinition) => [\n    ...imports,\n    ...codeDefinition.imports.filter((imprt) => imports.every((otherImport) => imprt.name !== otherImport.name)),\n], []);\nconst flattenDependencies = (dependencies) => dependencies.flatMap((codeDefinition) => {\n    if (isGlobalDefinitionWithSettings(codeDefinition) &&\n        codeDefinition.dependencies) {\n        return [\n            ...flattenDependencies(codeDefinition.dependencies),\n            codeDefinition,\n        ];\n    }\n    else {\n        return [codeDefinition];\n    }\n});\nconst _collectDependenciesFromTraversal = (nodeImplementations, graph, graphTraversalAll) => {\n    return toNodes(graph, graphTraversalAll)\n        .reduce((definitions, node) => [\n        ...definitions,\n        ...getNodeImplementation(nodeImplementations, node.type)\n            .dependencies,\n    ], []);\n};\nconst _getGlobalCodeGeneratorContext = ({ settings, target, variableNamesIndex }) => ({\n    target: target,\n    audioSettings: settings.audio,\n    globs: variableNamesIndex.globs,\n});\nconst _deepEqual = (ast1, ast2) => \n// This works but this flawed cause {a: 1, b: 2} and {b: 2, a: 1}\n// would compare to false.\nJSON.stringify(ast1) === JSON.stringify(ast2);\n\nexport { collectAndDedupeExports, collectAndDedupeImports, precompileDependencies as default, engineMinimalDependencies, flattenDependencies, instantiateAndDedupeDependencies };\n","/**\n * Helper to assert that two given AST functions have the same signature.\n */\nconst assertFuncSignatureEqual = (actual, expected) => {\n    if (typeof actual !== 'object' || actual.astType !== 'Func') {\n        throw new Error(`Expected an ast Func, got : ${actual}`);\n    }\n    else if (actual.args.length !== expected.args.length ||\n        actual.args.some((arg, i) => arg.type !== expected.args[i].type) ||\n        actual.returnType !== expected.returnType) {\n        throw new Error(`Func should be have signature ${_printFuncSignature(expected)}` +\n            ` got instead ${_printFuncSignature(actual)}`);\n    }\n    return actual;\n};\nconst _printFuncSignature = (func) => `(${func.args.map((arg) => `${arg.name}: ${arg.type}`).join(', ')}) => ${func.returnType}`;\n\nexport { assertFuncSignatureEqual };\n","import { assertFuncSignatureEqual } from '../../ast/ast-helpers.js';\nimport { AnonFunc, Var, Func, ast } from '../../ast/declare.js';\nimport render from '../../ast/render.js';\nimport { signalNodes } from '../../dsp-graph/traversal.js';\nimport { getSinks, getSources, getNode } from '../../dsp-graph/getters.js';\nimport { mapArray } from '../../functional-helpers.js';\nimport { getNodeImplementation, getMacros } from '../compile-helpers.js';\nimport { createNamespace, nodeNamespaceLabel } from '../namespace.js';\nimport { attachNodePortlet } from '../variable-names-index.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst MESSAGE_RECEIVER_SIGNATURE = AnonFunc([Var('Message', 'm')], 'void') ``;\nconst precompileSignalOutlet = (compilation, node, outletId) => {\n    const { precompilation } = compilation;\n    const outletSinks = getSinks(node, outletId);\n    // Signal inlets can receive input from ONLY ONE signal.\n    // Therefore, we substitute inlet variable directly with\n    // previous node's outs. e.g. instead of :\n    //\n    //      NODE2_IN = NODE1_OUT\n    //      NODE2_OUT = NODE2_IN * 2\n    //\n    // we will have :\n    //\n    //      NODE2_OUT = NODE1_OUT * 2\n    //\n    if (!isInlinableNode(compilation, node)) {\n        const signalOutName = attachNodePortlet(compilation, 'signalOuts', node.id, outletId);\n        precompilation.nodes[node.id].signalOuts[outletId] = signalOutName;\n        precompilation.nodes[node.id].generationContext.signalOuts[outletId] =\n            signalOutName;\n        outletSinks.forEach(({ portletId: inletId, nodeId: sinkNodeId }) => {\n            precompilation.nodes[sinkNodeId].generationContext.signalIns[inletId] = signalOutName;\n        });\n    }\n};\nconst precompileSignalInlet = (compilation, sinkNode, inletId) => {\n    const { precompilation, variableNamesIndex } = compilation;\n    if (getSources(sinkNode, inletId).length === 0) {\n        // If signal inlet has no source, we assign it a constant value of 0.\n        precompilation.nodes[sinkNode.id].generationContext.signalIns[inletId] =\n            variableNamesIndex.globs.nullSignal;\n    }\n};\nconst precompileMessageOutlet = (compilation, sourceNode, outletId) => {\n    const outletSinks = getSinks(sourceNode, outletId);\n    const { variableNamesIndex, precompilation, settings: { io }, } = compilation;\n    const ioSendersPortletIds = _getPortletIdsFromMsgIo(io.messageSenders, sourceNode.id);\n    const precompiledNode = precompilation.nodes[sourceNode.id];\n    const totalSinkCount = _getMessageOutletTotalSinkCount(compilation, sourceNode, outletId);\n    // If there are several sinks, we then need to generate\n    // a function to send messages to all sinks, e.g. :\n    //\n    //      const NODE1_SND = (m) => {\n    //          NODE3_RCV(m)\n    //          NODE2_RCV(m)\n    //      }\n    //\n    if (totalSinkCount > 1) {\n        const hasIoSender = ioSendersPortletIds.includes(outletId);\n        const messageSenderName = attachNodePortlet(compilation, 'messageSenders', sourceNode.id, outletId);\n        precompiledNode.generationContext.messageSenders[outletId] =\n            messageSenderName;\n        precompiledNode.messageSenders[outletId] = {\n            messageSenderName,\n            messageReceiverNames: [\n                ...outletSinks.map(({ nodeId: sinkNodeId, portletId: inletId }) => variableNamesIndex.nodes[sinkNodeId].messageReceivers[inletId]),\n                ...(hasIoSender\n                    ? [\n                        variableNamesIndex.io.messageSenders[sourceNode.id][outletId],\n                    ]\n                    : []),\n            ],\n        };\n    }\n    // If no sink, no message receiver, we assign the node SND\n    // a function that does nothing\n    else if (totalSinkCount === 0) {\n        precompiledNode.generationContext.messageSenders[outletId] =\n            compilation.variableNamesIndex.globs.nullMessageReceiver;\n    }\n    // For a message outlet that sends to a single sink node\n    // its out can be directly replaced by next node's in.\n    // e.g. instead of (which is useful if several sinks) :\n    //\n    //      const NODE1_SND = (m) => {\n    //          NODE2_RCV(m)\n    //      }\n    //      // ...\n    //      NODE1_SND(m)\n    //\n    // we can directly substitute NODE1_SND by NODE2_RCV :\n    //\n    //      NODE2_RCV(m)\n    //\n    else if (outletSinks.length === 1 &&\n        !ioSendersPortletIds.includes(outletId)) {\n        precompiledNode.generationContext.messageSenders[outletId] =\n            variableNamesIndex.nodes[outletSinks[0].nodeId].messageReceivers[outletSinks[0].portletId];\n    }\n    // Same thing if there's no sink, but one outlet listener\n    else if (outletSinks.length === 0 &&\n        ioSendersPortletIds.includes(outletId)) {\n        precompiledNode.generationContext.messageSenders[outletId] =\n            variableNamesIndex.io.messageSenders[sourceNode.id][outletId];\n    }\n};\nconst precompileMessageInlet = (compilation, node, inletId) => {\n    const precompiledNode = compilation.precompilation.nodes[node.id];\n    if (_getMessageInletTotalSourceCount(compilation, node, inletId) >= 1) {\n        const messageReceiverName = attachNodePortlet(compilation, 'messageReceivers', node.id, inletId);\n        precompiledNode.generationContext.messageReceivers[inletId] =\n            messageReceiverName;\n        // Add a placeholder message receiver that should be substituted when\n        // compiling message receivers.\n        precompiledNode.messageReceivers[inletId] = Func(messageReceiverName, [Var('Message', 'm')], 'void') `throw new Error(\"This placeholder should have been replaced during compilation\")`;\n    }\n};\nconst precompileMessageReceivers = (compilation, node) => {\n    const { precompilation, variableNamesIndex, nodeImplementations } = compilation;\n    const precompiledNode = precompilation.nodes[node.id];\n    const { globs } = variableNamesIndex;\n    const { state, messageSenders: snds } = precompiledNode.generationContext;\n    const nodeImplementation = getNodeImplementation(nodeImplementations, node.type);\n    const messageReceivers = createNamespace(nodeNamespaceLabel(node, 'messageReceivers'), nodeImplementation.messageReceivers\n        ? nodeImplementation.messageReceivers({\n            globs,\n            state,\n            snds,\n            node,\n            compilation,\n        })\n        : {});\n    Object.keys(precompiledNode.messageReceivers).forEach((inletId) => {\n        const implementedFunc = messageReceivers[inletId];\n        assertFuncSignatureEqual(implementedFunc, MESSAGE_RECEIVER_SIGNATURE);\n        const targetFunc = precompiledNode.messageReceivers[inletId];\n        // We can't override values in the namespace, so we need to copy\n        // the function's properties one by one.\n        targetFunc.name =\n            variableNamesIndex.nodes[node.id].messageReceivers[inletId];\n        targetFunc.args = implementedFunc.args;\n        targetFunc.body = implementedFunc.body;\n        targetFunc.returnType = implementedFunc.returnType;\n    });\n};\nconst precompileInitialization = (compilation, node) => {\n    const { precompilation, nodeImplementations, variableNamesIndex } = compilation;\n    const { globs } = variableNamesIndex;\n    const precompiledNode = precompilation.nodes[node.id];\n    const { state, messageSenders: snds } = precompiledNode.generationContext;\n    const nodeImplementation = getNodeImplementation(nodeImplementations, node.type);\n    precompiledNode.initialization = nodeImplementation.initialization\n        ? nodeImplementation.initialization({\n            globs,\n            state,\n            snds,\n            node,\n            compilation,\n        })\n        : ast ``;\n};\nconst precompileLoop = (compilation, node) => {\n    const { precompilation, nodeImplementations, variableNamesIndex } = compilation;\n    const precompiledNode = precompilation.nodes[node.id];\n    const { globs } = variableNamesIndex;\n    const { signalOuts: outs, signalIns: ins, messageSenders: snds, state, } = precompiledNode.generationContext;\n    const nodeImplementation = getNodeImplementation(nodeImplementations, node.type);\n    const baseContext = {\n        globs,\n        node,\n        state,\n        ins,\n        compilation,\n    };\n    // Nodes that come here might have an inlinable loop, but still can't\n    // be inlined because, for example, they have 2 sinks.\n    if (nodeImplementation.inlineLoop) {\n        const outletId = Object.keys(node.outlets)[0];\n        precompiledNode.loop = ast `${variableNamesIndex.nodes[node.id].signalOuts[outletId]} = ${nodeImplementation.inlineLoop(baseContext)}`;\n    }\n    else if (nodeImplementation.loop) {\n        precompiledNode.loop = nodeImplementation.loop({\n            ...baseContext,\n            outs,\n            snds,\n        });\n    }\n    else {\n        throw new Error(`No loop to generate for node ${node.type}:${node.id}`);\n    }\n};\n/**\n * Inlines a subtree of inlinable nodes into a single string.\n * That string is then injected as signal input of the first non-inlinable sink.\n * e.g. :\n *\n * ```\n *          [  n1  ]      <-  inlinable subtree\n *               \\          /\n *    [  n2  ]  [  n3  ]  <-\n *      \\        /\n *       \\      /\n *        \\    /\n *       [  n4  ]  <- leaf node for the inlinable subtree\n *           |\n *       [  n5  ]  <- first non-inlinable sink\n *\n * ```\n */\nconst precompileInlineLoop = (compilation, leafNode) => {\n    const { precompilation, variableNamesIndex, nodeImplementations, graph, target, } = compilation;\n    const { globs } = variableNamesIndex;\n    const inlineNodeTraversal = signalNodes(graph, [leafNode], (sourceNode) => isInlinableNode(compilation, sourceNode));\n    const inlinedNodes = inlineNodeTraversal.reduce((inlinedNodes, nodeId) => {\n        const { signalIns: ins, state } = precompilation.nodes[nodeId].generationContext;\n        const node = getNode(graph, nodeId);\n        const nodeImplementation = getNodeImplementation(nodeImplementations, node.type);\n        const inlinedInputs = mapArray(\n        // Select signal inlets with sources\n        Object.values(node.inlets)\n            .map((inlet) => [inlet, getSources(node, inlet.id)])\n            .filter(([inlet, sources]) => inlet.type === 'signal' &&\n            sources.length > 0 &&\n            // We filter out sources that are not inlinable.\n            // These sources will just be represented by their outlet's\n            // variable name.\n            inlineNodeTraversal.includes(sources[0].nodeId)), \n        // Build map of inlined inputs\n        ([inlet, sources]) => {\n            // Because it's a signal connection, we have only one source per inlet\n            const source = sources[0];\n            if (!(source.nodeId in inlinedNodes)) {\n                throw new Error(`Unexpected error : inlining failed, missing inlined source ${source.nodeId}`);\n            }\n            return [inlet.id, inlinedNodes[source.nodeId]];\n        });\n        // TODO assemblyscript-upgrade : we need this because of a assemblyscript bug that seems\n        // to be fixed in latest version. Remove when upgrading.\n        // Bugs when a single variable name is surrounded with brackets : e.g. `(node1_OUTS_0)`\n        // causes compilation error.\n        const inlined = nodeImplementation.inlineLoop({\n            globs,\n            state,\n            ins: createNamespace(nodeNamespaceLabel(node, 'ins'), {\n                ...ins,\n                ...inlinedInputs,\n            }),\n            node,\n            compilation,\n        });\n        const needsFix = inlined.content.length > 1 ||\n            (typeof inlined.content[0] === 'string' &&\n                inlined.content[0].includes(' '));\n        if (needsFix) {\n            inlined.content.unshift('(');\n            inlined.content.push(')');\n        }\n        // END TODO\n        return {\n            ...inlinedNodes,\n            [nodeId]: render(getMacros(target), inlined),\n        };\n    }, {});\n    const sink = getInlinableNodeSinkList(leafNode)[0];\n    precompilation.nodes[sink.nodeId].generationContext.signalIns[sink.portletId] = inlinedNodes[leafNode.id];\n    return inlineNodeTraversal;\n};\nconst isInlinableNode = (compilation, node) => {\n    const { nodeImplementations } = compilation;\n    const sinkList = getInlinableNodeSinkList(node);\n    const nodeImplementation = getNodeImplementation(nodeImplementations, node.type);\n    return !!nodeImplementation.inlineLoop && sinkList.length === 1;\n};\n/**\n * Inline node has only one outlet, but that outlet can be connected to\n * several sinks.\n */\nconst getInlinableNodeSinkList = (node) => Object.values(node.sinks)[0] || [];\nconst _getMessageInletTotalSourceCount = (compilation, node, inletId) => {\n    const { settings: { io }, } = compilation;\n    const ioReceiversPortletIds = _getPortletIdsFromMsgIo(io.messageReceivers, node.id);\n    const inletSources = getSources(node, inletId);\n    return inletSources.length + +ioReceiversPortletIds.includes(inletId);\n};\nconst _getMessageOutletTotalSinkCount = (compilation, node, outletId) => {\n    const { settings: { io }, } = compilation;\n    const ioSendersPortletIds = _getPortletIdsFromMsgIo(io.messageSenders, node.id);\n    const outletSinks = getSinks(node, outletId);\n    return outletSinks.length + +ioSendersPortletIds.includes(outletId);\n};\nconst _getPortletIdsFromMsgIo = (specs, nodeId) => (specs[nodeId] && specs[nodeId].portletIds) || [];\n\nexport { getInlinableNodeSinkList, isInlinableNode, precompileInitialization, precompileInlineLoop, precompileLoop, precompileMessageInlet, precompileMessageOutlet, precompileMessageReceivers, precompileSignalInlet, precompileSignalOutlet };\n","import { toNodes } from '../../dsp-graph/traversal.js';\nimport { getNode } from '../../dsp-graph/getters.js';\nimport { mapObject } from '../../functional-helpers.js';\nimport { attachIoMessages } from '../variable-names-index.js';\nimport { buildGraphTraversalSignal } from '../compile-helpers.js';\nimport { createNamespace, nodeNamespaceLabel } from '../namespace.js';\nimport { Sequence, ast } from '../../ast/declare.js';\nimport precompileDependencies from './dependencies.js';\nimport { precompileSignalInlet, precompileMessageInlet, precompileSignalOutlet, precompileMessageOutlet, precompileInitialization, precompileMessageReceivers, precompileInlineLoop, precompileLoop, getInlinableNodeSinkList, isInlinableNode } from './nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar precompile = (compilation) => {\n    const { graph, precompilation } = compilation;\n    const nodes = toNodes(graph, precompilation.traversals.all);\n    attachIoMessages(compilation);\n    precompileDependencies(compilation);\n    // Go through the graph and precompile inlets.\n    nodes.forEach((node) => {\n        Object.values(node.inlets).forEach((inlet) => {\n            if (inlet.type === 'signal') {\n                precompileSignalInlet(compilation, node, inlet.id);\n            }\n            else if (inlet.type === 'message') {\n                precompileMessageInlet(compilation, node, inlet.id);\n            }\n        });\n    });\n    // Go through the graph and precompile outlets.\n    //\n    // For example if a node has only one sink there is no need\n    // to copy values between outlet and sink's inlet. Instead we can\n    // collapse these two variables into one.\n    //\n    // We need to compile outlets after inlets because they reference\n    // message receivers.\n    nodes.forEach((node) => {\n        Object.values(node.outlets).forEach((outlet) => {\n            if (outlet.type === 'signal') {\n                precompileSignalOutlet(compilation, node, outlet.id);\n            }\n            else if (outlet.type === 'message') {\n                precompileMessageOutlet(compilation, node, outlet.id);\n            }\n        });\n    });\n    // This must come after we have assigned all node variables,\n    nodes.forEach((node) => {\n        precompileInitialization(compilation, node);\n        precompileMessageReceivers(compilation, node);\n    });\n    const graphTraversalSignal = buildGraphTraversalSignal(graph);\n    // First inline nodes that can be inlined.\n    // Once inlined, these nodes don't have to be part of the loop traversal.\n    toNodes(graph, graphTraversalSignal)\n        .filter((node) => _isInlinableLeafNode(compilation, node))\n        .forEach((node) => {\n        const inlineNodeTraversal = precompileInlineLoop(compilation, node);\n        inlineNodeTraversal.forEach((nodeId) => {\n            graphTraversalSignal.splice(graphTraversalSignal.indexOf(nodeId), 1);\n        });\n    });\n    // Then deal with non-inlinable signal nodes.\n    toNodes(graph, graphTraversalSignal).forEach((node) => {\n        precompilation.traversals.loop.push(node.id);\n        precompileLoop(compilation, node);\n    });\n};\nconst initializePrecompilation = (graph, graphTraversalAll, variableNamesIndex) => ({\n    nodes: createNamespace('precompilation', mapObject(graph, (node) => ({\n        generationContext: {\n            messageReceivers: createNamespace(nodeNamespaceLabel(node, 'generationContext:messageReceivers'), {}),\n            signalOuts: createNamespace(nodeNamespaceLabel(node, 'generationContext:signalOuts'), {}),\n            messageSenders: createNamespace(nodeNamespaceLabel(node, 'generationContext:messageSenders'), {}),\n            signalIns: createNamespace(nodeNamespaceLabel(node, 'generationContext:signalIns'), {}),\n            state: variableNamesIndex.nodes[node.id].state,\n        },\n        messageReceivers: createNamespace(nodeNamespaceLabel(node, 'messageReceivers'), {}),\n        messageSenders: createNamespace(nodeNamespaceLabel(node, 'messageSenders'), {}),\n        signalOuts: createNamespace(nodeNamespaceLabel(node, 'signalOuts'), {}),\n        initialization: ast ``,\n        loop: ast ``,\n    }))),\n    dependencies: {\n        imports: [],\n        exports: [],\n        ast: Sequence([]),\n    },\n    traversals: {\n        all: graphTraversalAll,\n        loop: [],\n    },\n});\nconst _isInlinableLeafNode = (compilation, node) => {\n    const { graph } = compilation;\n    const sink = getInlinableNodeSinkList(node)[0];\n    if (!sink) {\n        return false;\n    }\n    const sinkNode = getNode(graph, sink.nodeId);\n    return (isInlinableNode(compilation, node) &&\n        !isInlinableNode(compilation, sinkNode));\n};\n\nexport { precompile as default, initializePrecompilation };\n","import compileToJavascript from '../engine-javascript/compile/index.js';\nimport compileToAssemblyscript from '../engine-assemblyscript/compile/index.js';\nimport { generateVariableNamesIndex } from './variable-names-index.js';\nimport { buildGraphTraversalAll } from './compile-helpers.js';\nimport { trimGraph } from '../dsp-graph/traversal.js';\nimport precompile, { initializePrecompilation } from './precompile/index.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar index = (graph, nodeImplementations, target, compilationSettings) => {\n    const settings = validateSettings(compilationSettings);\n    const variableNamesIndex = generateVariableNamesIndex(graph, settings.debug);\n    const graphTraversalAll = buildGraphTraversalAll(graph, settings.io);\n    const trimmedGraph = trimGraph(graph, graphTraversalAll);\n    const compilation = {\n        graph: trimmedGraph,\n        nodeImplementations,\n        target,\n        settings,\n        variableNamesIndex,\n        precompilation: initializePrecompilation(trimmedGraph, graphTraversalAll, variableNamesIndex),\n    };\n    precompile(compilation);\n    let code;\n    if (compilation.target === 'javascript') {\n        code = compileToJavascript(compilation);\n    }\n    else if (compilation.target === 'assemblyscript') {\n        code = compileToAssemblyscript(compilation);\n    }\n    else {\n        throw new Error(`Invalid compilation.target ${compilation.target}`);\n    }\n    return {\n        status: 0,\n        code,\n    };\n};\n/** Asserts user provided settings are valid (or throws error) and sets default values. */\nconst validateSettings = (compilationSettings) => {\n    const arrays = compilationSettings.arrays || {};\n    const io = {\n        messageReceivers: (compilationSettings.io || {}).messageReceivers || {},\n        messageSenders: (compilationSettings.io || {}).messageSenders || {},\n    };\n    const debug = compilationSettings.debug || false;\n    const audio = compilationSettings.audio || {\n        channelCount: { in: 2, out: 2 },\n        bitDepth: 64,\n    };\n    if (![32, 64].includes(audio.bitDepth)) {\n        throw new InvalidSettingsError(`\"bitDepth\" can be only 32 or 64`);\n    }\n    return {\n        audio,\n        arrays,\n        io,\n        debug,\n    };\n};\nclass InvalidSettingsError extends Error {\n}\n\nexport { index as default, validateSettings };\n","import { buildMetadata } from '../../compile/compile-helpers.js';\nimport { generateGlobs, generatePortletsDeclarations, generateEmbeddedArrays, generateIoMessageReceivers, generateIoMessageSenders, generateNodeInitializations, generateLoop, generateImportsExports } from '../../compile/generate.js';\nimport render from '../../ast/render.js';\nimport macros from './macros.js';\nimport { ast } from '../../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar compileToJavascript = (compilation) => {\n    const { variableNamesIndex, settings: { io }, precompilation, } = compilation;\n    const globs = compilation.variableNamesIndex.globs;\n    const metadata = buildMetadata(compilation);\n    // prettier-ignore\n    return render(macros, ast `\n        ${generateGlobs(compilation)}\n        ${precompilation.dependencies.ast}\n        ${generatePortletsDeclarations(compilation)}\n\n        ${generateEmbeddedArrays(compilation)}\n\n        ${generateIoMessageReceivers(compilation)}\n        ${generateIoMessageSenders(compilation, (variableName, nodeId, outletId) => ast `const ${variableName} = (m) => {exports.io.messageSenders['${nodeId}']['${outletId}'].onMessage(m)}`)}\n\n        ${generateNodeInitializations(compilation)}\n\n        const exports = {\n            metadata: ${JSON.stringify(metadata)},\n            configure: (sampleRate, blockSize) => {\n                exports.metadata.audioSettings.sampleRate = sampleRate\n                exports.metadata.audioSettings.blockSize = blockSize\n                ${globs.sampleRate} = sampleRate\n                ${globs.blockSize} = blockSize\n                _commons_emitEngineConfigure()\n            },\n            loop: (${globs.input}, ${globs.output}) => {\n                ${generateLoop(compilation)}\n            },\n            io: {\n                messageReceivers: {\n                    ${Object.entries(io.messageReceivers).map(([nodeId, spec]) => ast `${nodeId}: {\n                            ${spec.portletIds.map(inletId => `\"${inletId}\": ${variableNamesIndex.io.messageReceivers[nodeId][inletId]},`)}\n                        },`)}\n                },\n                messageSenders: {\n                    ${Object.entries(io.messageSenders).map(([nodeId, spec]) => ast `${nodeId}: {\n                            ${spec.portletIds.map(outletId => `\"${outletId}\": {onMessage: () => undefined},`)}\n                        },`)}\n                },\n            }\n        }\n\n        ${generateImportsExports(compilation, ({ name }) => ast `\n                exports.${name} = () => { throw new Error('import for ${name} not provided') }\n                const ${name} = (...args) => exports.${name}(...args)\n            `, ({ name }) => ast `exports.${name} = ${name}`)}\n    `);\n};\n\nexport { compileToJavascript as default };\n","import { buildMetadata } from '../../compile/compile-helpers.js';\nimport { generateGlobs, generatePortletsDeclarations, generateEmbeddedArrays, generateIoMessageReceivers, generateIoMessageSenders, generateNodeInitializations, generateLoop, generateImportsExports } from '../../compile/generate.js';\nimport render from '../../ast/render.js';\nimport macros from './macros.js';\nimport { ast } from '../../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar compileToAssemblyscript = (compilation) => {\n    const { settings: { audio: audioSettings, io }, variableNamesIndex, precompilation, } = compilation;\n    const { channelCount } = audioSettings;\n    const globs = compilation.variableNamesIndex.globs;\n    const metadata = buildMetadata(compilation);\n    // prettier-ignore\n    return render(macros, ast `\n        ${generateGlobs(compilation)}\n        ${precompilation.dependencies.ast}\n        ${generatePortletsDeclarations(compilation)}\n\n        ${generateEmbeddedArrays(compilation)}\n\n        ${generateIoMessageReceivers(compilation)}\n        ${generateIoMessageSenders(compilation, (variableName) => ast `export declare function ${variableName}(m: Message): void`)}\n\n        const metadata: string = '${JSON.stringify(metadata)}'\n        let ${globs.input}: FloatArray = createFloatArray(0)\n        let ${globs.output}: FloatArray = createFloatArray(0)\n\n        ${generateNodeInitializations(compilation)}\n\n        export function configure(sampleRate: Float, blockSize: Int): void {\n            ${globs.input} = createFloatArray(blockSize * ${channelCount.in.toString()})\n            ${globs.output} = createFloatArray(blockSize * ${channelCount.out.toString()})\n            ${globs.sampleRate} = sampleRate\n            ${globs.blockSize} = blockSize\n            _commons_emitEngineConfigure()\n        }\n\n        export function getInput(): FloatArray { return ${globs.input} }\n\n        export function getOutput(): FloatArray { return ${globs.output} }\n\n        export function loop(): void {\n            ${generateLoop(compilation)}\n        }\n\n        export {\n            metadata,\n            ${Object.entries(io.messageReceivers).map(([nodeId, spec]) => spec.portletIds.map(inletId => variableNamesIndex.io.messageReceivers[nodeId][inletId] + ','))}\n        }\n\n        ${generateImportsExports(compilation, ({ name, args, returnType }) => ast `export declare function ${name} (${args.map((a) => `${a.name}: ${a.type}`).join(',')}): ${returnType}`, ({ name }) => ast `export { ${name} }`)}\n    `);\n};\n\nexport { compileToAssemblyscript as default };\n","import WEBPD_RUNTIME_CODE from './runtime.generated.js.txt.js';\n\nconst WEBPD_RUNTIME_FILENAME = 'webpd-runtime.js';\nvar appGenerator = (template, artefacts) => {\n    switch (template) {\n        case 'bare-bones':\n            const generated = bareBonesApp({ artefacts });\n            return {\n                ...generated,\n                [WEBPD_RUNTIME_FILENAME]: WEBPD_RUNTIME_CODE,\n            };\n        default:\n            throw new Error(`Unknown template ${template}`);\n    }\n};\nconst bareBonesApp = (settings) => {\n    const { artefacts } = settings;\n    if (!artefacts.javascript && !artefacts.wasm) {\n        throw new Error(`Needs at least javascript or wasm to run`);\n    }\n    const compiledPatchFilename = artefacts.javascript\n        ? 'patch.js'\n        : 'patch.wasm';\n    // prettier-ignore\n    const generatedApp = {\n        'index.html': `\n<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n        <title>WebPd boilerplate</title>\n        <style>\n            #start {\n                display: none;\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n            }\n            #loading {\n                width: 100%;\n                height: 100%;\n                position: fixed;\n                top: 50%;\n                transform: translateY(-50%);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n        </style>\n    </head>\n    <body>\n        <h1>My Web Page</h1>\n        <div>For more info about usage (how to interact with the patch), you can open this HTML file in a code editor.</div>\n        <button id=\"start\"> Start </button>\n        <div id=\"loading\"> Loading ... </div>\n        <script src=\"${WEBPD_RUNTIME_FILENAME}\"></script>\n        <script>\n            // SUMMARY\n            // 1. WEB PAGE INITIALIZATION\n            // 2. SENDING MESSAGES FROM JAVASCRIPT TO THE PATCH\n            // 3. SENDING MESSAGES FROM THE PATCH TO JAVASCRIPT (coming soon ...)\n\n\n            // ------------- 1. WEB PAGE INITIALIZATION\n            const loadingDiv = document.querySelector('#loading')\n            const startButton = document.querySelector('#start')\n            const audioContext = new AudioContext()\n\n            let patch = null\n            let stream = null\n            let webpdNode = null\n\n            const initApp = async () => {\n                // Register the worklet\n                await WebPdRuntime.initialize(audioContext)\n\n                // Fetch the patch code\n                response = await fetch('${compiledPatchFilename}')\n                patch = await ${artefacts.javascript ?\n            'response.text()' : 'response.arrayBuffer()'}\n\n                // Comment this if you don't need audio input\n                stream = await navigator.mediaDevices.getUserMedia({ audio: true })\n\n                // Hide loading and show start button\n                loadingDiv.style.display = 'none'\n                startButton.style.display = 'block'\n            }\n\n            const startApp = async () => {\n                // AudioContext needs to be resumed on click to protects users \n                // from being spammed with autoplay.\n                // See : https://github.com/WebAudio/web-audio-api/issues/345\n                if (audioContext.state === 'suspended') {\n                    audioContext.resume()\n                }\n\n                // Setup web audio graph\n                webpdNode = await WebPdRuntime.run(\n                    audioContext, \n                    patch, \n                    WebPdRuntime.defaultSettingsForRun('./${compiledPatchFilename}'),\n                )\n                webpdNode.connect(audioContext.destination)\n\n                // Comment this if you don't need audio input\n                const sourceNode = audioContext.createMediaStreamSource(stream)\n                sourceNode.connect(webpdNode)\n\n                // Hide the start button\n                startButton.style.display = 'none'\n            }\n\n            startButton.onclick = startApp\n\n            initApp().\n                then(() => {\n                    console.log('App initialized')\n                })\n\n            \n            // ------------- 2. SENDING MESSAGES FROM JAVASCRIPT TO THE PATCH\n            // Use the function sendMsgToWebPd to send a message from JavaScript to an object inside your patch.\n            // \n            // Parameters : \n            // - nodeId: the ID of the object you want to send a message to. \n            //          This ID is a string that has been assigned by WebPd at compilation.\n            //          You can find below the list of available IDs with hints to help you \n            //          identify the object you want to interact with.\n            // - portletId : the ID of the object portlet to which the message should be sent. \n            // - message : the message to send. This must be a list of strings and / or numbers.\n            // \n            // Examples :\n            // - sending a message to a bang node of ID 'n_0_1' :\n            //          sendMsgToWebPd('n_0_1', '0', ['bang'])\n            // - sending a message to a number object of ID 'n_0_2' :\n            //          sendMsgToWebPd('n_0_2', '0', [123])\n            // \n            const sendMsgToWebPd = (nodeId, portletId, message) => {\n                webpdNode.port.postMessage({\n                    type: 'io:messageReceiver',\n                    payload: {\n                        nodeId,\n                        portletId,\n                        message,\n                    },\n                })\n            }\n            \n            // Here is an index of objects IDs to which you can send messages, with hints so you can find the right ID.\n            // Note that by default only GUI objects (bangs, sliders, etc ...) are available.${artefacts.dspGraph\n            && artefacts.dspGraph.io\n            && Object.keys(artefacts.dspGraph.io.messageReceivers).length ?\n            Object.entries(artefacts.dspGraph.io.messageReceivers)\n                .map(([nodeId, { portletIds, metadata: _metadata }]) => portletIds.map(portletId => {\n                const metadata = _metadata;\n                if (!metadata) {\n                    return '';\n                }\n                else if (metadata.group === 'control' || metadata.group === 'control:float') {\n                    return `\n            //  - nodeId \"${nodeId}\" portletId \"${portletId}\"\n            //      * type \"${metadata.type}\"\n            //      * position ${JSON.stringify(metadata.position)}${metadata.label ? `\n            //      * label \"${metadata.label}\"` : ''}\n            `;\n                }\n                else if (metadata.group === 'send') {\n                    return `\n            //  - nodeId \"${nodeId}\" portletId \"${portletId}\"\n            //      * type \"send\"\n            //      * send \"${metadata.name}\"\n            `;\n                }\n                else {\n                    return '';\n                }\n            })).join('')\n            : `\n            // EMPTY (did you place a GUI object in your patch ?)\n`}\n\n\n            // ------------- 3. SENDING MESSAGES FROM THE PATCH TO JAVASCRIPT\n            // Coming soon ... \n\n        </script>\n    </body>\n</html>`\n    };\n    if (artefacts.javascript) {\n        generatedApp[compiledPatchFilename] = artefacts.javascript;\n    }\n    else {\n        generatedApp[compiledPatchFilename] = artefacts.wasm;\n    }\n    return generatedApp;\n};\n\nexport { WEBPD_RUNTIME_FILENAME, appGenerator as default };\n","import '../../../WebPd_pd-parser/dist/src/parse.js';\nimport { CONTROL_TYPE } from '../../../WebPd_pd-parser/dist/src/types.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst discoverGuiControls = (pdJson) => {\n    const rootPatch = pdJson.patches[pdJson.rootPatchId];\n    return {\n        controls: _discoverGuiControlsRecursive(pdJson, rootPatch),\n        comments: Object.values(pdJson.patches[pdJson.rootPatchId].nodes)\n            .filter((node) => node.type === 'text')\n            .map((node) => {\n            const comment = {\n                type: 'comment',\n                patch: rootPatch,\n                node,\n                text: node.args[0].toString(),\n            };\n            return comment;\n        }),\n    };\n};\nconst _discoverGuiControlsRecursive = (pdJson, patch, viewport = null) => {\n    if (viewport === null) {\n        viewport = {\n            topLeft: { x: -Infinity, y: -Infinity },\n            bottomRight: { x: Infinity, y: Infinity },\n        };\n    }\n    const controls = [];\n    Object.values(patch.nodes).forEach((node) => {\n        if (node.type === 'pd' && node.nodeClass === 'subpatch') {\n            const subpatch = pdJson.patches[node.patchId];\n            const nodeLayout = _assertNodeLayout(node.layout);\n            if (!subpatch.layout.graphOnParent) {\n                return;\n            }\n            const subpatchLayout = _assertPatchLayout(subpatch.layout);\n            // 1. we convert all coordinates to the subpatch coords system\n            const toSubpatchCoords = makeTranslationTransform({ x: nodeLayout.x, y: nodeLayout.y }, { x: subpatchLayout.viewportX, y: subpatchLayout.viewportY });\n            const parentViewport = {\n                topLeft: toSubpatchCoords(viewport.topLeft),\n                bottomRight: toSubpatchCoords(viewport.bottomRight),\n            };\n            const topLeft = {\n                x: subpatchLayout.viewportX,\n                y: subpatchLayout.viewportY,\n            };\n            const subpatchViewport = {\n                topLeft,\n                bottomRight: sumPoints(topLeft, {\n                    x: subpatchLayout.viewportWidth,\n                    y: subpatchLayout.viewportHeight,\n                }),\n            };\n            // 2. we compute the visible intersection in the subpatch coords system\n            // and call the function for the subpatch\n            const visibleSubpatchViewport = computeRectanglesIntersection(parentViewport, subpatchViewport);\n            if (visibleSubpatchViewport === null) {\n                return;\n            }\n            const children = _discoverGuiControlsRecursive(pdJson, subpatch, visibleSubpatchViewport);\n            const control = {\n                type: 'container',\n                patch,\n                node,\n                children,\n            };\n            controls.push(control);\n            // 3. When we get ab actual control node, we see if it is inside the\n            // visible viewport (which was previously transformed to local coords).\n        }\n        else if (node.type in CONTROL_TYPE && node.nodeClass === 'control') {\n            const nodeLayout = _assertNodeLayout(node.layout);\n            if (!isPointInsideRectangle({\n                x: nodeLayout.x,\n                y: nodeLayout.y,\n            }, viewport)) {\n                return;\n            }\n            const control = {\n                type: 'control',\n                patch,\n                node,\n            };\n            controls.push(control);\n        }\n    });\n    return controls;\n};\nconst traverseGuiControls = (controls, func) => {\n    controls.forEach((control) => {\n        if (control.type === 'container') {\n            traverseGuiControls(control.children, func);\n        }\n        else if (control.type === 'control') {\n            func(control);\n        }\n    });\n};\nconst makeTranslationTransform = (fromPoint, toPoint) => {\n    const xOffset = toPoint.x - fromPoint.x;\n    const yOffset = toPoint.y - fromPoint.y;\n    return (fromPoint) => {\n        return {\n            x: fromPoint.x + xOffset,\n            y: fromPoint.y + yOffset,\n        };\n    };\n};\nconst sumPoints = (p1, p2) => ({\n    x: p1.x + p2.x,\n    y: p1.y + p2.y,\n});\nconst computeRectanglesIntersection = (r1, r2) => {\n    const topLeft = {\n        x: Math.max(r1.topLeft.x, r2.topLeft.x),\n        y: Math.max(r1.topLeft.y, r2.topLeft.y),\n    };\n    const bottomRight = {\n        x: Math.min(r1.bottomRight.x, r2.bottomRight.x),\n        y: Math.min(r1.bottomRight.y, r2.bottomRight.y),\n    };\n    if (bottomRight.x <= topLeft.x || bottomRight.y <= topLeft.y) {\n        return null;\n    }\n    else {\n        return { topLeft, bottomRight };\n    }\n};\nconst isPointInsideRectangle = (p, r) => r.topLeft.x <= p.x &&\n    p.x <= r.bottomRight.x &&\n    r.topLeft.y <= p.y &&\n    p.y <= r.bottomRight.y;\nconst _assertNodeLayout = (layout) => {\n    if (!layout) {\n        throw new Error(`Missing node layout`);\n    }\n    const x = layout.x;\n    const y = layout.y;\n    if (typeof x !== 'number' || typeof y !== 'number') {\n        throw new Error(`Missing node layout attributes`);\n    }\n    return {\n        x,\n        y,\n    };\n};\nconst _assertPatchLayout = (layout) => {\n    if (!layout) {\n        throw new Error(`Missing patch layout`);\n    }\n    const viewportX = layout.viewportX;\n    const viewportY = layout.viewportY;\n    const viewportWidth = layout.viewportWidth;\n    const viewportHeight = layout.viewportHeight;\n    if (typeof viewportX !== 'number' ||\n        typeof viewportY !== 'number' ||\n        typeof viewportWidth !== 'number' ||\n        typeof viewportHeight !== 'number') {\n        debugger;\n        throw new Error(`Missing patch layout attributes`);\n    }\n    return {\n        viewportX,\n        viewportY,\n        viewportWidth,\n        viewportHeight,\n    };\n};\n\nexport { _discoverGuiControlsRecursive, computeRectanglesIntersection, discoverGuiControls, isPointInsideRectangle, makeTranslationTransform, sumPoints, traverseGuiControls };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/** Regular expressions to deal with dollar-args */\nconst DOLLAR_VAR_REGEXP = /\\$(\\d+)/;\nconst resolvePatch = (pd, patchId) => {\n    const patch = pd.patches[patchId];\n    if (!patch) {\n        throw new Error(`Patch ${patchId} not found`);\n    }\n    return patch;\n};\nconst resolvePdNode = (patch, nodeId) => {\n    const pdNode = patch.nodes[nodeId];\n    if (!pdNode) {\n        throw new Error(`Pd node ${nodeId} not found in patch ${patch.id}`);\n    }\n    return pdNode;\n};\nconst resolveNodeType = (nodeBuilders, nodeType) => {\n    const nodeBuilder = nodeBuilders[nodeType];\n    if (!nodeBuilder) {\n        return null;\n    }\n    if (nodeBuilder.aliasTo) {\n        return resolveNodeType(nodeBuilders, nodeBuilder.aliasTo);\n    }\n    else {\n        return { nodeBuilder: nodeBuilder, nodeType };\n    }\n};\n/**\n * Takes an object string arg which might contain dollars, and returns the resolved version.\n * e.g. : [table $0-ARRAY] inside a patch with ID 1887 would resolve to [table 1887-ARRAY]\n */\nconst resolveDollarArg = (arg, patch) => {\n    // Since we have string patch ids and Pd uses int, we parse\n    // patch id back to int. This is useful for example so that\n    // [float $0] would work.\n    const patchIdInt = parseInt(patch.id);\n    if (isNaN(patchIdInt)) {\n        throw new Error(`Invalid patch id`);\n    }\n    const patchArgs = [patchIdInt, ...patch.args];\n    const dollarVarRegex = new RegExp(DOLLAR_VAR_REGEXP, 'g');\n    let matchDollar;\n    while ((matchDollar = dollarVarRegex.exec(arg))) {\n        const index = parseInt(matchDollar[1], 10);\n        const isWithinRange = 0 <= index && index < patchArgs.length;\n        if (matchDollar[0] === arg) {\n            return isWithinRange ? patchArgs[index] : undefined;\n        }\n        else {\n            if (isWithinRange) {\n                arg = arg.replace(matchDollar[0], patchArgs[index].toString());\n            }\n        }\n    }\n    return arg;\n};\nconst resolveArrayDollarArgs = (rootPatch, args) => {\n    const name = resolveDollarArg(args[0], rootPatch);\n    const size = typeof args[1] === 'string'\n        ? resolveDollarArg(args[1], rootPatch)\n        : args[1];\n    return [\n        (name === undefined ? '' : name).toString(),\n        size === undefined ? 0 : size,\n        args[2],\n    ];\n};\nconst resolvePdNodeDollarArgs = (rootPatch, args) => args.map((arg) => typeof arg === 'string' ? resolveDollarArg(arg, rootPatch) : arg);\n\nexport { resolveArrayDollarArgs, resolveDollarArg, resolveNodeType, resolvePatch, resolvePdNode, resolvePdNodeDollarArgs };\n","import { resolveArrayDollarArgs, resolvePatch, resolveNodeType, resolvePdNodeDollarArgs } from './compile-helpers.js';\n\n/**\n * Goes through a pd object, resolves and instantiates abstractions, turning\n * them into standard subpatches.\n * @returns A new PdJson.Pd object, which contains all patches and arrays\n * from the resolved abstraction as well as those from the pd object passed as argument.\n * The second value returned is the main root patch to be used for further processing.\n */\nvar instantiateAbstractions = async (pd, nodeBuilders, abstractionLoader) => {\n    const [namemap, pdWithReassignedIds] = _reassignUniquePdGlobalIds({ patches: {}, arrays: {}, rootPatchId: pd.rootPatchId }, pd);\n    const compilation = {\n        pd: pdWithReassignedIds,\n        nodeBuilders,\n        abstractions: {},\n        errors: {},\n        warnings: {},\n        abstractionLoader,\n    };\n    const rootPatch = _resolveRootPatch(compilation.pd);\n    Object.values(compilation.pd.arrays).forEach((array) => (array.args = resolveArrayDollarArgs(rootPatch, array.args)));\n    await _instantiateAbstractionsRecurs(compilation, rootPatch, rootPatch, namemap);\n    const hasErrors = Object.keys(compilation.errors).length;\n    if (hasErrors) {\n        return {\n            status: 1,\n            pd: compilation.pd,\n            errors: compilation.errors,\n            warnings: compilation.warnings,\n        };\n    }\n    else {\n        return {\n            status: 0,\n            pd: compilation.pd,\n            abstractions: compilation.abstractions,\n            warnings: compilation.warnings,\n        };\n    }\n};\nconst _instantiateAbstractionsRecurs = async (compilation, rootPatch, patch, namemap) => {\n    const { pd, abstractionLoader, errors, warnings } = compilation;\n    patch.nodes = { ...patch.nodes };\n    for (let pdNode of Object.values(patch.nodes)) {\n        if (errors.hasOwnProperty(pdNode.type)) {\n            continue;\n        }\n        // 1. If subpatch, resolve its `patchId` according to the namemap,\n        // and continue recursively by entering inside the subpatch\n        if (pdNode.nodeClass === 'subpatch') {\n            pdNode = patch.nodes[pdNode.id] = {\n                ...pdNode,\n                patchId: _resolveIdNamemap(namemap.patches, pdNode.patchId),\n            };\n            await _instantiateAbstractionsRecurs(compilation, rootPatch, resolvePatch(pd, pdNode.patchId), namemap);\n            continue;\n            // 2. If array, resolve its `arrayId` according to the namemap.\n        }\n        else if (pdNode.nodeClass === 'array') {\n            pdNode = patch.nodes[pdNode.id] = {\n                ...pdNode,\n                arrayId: _resolveIdNamemap(namemap.arrays, pdNode.arrayId),\n            };\n            continue;\n        }\n        // 3. If normal node, whose type resolves from the `nodeBuilders`,\n        // we do nothing.\n        if (resolveNodeType(compilation.nodeBuilders, pdNode.type) !== null) {\n            continue;\n        }\n        // 4. Otherwise, if node type could not be resolved, we load as an abstraction.\n        const resolutionResult = await _resolveAbstraction(compilation, pdNode.type, abstractionLoader);\n        if (resolutionResult.parsingWarnings) {\n            warnings[pdNode.type] = resolutionResult.parsingWarnings;\n        }\n        if (resolutionResult.status === 1) {\n            const { status, parsingWarnings, ...abstractionErrors } = resolutionResult;\n            errors[pdNode.type] = abstractionErrors;\n            continue;\n        }\n        // Since the abstraction is loaded as an independant PdJson.Pd object,\n        // the global ids of its patches and arrays, might clash with the ids\n        // in our `pd` object. Therefore, we need to reassign these ids.\n        const [newNamemap, abstractionInstance] = _reassignUniquePdGlobalIds(pd, resolutionResult.pd);\n        const newRootPatch = _resolveRootPatch(abstractionInstance);\n        // Replace the abstraction node by a subpatch node, so that the abstraction\n        // can be dealt with the same way a subpatch is handled.\n        pdNode = patch.nodes[pdNode.id] = {\n            ...pdNode,\n            args: resolvePdNodeDollarArgs(rootPatch, pdNode.args),\n            nodeClass: 'subpatch',\n            patchId: newRootPatch.id,\n            type: 'pd',\n        };\n        // Prepare the new root patch, resolve arrays args, because it won't be done\n        // further down in the code.\n        newRootPatch.args = pdNode.args;\n        Object.values(abstractionInstance.arrays).forEach((array) => (array.args = resolveArrayDollarArgs(newRootPatch, array.args)));\n        // Finally, combine the abstraction patches and arrays with the ones in `pd`.\n        // At this stage ids should not collide, and references saved in `namemap`,\n        // so we can recurse to deal with nodes inside the abstraction.\n        pd.patches = {\n            ...pd.patches,\n            ...abstractionInstance.patches,\n        };\n        pd.arrays = {\n            ...pd.arrays,\n            ...abstractionInstance.arrays,\n        };\n        await _instantiateAbstractionsRecurs(compilation, newRootPatch, newRootPatch, newNamemap);\n    }\n};\nconst _resolveRootPatch = (pd) => {\n    const rootPatch = pd.patches[pd.rootPatchId];\n    if (!rootPatch) {\n        throw new Error(`Could not resolve root patch`);\n    }\n    return rootPatch;\n};\nconst _resolveAbstraction = async (compilation, nodeType, abstractionLoader) => {\n    if (!compilation.abstractions[nodeType]) {\n        const result = await abstractionLoader(nodeType);\n        if (result.status === 0) {\n            compilation.abstractions[nodeType] = result.pd;\n        }\n        return result;\n    }\n    return {\n        status: 0,\n        pd: compilation.abstractions[nodeType],\n    };\n};\nconst _resolveIdNamemap = (map, objectId) => {\n    const newObjectId = map.get(objectId);\n    if (newObjectId === undefined) {\n        throw new Error(`Could not resolve ${objectId}`);\n    }\n    return newObjectId;\n};\nconst _reassignUniquePdGlobalIds = (pdToMergeInto, pdToReassign) => {\n    const pdWithReassignedIds = {\n        patches: {},\n        arrays: {},\n        rootPatchId: pdToReassign.rootPatchId,\n    };\n    const namemap = {\n        patches: new Map(),\n        arrays: new Map(),\n    };\n    let patchesIds = Object.keys(pdToMergeInto.patches);\n    patchesIds = patchesIds.length ? patchesIds : ['-1'];\n    let arraysIds = Object.keys(pdToMergeInto.arrays);\n    arraysIds = arraysIds.length ? arraysIds : ['-1'];\n    let patchesIdCounter = Math.max(...patchesIds.map((id) => parseInt(id))) + 1;\n    let arraysIdCounter = Math.max(...arraysIds.map((id) => parseInt(id))) + 1;\n    Object.entries(pdToReassign.patches).forEach(([oldId, patch]) => {\n        const newId = `${patchesIdCounter++}`;\n        namemap.patches.set(oldId, newId);\n        pdWithReassignedIds.patches[newId] = {\n            ...patch,\n            id: newId,\n        };\n    });\n    Object.entries(pdToReassign.arrays).forEach(([oldId, array]) => {\n        const newId = `${arraysIdCounter++}`;\n        namemap.arrays.set(oldId, newId);\n        pdWithReassignedIds.arrays[newId] = {\n            ...array,\n            id: newId,\n        };\n    });\n    pdWithReassignedIds.rootPatchId = _resolveIdNamemap(namemap.patches, pdWithReassignedIds.rootPatchId);\n    return [namemap, pdWithReassignedIds];\n};\n\nexport { instantiateAbstractions as default };\n","const emptyBuilder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {},\n        outlets: {},\n    }),\n};\nconst nodeBuilders = {\n    pd: emptyBuilder,\n    inlet: emptyBuilder,\n    outlet: emptyBuilder,\n    'inlet~': emptyBuilder,\n    'outlet~': emptyBuilder,\n};\n\nexport { nodeBuilders };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst assertNumber = (value) => {\n    if (typeof value !== 'number') {\n        throw new ValidationError(`${value} is not a number`);\n    }\n    return value;\n};\nconst assertString = (value) => {\n    if (typeof value !== 'string') {\n        throw new ValidationError(`${value} is not a string`);\n    }\n    return value;\n};\nconst assertOptionalNumber = (value) => {\n    return value !== undefined ? assertNumber(value) : undefined;\n};\nconst assertOptionalString = (value) => {\n    return value !== undefined ? assertString(value) : undefined;\n};\nclass ValidationError extends Error {\n}\n\nexport { ValidationError, assertNumber, assertOptionalNumber, assertOptionalString, assertString };\n","import { mapArray, countTo } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { ast } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertNumber } from '../validation.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        channelCount: assertNumber(pdNode.args[0]),\n    }),\n    build: (nodeArgs) => ({\n        inlets: mapArray(countTo(nodeArgs.channelCount), (channel) => [`${channel}`, { type: 'signal', id: `${channel}` }]),\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst nodeImplementation = {\n    inlineLoop: ({ node, ins }) => ast `${Object.keys(node.inlets)\n        .map((inletId) => ins[inletId])\n        .join(' + ')}`\n};\n\nexport { builder, nodeImplementation };\n","import { AnonFunc, Var } from '../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst coldFloatInlet = (storageName) => {\n    return AnonFunc([Var('Message', 'm')]) `\n        if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n            ${storageName} = msg_readFloatToken(m, 0)\n            return\n        }\n    `;\n};\nconst coldStringInlet = (storageName) => {\n    return AnonFunc([Var('Message', 'm')]) `\n        if (msg_isMatching(m, [MSG_STRING_TOKEN])) {\n            ${storageName} = msg_readStringToken(m, 0)\n            return\n        }\n    `;\n};\nconst coldFloatInletWithSetter = (setterName, state) => {\n    return AnonFunc([Var('Message', 'm')]) `\n        if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n            ${setterName}(${state}, msg_readFloatToken(m, 0))\n            return\n        }\n    `;\n};\n\nexport { coldFloatInlet, coldFloatInletWithSetter, coldStringInlet };\n","import { mapArray } from '../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { createNamespace } from '../../../WebPd_compiler/dist/src/compile/namespace.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst generateVariableNamesNodeType = (nodeType, functionNames) => createNamespace(nodeType, {\n    stateClass: `n_State_${nodeType}`,\n    ...mapArray(functionNames || [], (name) => [\n        name,\n        `n_${nodeType}_${name}`,\n    ]),\n});\n\nexport { generateVariableNamesNodeType };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInlet } from '../standard-message-receivers.js';\nimport { ast, ConstVar, Sequence, Class, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initValue: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('sig_t');\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                currentValue: ${args.initValue}\n            }`)}\n        `,\n    inlineLoop: ({ state }) => ast `${state}.currentValue`,\n    messageReceivers: ({ state }) => ({\n        '0': coldFloatInlet(`${state}.currentValue`),\n    }),\n    dependencies: [\n        () => Sequence([\n            Class(variableNames.stateClass, [\n                Var('Float', 'currentValue')\n            ]),\n        ]),\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { AnonFunc, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst nodeImplementation = {\n    messageReceivers: ({ snds }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                ${snds.$0}(m)\n                return\n            } else {\n                ${snds.$1}(m)\n                return\n            }\n        `,\n    }),\n};\n\nexport { builder, nodeImplementation };\n","import { getNode, getSources, getSinks, getOutlet, getInlet } from './getters.js';\nimport { endpointsEqual } from './graph-helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst addNode = (graph, node) => {\n    if (!graph[node.id]) {\n        graph[node.id] = node;\n    }\n    else {\n        throw new Error(`Node \"${node.id}\" already exists`);\n    }\n    return graph[node.id];\n};\nconst connect = (graph, source, sink) => {\n    const sinkNode = getNode(graph, sink.nodeId);\n    const sourceNode = getNode(graph, source.nodeId);\n    const otherSources = getSources(sinkNode, sink.portletId);\n    const otherSinks = getSinks(sourceNode, source.portletId);\n    const outlet = getOutlet(sourceNode, source.portletId);\n    const inlet = getInlet(sinkNode, sink.portletId);\n    // Avoid duplicate connections : we check only on sinks,\n    // because we assume that connections are always consistent on both sides.\n    if (otherSinks.some((otherSink) => endpointsEqual(sink, otherSink))) {\n        return;\n    }\n    // Check that connection is valid\n    if (!outlet) {\n        throw new Error(`Undefined outlet ${source.nodeId}:${source.portletId}`);\n    }\n    if (!inlet) {\n        throw new Error(`Undefined inlet ${sink.nodeId}:${sink.portletId}`);\n    }\n    if (outlet.type !== inlet.type) {\n        throw new Error(`Incompatible portlets types ${source.nodeId} | ${source.portletId} (${outlet.type}) -> ${sink.nodeId} | ${sink.portletId} (${inlet.type})`);\n    }\n    if (inlet.type === 'signal' && otherSources.length) {\n        throw new Error(`Signal inlets can have only one connection`);\n    }\n    _ensureConnectionEndpointArray(sinkNode.sources, sink.portletId).push(source);\n    _ensureConnectionEndpointArray(sourceNode.sinks, source.portletId).push(sink);\n};\n/** Remove all existing connections from `sourceNodeId` to `sinkNodeId`. */\nconst disconnectNodes = (graph, sourceNodeId, sinkNodeId) => {\n    const sourceNode = getNode(graph, sourceNodeId);\n    const sinkNode = getNode(graph, sinkNodeId);\n    Object.entries(sinkNode.sources).forEach(([inletId, sources]) => (sinkNode.sources[inletId] = sources.filter((source) => source.nodeId !== sourceNodeId)));\n    Object.entries(sourceNode.sinks).forEach(([outletId, sinks]) => (sourceNode.sinks[outletId] = sinks.filter((sink) => sink.nodeId !== sinkNodeId)));\n};\n/** Delete node from the graph, also cleaning all the connections from and to other nodes. */\nconst deleteNode = (graph, nodeId) => {\n    const node = graph[nodeId];\n    if (!node) {\n        return;\n    }\n    // `slice(0)` because array might change during iteration\n    Object.values(node.sources).forEach((sources) => sources\n        .slice(0)\n        .forEach((source) => disconnectNodes(graph, source.nodeId, nodeId)));\n    Object.values(node.sinks).forEach((sinks) => sinks\n        .slice(0)\n        .forEach((sink) => disconnectNodes(graph, nodeId, sink.nodeId)));\n    delete graph[nodeId];\n};\nconst _ensureConnectionEndpointArray = (portletMap, portletId) => (portletMap[portletId] = portletMap[portletId] || []);\n\nexport { addNode, connect, deleteNode, disconnectNodes };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst endpointsEqual = (a1, a2) => a1.portletId === a2.portletId && a1.nodeId === a2.nodeId;\n\nexport { endpointsEqual };\n","import { resolveNodeType, resolvePatch, resolvePdNodeDollarArgs, resolvePdNode } from './compile-helpers.js';\nimport instantiateAbstractions from './instantiate-abstractions.js';\nimport { nodeBuilders } from '../nodes/nodes/subpatch.js';\nimport { builder } from '../nodes/nodes/_mixer~.js';\nimport { builder as builder$1 } from '../nodes/nodes/sig~.js';\nimport { builder as builder$2 } from '../nodes/nodes/_routemsg.js';\nimport { getNode, getOutlet } from '../../../WebPd_compiler/dist/src/dsp-graph/getters.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { deleteNode, connect, addNode } from '../../../WebPd_compiler/dist/src/dsp-graph/mutations.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst IMPLICIT_NODE_TYPES = {\n    MIXER: '_mixer~',\n    ROUTE_MSG: '_routemsg',\n    CONSTANT_SIGNAL: 'sig~',\n};\nvar IdNamespaces;\n(function (IdNamespaces) {\n    IdNamespaces[\"PD\"] = \"n\";\n    /** Node added for enabling translation from pd to dp graph  */\n    IdNamespaces[\"IMPLICIT_NODE\"] = \"m\";\n})(IdNamespaces || (IdNamespaces = {}));\nconst buildGraphNodeId = (patchId, nodeLocalId) => {\n    return `${IdNamespaces.PD}_${patchId}_${nodeLocalId}`;\n};\nconst buildGraphPortletId = (pdPortletId) => pdPortletId.toString(10);\n/** Node id for nodes added while converting from PdJson */\nconst buildImplicitGraphNodeId = (sink, nodeType) => {\n    nodeType = nodeType.replaceAll(/[^a-zA-Z0-9_]/g, '');\n    return `${IdNamespaces.IMPLICIT_NODE}_${sink.nodeId}_${sink.portletId}_${nodeType}`;\n};\n// ================================== MAIN ================================== //\nvar toDspGraph = async (pd, nodeBuilders$1, abstractionLoader = async (nodeType) => ({\n    status: 1,\n    unknownNodeType: nodeType,\n})) => {\n    const abstractionsResult = await instantiateAbstractions(pd, nodeBuilders$1, abstractionLoader);\n    const hasWarnings = Object.keys(abstractionsResult.warnings);\n    if (abstractionsResult.status === 1) {\n        return {\n            status: 1,\n            abstractionsLoadingErrors: abstractionsResult.errors,\n            abstractionsLoadingWarnings: hasWarnings\n                ? abstractionsResult.warnings\n                : undefined,\n        };\n    }\n    const { pd: pdWithResolvedAbstractions } = abstractionsResult;\n    const compilation = {\n        pd: pdWithResolvedAbstractions,\n        nodeBuilders: nodeBuilders$1,\n        graph: {},\n    };\n    const rootPatch = _resolveRootPatch(pdWithResolvedAbstractions);\n    _traversePatches(compilation, [rootPatch], _buildNodes);\n    _buildConnections(compilation, [rootPatch]);\n    Object.values(compilation.graph).forEach((node) => {\n        if (Object.keys(nodeBuilders).includes(node.type)) {\n            deleteNode(compilation.graph, node.id);\n        }\n    });\n    const arrays = Object.values(compilation.pd.arrays).reduce((arrays, array) => {\n        arrays[array.args[0]] = array.data\n            ? new Float32Array(array.data)\n            : new Float32Array(array.args[1]);\n        return arrays;\n    }, {});\n    return {\n        status: 0,\n        graph: compilation.graph,\n        pd: compilation.pd,\n        arrays,\n        abstractionsLoadingWarnings: hasWarnings\n            ? abstractionsResult.warnings\n            : undefined,\n    };\n};\n// ================================== DSP GRAPH NODES ================================== //\nconst _buildNodes = (compilation, patchPath) => {\n    const patch = _currentPatch(patchPath);\n    const rootPatch = _rootPatch(patchPath);\n    Object.values(patch.nodes).forEach((pdNode) => {\n        const nodeId = buildGraphNodeId(patch.id, pdNode.id);\n        _buildNode(compilation, rootPatch, patch, pdNode, nodeId);\n    });\n};\nconst _buildNode = (compilation, rootPatch, patch, pdNode, nodeId) => {\n    const nodeTypeResolution = resolveNodeType(compilation.nodeBuilders, pdNode.type);\n    if (nodeTypeResolution === null) {\n        throw new Error(`unknown node type ${pdNode.type}`);\n    }\n    const { nodeBuilder, nodeType } = nodeTypeResolution;\n    if (nodeBuilder.isNoop === true) {\n        return null;\n    }\n    if (!nodeBuilder.skipDollarArgsResolution) {\n        pdNode = {\n            ...pdNode,\n            args: resolvePdNodeDollarArgs(rootPatch, pdNode.args),\n        };\n    }\n    const nodeArgs = nodeBuilder.translateArgs(pdNode, patch, compilation.pd);\n    const partialNode = nodeBuilder.build(nodeArgs);\n    return addNode(compilation.graph, {\n        id: nodeId,\n        type: nodeType,\n        args: nodeArgs,\n        sources: {},\n        sinks: {},\n        ...partialNode,\n    });\n};\n// ==================================  DSP GRAPH CONNECTIONS ================================== //\nconst _buildConnections = (compilation, rootPatchPath) => {\n    const { graph } = compilation;\n    let pdConnections = [];\n    // 1. Get recursively through the patches and collect all pd connections\n    // in one single array. In the process, we also resolve subpatch's portlets.\n    _traversePatches(compilation, rootPatchPath, (compilation, patchPath) => {\n        _resolveSubpatches(compilation, patchPath, pdConnections);\n    });\n    // 2. Convert connections from PdJson to DspGraph, and group them by source\n    const groupedGraphConnections = _groupAndResolveGraphConnections(compilation, pdConnections);\n    // 3. Finally, we iterate over the grouped sources and build the graph connections.\n    Object.values(graph).forEach((node) => {\n        Object.values(node.inlets).forEach((inlet) => {\n            const graphSink = {\n                nodeId: node.id,\n                portletId: inlet.id,\n            };\n            const graphSources = (groupedGraphConnections[node.id]\n                ? groupedGraphConnections[node.id][inlet.id]\n                : undefined) || { signalSources: [], messageSources: [] };\n            if (inlet.type === 'signal') {\n                const { nodeBuilder: sinkNodeBuilder } = resolveNodeType(compilation.nodeBuilders, node.type);\n                const messageToSignalConfig = sinkNodeBuilder.configureMessageToSignalConnection\n                    ? sinkNodeBuilder.configureMessageToSignalConnection(graphSink.portletId, node.args)\n                    : undefined;\n                _buildConnectionToSignalSink(graph, graphSources.signalSources, graphSources.messageSources, graphSink, messageToSignalConfig);\n            }\n            else {\n                if (graphSources.signalSources.length !== 0) {\n                    throw new Error(`Unexpected signal connection to node id ${graphSink.nodeId}, inlet ${graphSink.portletId}`);\n                }\n                _buildConnectionToMessageSink(graph, graphSources.messageSources, graphSink);\n            }\n        });\n    });\n};\nconst _buildConnectionToMessageSink = (graph, sources, sink) => sources.forEach((source) => {\n    connect(graph, source, sink);\n});\n/**\n * Build a graph connection. Add nodes that are implicit in Pd, and that we want explicitely\n * declared in our graph.\n *\n * Implicit Pd behavior made explicit by this compilation :\n * - Multiple DSP inputs mixed into one\n *\n * ```\n * [ signal1~ ]   [ signal2~ ]\n *           \\      /\n *         [ _mixer~ ]\n *           |\n *         [ someNode~ ]\n *\n * ```\n *\n * - When messages to DSP input, automatically turned into a signal\n *\n * ```\n *    [ sig~ ]\n *      |\n *    [  someNode~ ]\n * ```\n *\n * - Re-route messages from signal inlet to a message inlet\n *\n * ```\n *    [ message1 ]\n *      |\n *    [ _routemsg ]     ( on the left inlet float messages, on the the right inlet, the rest. )\n *      |       \\\n *    [ sig~ ]   |\n *      |        |\n *    [  someNode~ ]\n * ```\n *\n * - Initial value of DSP input\n *\n *\n */\nconst _buildConnectionToSignalSink = (graph, signalSources, messageSources, sink, messageToSignalConfig) => {\n    let implicitSigNode = null;\n    // 1. SIGNAL SOURCES\n    // 1.1. if single signal source, we just put a normal connection\n    if (signalSources.length === 1) {\n        connect(graph, signalSources[0], sink);\n        // 1.2. if several signal sources, we put a mixer node in between.\n    }\n    else if (signalSources.length > 1) {\n        const mixerNodeArgs = {\n            channelCount: signalSources.length,\n        };\n        const implicitMixerNode = addNode(graph, {\n            id: buildImplicitGraphNodeId(sink, IMPLICIT_NODE_TYPES.MIXER),\n            type: IMPLICIT_NODE_TYPES.MIXER,\n            args: mixerNodeArgs,\n            sources: {},\n            sinks: {},\n            ...builder.build(mixerNodeArgs),\n        });\n        connect(graph, {\n            nodeId: implicitMixerNode.id,\n            portletId: '0',\n        }, sink);\n        signalSources.forEach((source, i) => {\n            connect(graph, source, {\n                nodeId: implicitMixerNode.id,\n                portletId: buildGraphPortletId(i),\n            });\n        });\n        // 1.3. if no signal source, we need to simulate one by plugging a sig node to the inlet\n    }\n    else {\n        const sigNodeArgs = {\n            initValue: messageToSignalConfig\n                ? messageToSignalConfig.initialSignalValue\n                : 0,\n        };\n        implicitSigNode = addNode(graph, {\n            id: buildImplicitGraphNodeId(sink, IMPLICIT_NODE_TYPES.CONSTANT_SIGNAL),\n            type: IMPLICIT_NODE_TYPES.CONSTANT_SIGNAL,\n            args: sigNodeArgs,\n            sources: {},\n            sinks: {},\n            ...builder$1.build(sigNodeArgs),\n        });\n        connect(graph, {\n            nodeId: implicitSigNode.id,\n            portletId: '0',\n        }, sink);\n    }\n    // 2. MESSAGE SOURCES\n    // If message sources, we split the incoming message flow in 2 using `_routemsg`.\n    // - outlet 0 : float messages are proxied to the sig~ if present, so they set its value\n    // - outlet 1 : other messages must be proxied to a different sink (cause here we are dealing\n    // with a signal sink which can't accept messages).\n    if (messageSources.length) {\n        const routeMsgArgs = {};\n        const implicitRouteMsgNode = addNode(graph, {\n            id: buildImplicitGraphNodeId(sink, IMPLICIT_NODE_TYPES.ROUTE_MSG),\n            type: IMPLICIT_NODE_TYPES.ROUTE_MSG,\n            args: routeMsgArgs,\n            sources: {},\n            sinks: {},\n            ...builder$2.build(routeMsgArgs),\n        });\n        let isMsgSortNodeConnected = false;\n        if (implicitSigNode) {\n            connect(graph, { nodeId: implicitRouteMsgNode.id, portletId: '0' }, { nodeId: implicitSigNode.id, portletId: '0' });\n            isMsgSortNodeConnected = true;\n        }\n        if (messageToSignalConfig &&\n            messageToSignalConfig.reroutedMessageInletId !== undefined) {\n            connect(graph, { nodeId: implicitRouteMsgNode.id, portletId: '1' }, {\n                nodeId: sink.nodeId,\n                portletId: messageToSignalConfig.reroutedMessageInletId,\n            });\n            isMsgSortNodeConnected = true;\n        }\n        if (isMsgSortNodeConnected) {\n            messageSources.forEach((graphMessageSource) => {\n                connect(graph, graphMessageSource, {\n                    nodeId: implicitRouteMsgNode.id,\n                    portletId: '0',\n                });\n            });\n        }\n    }\n};\n/**\n * Take an array of global PdJson connections and :\n * - group them by sink\n * - convert them to graph connections\n * - split them into signal and message connections\n */\nconst _groupAndResolveGraphConnections = (compilation, pdConnections) => {\n    const { graph } = compilation;\n    const groupedGraphConnections = {};\n    pdConnections.forEach((connection) => {\n        const [_, pdGlobSink] = connection;\n        // Resolve the graph sink corresponding with the connection,\n        // if already handled, we move on.\n        const [patchPath, pdSink] = pdGlobSink;\n        const graphNodeId = buildGraphNodeId(_currentPatch(patchPath).id, pdSink.nodeId);\n        groupedGraphConnections[graphNodeId] = groupedGraphConnections[graphNodeId] || {};\n        const graphPortletId = buildGraphPortletId(pdSink.portletId);\n        if (groupedGraphConnections[graphNodeId][graphPortletId]) {\n            return;\n        }\n        // Collect all sources for `pdGlobSink`\n        let pdGlobSources = [];\n        pdConnections.forEach((connection) => {\n            const [pdGlobSource, otherPdGlobSink] = connection;\n            if (_arePdGlobEndpointsEqual(pdGlobSink, otherPdGlobSink)) {\n                pdGlobSources.push(pdGlobSource);\n            }\n        });\n        // For each source, resolve it to a graph source, and split between\n        // signal and message sources.\n        const graphSignalSources = [];\n        const graphMessageSources = [];\n        pdGlobSources.forEach(([sourcePatchPath, pdSource]) => {\n            const sourcePatch = _currentPatch(sourcePatchPath);\n            const graphSource = {\n                nodeId: buildGraphNodeId(sourcePatch.id, pdSource.nodeId),\n                portletId: buildGraphPortletId(pdSource.portletId),\n            };\n            const sourceNode = getNode(graph, graphSource.nodeId);\n            const outlet = getOutlet(sourceNode, graphSource.portletId);\n            if (outlet.type === 'signal') {\n                graphSignalSources.push(graphSource);\n            }\n            else {\n                graphMessageSources.push(graphSource);\n            }\n        });\n        groupedGraphConnections[graphNodeId][graphPortletId] = {\n            signalSources: graphSignalSources,\n            messageSources: graphMessageSources,\n        };\n    });\n    return groupedGraphConnections;\n};\n/**\n * Traverse the graph recursively and collect all connections in a flat list,\n * by navigating inside and outside subpatches through their portlets.\n */\nconst _resolveSubpatches = (compilation, patchPath, pdConnections) => {\n    const { graph } = compilation;\n    const patch = _currentPatch(patchPath);\n    // First we remove connections for pd nodes that have been removed\n    // from the graph.\n    const connections = patch.connections.filter(({ source, sink }) => {\n        const sourceNodeId = buildGraphNodeId(patch.id, source.nodeId);\n        const sinkNodeId = buildGraphNodeId(patch.id, sink.nodeId);\n        if (graph[sourceNodeId] && graph[sinkNodeId]) {\n            return true;\n        }\n        return false;\n    });\n    connections.forEach(({ source, sink }) => {\n        const resolvedSources = _resolveSource(compilation, [patchPath, source]);\n        const resolvedSinks = _resolveSink(compilation, patchPath, sink);\n        resolvedSources.forEach((pdGSource) => resolvedSinks.forEach((pdGSink) => {\n            const alreadyExists = pdConnections.some(([otherPdGSource, otherPdGSink]) => {\n                return (_arePdGlobEndpointsEqual(pdGSource, otherPdGSource) && _arePdGlobEndpointsEqual(pdGSink, otherPdGSink));\n            });\n            if (!alreadyExists) {\n                pdConnections.push([pdGSource, pdGSink]);\n            }\n        }));\n    });\n};\nconst _resolveSource = (compilation, [patchPath, source]) => {\n    const { pd } = compilation;\n    const patch = _currentPatch(patchPath);\n    const pdSourceNode = resolvePdNode(patch, source.nodeId);\n    // 1. If inlet, we lookup in parent patch for the sources of the\n    // corresponding inlets, then continue the resolution recursively.\n    if (pdSourceNode.type === 'inlet' || pdSourceNode.type === 'inlet~') {\n        const parentPatch = _parentPatch(patchPath);\n        // When we load an abstraction as main patch, it will have\n        // inlets / outlets which are not connected\n        if (!parentPatch) {\n            return [];\n        }\n        const subpatchNode = _resolveSubpatchNode(parentPatch, patch.id);\n        const subpatchNodePortletId = _resolveSubpatchPortletId(patch.inlets, pdSourceNode.id);\n        return parentPatch.connections\n            .filter(({ sink }) => sink.nodeId === subpatchNode.id &&\n            sink.portletId === subpatchNodePortletId)\n            .flatMap(({ source }) => _resolveSource(compilation, [\n            [...patchPath.slice(0, -1)],\n            source,\n        ]));\n        // 2. If subpatch, we enter the subpatch and lookup for the\n        // sources of the corresponding outlet, then continue the\n        // resolution recursively.\n    }\n    else if (pdSourceNode.nodeClass === 'subpatch') {\n        const subpatch = resolvePatch(pd, pdSourceNode.patchId);\n        const outletPdNodeId = _resolveSubpatchPortletNode(subpatch.outlets, source.portletId);\n        return subpatch.connections\n            .filter(({ sink }) => sink.nodeId === outletPdNodeId && sink.portletId === 0)\n            .flatMap(({ source }) => _resolveSource(compilation, [[...patchPath, subpatch], source]));\n        // 3. This is the general case for all other nodes which are not\n        // subpatch related.\n    }\n    else {\n        return [[patchPath, source]];\n    }\n};\nconst _resolveSink = (compilation, patchPath, pdSink) => {\n    const { pd } = compilation;\n    const patch = _currentPatch(patchPath);\n    const pdSinkNode = resolvePdNode(patch, pdSink.nodeId);\n    // 1. If outlet, we lookup in parent patch for the sinks of the\n    // corresponding outlets, then continue the resolution recursively.\n    if (pdSinkNode.type === 'outlet' || pdSinkNode.type === 'outlet~') {\n        const parentPatch = _parentPatch(patchPath);\n        // When we load an abstraction as main patch, it will have\n        // inlets / outlets which are not connected\n        if (!parentPatch) {\n            return [];\n        }\n        const subpatchNode = _resolveSubpatchNode(parentPatch, patch.id);\n        const subpatchNodePortletId = _resolveSubpatchPortletId(patch.outlets, pdSinkNode.id);\n        return parentPatch.connections\n            .filter(({ source }) => source.nodeId === subpatchNode.id &&\n            source.portletId === subpatchNodePortletId)\n            .flatMap(({ sink }) => _resolveSink(compilation, [...patchPath.slice(0, -1)], sink));\n        // 2. If subpatch, we enter the subpatch and lookup for the\n        // sinks of the corresponding inlet, then continue the\n        // resolution recursively.\n    }\n    else if (pdSinkNode.nodeClass === 'subpatch') {\n        const subpatch = resolvePatch(pd, pdSinkNode.patchId);\n        const inletPdNodeId = _resolveSubpatchPortletNode(subpatch.inlets, pdSink.portletId);\n        return subpatch.connections\n            .filter(({ source }) => source.nodeId === inletPdNodeId && source.portletId === 0)\n            .flatMap(({ sink }) => _resolveSink(compilation, [...patchPath, subpatch], sink));\n        // 3. This is the general case for all other nodes which are not\n        // subpatch related.\n    }\n    else {\n        return [[patchPath, pdSink]];\n    }\n};\n// ================================== HELPERS ================================== //\nconst _traversePatches = (compilation, patchPath, func) => {\n    const patch = _currentPatch(patchPath);\n    func(compilation, patchPath);\n    Object.values(patch.nodes).forEach((pdNode) => {\n        if (pdNode.nodeClass === 'subpatch') {\n            const subpatch = resolvePatch(compilation.pd, pdNode.patchId);\n            _traversePatches(compilation, [...patchPath, subpatch], func);\n        }\n    });\n};\nconst _currentPatch = (patchPath) => {\n    const patch = patchPath.slice(-1)[0];\n    if (!patch) {\n        throw new Error(`patchPath empty !`);\n    }\n    return patch;\n};\nconst _parentPatch = (patchPath) => {\n    if (patchPath.length < 2) {\n        return null;\n    }\n    return patchPath.slice(-2)[0];\n};\nconst _rootPatch = (patchPath) => {\n    const firstRootPatch = patchPath\n        .slice(0)\n        .reverse()\n        .find((patch) => patch.isRoot);\n    if (!firstRootPatch) {\n        throw new Error(`Could not resolve root patch from path`);\n    }\n    return firstRootPatch;\n};\nconst _resolveRootPatch = (pd) => {\n    const rootPatch = pd.patches[pd.rootPatchId];\n    if (!rootPatch) {\n        throw new Error(`Could not resolve root patch`);\n    }\n    return rootPatch;\n};\nconst _resolveSubpatchPortletNode = (portletNodeIds, portletId) => {\n    const pdNodeId = portletNodeIds[portletId];\n    if (pdNodeId === undefined) {\n        throw new Error(`Portlet ${portletId} is undefined in patch.outlets/patch.inlets`);\n    }\n    return pdNodeId;\n};\nconst _resolveSubpatchPortletId = (portletNodeIds, pdNodeId) => portletNodeIds.findIndex((portletId) => portletId === pdNodeId);\nconst _resolveSubpatchNode = (patch, patchId) => {\n    const subpatchNode = Object.values(patch.nodes).find((pdNode) => pdNode.nodeClass === 'subpatch' && pdNode.patchId === patchId);\n    if (subpatchNode === undefined) {\n        throw new Error(`could not find subpatch node with patchId=${patchId} inside patch ${patch.id}`);\n    }\n    return subpatchNode;\n};\nconst _arePdGlobEndpointsEqual = ([pp1, ep1], [pp2, ep2]) => _currentPatch(pp1).id === _currentPatch(pp2).id &&\n    ep1.nodeId === ep2.nodeId &&\n    ep1.portletId === ep2.portletId;\n\nexport { _buildConnections, _buildNodes, _traversePatches, buildGraphNodeId, buildGraphPortletId, buildImplicitGraphNodeId, toDspGraph as default };\n","import { Sequence, Class, Var, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\nconst EMPTY_BUS_NAME = 'empty';\nconst build = () => ({\n    inlets: {\n        '0': { type: 'message', id: '0' },\n    },\n    outlets: {\n        '0': { type: 'message', id: '0' },\n    },\n    // This is always true, because the object can receive \n    // messages through message bus\n    isPushingMessages: true\n});\n// TODO : move to global code\nconst controlsCoreVariableNames = generateVariableNamesNodeType('control', [\n    'setReceiveBusName',\n    'setSendReceiveFromMessage',\n    'defaultMessageHandler',\n]);\nconst controlsCore = () => Sequence([\n    Class(controlsCoreVariableNames.stateClass, [\n        Var('Float', 'minValue'),\n        Var('Float', 'maxValue'),\n        Var('Float', 'valueFloat'),\n        Var('Message', 'value'),\n        Var('string', 'receiveBusName'),\n        Var('string', 'sendBusName'),\n        Var('(m: Message) => void', 'messageReceiver'),\n        Var('(m: Message) => void', 'messageSender'),\n    ]),\n    Func(controlsCoreVariableNames.setReceiveBusName, [\n        Var(controlsCoreVariableNames.stateClass, 'state'),\n        Var('string', 'busName'),\n    ], 'void') `\n        if (state.receiveBusName !== \"${EMPTY_BUS_NAME}\") {\n            msgBusUnsubscribe(state.receiveBusName, state.messageReceiver)\n        }\n        state.receiveBusName = busName\n        if (state.receiveBusName !== \"${EMPTY_BUS_NAME}\") {\n            msgBusSubscribe(state.receiveBusName, state.messageReceiver)\n        }\n    `,\n    Func(controlsCoreVariableNames.setSendReceiveFromMessage, [\n        Var(controlsCoreVariableNames.stateClass, 'state'),\n        Var('Message', 'm'),\n    ], 'boolean') `\n        if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n            && msg_readStringToken(m, 0) === 'receive'\n        ) {\n            ${controlsCoreVariableNames.setReceiveBusName}(state, msg_readStringToken(m, 1))\n            return true\n\n        } else if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n            && msg_readStringToken(m, 0) === 'send'\n        ) {\n            state.sendBusName = msg_readStringToken(m, 1)\n            return true\n        }\n        return false\n    `,\n    Func(controlsCoreVariableNames.defaultMessageHandler, [Var('Message', 'm')], 'void') ``,\n]);\n\nexport { EMPTY_BUS_NAME, build, controlsCore, controlsCoreVariableNames };\n","import { Sequence, ConstVar, Func, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport { msg } from '../../../../WebPd_compiler/dist/src/stdlib/msg.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n// TODO : unit tests\nconst signalBuses = () => Sequence([\n    ConstVar('Map<string, Float>', 'SIGNAL_BUSES', 'new Map()'),\n    `SIGNAL_BUSES.set('', 0)`,\n    Func('addAssignSignalBus', [\n        Var('string', 'busName'),\n        Var('Float', 'value')\n    ], 'Float') `\n            ${ConstVar('Float', 'newValue', 'SIGNAL_BUSES.get(busName) + value')}\n            SIGNAL_BUSES.set(\n                busName,\n                newValue,\n            )\n            return newValue\n        `,\n    Func('setSignalBus', [\n        Var('string', 'busName'),\n        Var('Float', 'value'),\n    ], 'void') `\n            SIGNAL_BUSES.set(\n                busName,\n                value,\n            )\n        `,\n    Func('resetSignalBus', [\n        Var('string', 'busName')\n    ], 'void') `\n            SIGNAL_BUSES.set(busName, 0)\n        `,\n    Func('readSignalBus', [Var('string', 'busName')], 'Float') `\n            return SIGNAL_BUSES.get(busName)\n        `\n]);\n// TODO : unit tests\nconst messageBuses = {\n    codeGenerator: () => Sequence([\n        ConstVar('Map<string, Array<(m: Message) => void>>', 'MSG_BUSES', 'new Map()'),\n        Func('msgBusPublish', [Var('string', 'busName'), Var('Message', 'message')], 'void') `\n            ${Var('Int', 'i', '0')}\n            ${ConstVar('Array<(m: Message) => void>', 'callbacks', 'MSG_BUSES.has(busName) ? MSG_BUSES.get(busName): []')}\n            for (i = 0; i < callbacks.length; i++) {\n                callbacks[i](message)\n            }\n        `,\n        Func('msgBusSubscribe', [Var('string', 'busName'), Var('(m: Message) => void', 'callback')], 'void') `\n            if (!MSG_BUSES.has(busName)) {\n                MSG_BUSES.set(busName, [])\n            }\n            MSG_BUSES.get(busName).push(callback)\n        `,\n        Func('msgBusUnsubscribe', [Var('string', 'busName'), Var('(m: Message) => void', 'callback')], 'void') `\n            if (!MSG_BUSES.has(busName)) {\n                return\n            }\n            ${ConstVar('Array<(m: Message) => void>', 'callbacks', 'MSG_BUSES.get(busName)')}\n            ${ConstVar('Int', 'found', 'callbacks.indexOf(callback) !== -1')}\n            if (found !== -1) {\n                callbacks.splice(found, 1)\n            }\n        `\n    ]),\n    dependencies: [msg],\n};\n\nexport { messageBuses, signalBuses };\n","import { Sequence, Func, Var, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport { msg } from '../../../../WebPd_compiler/dist/src/stdlib/msg.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst bangUtils = {\n    codeGenerator: () => Sequence([\n        Func('msg_isBang', [Var('Message', 'message')], 'boolean') `\n            return (\n                msg_isStringToken(message, 0) \n                && msg_readStringToken(message, 0) === 'bang'\n            )\n        `,\n        Func('msg_bang', [], 'Message') `\n            ${ConstVar('Message', 'message', 'msg_create([MSG_STRING_TOKEN, 4])')}\n            msg_writeStringToken(message, 0, 'bang')\n            return message\n        `,\n        Func('msg_emptyToBang', [Var('Message', 'message')], 'Message') `\n            if (msg_getLength(message) === 0) {\n                return msg_bang()\n            } else {\n                return message\n            }\n        `,\n    ]),\n    dependencies: [msg],\n};\nconst msgUtils = {\n    codeGenerator: () => Sequence([\n        Func('msg_copyTemplate', [Var('Message', 'src'), Var('Int', 'start'), Var('Int', 'end')], 'MessageTemplate') `\n            ${ConstVar('MessageTemplate', 'template', '[]')}\n            for (${Var('Int', 'i', 'start')}; i < end; i++) {\n                ${ConstVar('Int', 'tokenType', 'msg_getTokenType(src, i)')}\n                template.push(tokenType)\n                if (tokenType === MSG_STRING_TOKEN) {\n                    template.push(msg_readStringToken(src, i).length)\n                }\n            }\n            return template\n        `,\n        Func('msg_copyMessage', [\n            Var('Message', 'src'),\n            Var('Message', 'dest'),\n            Var('Int', 'srcStart'),\n            Var('Int', 'srcEnd'),\n            Var('Int', 'destStart'),\n        ], 'void') `\n            ${Var('Int', 'i', 'srcStart')}\n            ${Var('Int', 'j', 'destStart')}\n            for (i, j; i < srcEnd; i++, j++) {\n                if (msg_getTokenType(src, i) === MSG_STRING_TOKEN) {\n                    msg_writeStringToken(dest, j, msg_readStringToken(src, i))\n                } else {\n                    msg_writeFloatToken(dest, j, msg_readFloatToken(src, i))\n                }\n            }\n        `,\n        Func('msg_slice', [Var('Message', 'message'), Var('Int', 'start'), Var('Int', 'end')], 'Message') `\n            if (msg_getLength(message) <= start) {\n                throw new Error('message empty')\n            }\n            ${ConstVar('MessageTemplate', 'template', 'msg_copyTemplate(message, start, end)')}\n            ${ConstVar('Message', 'newMessage', 'msg_create(template)')}\n            msg_copyMessage(message, newMessage, start, end, 0)\n            return newMessage\n        `,\n        Func('msg_concat', [Var('Message', 'message1'), Var('Message', 'message2')], 'Message') `\n            ${ConstVar('Message', 'newMessage', 'msg_create(msg_copyTemplate(message1, 0, msg_getLength(message1)).concat(msg_copyTemplate(message2, 0, msg_getLength(message2))))')}\n            msg_copyMessage(message1, newMessage, 0, msg_getLength(message1), 0)\n            msg_copyMessage(message2, newMessage, 0, msg_getLength(message2), msg_getLength(message1))\n            return newMessage\n        `,\n        Func('msg_shift', [Var('Message', 'message')], 'Message') `\n            switch (msg_getLength(message)) {\n                case 0:\n                    throw new Error('message empty')\n                case 1:\n                    return msg_create([])\n                default:\n                    return msg_slice(message, 1, msg_getLength(message))\n            }\n        `\n    ]),\n    dependencies: [msg],\n};\nconst stringMsgUtils = {\n    codeGenerator: () => Sequence([\n        Func('msg_isAction', [Var('Message', 'message'), Var('string', 'action')], 'boolean') `\n            return msg_isMatching(message, [MSG_STRING_TOKEN])\n                && msg_readStringToken(message, 0) === action\n        `\n    ]),\n    dependencies: [msg],\n};\n\nexport { bangUtils, msgUtils, stringMsgUtils };\n","import { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertNumber, assertOptionalString } from '../validation.js';\nimport { controlsCoreVariableNames, controlsCore, EMPTY_BUS_NAME, build } from './controls-base.js';\nimport { messageBuses } from '../global-code/buses.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builderWithInit = {\n    translateArgs: ({ args: [minValue, maxValue, init, initValue, receive, send], }) => ({\n        minValue: assertNumber(minValue),\n        maxValue: assertNumber(maxValue),\n        sendBusName: assertOptionalString(send) || EMPTY_BUS_NAME,\n        receiveBusName: assertOptionalString(receive) || EMPTY_BUS_NAME,\n        initValue: init === 1 ? assertNumber(initValue) : 0,\n        outputOnLoad: !!init,\n    }),\n    build,\n};\nconst builderWithoutMin = {\n    translateArgs: ({ args: [maxValue, init, initValue, receive, send], }) => ({\n        minValue: 0,\n        maxValue: assertNumber(maxValue),\n        sendBusName: assertOptionalString(send) || EMPTY_BUS_NAME,\n        receiveBusName: assertOptionalString(receive) || EMPTY_BUS_NAME,\n        initValue: init === 1 ? assertNumber(initValue) : 0,\n        outputOnLoad: !!init,\n    }),\n    build,\n};\n// ------------------------------- node implementation ------------------------------ //\nconst makeNodeImplementation = ({ prepareStoreValue, prepareStoreValueBang, name }) => {\n    const variableNames = generateVariableNamesNodeType(name, ['receiveMessage']);\n    return {\n        initialization: ({ state, snds, node: { args }, }) => \n        // There is a circular dependency problem between the state and snds.$0 so we can actually\n        // only use snds.$0 inside the callback of `commons_waitEngineConfigure`.\n        ast `\n                ${ConstVar(controlsCoreVariableNames.stateClass, state, ast `{\n                    minValue: ${args.minValue},\n                    maxValue: ${args.maxValue},\n                    valueFloat: ${args.initValue},\n                    value: msg_create([]),\n                    receiveBusName: \"${args.receiveBusName}\",\n                    sendBusName: \"${args.sendBusName}\",\n                    messageReceiver: ${controlsCoreVariableNames.defaultMessageHandler},\n                    messageSender: ${controlsCoreVariableNames.defaultMessageHandler},\n                }`)}\n    \n                commons_waitEngineConfigure(() => {\n                    ${state}.messageReceiver = ${AnonFunc([Var('Message', 'm')]) `\n                        ${variableNames.receiveMessage}(${state}, m)\n                    `}\n                    ${state}.messageSender = ${snds.$0}\n                    ${controlsCoreVariableNames.setReceiveBusName}(${state}, \"${args.receiveBusName}\")\n                })\n    \n                ${args.outputOnLoad ?\n            `commons_waitFrame(0, () => ${snds.$0}(msg_floats([${state}.valueFloat])))` : null}\n            `,\n        messageReceivers: ({ state, }) => ({\n            '0': AnonFunc([Var('Message', 'm')]) `\n                ${variableNames.receiveMessage}(${state}, m)\n                return\n            `\n        }),\n        dependencies: [\n            bangUtils,\n            messageBuses,\n            commonsWaitEngineConfigure,\n            commonsWaitFrame,\n            controlsCore,\n            () => Sequence([\n                Func(variableNames.receiveMessage, [\n                    Var(controlsCoreVariableNames.stateClass, 'state'),\n                    Var('Message', 'm'),\n                ], 'void') `\n                    if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                        ${prepareStoreValue ?\n                    `state.valueFloat = ${prepareStoreValue(`msg_readFloatToken(m, 0)`)}`\n                    : `state.valueFloat = msg_readFloatToken(m, 0)`}\n                        ${ConstVar('Message', 'outMessage', `msg_floats([state.valueFloat])`)}\n                        state.messageSender(outMessage)\n                        if (state.sendBusName !== \"${EMPTY_BUS_NAME}\") {\n                            msgBusPublish(state.sendBusName, outMessage)\n                        }\n                        return\n        \n                    } else if (msg_isBang(m)) {\n                        ${prepareStoreValueBang ?\n                    `state.valueFloat = ${prepareStoreValueBang(`state.valueFloat`)}`\n                    : null}\n                        ${ConstVar('Message', 'outMessage', `msg_floats([state.valueFloat])`)}\n                        state.messageSender(outMessage)\n                        if (state.sendBusName !== \"${EMPTY_BUS_NAME}\") {\n                            msgBusPublish(state.sendBusName, outMessage)\n                        }\n                        return\n        \n                    } else if (\n                        msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN]) \n                        && msg_readStringToken(m, 0) === 'set'\n                    ) {\n                        ${prepareStoreValue ?\n                    `state.valueFloat = ${prepareStoreValue(`msg_readFloatToken(m, 1)`)}`\n                    : `state.valueFloat = msg_readFloatToken(m, 1)`}\n                        return\n                    \n                    } else if (${controlsCoreVariableNames.setSendReceiveFromMessage}(state, m) === true) {\n                        return\n                    }\n                `\n            ]),\n        ],\n    };\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementations = {\n    'tgl': makeNodeImplementation({\n        name: 'tgl',\n        prepareStoreValueBang: (valueCode) => `${valueCode} === 0 ? state.maxValue: 0`\n    }),\n    'nbx': makeNodeImplementation({\n        name: 'nbx',\n        prepareStoreValue: (valueCode) => `Math.min(Math.max(${valueCode},state.minValue),state.maxValue)`\n    }),\n    'hsl': makeNodeImplementation({ name: 'sl' }),\n    'hradio': makeNodeImplementation({ name: 'radio' }),\n};\nnodeImplementations['vsl'] = nodeImplementations['hsl'];\nnodeImplementations['vradio'] = nodeImplementations['hradio'];\nconst builders = {\n    'tgl': builderWithoutMin,\n    'nbx': builderWithInit,\n    'hsl': builderWithInit,\n    'vsl': builderWithInit,\n    'hradio': builderWithoutMin,\n    'vradio': builderWithoutMin,\n};\n\nexport { builders, nodeImplementations };\n","import { traverseGuiControls } from './gui-controls.js';\nimport { buildGraphNodeId } from '../compile-dsp-graph/to-dsp-graph.js';\nimport { builders } from '../nodes/nodes/controls-float.js';\n\nconst FLOAT_CONTROL_TYPES = [...Object.keys(builders), 'floatatom'];\nconst collectIoMessageReceiversFromSendNodes = (pdJson, graph) => {\n    const rootPatch = pdJson.patches[pdJson.rootPatchId];\n    const messageReceivers = {};\n    Object.values(rootPatch.nodes).forEach((pdNode) => {\n        const nodeId = buildGraphNodeId(rootPatch.id, pdNode.id);\n        const node = graph[nodeId];\n        if (pdNode.type === 'send' &&\n            // Important because some nodes are deleted at dsp-graph compilation.\n            // and if we declare messageReceivers for them it will cause error.\n            // TODO : maybe the compiler should detect this instead of doing it here ?\n            !!node) {\n            if (!messageReceivers[nodeId]) {\n                const layout = pdNode.layout || {};\n                const metadata = {\n                    group: 'send',\n                    name: node.args.busName,\n                    position: layout.x !== undefined && layout.y !== undefined\n                        ? [layout.x, layout.y]\n                        : undefined,\n                };\n                messageReceivers[nodeId] = {\n                    portletIds: [],\n                    metadata: metadata,\n                };\n            }\n            messageReceivers[nodeId].portletIds.push('0');\n        }\n    });\n    return messageReceivers;\n};\nconst collectIoMessageReceiversFromGui = (controls, graph) => {\n    const messageReceivers = {};\n    traverseGuiControls(controls, (control) => {\n        const portletId = '0';\n        const nodeId = buildGraphNodeId(control.patch.id, control.node.id);\n        if (!messageReceivers[nodeId]) {\n            const node = graph[nodeId];\n            // Important because some nodes are deleted at dsp-graph compilation.\n            // and if we declare messageReceivers for them it will cause error.\n            // TODO : maybe the compiler should detect this instead of doing it here ?\n            if (!node) {\n                return;\n            }\n            const layout = control.node.layout || {};\n            let metadata = {\n                group: 'control',\n                type: control.node.type,\n                label: layout.label,\n                position: layout.x !== undefined && layout.y !== undefined\n                    ? [layout.x, layout.y]\n                    : undefined,\n            };\n            if (FLOAT_CONTROL_TYPES.includes(control.node.type)) {\n                metadata = {\n                    ...metadata,\n                    group: 'control:float',\n                    initValue: node.args.initValue,\n                    minValue: node.args.minValue,\n                    maxValue: node.args.maxValue,\n                };\n            }\n            messageReceivers[nodeId] = {\n                portletIds: [],\n                metadata: metadata,\n            };\n        }\n        messageReceivers[nodeId].portletIds.push(portletId);\n    });\n    return messageReceivers;\n};\n\nexport { collectIoMessageReceiversFromGui, collectIoMessageReceiversFromSendNodes };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// NOTE : not necessarily the most logical place to put this function, but we need it here\n// cause it's imported by the bindings.\nconst getFloatArrayType = (bitDepth) => bitDepth === 64 ? Float64Array : Float32Array;\n/** Helper to create a Module by wrapping a RawModule with Bindings */\nconst createModule = (rawModule, bindings) => \n// Use empty object on proxy cause proxy cannot redefine access of member of its target,\n// which causes issues for example for WebAssembly exports.\n// See : https://stackoverflow.com/questions/75148897/get-on-proxy-property-items-is-a-read-only-and-non-configurable-data-proper\nnew Proxy({}, {\n    get: (_, k) => {\n        if (bindings.hasOwnProperty(k)) {\n            const key = String(k);\n            const bindingSpec = bindings[key];\n            switch (bindingSpec.type) {\n                case 'raw':\n                    // Cannot use hasOwnProperty here cause not defined in wasm exports object\n                    if (k in rawModule) {\n                        return rawModule[key];\n                    }\n                    else {\n                        throw new Error(`Key ${String(key)} doesn't exist in raw module`);\n                    }\n                case 'proxy':\n                case 'callback':\n                    return bindingSpec.value;\n            }\n            // We need to return undefined here for compatibility with various APIs\n            // which inspect object's attributes.\n        }\n        else {\n            return undefined;\n        }\n    },\n    set: (_, k, newValue) => {\n        if (bindings.hasOwnProperty(String(k))) {\n            const key = String(k);\n            const bindingSpec = bindings[key];\n            if (bindingSpec.type === 'callback') {\n                bindingSpec.value = newValue;\n            }\n            else {\n                throw new Error(`Binding key ${String(key)} is read-only`);\n            }\n        }\n        else {\n            throw new Error(`Key ${String(k)} is not defined in bindings`);\n        }\n        return true;\n    },\n});\n\nexport { createModule, getFloatArrayType };\n","import { getFloatArrayType } from '../../run/run-helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/** @copyright Assemblyscript ESM bindings */\nconst liftString = (wasmExports, pointer) => {\n    if (!pointer)\n        return null;\n    pointer = pointer >>> 0;\n    const end = (pointer +\n        new Uint32Array(wasmExports.memory.buffer)[(pointer - 4) >>> 2]) >>>\n        1;\n    const memoryU16 = new Uint16Array(wasmExports.memory.buffer);\n    let start = pointer >>> 1;\n    let string = '';\n    while (end - start > 1024) {\n        string += String.fromCharCode(...memoryU16.subarray(start, (start += 1024)));\n    }\n    return string + String.fromCharCode(...memoryU16.subarray(start, end));\n};\n/** @copyright Assemblyscript ESM bindings */\nconst lowerString = (wasmExports, value) => {\n    if (value == null)\n        return 0;\n    const length = value.length, pointer = wasmExports.__new(length << 1, 1) >>> 0, memoryU16 = new Uint16Array(wasmExports.memory.buffer);\n    for (let i = 0; i < length; ++i)\n        memoryU16[(pointer >>> 1) + i] = value.charCodeAt(i);\n    return pointer;\n};\n/**\n * @returns A typed array which shares buffer with the wasm module,\n * thus allowing direct read / write between the module and the host environment.\n *\n * @copyright Assemblyscript ESM bindings `liftTypedArray`\n */\nconst readTypedArray = (wasmExports, constructor, pointer) => {\n    if (!pointer)\n        return null;\n    const memoryU32 = new Uint32Array(wasmExports.memory.buffer);\n    return new constructor(wasmExports.memory.buffer, memoryU32[(pointer + 4) >>> 2], memoryU32[(pointer + 8) >>> 2] / constructor.BYTES_PER_ELEMENT);\n};\n/** @param bitDepth : Must be the same value as what was used to compile the engine. */\nconst lowerFloatArray = (wasmExports, bitDepth, data) => {\n    const arrayType = getFloatArrayType(bitDepth);\n    const arrayPointer = wasmExports.createFloatArray(data.length);\n    const array = readTypedArray(wasmExports, arrayType, arrayPointer);\n    array.set(data);\n    return { array, arrayPointer };\n};\n/** @param bitDepth : Must be the same value as what was used to compile the engine. */\nconst lowerListOfFloatArrays = (wasmExports, bitDepth, data) => {\n    const arraysPointer = wasmExports.x_core_createListOfArrays();\n    data.forEach((array) => {\n        const { arrayPointer } = lowerFloatArray(wasmExports, bitDepth, array);\n        wasmExports.x_core_pushToListOfArrays(arraysPointer, arrayPointer);\n    });\n    return arraysPointer;\n};\n/** @param bitDepth : Must be the same value as what was used to compile the engine. */\nconst readListOfFloatArrays = (wasmExports, bitDepth, listOfArraysPointer) => {\n    const listLength = wasmExports.x_core_getListOfArraysLength(listOfArraysPointer);\n    const arrays = [];\n    const arrayType = getFloatArrayType(bitDepth);\n    for (let i = 0; i < listLength; i++) {\n        const arrayPointer = wasmExports.x_core_getListOfArraysElem(listOfArraysPointer, i);\n        arrays.push(readTypedArray(wasmExports, arrayType, arrayPointer));\n    }\n    return arrays;\n};\n\nexport { liftString, lowerFloatArray, lowerListOfFloatArrays, lowerString, readListOfFloatArrays, readTypedArray };\n","import { readTypedArray, lowerString, liftString } from './core-bindings.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst liftMessage = (wasmExports, messagePointer) => {\n    const messageTokenTypesPointer = wasmExports.x_msg_getTokenTypes(messagePointer);\n    const messageTokenTypes = readTypedArray(wasmExports, Int32Array, messageTokenTypesPointer);\n    const message = [];\n    messageTokenTypes.forEach((tokenType, tokenIndex) => {\n        if (tokenType === wasmExports.MSG_FLOAT_TOKEN.valueOf()) {\n            message.push(wasmExports.msg_readFloatToken(messagePointer, tokenIndex));\n        }\n        else if (tokenType === wasmExports.MSG_STRING_TOKEN.valueOf()) {\n            const stringPointer = wasmExports.msg_readStringToken(messagePointer, tokenIndex);\n            message.push(liftString(wasmExports, stringPointer));\n        }\n    });\n    return message;\n};\nconst lowerMessage = (wasmExports, message) => {\n    const template = message.reduce((template, value) => {\n        if (typeof value === 'number') {\n            template.push(wasmExports.MSG_FLOAT_TOKEN.valueOf());\n        }\n        else if (typeof value === 'string') {\n            template.push(wasmExports.MSG_STRING_TOKEN.valueOf());\n            template.push(value.length);\n        }\n        else {\n            throw new Error(`invalid message value ${value}`);\n        }\n        return template;\n    }, []);\n    // Here we should ideally pass an array of Int, but I am not sure how\n    // to lower a typed array in a generic manner, so using the available bindings from `commons`.\n    const templateArrayPointer = wasmExports.x_msg_createTemplate(template.length);\n    const loweredTemplateArray = readTypedArray(wasmExports, Int32Array, templateArrayPointer);\n    loweredTemplateArray.set(template);\n    const messagePointer = wasmExports.x_msg_create(templateArrayPointer);\n    message.forEach((value, index) => {\n        if (typeof value === 'number') {\n            wasmExports.msg_writeFloatToken(messagePointer, index, value);\n        }\n        else if (typeof value === 'string') {\n            const stringPointer = lowerString(wasmExports, value);\n            wasmExports.msg_writeStringToken(messagePointer, index, stringPointer);\n        }\n    });\n    return messagePointer;\n};\n\nexport { liftMessage, lowerMessage };\n","import { liftString } from './core-bindings.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// REF : Assemblyscript ESM bindings\nconst instantiateWasmModule = async (wasmBuffer, wasmImports = {}) => {\n    const instanceAndModule = await WebAssembly.instantiate(wasmBuffer, {\n        env: {\n            abort: (messagePointer, \n            // filename, not useful because we compile everything to a single string\n            _, lineNumber, columnNumber) => {\n                const message = liftString(wasmExports, messagePointer);\n                lineNumber = lineNumber;\n                columnNumber = columnNumber;\n                (() => {\n                    // @external.js\n                    throw Error(`${message} at ${lineNumber}:${columnNumber}`);\n                })();\n            },\n            seed: () => {\n                return (() => {\n                    return Date.now() * Math.random();\n                })();\n            },\n            'console.log': (textPointer) => {\n                console.log(liftString(wasmExports, textPointer));\n            },\n        },\n        ...wasmImports,\n    });\n    const wasmExports = instanceAndModule.instance\n        .exports;\n    return instanceAndModule.instance;\n};\n\nexport { instantiateWasmModule };\n","import { mapObject, mapArray } from '../../functional-helpers.js';\nimport { liftString, readTypedArray } from './core-bindings.js';\nimport { lowerMessage, liftMessage } from './msg-bindings.js';\nimport { instantiateWasmModule } from './wasm-helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// This must be called again when doing something on the wasm module\n// which could cause memory grow (lowerString, lowerMessage,\n//      lowerBuffer, lowerMessage) :\n// https://github.com/emscripten-core/emscripten/issues/6747\nconst updateWasmInOuts = (rawModule, engineData) => {\n    engineData.wasmOutput = readTypedArray(rawModule, engineData.arrayType, rawModule.getOutput());\n    engineData.wasmInput = readTypedArray(rawModule, engineData.arrayType, rawModule.getInput());\n};\nconst createEngineLifecycleBindings = (rawModule, engineData) => {\n    return {\n        configure: {\n            type: 'proxy',\n            value: (sampleRate, blockSize) => {\n                engineData.metadata.audioSettings.blockSize = blockSize;\n                engineData.metadata.audioSettings.sampleRate = sampleRate;\n                engineData.blockSize = blockSize;\n                rawModule.configure(sampleRate, blockSize);\n                updateWasmInOuts(rawModule, engineData);\n            },\n        },\n        loop: {\n            type: 'proxy',\n            value: (input, output) => {\n                for (let channel = 0; channel < input.length; channel++) {\n                    engineData.wasmInput.set(input[channel], channel * engineData.blockSize);\n                }\n                updateWasmInOuts(rawModule, engineData);\n                rawModule.loop();\n                updateWasmInOuts(rawModule, engineData);\n                for (let channel = 0; channel < output.length; channel++) {\n                    output[channel].set(engineData.wasmOutput.subarray(engineData.blockSize * channel, engineData.blockSize * (channel + 1)));\n                }\n            },\n        },\n    };\n};\nconst createIoMessageReceiversBindings = (rawModule, engineData) => mapObject(engineData.metadata.compilation.io.messageReceivers, (spec, nodeId) => ({\n    type: 'proxy',\n    value: mapArray(spec.portletIds, (inletId) => [\n        inletId,\n        (message) => {\n            const messagePointer = lowerMessage(rawModule, message);\n            rawModule[engineData.metadata.compilation.variableNamesIndex.io\n                .messageReceivers[nodeId][inletId]](messagePointer);\n        },\n    ]),\n}));\nconst createIoMessageSendersBindings = (_, engineData) => mapObject(engineData.metadata.compilation.io.messageSenders, (spec) => ({\n    type: 'proxy',\n    value: mapArray(spec.portletIds, (outletId) => [\n        outletId,\n        {\n            onMessage: () => undefined,\n        },\n    ]),\n}));\nconst ioMsgSendersImports = (forwardReferences, metadata) => {\n    const wasmImports = {};\n    const { variableNamesIndex } = metadata.compilation;\n    Object.entries(metadata.compilation.io.messageSenders).forEach(([nodeId, spec]) => {\n        spec.portletIds.forEach((outletId) => {\n            const listenerName = variableNamesIndex.io.messageSenders[nodeId][outletId];\n            wasmImports[listenerName] = (messagePointer) => {\n                const message = liftMessage(forwardReferences.rawModule, messagePointer);\n                forwardReferences.modules.io.messageSenders[nodeId][outletId].onMessage(message);\n            };\n        });\n    });\n    return wasmImports;\n};\nconst readMetadata = async (wasmBuffer) => {\n    // In order to read metadata, we need to introspect the module to get the imports\n    const inputImports = {};\n    const wasmModule = WebAssembly.Module.imports(new WebAssembly.Module(wasmBuffer));\n    // Then we generate dummy functions to be able to instantiate the module\n    wasmModule\n        .filter((imprt) => imprt.module === 'input' && imprt.kind === 'function')\n        .forEach((imprt) => (inputImports[imprt.name] = () => undefined));\n    const wasmInstance = await instantiateWasmModule(wasmBuffer, {\n        input: inputImports,\n    });\n    // Finally, once the module instantiated, we read the metadata\n    const wasmExports = wasmInstance.exports;\n    const stringPointer = wasmExports.metadata.valueOf();\n    const metadataJSON = liftString(wasmExports, stringPointer);\n    return JSON.parse(metadataJSON);\n};\n\nexport { createEngineLifecycleBindings, createIoMessageReceiversBindings, createIoMessageSendersBindings, ioMsgSendersImports, readMetadata, updateWasmInOuts };\n","import { lowerListOfFloatArrays, liftString, readListOfFloatArrays } from './core-bindings.js';\nimport { liftMessage } from './msg-bindings.js';\nimport { updateWasmInOuts } from './engine-lifecycle-bindings.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst createFsBindings = (rawModule, engineData) => ({\n    sendReadSoundFileResponse: {\n        type: 'proxy',\n        value: (operationId, status, sound) => {\n            let soundPointer = 0;\n            if (sound) {\n                soundPointer = lowerListOfFloatArrays(rawModule, engineData.bitDepth, sound);\n            }\n            rawModule.x_fs_onReadSoundFileResponse(operationId, status, soundPointer);\n            updateWasmInOuts(rawModule, engineData);\n        },\n    },\n    sendWriteSoundFileResponse: {\n        type: 'proxy',\n        value: rawModule.x_fs_onWriteSoundFileResponse,\n    },\n    sendSoundStreamData: {\n        type: 'proxy',\n        value: (operationId, sound) => {\n            const soundPointer = lowerListOfFloatArrays(rawModule, engineData.bitDepth, sound);\n            const writtenFrameCount = rawModule.x_fs_onSoundStreamData(operationId, soundPointer);\n            updateWasmInOuts(rawModule, engineData);\n            return writtenFrameCount;\n        },\n    },\n    closeSoundStream: {\n        type: 'proxy',\n        value: rawModule.x_fs_onCloseSoundStream,\n    },\n    onReadSoundFile: { type: 'callback', value: () => undefined },\n    onWriteSoundFile: { type: 'callback', value: () => undefined },\n    onOpenSoundReadStream: { type: 'callback', value: () => undefined },\n    onOpenSoundWriteStream: { type: 'callback', value: () => undefined },\n    onSoundStreamData: { type: 'callback', value: () => undefined },\n    onCloseSoundStream: { type: 'callback', value: () => undefined },\n});\nconst createFsImports = (forwardReferences) => {\n    let wasmImports = {\n        i_fs_readSoundFile: (operationId, urlPointer, infoPointer) => {\n            const url = liftString(forwardReferences.rawModule, urlPointer);\n            const info = liftMessage(forwardReferences.rawModule, infoPointer);\n            forwardReferences.modules.fs.onReadSoundFile(operationId, url, info);\n        },\n        i_fs_writeSoundFile: (operationId, soundPointer, urlPointer, infoPointer) => {\n            const sound = readListOfFloatArrays(forwardReferences.rawModule, forwardReferences.engineData.bitDepth, soundPointer);\n            const url = liftString(forwardReferences.rawModule, urlPointer);\n            const info = liftMessage(forwardReferences.rawModule, infoPointer);\n            forwardReferences.modules.fs.onWriteSoundFile(operationId, sound, url, info);\n        },\n        i_fs_openSoundReadStream: (operationId, urlPointer, infoPointer) => {\n            const url = liftString(forwardReferences.rawModule, urlPointer);\n            const info = liftMessage(forwardReferences.rawModule, infoPointer);\n            // Called here because this call means that some sound buffers were allocated\n            // inside the wasm module.\n            updateWasmInOuts(forwardReferences.rawModule, forwardReferences.engineData);\n            forwardReferences.modules.fs.onOpenSoundReadStream(operationId, url, info);\n        },\n        i_fs_openSoundWriteStream: (operationId, urlPointer, infoPointer) => {\n            const url = liftString(forwardReferences.rawModule, urlPointer);\n            const info = liftMessage(forwardReferences.rawModule, infoPointer);\n            forwardReferences.modules.fs.onOpenSoundWriteStream(operationId, url, info);\n        },\n        i_fs_sendSoundStreamData: (operationId, blockPointer) => {\n            const block = readListOfFloatArrays(forwardReferences.rawModule, forwardReferences.engineData.bitDepth, blockPointer);\n            forwardReferences.modules.fs.onSoundStreamData(operationId, block);\n        },\n        i_fs_closeSoundStream: (...args) => forwardReferences.modules.fs.onCloseSoundStream(...args),\n    };\n    return wasmImports;\n};\n\nexport { createFsBindings, createFsImports };\n","import { createFsImports, createFsBindings } from './fs-bindings.js';\nimport { instantiateWasmModule } from './wasm-helpers.js';\nimport { createModule, getFloatArrayType } from '../../run/run-helpers.js';\nimport { createCommonsBindings } from './commons-bindings.js';\nimport { readMetadata, ioMsgSendersImports, createIoMessageReceiversBindings, createIoMessageSendersBindings, createEngineLifecycleBindings } from './engine-lifecycle-bindings.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst createEngine = async (wasmBuffer) => {\n    const { rawModule, engineData, forwardReferences } = await createRawModule(wasmBuffer);\n    const engineBindings = await createBindings(rawModule, engineData, forwardReferences);\n    return createModule(rawModule, engineBindings);\n};\nconst createRawModule = async (wasmBuffer) => {\n    // We need to read metadata before everything, because it is used by other initialization functions\n    const metadata = await readMetadata(wasmBuffer);\n    const forwardReferences = { modules: {} };\n    const wasmImports = {\n        ...createFsImports(forwardReferences),\n        ...ioMsgSendersImports(forwardReferences, metadata),\n    };\n    const bitDepth = metadata.audioSettings.bitDepth;\n    const arrayType = getFloatArrayType(bitDepth);\n    const engineData = {\n        metadata,\n        wasmOutput: new arrayType(0),\n        wasmInput: new arrayType(0),\n        arrayType,\n        bitDepth,\n        blockSize: 0,\n    };\n    const wasmInstance = await instantiateWasmModule(wasmBuffer, {\n        input: wasmImports,\n    });\n    const rawModule = wasmInstance.exports;\n    return { rawModule, engineData, forwardReferences };\n};\nconst createBindings = async (rawModule, engineData, forwardReferences) => {\n    // Create bindings for core modules\n    const commons = createModule(rawModule, createCommonsBindings(rawModule, engineData));\n    const fs = createModule(rawModule, createFsBindings(rawModule, engineData));\n    const io = {\n        messageReceivers: createModule(rawModule, createIoMessageReceiversBindings(rawModule, engineData)),\n        messageSenders: createModule(rawModule, createIoMessageSendersBindings(rawModule, engineData)),\n    };\n    // Update forward refs for use in Wasm imports\n    forwardReferences.modules.fs = fs;\n    forwardReferences.modules.io = io;\n    forwardReferences.engineData = engineData;\n    forwardReferences.rawModule = rawModule;\n    // Build the full module\n    return {\n        ...createEngineLifecycleBindings(rawModule, engineData),\n        metadata: { type: 'proxy', value: engineData.metadata },\n        commons: { type: 'proxy', value: commons },\n        fs: { type: 'proxy', value: fs },\n        io: { type: 'proxy', value: io },\n    };\n};\n\nexport { createBindings, createEngine, createRawModule };\n","import { lowerString, readTypedArray, lowerFloatArray } from './core-bindings.js';\nimport { updateWasmInOuts } from './engine-lifecycle-bindings.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst createCommonsBindings = (rawModule, engineData) => ({\n    getArray: {\n        type: 'proxy',\n        value: (arrayName) => {\n            const arrayNamePointer = lowerString(rawModule, arrayName);\n            const arrayPointer = rawModule.commons_getArray(arrayNamePointer);\n            return readTypedArray(rawModule, engineData.arrayType, arrayPointer);\n        },\n    },\n    setArray: {\n        type: 'proxy',\n        value: (arrayName, array) => {\n            const stringPointer = lowerString(rawModule, arrayName);\n            const { arrayPointer } = lowerFloatArray(rawModule, engineData.bitDepth, array);\n            rawModule.commons_setArray(stringPointer, arrayPointer);\n            updateWasmInOuts(rawModule, engineData);\n        },\n    },\n});\n\nexport { createCommonsBindings };\n","import { createModule, getFloatArrayType } from '../../run/run-helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst createRawModule = (code) => new Function(`\n        ${code}\n        return exports\n    `)();\nconst createBindings = (rawModule) => ({\n    fs: { type: 'proxy', value: createFsModule(rawModule) },\n    metadata: { type: 'raw' },\n    configure: { type: 'raw' },\n    loop: { type: 'raw' },\n    io: { type: 'raw' },\n    commons: {\n        type: 'proxy',\n        value: createCommonsModule(rawModule, rawModule.metadata.audioSettings.bitDepth),\n    },\n});\nconst createEngine = (code) => {\n    const rawModule = createRawModule(code);\n    return createModule(rawModule, createBindings(rawModule));\n};\nconst createFsModule = (rawModule) => {\n    const fs = createModule(rawModule, {\n        onReadSoundFile: { type: 'callback', value: () => undefined },\n        onWriteSoundFile: { type: 'callback', value: () => undefined },\n        onOpenSoundReadStream: { type: 'callback', value: () => undefined },\n        onOpenSoundWriteStream: { type: 'callback', value: () => undefined },\n        onSoundStreamData: { type: 'callback', value: () => undefined },\n        onCloseSoundStream: { type: 'callback', value: () => undefined },\n        sendReadSoundFileResponse: {\n            type: 'proxy',\n            value: rawModule.x_fs_onReadSoundFileResponse,\n        },\n        sendWriteSoundFileResponse: {\n            type: 'proxy',\n            value: rawModule.x_fs_onWriteSoundFileResponse,\n        },\n        sendSoundStreamData: {\n            type: 'proxy',\n            value: rawModule.x_fs_onSoundStreamData,\n        },\n        closeSoundStream: {\n            type: 'proxy',\n            value: rawModule.x_fs_onCloseSoundStream,\n        },\n    });\n    rawModule.i_fs_openSoundWriteStream = (...args) => fs.onOpenSoundWriteStream(...args);\n    rawModule.i_fs_sendSoundStreamData = (...args) => fs.onSoundStreamData(...args);\n    rawModule.i_fs_openSoundReadStream = (...args) => fs.onOpenSoundReadStream(...args);\n    rawModule.i_fs_closeSoundStream = (...args) => fs.onCloseSoundStream(...args);\n    rawModule.i_fs_writeSoundFile = (...args) => fs.onWriteSoundFile(...args);\n    rawModule.i_fs_readSoundFile = (...args) => fs.onReadSoundFile(...args);\n    return fs;\n};\nconst createCommonsModule = (rawModule, bitDepth) => {\n    const floatArrayType = getFloatArrayType(bitDepth);\n    return createModule(rawModule, {\n        getArray: { type: 'proxy', value: rawModule.commons_getArray },\n        setArray: {\n            type: 'proxy',\n            value: (arrayName, array) => rawModule.commons_setArray(arrayName, new floatArrayType(array)),\n        },\n    });\n};\n\nexport { createBindings, createEngine, createRawModule };\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2017 Brett Zamir, 2012 Niklas von Hertzen\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\r\n/**\r\n * Encode a byte buffer as a base64 string.\r\n * @param {!Uint8Array} bytes The buffer.\r\n * @return {string} A .wav file as a DataURI.\r\n */\r\nfunction encode(bytes) {\r\n  /** @type {string} */\r\n  let base64 = '';\r\n  for (let i = 0; i < bytes.length; i += 3) {\r\n    base64 += chars[bytes[i] >> 2];\r\n    base64 += chars[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\r\n    base64 += chars[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\r\n    base64 += chars[bytes[i + 2] & 63];\r\n  }\r\n  if (bytes.length % 3 === 2) {\r\n    base64 = base64.substring(0, base64.length - 1) + '=';\r\n  } else if (bytes.length % 3 === 1) {\r\n    base64 = base64.substring(0, base64.length - 2) + '==';\r\n  }\r\n  return base64;\r\n}\r\n\r\n/**\r\n * Decode a base64 string as a byte as buffer.\r\n * @param {string} base64 A .wav file as a DataURI.\r\n * @return {!Uint8Array} A .wav file as a DataURI.\r\n */\r\nfunction decode(base64) {\r\n  /** @type {!Uint8Array} */\r\n  let lookup = new Uint8Array(256);\r\n  for (let i = 0; i < chars.length; i++) {\r\n    lookup[chars.charCodeAt(i)] = i;\r\n  }\r\n  /** @type {number} */\r\n  let bufferLength = base64.length * 0.75;\r\n  if (base64[base64.length - 1] === '=') {\r\n    bufferLength--;\r\n    if (base64[base64.length - 2] === '=') {\r\n      bufferLength--;\r\n    }\r\n  }\r\n  /** @type {!Uint8Array} */\r\n  let bytes = new Uint8Array(bufferLength);\r\n  for (let i = 0, j = 0; i < base64.length; i += 4) {\r\n    /** @type {number} */\r\n    let encoded1 = lookup[base64.charCodeAt(i)];\r\n    /** @type {number} */\r\n    let encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n    /** @type {number} */\r\n    let encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n    /** @type {number} */\r\n    let encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n    bytes[j++] = encoded1 << 2 | encoded2 >> 4;\r\n    bytes[j++] = (encoded2 & 15) << 4 | encoded3 >> 2;\r\n    bytes[j++] = (encoded3 & 3) << 6 | encoded4 & 63;\r\n  }\r\n  return bytes;\r\n}\n\nexport { decode, encode };\n","/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview A module to change the bit depth of PCM samples.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/bitdepth\r\n */\r\n\r\n/**\r\n * Change the bit depth of PCM samples.\r\n * @param {!Array|!TypedArray} samples The original samples.\r\n * @param {string} bithDepth The original bit depth.\r\n * @param {!TypedArray} newSamples The output array.\r\n * @param {string} targetBitDepth The target bit depth.\r\n * @throws {Error} If original or target bit depths are not valid.\r\n */\r\nfunction changeBitDepth(samples, bithDepth, newSamples, targetBitDepth) {\r\n  // float to float, just copy the values\r\n  if ([\"32f\",\"64\"].indexOf(bithDepth) > -1 &&\r\n    [\"32f\",\"64\"].indexOf(targetBitDepth) > -1) {\r\n    newSamples.set(samples);\r\n    return;\r\n  }\r\n  validateBitDepth_(bithDepth);\r\n  validateBitDepth_(targetBitDepth);\r\n  /** @type {!Function} */\r\n  let toFunction = getBitDepthFunction_(bithDepth, targetBitDepth);\r\n  /** @type {!Object<string, number>} */\r\n  let options = {\r\n    oldMin: Math.pow(2, parseInt(bithDepth, 10)) / 2,\r\n    newMin: Math.pow(2, parseInt(targetBitDepth, 10)) / 2,\r\n    oldMax: (Math.pow(2, parseInt(bithDepth, 10)) / 2) - 1,\r\n    newMax: (Math.pow(2, parseInt(targetBitDepth, 10)) / 2) - 1,\r\n  };\r\n  // sign the samples if original is 8-bit\r\n  sign8Bit_(bithDepth, samples, true);\r\n  // change the resolution of the samples\r\n  for (let i = 0, len = samples.length; i < len; i++) {        \r\n    newSamples[i] = toFunction(samples[i], options);\r\n  }\r\n  // unsign the samples if target is 8-bit\r\n  sign8Bit_(targetBitDepth, newSamples, false);\r\n}\r\n\r\n/**\r\n * Change the bit depth from int to int.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction intToInt_(sample, args) {\r\n  if (sample > 0) {\r\n    sample = parseInt((sample / args.oldMax) * args.newMax, 10);\r\n  } else {\r\n    sample = parseInt((sample / args.oldMin) * args.newMin, 10);\r\n  }\r\n  return sample;\r\n}\r\n\r\n/**\r\n * Change the bit depth from float to int.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction floatToInt_(sample, args) {\r\n  return parseInt(\r\n    sample > 0 ? sample * args.newMax : sample * args.newMin, 10);\r\n}\r\n\r\n/**\r\n * Change the bit depth from int to float.\r\n * @param {number} sample The sample.\r\n * @param {!Object<string, number>} args Data about the bit depths.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction intToFloat_(sample, args) {\r\n  return sample > 0 ? sample / args.oldMax : sample / args.oldMin;\r\n}\r\n\r\n/**\r\n * Return the function to change the bit depth of a sample.\r\n * @param {string} original The original bit depth of the data.\r\n * @param {string} target The new bit depth of the data.\r\n * @return {!Function}\r\n * @private\r\n */\r\nfunction getBitDepthFunction_(original, target) {\r\n  /** @type {!Function} */\r\n  let func = function(x) {return x;};\r\n  if (original != target) {\r\n    if ([\"32f\", \"64\"].includes(original)) {\r\n      func = floatToInt_;\r\n    } else {\r\n      if ([\"32f\", \"64\"].includes(target)) {\r\n        func = intToFloat_;\r\n      } else {\r\n        func = intToInt_;\r\n      }\r\n    }\r\n  }\r\n  return func;\r\n}\r\n\r\n/**\r\n * Validate the bit depth.\r\n * @param {string} bitDepth The original bit depth.\r\n * @throws {Error} If bit depth is not valid.\r\n * @private\r\n */\r\nfunction validateBitDepth_(bitDepth) {\r\n  if ((bitDepth != \"32f\" && bitDepth != \"64\") &&\r\n      (parseInt(bitDepth, 10) < \"8\" || parseInt(bitDepth, 10) > \"53\")) {\r\n    throw new Error(\"Invalid bit depth.\");\r\n  }\r\n}\r\n\r\n/**\r\n * Sign samples if they are 8-bit.\r\n * @param {string} bitDepth The bit depth code.\r\n * @param {!Array|!TypedArray} samples The samples.\r\n * @param {boolean} sign True to sign, false to unsign.\r\n * @private\r\n */\r\nfunction sign8Bit_(bitDepth, samples, sign) {\r\n  if (bitDepth == \"8\") {\r\n    let factor = sign ? -128 : 128;\r\n    for (let i = 0, len = samples.length; i < len; i++) {\r\n      samples[i] = samples[i] += factor;\r\n    }\r\n  }\r\n}\n\nexport { changeBitDepth };\n","/*\r\n * imaadpcm: IMA ADPCM codec in JavaScript.\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2016 acida. MIT License.  \r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview IMA ADPCM codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/imaadpcm\r\n */\r\n\r\n/**\r\n * @type {!Array<number>}\r\n * @private\r\n */\r\nconst INDEX_TABLE = [\r\n    -1, -1, -1, -1, 2, 4, 6, 8,\r\n    -1, -1, -1, -1, 2, 4, 6, 8];\r\n/**\r\n * @type {!Array<number>}\r\n * @private\r\n */\r\nconst STEP_TABLE = [\r\n    7, 8, 9, 10, 11, 12, 13, 14,\r\n    16, 17, 19, 21, 23, 25, 28, 31,\r\n    34, 37, 41, 45, 50, 55, 60, 66,\r\n    73, 80, 88, 97, 107, 118, 130, 143,\r\n    157, 173, 190, 209, 230, 253, 279, 307,\r\n    337, 371, 408, 449, 494, 544, 598, 658,\r\n    724, 796, 876, 963, 1060, 1166, 1282, 1411,\r\n    1552, 1707, 1878, 2066, 2272, 2499, 2749, 3024,\r\n    3327, 3660, 4026, 4428, 4871, 5358, 5894, 6484,\r\n    7132, 7845, 8630, 9493, 10442, 11487, 12635, 13899,\r\n    15289, 16818, 18500, 20350, 22385, 24623, 27086, 29794,\r\n    32767];\r\n\r\n/**\r\n * Encode 16-bit PCM samples into 4-bit IMA ADPCM samples.\r\n * @param {!Int16Array} samples A array of samples.\r\n * @return {!Uint8Array}\r\n */\r\nfunction encode(samples) {\r\n  /** @type {!Object} */\r\n  let state = {\r\n    index: 0,\r\n    predicted: 0,\r\n    step: 7\r\n  };\r\n  /** @type {!Uint8Array} */\r\n  let adpcmSamples = new Uint8Array((samples.length));\r\n  /** @type {!Array<number>} */\r\n  let block = [];\r\n  /** @type {number} */\r\n  let fileIndex = 0;\r\n  /** @type {number} */\r\n  let blockCount = 0;\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    if ((i % 505 == 0 && i != 0)) {\r\n      adpcmSamples.set(encodeBlock(block, state), fileIndex);\r\n      fileIndex += 256;\r\n      block = [];\r\n      blockCount++;\r\n    }\r\n    block.push(samples[i]);\r\n  }\r\n  let samplesLength = samples.length / 2;\r\n  if (samplesLength % 2) {\r\n    samplesLength++;\r\n  }\r\n  return adpcmSamples.slice(0, samplesLength + 512 + blockCount * 4);\r\n}\r\n\r\n/**\r\n * Decode IMA ADPCM samples into 16-bit PCM samples.\r\n * @param {!Uint8Array} adpcmSamples A array of ADPCM samples.\r\n * @param {number} blockAlign The block size.\r\n * @return {!Int16Array}\r\n */\r\nfunction decode(adpcmSamples, blockAlign=256) {\r\n  /** @type {!Object} */\r\n  let state = {\r\n    index: 0,\r\n    predicted: 0,\r\n    step: 7\r\n  };\r\n  /** @type {!Int16Array} */\r\n  let samples = new Int16Array(adpcmSamples.length * 2);\r\n  /** @type {!Array<number>} */\r\n  let block = [];\r\n  /** @type {number} */\r\n  let fileIndex = 0;\r\n  for (let i = 0, len = adpcmSamples.length; i < len; i++) {\r\n    if (i % blockAlign == 0 && i != 0) {            \r\n      let decoded = decodeBlock(block, state);\r\n      samples.set(decoded, fileIndex);\r\n      fileIndex += decoded.length;\r\n      block = [];\r\n    }\r\n    block.push(adpcmSamples[i]);\r\n  }\r\n  return samples;\r\n}\r\n\r\n/**\r\n * Encode a block of 505 16-bit samples as 4-bit ADPCM samples.\r\n * @param {!Array<number>} block A sample block of 505 samples.\r\n * @param {!Object} state The encoder state.\r\n * @return {!Array<number>}\r\n */\r\nfunction encodeBlock(block, state) {\r\n  /** @type {!Array<number>} */\r\n  let adpcmSamples = blockHead_(block[0], state);\r\n  for (let i = 3, len = block.length; i < len; i+=2) {\r\n    /** @type {number} */\r\n    let sample2 = encodeSample_(block[i], state);\r\n    /** @type {number} */\r\n    let sample = encodeSample_(block[i + 1], state);\r\n    adpcmSamples.push((sample << 4) | sample2);\r\n  }\r\n  return adpcmSamples;\r\n}\r\n\r\n/**\r\n * Decode a block of ADPCM samples into 16-bit PCM samples.\r\n * @param {!Array<number>} block A adpcm sample block.\r\n * @param {!Object} state The decoder state.\r\n * @return {!Array<number>}\r\n */\r\nfunction decodeBlock(block, state) {\r\n  state.predicted = sign_((block[1] << 8) | block[0]);\r\n  state.index = block[2];\r\n  state.step = STEP_TABLE[state.index];\r\n  /** @type {!Array<number>} */\r\n  let result = [\r\n      state.predicted,\r\n      state.predicted\r\n    ];\r\n  for (let i = 4, len = block.length; i < len; i++) {\r\n    /** @type {number} */\r\n    let original_sample = block[i];\r\n    /** @type {number} */\r\n    let second_sample = original_sample >> 4;\r\n    /** @type {number} */\r\n    let first_sample = (second_sample << 4) ^ original_sample;\r\n    result.push(decodeSample_(first_sample, state));\r\n    result.push(decodeSample_(second_sample, state));\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Sign a 16-bit integer.\r\n * @param {number} num A 16-bit integer.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction sign_(num) {\r\n  return num > 32768 ? num - 65536 : num;\r\n}\r\n\r\n/**\r\n * Compress a 16-bit PCM sample into a 4-bit ADPCM sample.\r\n * @param {number} sample The sample.\r\n * @param {!Object} state The encoder state.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction encodeSample_(sample, state) {\r\n  /** @type {number} */\r\n  let delta = sample - state.predicted;\r\n  /** @type {number} */\r\n  let value = 0;\r\n  if (delta >= 0) {\r\n    value = 0;\r\n  } else {\r\n    value = 8;\r\n    delta = -delta;\r\n  }\r\n  /** @type {number} */\r\n  let step = STEP_TABLE[state.index];\r\n  /** @type {number} */\r\n  let diff = step >> 3;\r\n  if (delta > step) {\r\n    value |= 4;\r\n    delta -= step;\r\n    diff += step;\r\n  }\r\n  step >>= 1;\r\n  if (delta > step) {\r\n    value |= 2;\r\n    delta -= step;\r\n    diff += step;\r\n  }\r\n  step >>= 1;\r\n  if (delta > step) {\r\n    value |= 1;\r\n    diff += step;\r\n  }\r\n  updateEncoder_(value, diff, state);\r\n  return value;\r\n}\r\n\r\n/**\r\n * Set the value for encoderPredicted_ and encoderIndex_\r\n * after each sample is compressed.\r\n * @param {number} value The compressed ADPCM sample\r\n * @param {number} diff The calculated difference\r\n * @param {!Object} state The encoder state.\r\n * @private\r\n */\r\nfunction updateEncoder_(value, diff, state) {\r\n  if (value & 8) {\r\n    state.predicted -= diff;\r\n  } else {\r\n    state.predicted += diff;\r\n  }\r\n  if (state.predicted < -0x8000) {\r\n    state.predicted = -0x8000;\r\n  } else if (state.predicted > 0x7fff) {\r\n    state.predicted = 0x7fff;\r\n  }\r\n  state.index += INDEX_TABLE[value & 7];\r\n  if (state.index < 0) {\r\n    state.index = 0;\r\n  } else if (state.index > 88) {\r\n    state.index = 88;\r\n  }\r\n}\r\n\r\n/**\r\n * Decode a 4-bit ADPCM sample into a 16-bit PCM sample.\r\n * @param {number} nibble A 4-bit adpcm sample.\r\n * @param {!Object} state The decoder state.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction decodeSample_(nibble, state) {\r\n  /** @type {number} */\r\n  let difference = 0;\r\n  if (nibble & 4) {\r\n    difference += state.step;\r\n  }\r\n  if (nibble & 2) {\r\n    difference += state.step >> 1;\r\n  }\r\n  if (nibble & 1) {\r\n    difference += state.step >> 2;\r\n  }\r\n  difference += state.step >> 3;\r\n  if (nibble & 8) {\r\n    difference = -difference;\r\n  }\r\n  state.predicted += difference;\r\n  if (state.predicted > 32767) {\r\n    state.predicted = 32767;\r\n  } else if (state.predicted < -32767) {\r\n    state.predicted = -32767;\r\n  }\r\n  updateDecoder_(nibble, state);\r\n  return state.predicted;\r\n}\r\n\r\n/**\r\n * Update the index and step after decoding a sample.\r\n * @param {number} nibble A 4-bit adpcm sample.\r\n * @param {!Object} state The decoder state.\r\n * @private\r\n */\r\nfunction updateDecoder_(nibble, state) {\r\n  state.index += INDEX_TABLE[nibble];\r\n  if (state.index < 0) {\r\n    state.index = 0;\r\n  } else if (state.index > 88) {\r\n    state.index = 88;\r\n  }\r\n  state.step = STEP_TABLE[state.index];\r\n}\r\n\r\n/**\r\n * Return the head of a ADPCM sample block.\r\n * @param {number} sample The first sample of the block.\r\n * @param {!Object} state The encoder state.\r\n * @return {!Array<number>}\r\n * @private\r\n */\r\nfunction blockHead_(sample, state) {\r\n  encodeSample_(sample, state);\r\n  /** @type {!Array<number>} */\r\n  let adpcmSamples = [];\r\n  adpcmSamples.push(sample & 0xFF);\r\n  adpcmSamples.push((sample >> 8) & 0xFF);\r\n  adpcmSamples.push(state.index);\r\n  adpcmSamples.push(0);\r\n  return adpcmSamples;\r\n}\n\nexport { decode, encode };\n","/*\r\n * alawmulaw: A-Law and mu-Law codecs in JavaScript.\r\n * https://github.com/rochars/alawmulaw\r\n *\r\n * Copyright (c) 2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview A-Law codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/alawmulaw\r\n */\r\n\r\n/** @type {!Array<number>} */\r\nconst LOG_TABLE = [\r\n  1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5, \r\n  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6, \r\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7, \r\n  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7 \r\n];\r\n\r\n/**\r\n * Encode a 16-bit linear PCM sample as 8-bit A-Law.\r\n * @param {number} sample A 16-bit PCM sample\r\n * @return {number}\r\n */\r\nfunction encodeSample(sample) {\r\n  /** @type {number} */\r\n  let compandedValue; \r\n  sample = (sample ==-32768) ? -32767 : sample;\r\n  /** @type {number} */\r\n  let sign = ((~sample) >> 8) & 0x80; \r\n  if (!sign) {\r\n    sample = sample * -1; \r\n  }\r\n  if (sample > 32635) {\r\n    sample = 32635; \r\n  }\r\n  if (sample >= 256)  {\r\n    /** @type {number} */\r\n    let exponent = LOG_TABLE[(sample >> 8) & 0x7F];\r\n    /** @type {number} */\r\n    let mantissa = (sample >> (exponent + 3) ) & 0x0F; \r\n    compandedValue = ((exponent << 4) | mantissa); \r\n  } else {\r\n    compandedValue = sample >> 4; \r\n  } \r\n  return compandedValue ^ (sign ^ 0x55);\r\n}\r\n\r\n/**\r\n * Decode a 8-bit A-Law sample as 16-bit PCM.\r\n * @param {number} aLawSample The 8-bit A-Law sample\r\n * @return {number}\r\n */\r\nfunction decodeSample(aLawSample) {\r\n  /** @type {number} */\r\n  let sign = 0;\r\n  aLawSample ^= 0x55;\r\n  if ((aLawSample & 0x80) !== 0) {\r\n    aLawSample &= ~(1 << 7);\r\n    sign = -1;\r\n  }\r\n  /** @type {number} */\r\n  let position = ((aLawSample & 0xF0) >> 4) + 4;\r\n  /** @type {number} */\r\n  let decoded = 0;\r\n  if (position != 4) {\r\n    decoded = ((1 << position) |\r\n      ((aLawSample & 0x0F) << (position - 4)) |\r\n      (1 << (position - 5)));\r\n  } else {\r\n    decoded = (aLawSample << 1)|1;\r\n  }\r\n  decoded = (sign === 0) ? (decoded) : (-decoded);\r\n  return (decoded * 8) * -1;\r\n}\r\n\r\n/**\r\n * Encode 16-bit linear PCM samples as 8-bit A-Law samples.\r\n * @param {!Int16Array} samples A array of 16-bit PCM samples.\r\n * @return {!Uint8Array}\r\n */\r\nfunction encode(samples) {\r\n  /** @type {!Uint8Array} */\r\n  let aLawSamples = new Uint8Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    aLawSamples[i] = encodeSample(samples[i]);\r\n  }\r\n  return aLawSamples;\r\n}\r\n\r\n/**\r\n * Decode 8-bit A-Law samples into 16-bit linear PCM samples.\r\n * @param {!Uint8Array} samples A array of 8-bit A-Law samples.\r\n * @return {!Int16Array}\r\n */\r\nfunction decode(samples) {\r\n  /** @type {!Int16Array} */\r\n  let pcmSamples = new Int16Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    pcmSamples[i] = decodeSample(samples[i]);\r\n  }\r\n  return pcmSamples;\r\n}\n\nexport { decode, decodeSample, encode, encodeSample };\n","/*\r\n * alawmulaw: A-Law and mu-Law codecs in JavaScript.\r\n * https://github.com/rochars/alawmulaw\r\n *\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview mu-Law codec.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/rochars/alawmulaw\r\n */\r\n\r\n/**\r\n * @type {number}\r\n * @private\r\n */\r\nconst BIAS = 0x84;\r\n/**\r\n * @type {number}\r\n * @private\r\n */\r\nconst CLIP = 32635;\r\n/**\r\n * @type {Array<number>}\r\n * @private\r\n */\r\nconst encodeTable = [\r\n    0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\r\n    4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\r\n    5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\r\n    5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\r\n    7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];\r\n/**\r\n * @type {Array<number>}\r\n * @private\r\n */\r\nconst decodeTable = [0,132,396,924,1980,4092,8316,16764];\r\n\r\n/**\r\n * Encode a 16-bit linear PCM sample as 8-bit mu-Law.\r\n * @param {number} sample A 16-bit PCM sample\r\n * @return {number}\r\n */\r\nfunction encodeSample(sample) {\r\n  /** @type {number} */\r\n  let sign;\r\n  /** @type {number} */\r\n  let exponent;\r\n  /** @type {number} */\r\n  let mantissa;\r\n  /** @type {number} */\r\n  let muLawSample;\r\n  /** get the sample into sign-magnitude **/\r\n  sign = (sample >> 8) & 0x80;\r\n  if (sign != 0) sample = -sample;\r\n  /** convert from 16 bit linear to ulaw **/\r\n  sample = sample + BIAS;\r\n  if (sample > CLIP) sample = CLIP;\r\n  exponent = encodeTable[(sample>>7) & 0xFF];\r\n  mantissa = (sample >> (exponent+3)) & 0x0F;\r\n  muLawSample = ~(sign | (exponent << 4) | mantissa);\r\n  /** return the result **/\r\n  return muLawSample;\r\n}\r\n\r\n/**\r\n * Decode a 8-bit mu-Law sample as 16-bit PCM.\r\n * @param {number} muLawSample The 8-bit mu-Law sample\r\n * @return {number}\r\n */\r\nfunction decodeSample(muLawSample) {\r\n  /** @type {number} */\r\n  let sign;\r\n  /** @type {number} */\r\n  let exponent;\r\n  /** @type {number} */\r\n  let mantissa;\r\n  /** @type {number} */\r\n  let sample;\r\n  muLawSample = ~muLawSample;\r\n  sign = (muLawSample & 0x80);\r\n  exponent = (muLawSample >> 4) & 0x07;\r\n  mantissa = muLawSample & 0x0F;\r\n  sample = decodeTable[exponent] + (mantissa << (exponent+3));\r\n  if (sign != 0) sample = -sample;\r\n  return sample;\r\n}\r\n\r\n/**\r\n * Encode 16-bit linear PCM samples into 8-bit mu-Law samples.\r\n * @param {!Int16Array} samples A array of 16-bit PCM samples.\r\n * @return {!Uint8Array}\r\n */\r\nfunction encode(samples) {\r\n  /** @type {!Uint8Array} */\r\n  let muLawSamples = new Uint8Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    muLawSamples[i] = encodeSample(samples[i]);\r\n  }\r\n  return muLawSamples;\r\n}\r\n\r\n/**\r\n * Decode 8-bit mu-Law samples into 16-bit PCM samples.\r\n * @param {!Uint8Array} samples A array of 8-bit mu-Law samples.\r\n * @return {!Int16Array}\r\n */\r\nfunction decode(samples) {\r\n  /** @type {!Int16Array} */\r\n  let pcmSamples = new Int16Array(samples.length);\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    pcmSamples[i] = decodeSample(samples[i]);\r\n  }\r\n  return pcmSamples;\r\n}\n\nexport { decode, decodeSample, encode, encodeSample };\n","/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview A function to swap endianness in byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Swap the byte ordering in a buffer. The buffer is modified in place.\r\n * @param {!(Array<number>|Uint8Array)} bytes The bytes.\r\n * @param {number} offset The byte offset.\r\n * @param {number=} [start=0] The start index.\r\n * @param {number=} [end=bytes.length] The end index.\r\n */\r\nfunction endianness(bytes, offset, start=0, end=bytes.length) {\r\n  for (let index = start; index < end; index += offset) {\r\n    swap_(bytes, offset, index);\r\n  }\r\n}\r\n\r\n/**\r\n * Swap the byte order of a value in a buffer. The buffer is modified in place.\r\n * @param {!(Array<number>|Uint8Array)} bytes The bytes.\r\n * @param {number} offset The byte offset.\r\n * @param {number} index The start index.\r\n * @private\r\n */\r\nfunction swap_(bytes, offset, index) {\r\n  offset--;\r\n  for(let x = 0; x < offset; x++) {\r\n    /** @type {number} */\r\n    let theByte = bytes[index + x];\r\n    bytes[index + x] = bytes[index + offset];\r\n    bytes[index + offset] = theByte;\r\n    offset--;\r\n  }\r\n}\n\nexport { endianness };\n","/*\r\n * Copyright (c) 2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Encode and decode UTF8 strings to and from byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://encoding.spec.whatwg.org/#the-encoding\r\n * @see https://encoding.spec.whatwg.org/#utf-8-encoder\r\n */\r\n\r\n/**\r\n * Read a string of UTF-8 characters from a byte buffer.\r\n * Invalid characters are replaced with 'REPLACEMENT CHARACTER' (U+FFFD).\r\n * @see https://encoding.spec.whatwg.org/#the-encoding\r\n * @see https://stackoverflow.com/a/34926911\r\n * @param {!Uint8Array|!Array<number>} buffer A byte buffer.\r\n * @param {number} [start=0] The buffer index to start reading.\r\n * @param {number} [end=0] The buffer index to stop reading.\r\n *   Assumes the buffer length if undefined.\r\n * @return {string}\r\n */\r\nfunction unpack(buffer, start=0, end=buffer.length) {\r\n  /** @type {string} */\r\n  let str = '';\r\n  for(let index = start; index < end;) {\r\n    /** @type {number} */\r\n    let lowerBoundary = 0x80;\r\n    /** @type {number} */\r\n    let upperBoundary = 0xBF;\r\n    /** @type {boolean} */\r\n    let replace = false;\r\n    /** @type {number} */\r\n    let charCode = buffer[index++];\r\n    if (charCode >= 0x00 && charCode <= 0x7F) {\r\n      str += String.fromCharCode(charCode);\r\n    } else {\r\n      /** @type {number} */\r\n      let count = 0;\r\n      if (charCode >= 0xC2 && charCode <= 0xDF) {\r\n        count = 1;\r\n      } else if (charCode >= 0xE0 && charCode <= 0xEF ) {\r\n        count = 2;\r\n        if (buffer[index] === 0xE0) {\r\n          lowerBoundary = 0xA0;\r\n        }\r\n        if (buffer[index] === 0xED) {\r\n          upperBoundary = 0x9F;\r\n        }\r\n      } else if (charCode >= 0xF0 && charCode <= 0xF4 ) {\r\n        count = 3;\r\n        if (buffer[index] === 0xF0) {\r\n          lowerBoundary = 0x90;\r\n        }\r\n        if (buffer[index] === 0xF4) {\r\n          upperBoundary = 0x8F;\r\n        }\r\n      } else {\r\n        replace = true;\r\n      }\r\n      charCode = charCode & (1 << (8 - count - 1)) - 1;\r\n      for (let i = 0; i < count; i++) {\r\n        if (buffer[index] < lowerBoundary || buffer[index] > upperBoundary) {\r\n          replace = true;\r\n        }\r\n        charCode = (charCode << 6) | (buffer[index] & 0x3f);\r\n        index++;\r\n      }\r\n      if (replace) {\r\n        str += String.fromCharCode(0xFFFD);\r\n      } \r\n      else if (charCode <= 0xffff) {\r\n        str += String.fromCharCode(charCode);\r\n      } else {\r\n        charCode -= 0x10000;\r\n        str += String.fromCharCode(\r\n          ((charCode >> 10) & 0x3ff) + 0xd800,\r\n          (charCode & 0x3ff) + 0xdc00);\r\n      }\r\n    }\r\n  }\r\n  return str;\r\n}\r\n\r\n/**\r\n * Write a string of UTF-8 characters to a byte buffer.\r\n * @see https://encoding.spec.whatwg.org/#utf-8-encoder\r\n * @param {string} str The string to pack.\r\n * @param {!Uint8Array|!Array<number>} buffer The buffer to pack the string to.\r\n * @param {number=} index The buffer index to start writing.\r\n * @return {number} The next index to write in the buffer.\r\n */\r\nfunction pack(str, buffer, index=0) {\r\n  /** @type {number} */\r\n  let i = 0;\r\n  /** @type {number} */\r\n  let len = str.length;\r\n  while (i < len) {\r\n    /** @type {number} */\r\n    let codePoint = str.codePointAt(i);\r\n    if (codePoint < 128) {\r\n      buffer[index] = codePoint;\r\n      index++;\r\n    } else {\r\n      /** @type {number} */\r\n      let count = 0;\r\n      /** @type {number} */\r\n      let offset = 0;\r\n      if (codePoint <= 0x07FF) {\r\n        count = 1;\r\n        offset = 0xC0;\r\n      } else if(codePoint <= 0xFFFF) {\r\n        count = 2;\r\n        offset = 0xE0;\r\n      } else if(codePoint <= 0x10FFFF) {\r\n        count = 3;\r\n        offset = 0xF0;\r\n        i++;\r\n      }\r\n      buffer[index] = (codePoint >> (6 * count)) + offset;\r\n      index++;\r\n      while (count > 0) {\r\n        buffer[index] = 0x80 | (codePoint >> (6 * (count - 1)) & 0x3F);\r\n        index++;\r\n        count--;\r\n      }\r\n    }\r\n    i++;\r\n  }\r\n  return index;\r\n}\n\nexport { pack, unpack };\n","/*\r\n * Copyright (c) 2017-2018 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Encode and decode int numbers to and from byte buffers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * A class to write and read integer numbers to and from byte buffers.\r\n */\r\nclass IntParser {\r\n  \r\n  /**\r\n   * @param {number} bits The number of bits used by the integer.\r\n   * @param {boolean} [signed=false] True for signed, false otherwise.\r\n   */\r\n  constructor(bits, signed=false) {\r\n    /**\r\n     * The number of bits used by one number.\r\n     * @type {number}\r\n     */\r\n    this.bits = bits;\r\n    /**\r\n     * The number of bytes used by one number.\r\n     * @type {number}\r\n     */\r\n    this.offset = Math.ceil(bits / 8);\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.max = Math.pow(2, bits) - 1;\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.min = 0;\r\n    /**\r\n     * @type {Function}\r\n     */\r\n    this.unpack = this.unpack_;\r\n    if (signed) {\r\n      this.max = Math.pow(2, bits) / 2 - 1;\r\n      this.min = -this.max - 1;\r\n      this.unpack = this.unpackSigned_;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Write one unsigned integer to a byte buffer.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} num The number. Overflows are truncated.\r\n   * @param {number} [index=0] The index being written in the byte buffer.\r\n   * @return {number} The next index to write on the byte buffer.\r\n   */\r\n  pack(buffer, num, index=0) {\r\n    num = this.clamp_(Math.round(num));\r\n    for (let i = 0, len = this.offset; i < len; i++) {\r\n      buffer[index] = Math.floor(num / Math.pow(2, i * 8)) & 255;\r\n      index++;\r\n    }\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * Read one unsigned integer from a byte buffer.\r\n   * Does not check for overflows.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} [index=0] The index to read.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  unpack_(buffer, index=0) {\r\n    /** @type {number} */\r\n    let num = 0;\r\n    for(let x = 0; x < this.offset; x++) {\r\n      num += buffer[index + x] * Math.pow(256, x);\r\n    }\r\n    return num;\r\n  }\r\n\r\n  /**\r\n   * Read one two's complement signed integer from a byte buffer.\r\n   * @param {!(Uint8Array|Array<number>)} buffer An array of bytes.\r\n   * @param {number} [index=0] The index to read.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  unpackSigned_(buffer, index=0) {\r\n    return this.sign_(this.unpack_(buffer, index));\r\n  }\r\n\r\n  /**\r\n   * Clamp values on overflow.\r\n   * @param {number} num The number.\r\n   * @private\r\n   */\r\n  clamp_(num) {\r\n    if (num > this.max) {\r\n      return this.max;\r\n    } else if (num < this.min) {\r\n      return this.min;\r\n    }\r\n    return num;\r\n  }\r\n\r\n  /**\r\n   * Sign a number.\r\n   * @param {number} num The number.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  sign_(num) {\r\n    if (num > this.max) {\r\n      num -= (this.max * 2) + 2;\r\n    }\r\n    return num;\r\n  }\r\n}\n\nexport { IntParser };\n","/*\r\n * Copyright (c) 2018-2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2013 DeNA Co., Ltd.\r\n * Copyright (c) 2010, Linden Research, Inc\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Encode and decode IEEE 754 floating point numbers.\r\n * @see https://github.com/rochars/byte-data\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://bitbucket.org/lindenlab/llsd/raw/7d2646cd3f9b4c806e73aebc4b32bd81e4047fdc/js/typedarray.js\r\n * @see https://github.com/kazuho/ieee754.js/blob/master/ieee754.js\r\n */\r\n\r\n/**\r\n * A class to encode and decode IEEE 754 floating-point numbers.\r\n */\r\nclass FloatParser {\r\n\r\n  /**\r\n   * Pack a IEEE 754 floating point number.\r\n   * @param {number} ebits The exponent bits.\r\n   * @param {number} fbits The fraction bits.\r\n   */\r\n  constructor(ebits, fbits) {\r\n    /**\r\n     * @type {number}\r\n     */\r\n    this.offset = Math.ceil((ebits + fbits) / 8);\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.ebits = ebits;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.fbits = fbits;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.bias = (1 << (ebits - 1)) - 1;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.biasP2 = Math.pow(2, this.bias + 1);\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.ebitsFbits = (ebits + fbits);\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.fbias = Math.pow(2, -(8 * this.offset - 1 - ebits));\r\n  }\r\n\r\n  /**\r\n   * Pack a IEEE 754 floating point number.\r\n   * @param {!Uint8Array|!Array<number>} buffer The buffer.\r\n   * @param {number} num The number.\r\n   * @param {number} index The index to write on the buffer.\r\n   * @return {number} The next index to write on the buffer.\r\n   */\r\n  pack(buffer, num, index) {\r\n    // Round overflows\r\n    if (Math.abs(num) > this.biasP2 - (this.ebitsFbits * 2)) {\r\n      num = num < 0 ? -Infinity : Infinity;\r\n    }\r\n    /**\r\n     * sign, need this to handle negative zero\r\n     * @see http://cwestblog.com/2014/02/25/javascript-testing-for-negative-zero/\r\n     * @type {number}\r\n     */\r\n    let sign = (((num = +num) || 1 / num) < 0) ? 1 : num < 0 ? 1 : 0;\r\n    num = Math.abs(num);\r\n    /** @type {number} */\r\n    let exp = Math.min(Math.floor(Math.log(num) / Math.LN2), 1023);\r\n    /** @type {number} */\r\n    let fraction = roundToEven(num / Math.pow(2, exp) * Math.pow(2, this.fbits));\r\n    // NaN\r\n    if (num !== num) {\r\n      fraction = Math.pow(2, this.fbits - 1);\r\n      exp = (1 << this.ebits) - 1;\r\n    // Number\r\n    } else if (num !== 0) {\r\n      if (num >= Math.pow(2, 1 - this.bias)) {\r\n        if (fraction / Math.pow(2, this.fbits) >= 2) {\r\n          exp = exp + 1;\r\n          fraction = 1;\r\n        }\r\n        // Overflow\r\n        if (exp > this.bias) {\r\n          exp = (1 << this.ebits) - 1;\r\n          fraction = 0;\r\n        } else {\r\n          exp = exp + this.bias;\r\n          fraction = roundToEven(fraction) - Math.pow(2, this.fbits);\r\n        }\r\n      } else {\r\n        fraction = roundToEven(num / Math.pow(2, 1 - this.bias - this.fbits));\r\n        exp = 0;\r\n      } \r\n    }\r\n    return this.packFloatBits_(buffer, index, sign, exp, fraction);\r\n  }\r\n\r\n  /**\r\n   * Unpack a IEEE 754 floating point number.\r\n   * Derived from IEEE754 by DeNA Co., Ltd., MIT License. \r\n   * Adapted to handle NaN. Should port the solution to the original repo.\r\n   * @param {!Uint8Array|!Array<number>} buffer The buffer.\r\n   * @param {number} index The index to read from the buffer.\r\n   * @return {number} The floating point number.\r\n   */\r\n  unpack(buffer, index) {\r\n    /** @type {number} */\r\n    let eMax = (1 << this.ebits) - 1;\r\n    /** @type {number} */\r\n    let significand;\r\n    /** @type {string} */\r\n    let leftBits = \"\";\r\n    for (let i = this.offset - 1; i >= 0 ; i--) {\r\n      /** @type {string} */\r\n      let t = buffer[i + index].toString(2);\r\n      leftBits += \"00000000\".substring(t.length) + t;\r\n    }\r\n    /** @type {number} */\r\n    let sign = leftBits.charAt(0) == \"1\" ? -1 : 1;\r\n    leftBits = leftBits.substring(1);\r\n    /** @type {number} */\r\n    let exponent = parseInt(leftBits.substring(0, this.ebits), 2);\r\n    leftBits = leftBits.substring(this.ebits);\r\n    if (exponent == eMax) {\r\n      if (parseInt(leftBits, 2) !== 0) {\r\n        return NaN;\r\n      }\r\n      return sign * Infinity;  \r\n    } else if (exponent === 0) {\r\n      exponent += 1;\r\n      significand = parseInt(leftBits, 2);\r\n    } else {\r\n      significand = parseInt(\"1\" + leftBits, 2);\r\n    }\r\n    return sign * significand * this.fbias * Math.pow(2, exponent - this.bias);\r\n  }\r\n\r\n  /**\r\n   * Pack a IEEE754 from its sign, exponent and fraction bits\r\n   * and place it in a byte buffer.\r\n   * @param {!Uint8Array|!Array<number>} buffer The byte buffer to write to.\r\n   * @param {number} index The buffer index to write.\r\n   * @param {number} sign The sign.\r\n   * @param {number} exp the exponent.\r\n   * @param {number} fraction The fraction.\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  packFloatBits_(buffer, index, sign, exp, fraction) {\r\n    /** @type {!Array<number>} */\r\n    let bits = [];\r\n    // the sign\r\n    bits.push(sign);\r\n    // the exponent\r\n    for (let i = this.ebits; i > 0; i -= 1) {\r\n      bits[i] = (exp % 2 ? 1 : 0);\r\n      exp = Math.floor(exp / 2);\r\n    }\r\n    // the fraction\r\n    let len = bits.length;\r\n    for (let i = this.fbits; i > 0; i -= 1) {\r\n      bits[len + i] = (fraction % 2 ? 1 : 0);\r\n      fraction = Math.floor(fraction / 2);\r\n    }\r\n    // pack as bytes\r\n    /** @type {string} */\r\n    let str = bits.join('');\r\n    /** @type {number} */\r\n    let offset = this.offset + index - 1;\r\n    /** @type {number} */\r\n    let k = index;\r\n    while (offset >= index) {\r\n      buffer[offset] = parseInt(str.substring(0, 8), 2);\r\n      str = str.substring(8);\r\n      offset--;\r\n      k++;\r\n    }\r\n    return k;\r\n  }\r\n}\r\n\r\n/**\r\n * Round a number to its nearest even value.\r\n * @param {number} n The number.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction roundToEven(n) {\r\n  /** @type {number} */\r\n  let w = Math.floor(n);\r\n  let f = n - w;\r\n  if (f < 0.5) {\r\n    return w;\r\n  }\r\n  if (f > 0.5) {\r\n    return w + 1;\r\n  }\r\n  return w % 2 ? w + 1 : w;\r\n}\n\nexport { FloatParser };\n","import { endianness } from './lib/endianness.js';\nimport { pack as pack$1, unpack as unpack$1 } from './lib/utf8-parser.js';\nimport { IntParser } from './lib/int-parser.js';\nimport { FloatParser } from './lib/float-parser.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * Read a string of UTF-8 characters from a byte buffer.\r\n * @param {!(Uint8Array|Array<number>)} buffer A byte buffer.\r\n * @param {number} [index=0] The buffer index to start reading.\r\n * @param {number} [end=buffer.length] The index to stop reading, non inclusive.\r\n * @return {string}\r\n */\r\nfunction unpackString(buffer, index=0, end=buffer.length) {\r\n  return unpack$1(buffer, index, end);\r\n}\r\n\r\n/**\r\n * Write a string of UTF-8 characters as a byte buffer.\r\n * @param {string} str The string to pack.\r\n * @return {!Array<number>} The UTF-8 string bytes.\r\n */\r\nfunction packString(str) {\r\n  /** @type {!Array<number>} */\r\n  let buffer = [];\r\n  pack$1(str, buffer);\r\n  return buffer;\r\n}\r\n\r\n/**\r\n * Write a string of UTF-8 characters to a byte buffer.\r\n * @param {string} str The string to pack.\r\n * @param {!(Uint8Array|Array<number>)} buffer The output buffer.\r\n * @param {number} [index=0] The buffer index to start writing.\r\n * @return {number} The next index to write in the buffer.\r\n */\r\nfunction packStringTo(str, buffer, index=0) {\r\n  return pack$1(str, buffer, index);\r\n}\r\n\r\n// Numbers\r\n/**\r\n * Pack a array of numbers to a byte buffer.\r\n * All other packing functions are interfaces to this function.\r\n * @param {!(Array<number>|TypedArray)} values The values to pack.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {!(Uint8Array|Array<number>)} buffer The buffer to write on.\r\n * @param {number} [index=0] The buffer index to start writing.\r\n * @return {number} The next index to write.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nfunction packArrayTo(values, theType, buffer, index=0) {\r\n  theType = theType || {};\r\n  /** @type {!Object} */\r\n  let packer = getParser_(theType.bits, theType.fp, theType.signed);\r\n  /** @type {number} */\r\n  let offset = Math.ceil(theType.bits / 8);\r\n  /** @type {number} */\r\n  let i = 0;\r\n  /** @type {number} */\r\n  let start = index;\r\n  for (let valuesLen = values.length; i < valuesLen; i++) {\r\n    index = packer.pack(buffer, values[i], index);\r\n  }\r\n  if (theType.be) {\r\n    endianness(buffer, offset, start, index);\r\n  }\r\n  return index;\r\n}\r\n\r\n/**\r\n * Unpack a array of numbers from a byte buffer to a array or a typed array.\r\n * All other unpacking functions are interfaces to this function.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {!(TypedArray|Array<number>)} output The output array or typed array.\r\n * @param {number} [start=0] The buffer index to start reading.\r\n * @param {number} [end=buffer.length] The buffer index to stop reading.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nfunction unpackArrayTo(\r\n    buffer, theType, output, start=0, end=buffer.length) {\r\n  theType = theType || {};\r\n  /** @type {!Object} */\r\n  let parser = getParser_(theType.bits, theType.fp, theType.signed);\r\n  // getUnpackLen_ will adjust the end index according to the size\r\n  // of the input buffer and the byte offset or throw a error on bad\r\n  // end index if safe=true\r\n  end = getUnpackLen_(buffer, start, end, parser.offset);\r\n  if (theType.be) {\r\n    /** @type {!(Uint8Array|Array<number>)} */\r\n    let readBuffer = copyBuffer_(buffer);\r\n    if (theType.be) {\r\n      endianness(readBuffer, parser.offset, start, end);\r\n    }\r\n    unpack_(readBuffer, output, start, end, parser);\r\n  } else {\r\n    unpack_(buffer, output, start, end, parser);\r\n  }\r\n}\r\n\r\n/**\r\n * Pack a number to a byte buffer.\r\n * @param {number} value The value.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer to write on.\r\n * @param {number} [index=0] The buffer index to write.\r\n * @return {number} The next index to write.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nfunction packTo(value, theType, buffer, index=0) {\r\n  return packArrayTo([value], theType, buffer, index);\r\n}\r\n\r\n/**\r\n * Pack a number as a array of bytes.\r\n * @param {number} value The number to pack.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @return {!Array<number>} The packed value.\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nfunction pack(value, theType) {\r\n  /** @type {!Array<number>} */\r\n  let output = [];\r\n  packTo(value, theType, output, 0);\r\n  return output;\r\n}\r\n\r\n/**\r\n * Unpack a number from a byte buffer.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!{bits:number,\r\n *   fp: (boolean|undefined),\r\n *   signed: (boolean|undefined),\r\n *   be: (boolean|undefined)}} theType The type definition.\r\n * @param {number} [index=0] The buffer index to read.\r\n * @return {number}\r\n * @throws {Error} If the type definition is not valid.\r\n */\r\nfunction unpack(buffer, theType, index=0) {\r\n  let output = [];\r\n  unpackArrayTo(buffer, theType, output,\r\n    index, index + Math.ceil(theType.bits / 8));\r\n  return output[0];\r\n}\r\n\r\n/**\r\n * Unpack a array of numbers from a byte buffer to a array or a typed array.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {!(TypedArray|Array<number>)} output The output array or typed array.\r\n * @param {number} start The buffer index to start reading.\r\n * @param {number} end The buffer index to stop reading.\r\n * @param {!Object} parser The parser.\r\n * @private\r\n */\r\nfunction unpack_(buffer, output, start, end, parser) {\r\n  /** @type {number} */\r\n  let offset = parser.offset;\r\n  for (let index = 0, j = start; j < end; j += offset, index++) {\r\n    output[index] = parser.unpack(buffer, j);\r\n  }\r\n}\r\n\r\n/**\r\n * Copy a byte buffer as a Array or Uint8Array.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @return {!(Uint8Array|Array<number>)}\r\n * @private\r\n */\r\nfunction copyBuffer_(buffer) {\r\n  return new Uint8Array(buffer);\r\n}\r\n\r\n/**\r\n * Adjust the end index according to the input buffer length and the\r\n * type offset.\r\n * @param {!(Uint8Array|Array<number>)} buffer The byte buffer.\r\n * @param {number} start The buffer index to start reading.\r\n * @param {number} end The buffer index to stop reading.\r\n * @param {number} offset The number of bytes used by the type.\r\n * @private\r\n */\r\nfunction getUnpackLen_(buffer, start, end, offset) {\r\n  /** @type {number} */\r\n  let extra = (end - start) % offset;\r\n  return end - extra;\r\n}\r\n\r\n/**\r\n * Return a parser for int, uint or fp numbers.\r\n * @param {number} bits The number of bits.\r\n * @param {boolean|undefined} fp True for fp numbers, false otherwise.\r\n * @param {boolean|undefined} signed True for signed ints, false otherwise.\r\n * @return {!Object}\r\n * @private\r\n */\r\nfunction getParser_(bits, fp, signed) {\r\n  if (fp && bits == 32) {\r\n    return new FloatParser(8, 23);\r\n  } else if(fp && bits == 64) {\r\n    return new FloatParser(11, 52);\r\n  }\r\n  return new IntParser(bits, signed);\r\n}\n\nexport { pack, packArrayTo, packString, packStringTo, packTo, unpack, unpackArrayTo, unpackString };\n","import { unpackString, unpack } from './parsers/binary/index.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to perform low-level reading of RIFF/RIFX files.\r\n */\r\nclass RIFFFile {\r\n\r\n  constructor() {\r\n    /**\r\n     * The container identifier.\r\n     * 'RIFF', 'RIFX' and 'RF64' are supported.\r\n     * @type {string}\r\n     */\r\n    this.container = '';\r\n    /**\r\n     * @type {number}\r\n     */\r\n    this.chunkSize = 0;\r\n    /**\r\n     * The format.\r\n     * @type {string}\r\n     */\r\n    this.format = '';\r\n    /**\r\n     * A object defining the start and end of all chunks in a wav buffer.\r\n     * @type {Object}\r\n     */\r\n    this.signature = null;\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.head = 0;\r\n    /**\r\n     * @type {!{bits: number, be: boolean}}\r\n     * @protected\r\n     */\r\n    this.uInt32 = {bits: 32, be: false};\r\n    /**\r\n     * The list of supported containers.\r\n     * Any format different from RIFX will be treated as RIFF.\r\n     * @type {!Array<string>}\r\n     * @protected\r\n     */\r\n    this.supported_containers = ['RIFF', 'RIFX'];\r\n  }\r\n\r\n  /**\r\n   * Read the signature of the chunks in a RIFF/RIFX file.\r\n   * @param {!Uint8Array} buffer The file bytes.\r\n   * @protected\r\n   */\r\n  setSignature(buffer) {\r\n    this.head = 0;\r\n    this.container = this.readString(buffer, 4);\r\n    if (this.supported_containers.indexOf(this.container) === -1) {\r\n      throw Error('Not a supported format.');\r\n    }\r\n    this.uInt32.be = this.container === 'RIFX';\r\n    this.chunkSize = this.readUInt32(buffer);\r\n    this.format = this.readString(buffer, 4);\r\n    // The RIFF file signature\r\n    this.signature = {\r\n      chunkId: this.container,\r\n      chunkSize: this.chunkSize,\r\n      format: this.format,\r\n      subChunks: this.getSubChunksIndex_(buffer)\r\n    };\r\n  }\r\n\r\n  /**\r\n    * Find a chunk by its fourCC_ in a array of RIFF chunks.\r\n    * @param {string} chunkId The chunk fourCC_.\r\n    * @param {boolean} [multiple=false] True if there may be multiple chunks\r\n    *    with the same chunkId.\r\n    * @return {Object}\r\n    * @protected\r\n    */\r\n  findChunk(chunkId, multiple=false) {\r\n    /** @type {!Array<Object>} */\r\n    let chunks = this.signature.subChunks;\r\n    /** @type {!Array<Object>} */\r\n    let chunk = [];\r\n    for (let i=0; i<chunks.length; i++) {\r\n      if (chunks[i].chunkId == chunkId) {\r\n        if (multiple) {\r\n          chunk.push(chunks[i]);\r\n        } else {\r\n          return chunks[i];\r\n        }\r\n      }\r\n    }\r\n    if (chunkId == 'LIST') {\r\n      return chunk.length ? chunk : null;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Read bytes as a string from a RIFF chunk.\r\n   * @param {!Uint8Array} bytes The bytes.\r\n   * @param {number} maxSize the max size of the string.\r\n   * @return {string} The string.\r\n   * @protected\r\n   */\r\n  readString(bytes, maxSize) {\r\n    /** @type {string} */\r\n    let str = '';\r\n    str = unpackString(bytes, this.head, this.head + maxSize);\r\n    this.head += maxSize;\r\n    return str;\r\n  }\r\n\r\n  /**\r\n   * Read a number from a chunk.\r\n   * @param {!Uint8Array} bytes The chunk bytes.\r\n   * @return {number} The number.\r\n   * @protected\r\n   */\r\n  readUInt32(bytes) {\r\n    /** @type {number} */\r\n    let value = unpack(bytes, this.uInt32, this.head);\r\n    this.head += 4;\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * Return the sub chunks of a RIFF file.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @return {!Array<Object>} The subchunks of a RIFF/RIFX or LIST chunk.\r\n   * @private\r\n   */\r\n  getSubChunksIndex_(buffer) {\r\n    /** @type {!Array<!Object>} */\r\n    let chunks = [];\r\n    /** @type {number} */\r\n    let i = this.head;\r\n    while(i <= buffer.length - 8) {\r\n      chunks.push(this.getSubChunkIndex_(buffer, i));\r\n      i += 8 + chunks[chunks.length - 1].chunkSize;\r\n      i = i % 2 ? i + 1 : i;\r\n    }\r\n    return chunks;\r\n  }\r\n\r\n  /**\r\n   * Return a sub chunk from a RIFF file.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {!Object} A subchunk of a RIFF/RIFX or LIST chunk.\r\n   * @private\r\n   */\r\n  getSubChunkIndex_(buffer, index) {\r\n    /** @type {!Object} */\r\n    let chunk = {\r\n      chunkId: this.getChunkId_(buffer, index),\r\n      chunkSize: this.getChunkSize_(buffer, index),\r\n    };\r\n    if (chunk.chunkId == 'LIST') {\r\n      chunk.format = unpackString(buffer, index + 8, index + 12);\r\n      this.head += 4;\r\n      chunk.subChunks = this.getSubChunksIndex_(buffer);\r\n    } else {\r\n      /** @type {number} */\r\n      let realChunkSize = chunk.chunkSize % 2 ?\r\n        chunk.chunkSize + 1 : chunk.chunkSize;\r\n      this.head = index + 8 + realChunkSize;\r\n      chunk.chunkData = {\r\n        start: index + 8,\r\n        end: this.head\r\n      };\r\n    }\r\n    return chunk;\r\n  }\r\n\r\n  /**\r\n   * Return the fourCC_ of a chunk.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {string} The id of the chunk.\r\n   * @private\r\n   */\r\n  getChunkId_(buffer, index) {\r\n    this.head += 4;\r\n    return unpackString(buffer, index, index + 4);\r\n  }\r\n\r\n  /**\r\n   * Return the size of a chunk.\r\n   * @param {!Uint8Array} buffer the RIFF file bytes.\r\n   * @param {number} index The start index of the chunk.\r\n   * @return {number} The size of the chunk without the id and size fields.\r\n   * @private\r\n   */\r\n  getChunkSize_(buffer, index) {\r\n    this.head += 4;\r\n    return unpack(buffer, this.uInt32, index + 4);\r\n  }\r\n}\n\nexport { RIFFFile };\n","import { RIFFFile } from './riff-file.js';\nimport { unpackString, unpack } from './parsers/binary/index.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to read wav files.\r\n * @extends RIFFFile\r\n */\r\nclass WaveFileReader extends RIFFFile {\r\n\r\n  constructor() {\r\n    super();\r\n    // Include 'RF64' as a supported container format\r\n    this.supported_containers.push('RF64');\r\n    /**\r\n     * The data of the 'fmt' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.fmt = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      audioFormat: 0,\r\n      /** @type {number} */\r\n      numChannels: 0,\r\n      /** @type {number} */\r\n      sampleRate: 0,\r\n      /** @type {number} */\r\n      byteRate: 0,\r\n      /** @type {number} */\r\n      blockAlign: 0,\r\n      /** @type {number} */\r\n      bitsPerSample: 0,\r\n      /** @type {number} */\r\n      cbSize: 0,\r\n      /** @type {number} */\r\n      validBitsPerSample: 0,\r\n      /** @type {number} */\r\n      dwChannelMask: 0,\r\n      /**\r\n       * 4 32-bit values representing a 128-bit ID\r\n       * @type {!Array<number>}\r\n       */\r\n      subformat: []\r\n    };\r\n    /**\r\n     * The data of the 'fact' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.fact = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      dwSampleLength: 0\r\n    };\r\n    /**\r\n     * The data of the 'cue ' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.cue = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      dwCuePoints: 0,\r\n      /** @type {!Array<!Object>} */\r\n      points: [],\r\n    };\r\n    /**\r\n     * The data of the 'smpl' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.smpl = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      dwManufacturer: 0,\r\n      /** @type {number} */\r\n      dwProduct: 0,\r\n      /** @type {number} */\r\n      dwSamplePeriod: 0,\r\n      /** @type {number} */\r\n      dwMIDIUnityNote: 0,\r\n      /** @type {number} */\r\n      dwMIDIPitchFraction: 0,\r\n      /** @type {number} */\r\n      dwSMPTEFormat: 0,\r\n      /** @type {number} */\r\n      dwSMPTEOffset: 0,\r\n      /** @type {number} */\r\n      dwNumSampleLoops: 0,\r\n      /** @type {number} */\r\n      dwSamplerData: 0,\r\n      /** @type {!Array<!Object>} */\r\n      loops: []\r\n    };\r\n    /**\r\n     * The data of the 'bext' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.bext = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {string} */\r\n      description: '', //256\r\n      /** @type {string} */\r\n      originator: '', //32\r\n      /** @type {string} */\r\n      originatorReference: '', //32\r\n      /** @type {string} */\r\n      originationDate: '', //10\r\n      /** @type {string} */\r\n      originationTime: '', //8\r\n      /**\r\n       * 2 32-bit values, timeReference high and low\r\n       * @type {!Array<number>}\r\n       */\r\n      timeReference: [0, 0],\r\n      /** @type {number} */\r\n      version: 0, //WORD\r\n      /** @type {string} */\r\n      UMID: '', // 64 chars\r\n      /** @type {number} */\r\n      loudnessValue: 0, //WORD\r\n      /** @type {number} */\r\n      loudnessRange: 0, //WORD\r\n      /** @type {number} */\r\n      maxTruePeakLevel: 0, //WORD\r\n      /** @type {number} */\r\n      maxMomentaryLoudness: 0, //WORD\r\n      /** @type {number} */\r\n      maxShortTermLoudness: 0, //WORD\r\n      /** @type {string} */\r\n      reserved: '', //180\r\n      /** @type {string} */\r\n      codingHistory: '' // string, unlimited\r\n    };\r\n    /**\r\n     * The data of the 'iXML' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.iXML = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {string} */\r\n      value: ''\r\n    };\r\n    /**\r\n     * The data of the 'ds64' chunk.\r\n     * Used only with RF64 files.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.ds64 = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {number} */\r\n      riffSizeHigh: 0, // DWORD\r\n      /** @type {number} */\r\n      riffSizeLow: 0, // DWORD\r\n      /** @type {number} */\r\n      dataSizeHigh: 0, // DWORD\r\n      /** @type {number} */\r\n      dataSizeLow: 0, // DWORD\r\n      /** @type {number} */\r\n      originationTime: 0, // DWORD\r\n      /** @type {number} */\r\n      sampleCountHigh: 0, // DWORD\r\n      /** @type {number} */\r\n      sampleCountLow: 0 // DWORD\r\n      /** @type {number} */\r\n      //'tableLength': 0, // DWORD\r\n      /** @type {!Array<number>} */\r\n      //'table': []\r\n    };\r\n    /**\r\n     * The data of the 'data' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.data = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {!Uint8Array} */\r\n      samples: new Uint8Array(0)\r\n    };\r\n    /**\r\n     * The data of the 'LIST' chunks.\r\n     * Each item in this list look like this:\r\n     *  {\r\n     *      chunkId: '',\r\n     *      chunkSize: 0,\r\n     *      format: '',\r\n     *      subChunks: []\r\n     *   }\r\n     * @type {!Array<!Object>}\r\n     */\r\n    this.LIST = [];\r\n    /**\r\n     * The data of the 'junk' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this.junk = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {!Array<number>} */\r\n      chunkData: []\r\n    };\r\n    /**\r\n     * The data of the '_PMX' chunk.\r\n     * @type {!Object<string, *>}\r\n     */\r\n    this._PMX = {\r\n      /** @type {string} */\r\n      chunkId: '',\r\n      /** @type {number} */\r\n      chunkSize: 0,\r\n      /** @type {string} */\r\n      value: ''\r\n    };\r\n    /**\r\n     * @type {{be: boolean, bits: number, fp: boolean, signed: boolean}}\r\n     * @protected\r\n     */\r\n    this.uInt16 = {bits: 16, be: false, signed: false, fp: false};\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileReader object from a byte buffer.\r\n   * @param {!Uint8Array} wavBuffer The buffer.\r\n   * @param {boolean=} [samples=true] True if the samples should be loaded.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */\r\n  fromBuffer(wavBuffer, samples=true) {\r\n    // Always should reset the chunks when reading from a buffer\r\n    this.clearHeaders();\r\n    this.setSignature(wavBuffer);\r\n    this.uInt16.be = this.uInt32.be;\r\n    if (this.format != 'WAVE') {\r\n      throw Error('Could not find the \"WAVE\" format identifier');\r\n    }\r\n    this.readDs64Chunk_(wavBuffer);\r\n    this.readFmtChunk_(wavBuffer);\r\n    this.readFactChunk_(wavBuffer);\r\n    this.readBextChunk_(wavBuffer);\r\n    this.readiXMLChunk_(wavBuffer);\r\n    this.readCueChunk_(wavBuffer);\r\n    this.readSmplChunk_(wavBuffer);\r\n    this.readDataChunk_(wavBuffer, samples);\r\n    this.readJunkChunk_(wavBuffer);\r\n    this.readLISTChunk_(wavBuffer);\r\n    this.read_PMXChunk_(wavBuffer);\r\n  }\r\n\r\n  /**\r\n   * Reset the chunks of the WaveFileReader instance.\r\n   * @protected\r\n   * @ignore\r\n   */\r\n  clearHeaders() {\r\n    /** @type {!Object} */\r\n    let tmpWav = new WaveFileReader();\r\n    Object.assign(this.fmt, tmpWav.fmt);\r\n    Object.assign(this.fact, tmpWav.fact);\r\n    Object.assign(this.cue, tmpWav.cue);\r\n    Object.assign(this.smpl, tmpWav.smpl);\r\n    Object.assign(this.bext, tmpWav.bext);\r\n    Object.assign(this.iXML, tmpWav.iXML);\r\n    Object.assign(this.ds64, tmpWav.ds64);\r\n    Object.assign(this.data, tmpWav.data);\r\n    this.LIST = [];\r\n    Object.assign(this.junk, tmpWav.junk);\r\n    Object.assign(this._PMX, tmpWav._PMX);\r\n  }\r\n  \r\n  /**\r\n   * Read the 'fmt ' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @private\r\n   */\r\n  readFmtChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('fmt ');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.fmt.chunkId = chunk.chunkId;\r\n      this.fmt.chunkSize = chunk.chunkSize;\r\n      this.fmt.audioFormat = this.readUInt16_(buffer);\r\n      this.fmt.numChannels = this.readUInt16_(buffer);\r\n      this.fmt.sampleRate = this.readUInt32(buffer);\r\n      this.fmt.byteRate = this.readUInt32(buffer);\r\n      this.fmt.blockAlign = this.readUInt16_(buffer);\r\n      this.fmt.bitsPerSample = this.readUInt16_(buffer);\r\n      this.readFmtExtension_(buffer);\r\n    } else {\r\n      throw Error('Could not find the \"fmt \" chunk');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'fmt ' chunk extension.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readFmtExtension_(buffer) {\r\n    if (this.fmt.chunkSize > 16) {\r\n      this.fmt.cbSize = this.readUInt16_(buffer);\r\n      if (this.fmt.chunkSize > 18) {\r\n        this.fmt.validBitsPerSample = this.readUInt16_(buffer);\r\n        if (this.fmt.chunkSize > 20) {\r\n          this.fmt.dwChannelMask = this.readUInt32(buffer);\r\n          this.fmt.subformat = [\r\n            this.readUInt32(buffer),\r\n            this.readUInt32(buffer),\r\n            this.readUInt32(buffer),\r\n            this.readUInt32(buffer)];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'fact' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readFactChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('fact');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.fact.chunkId = chunk.chunkId;\r\n      this.fact.chunkSize = chunk.chunkSize;\r\n      this.fact.dwSampleLength = this.readUInt32(buffer);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'cue ' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readCueChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('cue ');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.cue.chunkId = chunk.chunkId;\r\n      this.cue.chunkSize = chunk.chunkSize;\r\n      this.cue.dwCuePoints = this.readUInt32(buffer);\r\n      for (let i = 0; i < this.cue.dwCuePoints; i++) {\r\n        this.cue.points.push({\r\n          dwName: this.readUInt32(buffer),\r\n          dwPosition: this.readUInt32(buffer),\r\n          fccChunk: this.readString(buffer, 4),\r\n          dwChunkStart: this.readUInt32(buffer),\r\n          dwBlockStart: this.readUInt32(buffer),\r\n          dwSampleOffset: this.readUInt32(buffer),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'smpl' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readSmplChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('smpl');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.smpl.chunkId = chunk.chunkId;\r\n      this.smpl.chunkSize = chunk.chunkSize;\r\n      this.smpl.dwManufacturer = this.readUInt32(buffer);\r\n      this.smpl.dwProduct = this.readUInt32(buffer);\r\n      this.smpl.dwSamplePeriod = this.readUInt32(buffer);\r\n      this.smpl.dwMIDIUnityNote = this.readUInt32(buffer);\r\n      this.smpl.dwMIDIPitchFraction = this.readUInt32(buffer);\r\n      this.smpl.dwSMPTEFormat = this.readUInt32(buffer);\r\n      this.smpl.dwSMPTEOffset = this.readUInt32(buffer);\r\n      this.smpl.dwNumSampleLoops = this.readUInt32(buffer);\r\n      this.smpl.dwSamplerData = this.readUInt32(buffer);\r\n      for (let i = 0; i < this.smpl.dwNumSampleLoops; i++) {\r\n        this.smpl.loops.push({\r\n          dwName: this.readUInt32(buffer),\r\n          dwType: this.readUInt32(buffer),\r\n          dwStart: this.readUInt32(buffer),\r\n          dwEnd: this.readUInt32(buffer),\r\n          dwFraction: this.readUInt32(buffer),\r\n          dwPlayCount: this.readUInt32(buffer),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'data' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {boolean} samples True if the samples should be loaded.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   * @private\r\n   */\r\n  readDataChunk_(buffer, samples) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('data');\r\n    if (chunk) {\r\n      this.data.chunkId = 'data';\r\n      this.data.chunkSize = chunk.chunkSize;\r\n      if (samples) {\r\n        this.data.samples = buffer.slice(\r\n          chunk.chunkData.start,\r\n          chunk.chunkData.end);\r\n      }\r\n    } else {\r\n      throw Error('Could not find the \"data\" chunk');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'bext' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readBextChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('bext');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.bext.chunkId = chunk.chunkId;\r\n      this.bext.chunkSize = chunk.chunkSize;\r\n      this.bext.description = this.readString(buffer, 256);\r\n      this.bext.originator = this.readString(buffer, 32);\r\n      this.bext.originatorReference = this.readString(buffer, 32);\r\n      this.bext.originationDate = this.readString(buffer, 10);\r\n      this.bext.originationTime = this.readString(buffer, 8);\r\n      this.bext.timeReference = [\r\n        this.readUInt32(buffer),\r\n        this.readUInt32(buffer)];\r\n      this.bext.version = this.readUInt16_(buffer);\r\n      this.bext.UMID = this.readString(buffer, 64);\r\n      this.bext.loudnessValue = this.readUInt16_(buffer);\r\n      this.bext.loudnessRange = this.readUInt16_(buffer);\r\n      this.bext.maxTruePeakLevel = this.readUInt16_(buffer);\r\n      this.bext.maxMomentaryLoudness = this.readUInt16_(buffer);\r\n      this.bext.maxShortTermLoudness = this.readUInt16_(buffer);\r\n      this.bext.reserved = this.readString(buffer, 180);\r\n      this.bext.codingHistory = this.readString(\r\n        buffer, this.bext.chunkSize - 602);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'iXML' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readiXMLChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('iXML');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.iXML.chunkId = chunk.chunkId;\r\n      this.iXML.chunkSize = chunk.chunkSize;\r\n      this.iXML.value = unpackString(\r\n        buffer, this.head, this.head + this.iXML.chunkSize);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'ds64' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @throws {Error} If no 'ds64' chunk is found and the file is RF64.\r\n   * @private\r\n   */\r\n  readDs64Chunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('ds64');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this.ds64.chunkId = chunk.chunkId;\r\n      this.ds64.chunkSize = chunk.chunkSize;\r\n      this.ds64.riffSizeHigh = this.readUInt32(buffer);\r\n      this.ds64.riffSizeLow = this.readUInt32(buffer);\r\n      this.ds64.dataSizeHigh = this.readUInt32(buffer);\r\n      this.ds64.dataSizeLow = this.readUInt32(buffer);\r\n      this.ds64.originationTime = this.readUInt32(buffer);\r\n      this.ds64.sampleCountHigh = this.readUInt32(buffer);\r\n      this.ds64.sampleCountLow = this.readUInt32(buffer);\r\n      //if (wav.ds64.chunkSize > 28) {\r\n      //  wav.ds64.tableLength = unpack(\r\n      //    chunkData.slice(28, 32), uInt32_);\r\n      //  wav.ds64.table = chunkData.slice(\r\n      //     32, 32 + wav.ds64.tableLength);\r\n      //}\r\n    } else {\r\n      if (this.container == 'RF64') {\r\n        throw Error('Could not find the \"ds64\" chunk');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the 'LIST' chunks of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readLISTChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let listChunks = this.findChunk('LIST', true);\r\n    if (listChunks !== null) {\r\n      for (let j=0; j < listChunks.length; j++) {\r\n        /** @type {!Object} */\r\n        let subChunk = listChunks[j];\r\n        this.LIST.push({\r\n          chunkId: subChunk.chunkId,\r\n          chunkSize: subChunk.chunkSize,\r\n          format: subChunk.format,\r\n          subChunks: []});\r\n        for (let x=0; x<subChunk.subChunks.length; x++) {\r\n          this.readLISTSubChunks_(subChunk.subChunks[x],\r\n            subChunk.format, buffer);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the sub chunks of a 'LIST' chunk.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @param {string} format The 'LIST' format, 'adtl' or 'INFO'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readLISTSubChunks_(subChunk, format, buffer) {\r\n    if (format == 'adtl') {\r\n      if (['labl', 'note','ltxt'].indexOf(subChunk.chunkId) > -1) {\r\n        this.readLISTadtlSubChunks_(buffer, subChunk);\r\n      }\r\n    // RIFF INFO tags like ICRD, ISFT, ICMT\r\n    } else if(format == 'INFO') {\r\n      this.readLISTINFOSubChunks_(buffer, subChunk);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the sub chunks of a 'LIST' chunk of type 'adtl'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @private\r\n   */\r\n  readLISTadtlSubChunks_(buffer, subChunk) {\r\n    this.head = subChunk.chunkData.start;\r\n    /** @type {!Object<string, string|number>} */\r\n    let item = {\r\n      chunkId: subChunk.chunkId,\r\n      chunkSize: subChunk.chunkSize,\r\n      dwName: this.readUInt32(buffer)\r\n    };\r\n    if (subChunk.chunkId == 'ltxt') {\r\n      item.dwSampleLength = this.readUInt32(buffer);\r\n      item.dwPurposeID = this.readUInt32(buffer);\r\n      item.dwCountry = this.readUInt16_(buffer);\r\n      item.dwLanguage = this.readUInt16_(buffer);\r\n      item.dwDialect = this.readUInt16_(buffer);\r\n      item.dwCodePage = this.readUInt16_(buffer);\r\n      item.value = ''; // kept for compatibility\r\n    } else {\r\n      item.value = this.readZSTR_(buffer, this.head);\r\n    }\r\n    this.LIST[this.LIST.length - 1].subChunks.push(item);\r\n  }\r\n\r\n  /**\r\n   * Read the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @param {!Object} subChunk The 'LIST' subchunks.\r\n   * @private\r\n   */\r\n  readLISTINFOSubChunks_(buffer, subChunk) {\r\n    this.head = subChunk.chunkData.start;\r\n    this.LIST[this.LIST.length - 1].subChunks.push({\r\n      chunkId: subChunk.chunkId,\r\n      chunkSize: subChunk.chunkSize,\r\n      value: this.readZSTR_(buffer, this.head)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Read the 'junk' chunk of a wave file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  readJunkChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('junk');\r\n    if (chunk) {\r\n      this.junk = {\r\n        chunkId: chunk.chunkId,\r\n        chunkSize: chunk.chunkSize,\r\n        chunkData: [].slice.call(buffer.slice(\r\n          chunk.chunkData.start,\r\n          chunk.chunkData.end))\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read the '_PMX' chunk of a wav file.\r\n   * @param {!Uint8Array} buffer The wav file buffer.\r\n   * @private\r\n   */\r\n  read_PMXChunk_(buffer) {\r\n    /** @type {?Object} */\r\n    let chunk = this.findChunk('_PMX');\r\n    if (chunk) {\r\n      this.head = chunk.chunkData.start;\r\n      this._PMX.chunkId = chunk.chunkId;\r\n      this._PMX.chunkSize = chunk.chunkSize;\r\n      this._PMX.value = unpackString(\r\n        buffer, this.head, this.head + this._PMX.chunkSize);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Read bytes as a ZSTR string.\r\n   * @param {!Uint8Array} bytes The bytes.\r\n   * @param {number=} [index=0] the index to start reading.\r\n   * @return {string} The string.\r\n   * @private\r\n   */\r\n  readZSTR_(bytes, index=0) {\r\n    for (let i = index; i < bytes.length; i++) {\r\n      this.head++;\r\n      if (bytes[i] === 0) {\r\n        break;\r\n      }\r\n    }\r\n    return unpackString(bytes, index, this.head - 1);\r\n  }\r\n\r\n  /**\r\n   * Read a number from a chunk.\r\n   * @param {!Uint8Array} bytes The chunk bytes.\r\n   * @return {number} The number.\r\n   * @private\r\n   */\r\n  readUInt16_(bytes) {\r\n    /** @type {number} */\r\n    let value = unpack(bytes, this.uInt16, this.head);\r\n    this.head += 2;\r\n    return value;\r\n  }\r\n}\n\nexport { WaveFileReader };\n","import { packString } from './binary/index.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * Pack a string an array of bytes. If the packed string length is smaller\r\n * than the desired byte length the output array is filled with 0s.\r\n * @param {string} str The string to be written as bytes.\r\n * @param {number} byteLength the size of the string in bytes.\r\n * @return {!Array<number>} The packed string.\r\n */\r\nfunction writeString(str, byteLength) {\r\n  /** @type {!Array<number>} */   \r\n  let packedString = packString(str);\r\n  for (let i = packedString.length; i < byteLength; i++) {\r\n    packedString.push(0);\r\n  }\r\n  return packedString;\r\n}\n\nexport { writeString };\n","import { WaveFileReader } from './wavefile-reader.js';\nimport { writeString } from './parsers/write-string.js';\nimport { packString, pack, packStringTo, packTo } from './parsers/binary/index.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to read and write wav files.\r\n * @extends WaveFileReader\r\n */\r\nclass WaveFileParser extends WaveFileReader {\r\n\r\n  /**\r\n   * Return a byte buffer representig the WaveFileParser object as a .wav file.\r\n   * The return value of this method can be written straight to disk.\r\n   * @return {!Uint8Array} A wav file.\r\n   */\r\n  toBuffer() {\r\n    this.uInt16.be = this.container === 'RIFX';\r\n    this.uInt32.be = this.uInt16.be;\r\n    /** @type {!Array<!Array<number>>} */\r\n    let fileBody = [\r\n      this.getJunkBytes_(),\r\n      this.getDs64Bytes_(),\r\n      this.getBextBytes_(),\r\n      this.getiXMLBytes_(),\r\n      this.getFmtBytes_(),\r\n      this.getFactBytes_(),\r\n      packString(this.data.chunkId),\r\n      pack(this.data.samples.length, this.uInt32),\r\n      this.data.samples,\r\n      this.getCueBytes_(),\r\n      this.getSmplBytes_(),\r\n      this.getLISTBytes_(),\r\n      this.get_PMXBytes_()\r\n    ];\r\n    /** @type {number} */\r\n    let fileBodyLength = 0;\r\n    for (let i=0; i<fileBody.length; i++) {\r\n      fileBodyLength += fileBody[i].length;\r\n    }\r\n    /** @type {!Uint8Array} */\r\n    let file = new Uint8Array(fileBodyLength + 12);\r\n    /** @type {number} */\r\n    let index = 0;\r\n    index = packStringTo(this.container, file, index);\r\n    index = packTo(fileBodyLength + 4, this.uInt32, file, index);\r\n    index = packStringTo(this.format, file, index);\r\n    for (let i=0; i<fileBody.length; i++) {\r\n      file.set(fileBody[i], index);\r\n      index += fileBody[i].length;\r\n    }\r\n    return file;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'bext' chunk.\r\n   * @private\r\n   */\r\n  getBextBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    this.enforceBext_();\r\n    if (this.bext.chunkId) {\r\n      this.bext.chunkSize = 602 + this.bext.codingHistory.length;\r\n      bytes = bytes.concat(\r\n        packString(this.bext.chunkId),\r\n        pack(602 + this.bext.codingHistory.length, this.uInt32),\r\n        writeString(this.bext.description, 256),\r\n        writeString(this.bext.originator, 32),\r\n        writeString(this.bext.originatorReference, 32),\r\n        writeString(this.bext.originationDate, 10),\r\n        writeString(this.bext.originationTime, 8),\r\n        pack(this.bext.timeReference[0], this.uInt32),\r\n        pack(this.bext.timeReference[1], this.uInt32),\r\n        pack(this.bext.version, this.uInt16),\r\n        writeString(this.bext.UMID, 64),\r\n        pack(this.bext.loudnessValue, this.uInt16),\r\n        pack(this.bext.loudnessRange, this.uInt16),\r\n        pack(this.bext.maxTruePeakLevel, this.uInt16),\r\n        pack(this.bext.maxMomentaryLoudness, this.uInt16),\r\n        pack(this.bext.maxShortTermLoudness, this.uInt16),\r\n        writeString(this.bext.reserved, 180),\r\n        writeString(\r\n          this.bext.codingHistory, this.bext.codingHistory.length));\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Make sure a 'bext' chunk is created if BWF data was created in a file.\r\n   * @private\r\n   */\r\n  enforceBext_() {\r\n    for (let prop in this.bext) {\r\n      if (this.bext.hasOwnProperty(prop)) {\r\n        if (this.bext[prop] && prop != 'timeReference') {\r\n          this.bext.chunkId = 'bext';\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (this.bext.timeReference[0] || this.bext.timeReference[1]) {\r\n      this.bext.chunkId = 'bext';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'iXML' chunk.\r\n   * @return {!Array<number>} The 'iXML' chunk bytes.\r\n   * @private\r\n   */\r\n  getiXMLBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.iXML.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let iXMLPackedValue = packString(this.iXML.value);\r\n      this.iXML.chunkSize = iXMLPackedValue.length;\r\n      bytes = bytes.concat(\r\n        packString(this.iXML.chunkId),\r\n        pack(this.iXML.chunkSize, this.uInt32),\r\n        iXMLPackedValue);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'ds64' chunk.\r\n   * @return {!Array<number>} The 'ds64' chunk bytes.\r\n   * @private\r\n   */\r\n  getDs64Bytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.ds64.chunkId) {\r\n      bytes = bytes.concat(\r\n        packString(this.ds64.chunkId),\r\n        pack(this.ds64.chunkSize, this.uInt32),\r\n        pack(this.ds64.riffSizeHigh, this.uInt32),\r\n        pack(this.ds64.riffSizeLow, this.uInt32),\r\n        pack(this.ds64.dataSizeHigh, this.uInt32),\r\n        pack(this.ds64.dataSizeLow, this.uInt32),\r\n        pack(this.ds64.originationTime, this.uInt32),\r\n        pack(this.ds64.sampleCountHigh, this.uInt32),\r\n        pack(this.ds64.sampleCountLow, this.uInt32));\r\n    }\r\n    //if (this.ds64.tableLength) {\r\n    //  ds64Bytes = ds64Bytes.concat(\r\n    //    pack(this.ds64.tableLength, this.uInt32),\r\n    //    this.ds64.table);\r\n    //}\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'cue ' chunk.\r\n   * @return {!Array<number>} The 'cue ' chunk bytes.\r\n   * @private\r\n   */\r\n  getCueBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.cue.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let cuePointsBytes = this.getCuePointsBytes_();\r\n      bytes = bytes.concat(\r\n        packString(this.cue.chunkId),\r\n        pack(cuePointsBytes.length + 4, this.uInt32), // chunkSize\r\n        pack(this.cue.dwCuePoints, this.uInt32),\r\n        cuePointsBytes);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'cue ' points.\r\n   * @return {!Array<number>} The 'cue ' points as an array of bytes.\r\n   * @private\r\n   */\r\n  getCuePointsBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let points = [];\r\n    for (let i=0; i<this.cue.dwCuePoints; i++) {\r\n      points = points.concat(\r\n        pack(this.cue.points[i].dwName, this.uInt32),\r\n        pack(this.cue.points[i].dwPosition, this.uInt32),\r\n        packString(this.cue.points[i].fccChunk),\r\n        pack(this.cue.points[i].dwChunkStart, this.uInt32),\r\n        pack(this.cue.points[i].dwBlockStart, this.uInt32),\r\n        pack(this.cue.points[i].dwSampleOffset, this.uInt32));\r\n    }\r\n    return points;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'smpl' chunk.\r\n   * @return {!Array<number>} The 'smpl' chunk bytes.\r\n   * @private\r\n   */\r\n  getSmplBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.smpl.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let smplLoopsBytes = this.getSmplLoopsBytes_();\r\n      bytes = bytes.concat(\r\n        packString(this.smpl.chunkId),\r\n        pack(smplLoopsBytes.length + 36, this.uInt32), //chunkSize\r\n        pack(this.smpl.dwManufacturer, this.uInt32),\r\n        pack(this.smpl.dwProduct, this.uInt32),\r\n        pack(this.smpl.dwSamplePeriod, this.uInt32),\r\n        pack(this.smpl.dwMIDIUnityNote, this.uInt32),\r\n        pack(this.smpl.dwMIDIPitchFraction, this.uInt32),\r\n        pack(this.smpl.dwSMPTEFormat, this.uInt32),\r\n        pack(this.smpl.dwSMPTEOffset, this.uInt32),\r\n        pack(this.smpl.dwNumSampleLoops, this.uInt32),\r\n        pack(this.smpl.dwSamplerData, this.uInt32),\r\n        smplLoopsBytes);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'smpl' loops.\r\n   * @return {!Array<number>} The 'smpl' loops as an array of bytes.\r\n   * @private\r\n   */\r\n  getSmplLoopsBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let loops = [];\r\n    for (let i=0; i<this.smpl.dwNumSampleLoops; i++) {\r\n      loops = loops.concat(\r\n        pack(this.smpl.loops[i].dwName, this.uInt32),\r\n        pack(this.smpl.loops[i].dwType, this.uInt32),\r\n        pack(this.smpl.loops[i].dwStart, this.uInt32),\r\n        pack(this.smpl.loops[i].dwEnd, this.uInt32),\r\n        pack(this.smpl.loops[i].dwFraction, this.uInt32),\r\n        pack(this.smpl.loops[i].dwPlayCount, this.uInt32));\r\n    }\r\n    return loops;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'fact' chunk.\r\n   * @return {!Array<number>} The 'fact' chunk bytes.\r\n   * @private\r\n   */\r\n  getFactBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.fact.chunkId) {\r\n      bytes = bytes.concat(\r\n        packString(this.fact.chunkId),\r\n        pack(this.fact.chunkSize, this.uInt32),\r\n        pack(this.fact.dwSampleLength, this.uInt32));\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'fmt ' chunk.\r\n   * @return {!Array<number>} The 'fmt' chunk bytes.\r\n   * @throws {Error} if no 'fmt ' chunk is present.\r\n   * @private\r\n   */\r\n  getFmtBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let fmtBytes = [];\r\n    if (this.fmt.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let bytes  = fmtBytes.concat(\r\n        packString(this.fmt.chunkId),\r\n        pack(this.fmt.chunkSize, this.uInt32),\r\n        pack(this.fmt.audioFormat, this.uInt16),\r\n        pack(this.fmt.numChannels, this.uInt16),\r\n        pack(this.fmt.sampleRate, this.uInt32),\r\n        pack(this.fmt.byteRate, this.uInt32),\r\n        pack(this.fmt.blockAlign, this.uInt16),\r\n        pack(this.fmt.bitsPerSample, this.uInt16),\r\n        this.getFmtExtensionBytes_());\r\n      this.enforceByteLen_(bytes);\r\n      return bytes;\r\n    }\r\n    throw Error('Could not find the \"fmt \" chunk');\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the fmt extension fields.\r\n   * @return {!Array<number>} The fmt extension bytes.\r\n   * @private\r\n   */\r\n  getFmtExtensionBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let extension = [];\r\n    if (this.fmt.chunkSize > 16) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.cbSize, this.uInt16));\r\n    }\r\n    if (this.fmt.chunkSize > 18) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.validBitsPerSample, this.uInt16));\r\n    }\r\n    if (this.fmt.chunkSize > 20) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.dwChannelMask, this.uInt32));\r\n    }\r\n    if (this.fmt.chunkSize > 24) {\r\n      extension = extension.concat(\r\n        pack(this.fmt.subformat[0], this.uInt32),\r\n        pack(this.fmt.subformat[1], this.uInt32),\r\n        pack(this.fmt.subformat[2], this.uInt32),\r\n        pack(this.fmt.subformat[3], this.uInt32));\r\n    }\r\n    return extension;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'LIST' chunk.\r\n   * @return {!Array<number>} The 'LIST' chunk bytes.\r\n   * @private\r\n   */\r\n  getLISTBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    for (let i=0; i<this.LIST.length; i++) {\r\n      /** @type {!Array<number>} */\r\n      let subChunksBytes = this.getLISTSubChunksBytes_(\r\n          this.LIST[i].subChunks, this.LIST[i].format);\r\n      bytes = bytes.concat(\r\n        packString(this.LIST[i].chunkId),\r\n        pack(subChunksBytes.length + 4, this.uInt32), //chunkSize\r\n        packString(this.LIST[i].format),\r\n        subChunksBytes);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk.\r\n   * @param {!Array<!Object>} subChunks The 'LIST' sub chunks.\r\n   * @param {string} format The format of the 'LIST' chunk.\r\n   *    Currently supported values are 'adtl' or 'INFO'.\r\n   * @return {!Array<number>} The sub chunk bytes.\r\n   * @private\r\n   */\r\n  getLISTSubChunksBytes_(subChunks, format) {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    for (let i = 0, len = subChunks.length; i < len; i++) {\r\n      if (format == 'INFO') {\r\n        bytes = bytes.concat(this.getLISTINFOSubChunksBytes_(subChunks[i]));\r\n      } else if (format == 'adtl') {\r\n        bytes = bytes.concat(this.getLISTadtlSubChunksBytes_(subChunks[i]));\r\n      }\r\n      this.enforceByteLen_(bytes);\r\n    }\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Object} subChunk The 'LIST' sub chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */\r\n  getLISTINFOSubChunksBytes_(subChunk) {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    /** @type {!Array<number>} */\r\n    let LISTsubChunkValue = writeString(\r\n        subChunk.value, subChunk.value.length);\r\n    bytes = bytes.concat(\r\n      packString(subChunk.chunkId),\r\n      pack(LISTsubChunkValue.length + 1, this.uInt32), //chunkSize\r\n      LISTsubChunkValue);\r\n    bytes.push(0);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the sub chunks of a 'LIST' chunk of type 'INFO'.\r\n   * @param {!Object} subChunk The 'LIST' sub chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */\r\n  getLISTadtlSubChunksBytes_(subChunk) {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (['labl', 'note'].indexOf(subChunk.chunkId) > -1) {\r\n      /** @type {!Array<number>} */\r\n      let LISTsubChunkValue = writeString(\r\n          subChunk.value,\r\n          subChunk.value.length);\r\n      bytes = bytes.concat(\r\n        packString(subChunk.chunkId),\r\n        pack(LISTsubChunkValue.length + 4 + 1, this.uInt32), //chunkSize\r\n        pack(subChunk.dwName, this.uInt32),\r\n        LISTsubChunkValue);\r\n      bytes.push(0);\r\n    } else if (subChunk.chunkId == 'ltxt') {\r\n      bytes = bytes.concat(\r\n        this.getLtxtChunkBytes_(subChunk));\r\n    }\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of a 'ltxt' chunk.\r\n   * @param {!Object} ltxt the 'ltxt' chunk.\r\n   * @return {!Array<number>}\r\n   * @private\r\n   */\r\n  getLtxtChunkBytes_(ltxt) {\r\n    return [].concat(\r\n      packString(ltxt.chunkId),\r\n      pack(ltxt.value.length + 20, this.uInt32),\r\n      pack(ltxt.dwName, this.uInt32),\r\n      pack(ltxt.dwSampleLength, this.uInt32),\r\n      pack(ltxt.dwPurposeID, this.uInt32),\r\n      pack(ltxt.dwCountry, this.uInt16),\r\n      pack(ltxt.dwLanguage, this.uInt16),\r\n      pack(ltxt.dwDialect, this.uInt16),\r\n      pack(ltxt.dwCodePage, this.uInt16),\r\n       // should always be a empty string;\r\n       // kept for compatibility\r\n      writeString(ltxt.value, ltxt.value.length));\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the '_PMX' chunk.\r\n   * @return {!Array<number>} The '_PMX' chunk bytes.\r\n   * @private\r\n   */\r\n  get_PMXBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this._PMX.chunkId) {\r\n      /** @type {!Array<number>} */\r\n      let _PMXPackedValue = packString(this._PMX.value);\r\n      this._PMX.chunkSize = _PMXPackedValue.length;\r\n      bytes = bytes.concat(\r\n        packString(this._PMX.chunkId),\r\n        pack(this._PMX.chunkSize, this.uInt32),\r\n        _PMXPackedValue);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Return the bytes of the 'junk' chunk.\r\n   * @private\r\n   */\r\n  getJunkBytes_() {\r\n    /** @type {!Array<number>} */\r\n    let bytes = [];\r\n    if (this.junk.chunkId) {\r\n      return bytes.concat(\r\n        packString(this.junk.chunkId),\r\n        pack(this.junk.chunkData.length, this.uInt32), //chunkSize\r\n        this.junk.chunkData);\r\n    }\r\n    this.enforceByteLen_(bytes);\r\n    return bytes;\r\n  }\r\n\r\n  /**\r\n   * Push a null byte into a byte array if\r\n   * the byte count is odd.\r\n   * @param {!Array<number>} bytes The byte array.\r\n   * @private\r\n   */\r\n  enforceByteLen_(bytes) {\r\n    if (bytes.length % 2) {\r\n      bytes.push(0);\r\n    }\r\n  }\r\n}\n\nexport { WaveFileParser };\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The validateSampleRate function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Validate the sample rate value of a wav file according to the number of\r\n * channels and the bit depth of the audio.\r\n * @param {number} channels The number of channels in the file.\r\n * @param {number} bits The number of bits per sample.\r\n * @param {number} sampleRate The sample rate to be validated.\r\n * @return {boolean} True is the sample rate is valid, false otherwise.\r\n */\r\nfunction validateSampleRate(channels, bits, sampleRate) {\r\n  /** @type {number} */\r\n  let byteRate = channels * (bits / 8) * sampleRate;\r\n  if (sampleRate < 1 || byteRate > 4294967295) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\n\nexport { validateSampleRate };\n","import { WaveFileParser } from './wavefile-parser.js';\nimport { deInterleave, interleave } from './parsers/interleave.js';\nimport { validateNumChannels } from './validators/validate-num-channels.js';\nimport { validateSampleRate } from './validators/validate-sample-rate.js';\nimport { unpackArrayTo, unpack, packTo, packArrayTo } from './parsers/binary/index.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to read, write and create wav files.\r\n * @extends WaveFileParser\r\n * @ignore\r\n */\r\nclass WaveFileCreator extends WaveFileParser {\r\n\r\n  constructor() {\r\n    super();\r\n    /**\r\n     * The bit depth code according to the samples.\r\n     * @type {string}\r\n     */\r\n    this.bitDepth = '0';\r\n    /**\r\n     * @type {!{bits: number, be: boolean}}\r\n     * @protected\r\n     */\r\n    this.dataType = {bits: 0, be: false};\r\n    /**\r\n     * Audio formats.\r\n     * Formats not listed here should be set to 65534,\r\n     * the code for WAVE_FORMAT_EXTENSIBLE\r\n     * @enum {number}\r\n     * @protected\r\n     */\r\n    this.WAV_AUDIO_FORMATS = {\r\n      '4': 17,\r\n      '8': 1,\r\n      '8a': 6,\r\n      '8m': 7,\r\n      '16': 1,\r\n      '24': 1,\r\n      '32': 1,\r\n      '32f': 3,\r\n      '64': 3\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * Existing chunks are reset.\r\n   * @param {number} numChannels The number of channels.\r\n   * @param {number} sampleRate The sample rate.\r\n   *    Integers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *    One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *    or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples The samples.\r\n   * @param {Object=} options Optional. Used to force the container\r\n   *    as RIFX with {'container': 'RIFX'}\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   */\r\n  fromScratch(numChannels, sampleRate, bitDepthCode, samples, options) {\r\n    options = options || {};\r\n    // reset all chunks\r\n    this.clearHeaders();\r\n    this.newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options);\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileParser object from a byte buffer.\r\n   * @param {!Uint8Array} wavBuffer The buffer.\r\n   * @param {boolean=} [samples=true] True if the samples should be loaded.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */\r\n  fromBuffer(wavBuffer, samples=true) {\r\n    super.fromBuffer(wavBuffer, samples);\r\n    this.bitDepthFromFmt_();\r\n    this.updateDataType_();\r\n  }\r\n\r\n  /**\r\n   * Return a byte buffer representig the WaveFileParser object as a .wav file.\r\n   * The return value of this method can be written straight to disk.\r\n   * @return {!Uint8Array} A wav file.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @throws {Error} If the number of channels is invalid.\r\n   * @throws {Error} If the sample rate is invalid.\r\n   */\r\n  toBuffer() {\r\n    this.validateWavHeader_();\r\n    return super.toBuffer();\r\n  }\r\n\r\n  /**\r\n   * Return the samples packed in a Float64Array.\r\n   * @param {boolean=} [interleaved=false] True to return interleaved samples,\r\n   *   false to return the samples de-interleaved.\r\n   * @param {Function=} [OutputObject=Float64Array] The sample container.\r\n   * @return {!(Array|TypedArray)} the samples.\r\n   */\r\n  getSamples(interleaved=false, OutputObject=Float64Array) {\r\n    /**\r\n     * A Float64Array created with a size to match the\r\n     * the length of the samples.\r\n     * @type {!(Array|TypedArray)}\r\n     */\r\n    let samples = new OutputObject(\r\n      this.data.samples.length / (this.dataType.bits / 8));\r\n    // Unpack all the samples\r\n    unpackArrayTo(this.data.samples, this.dataType, samples,\r\n      0, this.data.samples.length);\r\n    if (!interleaved && this.fmt.numChannels > 1) {\r\n      return deInterleave(samples, this.fmt.numChannels, OutputObject);\r\n    }\r\n    return samples;\r\n  }\r\n\r\n  /**\r\n   * Return the sample at a given index.\r\n   * @param {number} index The sample index.\r\n   * @return {number} The sample.\r\n   * @throws {Error} If the sample index is off range.\r\n   */\r\n  getSample(index) {\r\n    index = index * (this.dataType.bits / 8);\r\n    if (index + this.dataType.bits / 8 > this.data.samples.length) {\r\n      throw new Error('Range error');\r\n    }\r\n    return unpack(\r\n      this.data.samples.slice(index, index + this.dataType.bits / 8),\r\n      this.dataType);\r\n  }\r\n\r\n  /**\r\n   * Set the sample at a given index.\r\n   * @param {number} index The sample index.\r\n   * @param {number} sample The sample.\r\n   * @throws {Error} If the sample index is off range.\r\n   */\r\n  setSample(index, sample) {\r\n    index = index * (this.dataType.bits / 8);\r\n    if (index + this.dataType.bits / 8 > this.data.samples.length) {\r\n      throw new Error('Range error');\r\n    }\r\n    packTo(sample, this.dataType, this.data.samples, index);\r\n  }\r\n\r\n  /**\r\n   * Return the value of the iXML chunk.\r\n   * @return {string} The contents of the iXML chunk.\r\n   */\r\n  getiXML() {\r\n    return this.iXML.value;\r\n  }\r\n\r\n  /**\r\n   * Set the value of the iXML chunk.\r\n   * @param {string} iXMLValue The value for the iXML chunk.\r\n   * @throws {TypeError} If the value is not a string.\r\n   */\r\n  setiXML(iXMLValue) {\r\n    if (typeof iXMLValue !== 'string') {\r\n      throw new TypeError('iXML value must be a string.');\r\n    }\r\n    this.iXML.value = iXMLValue;\r\n    this.iXML.chunkId = 'iXML';\r\n  }\r\n\r\n  /**\r\n   * Get the value of the _PMX chunk.\r\n   * @return {string} The contents of the _PMX chunk.\r\n   */\r\n  get_PMX() {\r\n    return this._PMX.value;\r\n  }\r\n\r\n  /**\r\n   * Set the value of the _PMX chunk.\r\n   * @param {string} _PMXValue The value for the _PMX chunk.\r\n   * @throws {TypeError} If the value is not a string.\r\n   */\r\n  set_PMX(_PMXValue) {\r\n    if (typeof _PMXValue !== 'string') {\r\n      throw new TypeError('_PMX value must be a string.');\r\n    }\r\n    this._PMX.value = _PMXValue;\r\n    this._PMX.chunkId = '_PMX';\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * @param {number} numChannels The number of channels.\r\n   * @param {number} sampleRate The sample rate.\r\n   *   Integers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *   One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *   or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples The samples.\r\n   * @param {Object} options Used to define the container.\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   * @private\r\n   */\r\n  newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options) {\r\n    if (!options.container) {\r\n      options.container = 'RIFF';\r\n    }\r\n    this.container = options.container;\r\n    this.bitDepth = bitDepthCode;\r\n    samples = interleave(samples);\r\n    this.updateDataType_();\r\n    /** @type {number} */\r\n    let numBytes = this.dataType.bits / 8;\r\n    this.data.samples = new Uint8Array(samples.length * numBytes);\r\n    packArrayTo(samples, this.dataType, this.data.samples, 0);\r\n    this.makeWavHeader_(\r\n      bitDepthCode, numChannels, sampleRate,\r\n      numBytes, this.data.samples.length, options);\r\n    this.data.chunkId = 'data';\r\n    this.data.chunkSize = this.data.samples.length;\r\n    this.validateWavHeader_();\r\n  }\r\n\r\n  /**\r\n   * Define the header of a wav file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  makeWavHeader_(\r\n    bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    if (bitDepthCode == '4') {\r\n      this.createADPCMHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n\r\n    } else if (bitDepthCode == '8a' || bitDepthCode == '8m') {\r\n      this.createALawMulawHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n\r\n    } else if(Object.keys(this.WAV_AUDIO_FORMATS).indexOf(bitDepthCode) == -1 ||\r\n        numChannels > 2) {\r\n      this.createExtensibleHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n\r\n    } else {\r\n      this.createPCMHeader_(\r\n        bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);      \r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create the header of a linear PCM wave file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createPCMHeader_(\r\n    bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.container = options.container;\r\n    this.chunkSize = 36 + samplesLength;\r\n    this.format = 'WAVE';\r\n    this.bitDepth = bitDepthCode;\r\n    this.fmt = {\r\n      chunkId: 'fmt ',\r\n      chunkSize: 16,\r\n      audioFormat: this.WAV_AUDIO_FORMATS[bitDepthCode] || 65534,\r\n      numChannels: numChannels,\r\n      sampleRate: sampleRate,\r\n      byteRate: (numChannels * numBytes) * sampleRate,\r\n      blockAlign: numChannels * numBytes,\r\n      bitsPerSample: parseInt(bitDepthCode, 10),\r\n      cbSize: 0,\r\n      validBitsPerSample: 0,\r\n      dwChannelMask: 0,\r\n      subformat: []\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create the header of a ADPCM wave file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createADPCMHeader_(\r\n    bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.createPCMHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n    this.chunkSize = 40 + samplesLength;\r\n    this.fmt.chunkSize = 20;\r\n    this.fmt.byteRate = 4055;\r\n    this.fmt.blockAlign = 256;\r\n    this.fmt.bitsPerSample = 4;\r\n    this.fmt.cbSize = 2;\r\n    this.fmt.validBitsPerSample = 505;\r\n    this.fact = {\r\n      chunkId: 'fact',\r\n      chunkSize: 4,\r\n      dwSampleLength: samplesLength * 2\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create the header of WAVE_FORMAT_EXTENSIBLE file.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createExtensibleHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.createPCMHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n    this.chunkSize = 36 + 24 + samplesLength;\r\n    this.fmt.chunkSize = 40;\r\n    this.fmt.bitsPerSample = ((parseInt(bitDepthCode, 10) - 1) | 7) + 1;\r\n    this.fmt.cbSize = 22;\r\n    this.fmt.validBitsPerSample = parseInt(bitDepthCode, 10);\r\n    this.fmt.dwChannelMask = dwChannelMask_(numChannels);\r\n    // subformat 128-bit GUID as 4 32-bit values\r\n    // only supports uncompressed integer PCM samples\r\n    this.fmt.subformat = [1, 1048576, 2852126848, 1905997824];\r\n  }\r\n\r\n  /**\r\n   * Create the header of mu-Law and A-Law wave files.\r\n   * @param {string} bitDepthCode The audio bit depth\r\n   * @param {number} numChannels The number of channels\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} numBytes The number of bytes each sample use.\r\n   * @param {number} samplesLength The length of the samples in bytes.\r\n   * @param {!Object} options The extra options, like container defintion.\r\n   * @private\r\n   */\r\n  createALawMulawHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options) {\r\n    this.createPCMHeader_(\r\n      bitDepthCode, numChannels, sampleRate, numBytes, samplesLength, options);\r\n    this.chunkSize = 40 + samplesLength;\r\n    this.fmt.chunkSize = 20;\r\n    this.fmt.cbSize = 2;\r\n    this.fmt.validBitsPerSample = 8;\r\n    this.fact = {\r\n      chunkId: 'fact',\r\n      chunkSize: 4,\r\n      dwSampleLength: samplesLength\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Set the string code of the bit depth based on the 'fmt ' chunk.\r\n   * @private\r\n   */\r\n  bitDepthFromFmt_() {\r\n    if (this.fmt.audioFormat === 3 && this.fmt.bitsPerSample === 32) {\r\n      this.bitDepth = '32f';\r\n    } else if (this.fmt.audioFormat === 6) {\r\n      this.bitDepth = '8a';\r\n    } else if (this.fmt.audioFormat === 7) {\r\n      this.bitDepth = '8m';\r\n    } else {\r\n      this.bitDepth = this.fmt.bitsPerSample.toString();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate the bit depth.\r\n   * @return {boolean} True is the bit depth is valid.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @private\r\n   */\r\n  validateBitDepth_() {\r\n    if (!this.WAV_AUDIO_FORMATS[this.bitDepth]) {\r\n      if (parseInt(this.bitDepth, 10) > 8 &&\r\n          parseInt(this.bitDepth, 10) < 54) {\r\n        return true;\r\n      }\r\n      throw new Error('Invalid bit depth.');\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Update the type definition used to read and write the samples.\r\n   * @private\r\n   */\r\n  updateDataType_() {\r\n    this.dataType = {\r\n      bits: ((parseInt(this.bitDepth, 10) - 1) | 7) + 1,\r\n      fp: this.bitDepth == '32f' || this.bitDepth == '64',\r\n      signed: this.bitDepth != '8',\r\n      be: this.container == 'RIFX'\r\n    };\r\n    if (['4', '8a', '8m'].indexOf(this.bitDepth) > -1 ) {\r\n      this.dataType.bits = 8;\r\n      this.dataType.signed = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate the header of the file.\r\n   * @throws {Error} If bit depth is invalid.\r\n   * @throws {Error} If the number of channels is invalid.\r\n   * @throws {Error} If the sample rate is invalid.\r\n   * @ignore\r\n   * @private\r\n   */\r\n  validateWavHeader_() {\r\n    this.validateBitDepth_();\r\n    if (!validateNumChannels(this.fmt.numChannels, this.fmt.bitsPerSample)) {\r\n      throw new Error('Invalid number of channels.');\r\n    }\r\n    if (!validateSampleRate(\r\n        this.fmt.numChannels, this.fmt.bitsPerSample, this.fmt.sampleRate)) {\r\n      throw new Error('Invalid sample rate.');\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Return the value for dwChannelMask according to the number of channels.\r\n * @param {number} numChannels the number of channels.\r\n * @return {number} the dwChannelMask value.\r\n * @private\r\n */\r\nfunction dwChannelMask_(numChannels) {\r\n  /** @type {number} */\r\n  let mask = 0;\r\n  // mono = FC\r\n  if (numChannels === 1) {\r\n    mask = 0x4;\r\n  // stereo = FL, FR\r\n  } else if (numChannels === 2) {\r\n    mask = 0x3;\r\n  // quad = FL, FR, BL, BR\r\n  } else if (numChannels === 4) {\r\n    mask = 0x33;\r\n  // 5.1 = FL, FR, FC, LF, BL, BR\r\n  } else if (numChannels === 6) {\r\n    mask = 0x3F;\r\n  // 7.1 = FL, FR, FC, LF, BL, BR, SL, SR\r\n  } else if (numChannels === 8) {\r\n    mask = 0x63F;\r\n  }\r\n  return mask;\r\n}\n\nexport { WaveFileCreator };\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The interleave function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Interleave de-interleaved samples.\r\n * @param {!(Array|TypedArray)} samples The samples.\r\n * @return {!(Array|TypedArray)}\r\n */\r\nfunction interleave(samples) {\r\n  /** @type {!(Array|TypedArray)} */\r\n  let finalSamples = [];\r\n  if (samples.length > 0) {\r\n    if (samples[0].constructor !== Number) {\r\n      finalSamples = new Float64Array(samples[0].length * samples.length);\r\n      for (let i = 0, len = samples[0].length, x = 0; i < len; i++) {\r\n        for (let j = 0, subLen = samples.length; j < subLen; j++, x++) {\r\n          finalSamples[x] = samples[j][i];\r\n        }\r\n      }\r\n    } else {\r\n      finalSamples = samples;\r\n    }\r\n  }\r\n  return finalSamples;\r\n}\r\n\r\n/**\r\n * De-interleave samples into multiple channels.\r\n * @param {!(Array|TypedArray)} samples The samples.\r\n * @param {number} numChannels The number of channels to split the samples.\r\n * @param {Function} [OutputObject=Float64Array] The type of object to\r\n *   write the de-interleaved samples.\r\n * @return {!(Array|TypedArray)}\r\n */\r\nfunction deInterleave(samples, numChannels, OutputObject=Float64Array) {\r\n  /** @type {!(Array|TypedArray)} */\r\n  let finalSamples = [];\r\n  for (let i = 0; i < numChannels; i++) {\r\n    finalSamples[i] = new OutputObject(samples.length / numChannels);\r\n  }\r\n  for (let i = 0; i < numChannels; i++) {\r\n    for (let j = i, s = 0; j < samples.length; j+= numChannels, s++) {\r\n      finalSamples[i][s] = samples[j];\r\n    }\r\n  }\r\n  return finalSamples;\r\n}\n\nexport { deInterleave, interleave };\n","/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The validateNumChannels function.\r\n * @see https://github.com/rochars/wavefile\r\n */\r\n\r\n/**\r\n * Validate the number of channels in a wav file according to the\r\n * bit depth of the audio.\r\n * @param {number} channels The number of channels in the file.\r\n * @param {number} bits The number of bits per sample.\r\n * @return {boolean} True is the number of channels is valid.\r\n */\r\nfunction validateNumChannels(channels, bits) {\r\n  /** @type {number} */\r\n  let blockAlign = channels * bits / 8;\r\n  if (channels < 1 || blockAlign > 65535) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\n\nexport { validateNumChannels };\n","import { WaveFileCreator } from './wavefile-creator.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to edit meta information in wav files.\r\n * @extends WaveFileCreator\r\n * @ignore\r\n */\r\nclass WaveFileTagEditor extends WaveFileCreator {\r\n\r\n  /**\r\n   * Return the value of a RIFF tag in the INFO chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {?string} The value if the tag is found, null otherwise.\r\n   */\r\n  getTag(tag) {\r\n    /** @type {!Object} */\r\n    let index = this.getTagIndex_(tag);\r\n    if (index.TAG !== null) {\r\n      return this.LIST[index.LIST].subChunks[index.TAG].value;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Write a RIFF tag in the INFO chunk. If the tag do not exist,\r\n   * then it is created. It if exists, it is overwritten.\r\n   * @param {string} tag The tag name.\r\n   * @param {string} value The tag value.\r\n   * @throws {Error} If the tag name is not valid.\r\n   */\r\n  setTag(tag, value) {\r\n    tag = fixRIFFTag_(tag);\r\n    /** @type {!Object} */\r\n    let index = this.getTagIndex_(tag);\r\n    if (index.TAG !== null) {\r\n      this.LIST[index.LIST].subChunks[index.TAG].chunkSize =\r\n        value.length + 1;\r\n      this.LIST[index.LIST].subChunks[index.TAG].value = value;\r\n    } else if (index.LIST !== null) {\r\n      this.LIST[index.LIST].subChunks.push({\r\n        chunkId: tag,\r\n        chunkSize: value.length + 1,\r\n        value: value});\r\n    } else {\r\n      this.LIST.push({\r\n        chunkId: 'LIST',\r\n        chunkSize: 8 + value.length + 1,\r\n        format: 'INFO',\r\n        subChunks: []});\r\n      this.LIST[this.LIST.length - 1].subChunks.push({\r\n        chunkId: tag,\r\n        chunkSize: value.length + 1,\r\n        value: value});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove a RIFF tag from the INFO chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {boolean} True if a tag was deleted.\r\n   */\r\n  deleteTag(tag) {\r\n    /** @type {!Object} */\r\n    let index = this.getTagIndex_(tag);\r\n    if (index.TAG !== null) {\r\n      this.LIST[index.LIST].subChunks.splice(index.TAG, 1);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Return a Object<tag, value> with the RIFF tags in the file.\r\n   * @return {!Object<string, string>} The file tags.\r\n   */\r\n  listTags() {\r\n    /** @type {?number} */\r\n    let index = this.getLISTIndex('INFO');\r\n    /** @type {!Object} */\r\n    let tags = {};\r\n    if (index !== null) {\r\n      for (let i = 0, len = this.LIST[index].subChunks.length; i < len; i++) {\r\n        tags[this.LIST[index].subChunks[i].chunkId] =\r\n          this.LIST[index].subChunks[i].value;\r\n      }\r\n    }\r\n    return tags;\r\n  }\r\n\r\n  /**\r\n   * Return the index of a list by its type.\r\n   * @param {string} listType The list type ('adtl', 'INFO')\r\n   * @return {?number}\r\n   * @protected\r\n   */\r\n  getLISTIndex(listType) {\r\n    for (let i = 0, len = this.LIST.length; i < len; i++) {\r\n      if (this.LIST[i].format == listType) {\r\n        return i;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Return the index of a tag in a FILE chunk.\r\n   * @param {string} tag The tag name.\r\n   * @return {!Object<string, ?number>}\r\n   *    Object.LIST is the INFO index in LIST\r\n   *    Object.TAG is the tag index in the INFO\r\n   * @private\r\n   */\r\n  getTagIndex_(tag) {\r\n    /** @type {!Object<string, ?number>} */\r\n    let index = {LIST: null, TAG: null};\r\n    for (let i = 0, len = this.LIST.length; i < len; i++) {\r\n      if (this.LIST[i].format == 'INFO') {\r\n        index.LIST = i;\r\n        for (let j=0, subLen = this.LIST[i].subChunks.length; j < subLen; j++) {\r\n          if (this.LIST[i].subChunks[j].chunkId == tag) {\r\n            index.TAG = j;\r\n            break;\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    return index;\r\n  }\r\n}\r\n\r\n/**\r\n * Fix a RIFF tag format if possible, throw an error otherwise.\r\n * @param {string} tag The tag name.\r\n * @return {string} The tag name in proper fourCC format.\r\n * @private\r\n */\r\nfunction fixRIFFTag_(tag) {\r\n  if (tag.constructor !== String) {\r\n    throw new Error('Invalid tag name.');\r\n  } else if (tag.length < 4) {\r\n    for (let i = 0, len = 4 - tag.length; i < len; i++) {\r\n      tag += ' ';\r\n    }\r\n  }\r\n  return tag;\r\n}\n\nexport { WaveFileTagEditor };\n","import { WaveFileTagEditor } from './wavefile-tag-editor.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to edit meta information in wav files.\r\n * @extends WaveFileTagEditor\r\n * @ignore\r\n */\r\nclass WaveFileCueEditor extends WaveFileTagEditor {\r\n\r\n  /**\r\n   * Return an array with all cue points in the file, in the order they appear\r\n   * in the file.\r\n   * Objects representing cue points/regions look like this:\r\n   *   {\r\n   *     position: 500, // the position in milliseconds\r\n   *     label: 'cue marker 1',\r\n   *     end: 1500, // the end position in milliseconds\r\n   *     dwName: 1,\r\n   *     dwPosition: 0,\r\n   *     fccChunk: 'data',\r\n   *     dwChunkStart: 0,\r\n   *     dwBlockStart: 0,\r\n   *     dwSampleOffset: 22050, // the position as a sample offset\r\n   *     dwSampleLength: 3646827, // length as a sample count, 0 if not a region\r\n   *     dwPurposeID: 544106354,\r\n   *     dwCountry: 0,\r\n   *     dwLanguage: 0,\r\n   *     dwDialect: 0,\r\n   *     dwCodePage: 0,\r\n   *   }\r\n   * @return {!Array<Object>}\r\n   */\r\n  listCuePoints() {\r\n    /** @type {!Array<!Object>} */\r\n    let points = this.getCuePoints_();\r\n    for (let i = 0, len = points.length; i < len; i++) {\r\n\r\n      // Add attrs that should exist in the object\r\n      points[i].position =\r\n        (points[i].dwSampleOffset / this.fmt.sampleRate) * 1000;\r\n\r\n      // If it is a region, calc the end\r\n      // position in milliseconds\r\n      if (points[i].dwSampleLength) {\r\n        points[i].end =\r\n          (points[i].dwSampleLength / this.fmt.sampleRate) * 1000;\r\n        points[i].end += points[i].position;\r\n      // If its not a region, end should be null\r\n      } else {\r\n        points[i].end = null;\r\n      }\r\n\r\n      // Remove attrs that should not go in the results\r\n      delete points[i].value;\r\n    }\r\n    return points;\r\n  }\r\n\r\n  /**\r\n   * Create a cue point in the wave file.\r\n   * @param {!{\r\n   *   position: number,\r\n   *   label: ?string,\r\n   *   end: ?number,\r\n   *   dwPurposeID: ?number,\r\n   *   dwCountry: ?number,\r\n   *   dwLanguage: ?number,\r\n   *   dwDialect: ?number,\r\n   *   dwCodePage: ?number\r\n   * }} pointData A object with the data of the cue point.\r\n   *\r\n   * # Only required attribute to create a cue point:\r\n   * pointData.position: The position of the point in milliseconds\r\n   *\r\n   * # Optional attribute for cue points:\r\n   * pointData.label: A string label for the cue point\r\n   *\r\n   * # Extra data used for regions\r\n   * pointData.end: A number representing the end of the region,\r\n   *   in milliseconds, counting from the start of the file. If\r\n   *   no end attr is specified then no region is created.\r\n   *\r\n   * # You may also specify the following attrs for regions, all optional:\r\n   * pointData.dwPurposeID\r\n   * pointData.dwCountry\r\n   * pointData.dwLanguage\r\n   * pointData.dwDialect\r\n   * pointData.dwCodePage\r\n   */\r\n  setCuePoint(pointData) {\r\n    this.cue.chunkId = 'cue ';\r\n\r\n    // label attr should always exist\r\n    if (!pointData.label) {\r\n      pointData.label = '';\r\n    }\r\n\r\n    /**\r\n     * Load the existing points before erasing\r\n     * the LIST 'adtl' chunk and the cue attr\r\n     * @type {!Array<!Object>}\r\n     */\r\n    let existingPoints = this.getCuePoints_();\r\n\r\n    // Clear any LIST labeled 'adtl'\r\n    // The LIST chunk should be re-written\r\n    // after the new cue point is created\r\n    this.clearLISTadtl_();\r\n\r\n    // Erase this.cue so it can be re-written\r\n    // after the point is added\r\n    this.cue.points = [];\r\n\r\n    /**\r\n     * Cue position param is informed in milliseconds,\r\n     * here its value is converted to the sample offset\r\n     * @type {number}\r\n     */\r\n    pointData.dwSampleOffset =\r\n      (pointData.position * this.fmt.sampleRate) / 1000;\r\n    /**\r\n     * end param is informed in milliseconds, counting\r\n     * from the start of the file.\r\n     * here its value is converted to the sample length\r\n     * of the region.\r\n     * @type {number}\r\n     */\r\n    pointData.dwSampleLength = 0;\r\n    if (pointData.end) {\r\n      pointData.dwSampleLength = \r\n        ((pointData.end * this.fmt.sampleRate) / 1000) -\r\n        pointData.dwSampleOffset;\r\n    }\r\n\r\n    // If there were no cue points in the file,\r\n    // insert the new cue point as the first\r\n    if (existingPoints.length === 0) {\r\n      this.setCuePoint_(pointData, 1);\r\n\r\n    // If the file already had cue points, This new one\r\n    // must be added in the list according to its position.\r\n    } else {\r\n      this.setCuePointInOrder_(existingPoints, pointData);\r\n    }\r\n    this.cue.dwCuePoints = this.cue.points.length;\r\n  }\r\n\r\n  /**\r\n   * Remove a cue point from a wave file.\r\n   * @param {number} index the index of the point. First is 1,\r\n   *    second is 2, and so on.\r\n   */\r\n  deleteCuePoint(index) {\r\n    this.cue.chunkId = 'cue ';\r\n    /** @type {!Array<!Object>} */\r\n    let existingPoints = this.getCuePoints_();\r\n    this.clearLISTadtl_();\r\n    /** @type {number} */\r\n    let len = this.cue.points.length;\r\n    this.cue.points = [];\r\n    for (let i = 0; i < len; i++) {\r\n      if (i + 1 !== index) {\r\n        this.setCuePoint_(existingPoints[i], i + 1);\r\n      }\r\n    }\r\n    this.cue.dwCuePoints = this.cue.points.length;\r\n    if (this.cue.dwCuePoints) {\r\n      this.cue.chunkId = 'cue ';\r\n    } else {\r\n      this.cue.chunkId = '';\r\n      this.clearLISTadtl_();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the label of a cue point.\r\n   * @param {number} pointIndex The ID of the cue point.\r\n   * @param {string} label The new text for the label.\r\n   */\r\n  updateLabel(pointIndex, label) {\r\n    /** @type {?number} */\r\n    let cIndex = this.getLISTIndex('adtl');\r\n    if (cIndex !== null) {\r\n      for (let i = 0, len = this.LIST[cIndex].subChunks.length; i < len; i++) {\r\n        if (this.LIST[cIndex].subChunks[i].dwName ==\r\n            pointIndex) {\r\n          this.LIST[cIndex].subChunks[i].value = label;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array with all cue points in the file, in the order they appear\r\n   * in the file.\r\n   * @return {!Array<!Object>}\r\n   * @private\r\n   */\r\n  getCuePoints_() {\r\n    /** @type {!Array<!Object>} */\r\n    let points = [];\r\n    for (let i = 0; i < this.cue.points.length; i++) {\r\n      /** @type {!Object} */\r\n      let chunk = this.cue.points[i];\r\n      /** @type {!Object} */\r\n      let pointData = this.getDataForCuePoint_(chunk.dwName);\r\n      pointData.label = pointData.value ? pointData.value : '';\r\n      pointData.dwPosition = chunk.dwPosition;\r\n      pointData.fccChunk = chunk.fccChunk;\r\n      pointData.dwChunkStart = chunk.dwChunkStart;\r\n      pointData.dwBlockStart = chunk.dwBlockStart;\r\n      pointData.dwSampleOffset = chunk.dwSampleOffset;\r\n      points.push(pointData);\r\n    }\r\n    return points;\r\n  }\r\n\r\n  /**\r\n   * Return the associated data of a cue point.\r\n   * @param {number} pointDwName The ID of the cue point.\r\n   * @return {!Object}\r\n   * @private\r\n   */\r\n  getDataForCuePoint_(pointDwName) {\r\n    /** @type {?number} */\r\n    let LISTindex = this.getLISTIndex('adtl');\r\n    /** @type {!Object} */\r\n    let pointData = {};\r\n    // If there is a adtl LIST in the file, look for\r\n    // LIST subchunks with data referencing this point\r\n    if (LISTindex !== null) {\r\n      this.getCueDataFromLIST_(pointData, LISTindex, pointDwName);\r\n    }\r\n    return pointData;\r\n  }\r\n\r\n  /**\r\n   * Get all data associated to a cue point in a LIST chunk.\r\n   * @param {!Object} pointData A object to hold the point data.\r\n   * @param {number} index The index of the adtl LIST chunk.\r\n   * @param {number} pointDwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  getCueDataFromLIST_(pointData, index, pointDwName) {\r\n    // got through all chunks in the adtl LIST checking\r\n    // for references to this cue point\r\n    for (let i = 0, len = this.LIST[index].subChunks.length; i < len; i++) {\r\n      if (this.LIST[index].subChunks[i].dwName == pointDwName) {\r\n        /** @type {!Object} */\r\n        let chunk = this.LIST[index].subChunks[i];\r\n        // Some chunks may reference the point but\r\n        // have a empty text; this is to ensure that if\r\n        // one chunk that reference the point has a text,\r\n        // this value will be kept as the associated data label\r\n        // for the cue point.\r\n        // If different values are present, the last value found\r\n        // will be considered the label for the cue point.\r\n        pointData.value = chunk.value || pointData.value;\r\n        pointData.dwName = chunk.dwName || 0;\r\n        pointData.dwSampleLength = chunk.dwSampleLength || 0;\r\n        pointData.dwPurposeID = chunk.dwPurposeID || 0;\r\n        pointData.dwCountry = chunk.dwCountry || 0;\r\n        pointData.dwLanguage = chunk.dwLanguage || 0;\r\n        pointData.dwDialect = chunk.dwDialect || 0;\r\n        pointData.dwCodePage = chunk.dwCodePage || 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Push a new cue point in this.cue.points.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName the dwName of the cue point\r\n   * @private\r\n   */\r\n  setCuePoint_(pointData, dwName) {\r\n    this.cue.points.push({\r\n      dwName: dwName,\r\n      dwPosition: pointData.dwPosition ? pointData.dwPosition : 0,\r\n      fccChunk: pointData.fccChunk ? pointData.fccChunk : 'data',\r\n      dwChunkStart: pointData.dwChunkStart ? pointData.dwChunkStart : 0,\r\n      dwBlockStart: pointData.dwBlockStart ? pointData.dwBlockStart : 0,\r\n      dwSampleOffset: pointData.dwSampleOffset\r\n    });\r\n    this.setLabl_(pointData, dwName);\r\n  }\r\n\r\n  /**\r\n   * Push a new cue point in this.cue.points according to existing cue points.\r\n   * @param {!Array} existingPoints Array with the existing points.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @private\r\n   */\r\n  setCuePointInOrder_(existingPoints, pointData) {\r\n    /** @type {boolean} */\r\n    let hasSet = false;\r\n\r\n    // Iterate over the cue points that existed\r\n    // before this one was added\r\n    for (let i = 0; i < existingPoints.length; i++) {\r\n\r\n      // If the new point is located before this original point\r\n      // and the new point have not been created, create the\r\n      // new point and then the original point\r\n      if (existingPoints[i].dwSampleOffset > \r\n        pointData.dwSampleOffset && !hasSet) {\r\n        // create the new point\r\n        this.setCuePoint_(pointData, i + 1);\r\n\r\n        // create the original point\r\n        this.setCuePoint_(existingPoints[i], i + 2);\r\n        hasSet = true;\r\n\r\n      // Otherwise, re-create the original point\r\n      } else {\r\n        this.setCuePoint_(existingPoints[i], hasSet ? i + 2 : i + 1);\r\n      }\r\n    }\r\n    // If no point was created in the above loop,\r\n    // create the new point as the last one\r\n    if (!hasSet) {\r\n      this.setCuePoint_(pointData, this.cue.points.length + 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear any LIST chunk labeled as 'adtl'.\r\n   * @private\r\n   */\r\n  clearLISTadtl_() {\r\n    for (let i = 0, len = this.LIST.length; i < len; i++) {\r\n      if (this.LIST[i].format == 'adtl') {\r\n        this.LIST.splice(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a new 'labl' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * This method creates a LIST adtl chunk in the file if one\r\n   * is not present.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  setLabl_(pointData, dwName) {\r\n    /**\r\n     * Get the index of the LIST chunk labeled as adtl.\r\n     * A file can have many LIST chunks with unique labels.\r\n     * @type {?number}\r\n     */\r\n    let adtlIndex = this.getLISTIndex('adtl');\r\n    // If there is no adtl LIST, create one\r\n    if (adtlIndex === null) {\r\n      // Include a new item LIST chunk\r\n      this.LIST.push({\r\n        chunkId: 'LIST',\r\n        chunkSize: 4,\r\n        format: 'adtl',\r\n        subChunks: []});\r\n      // Get the index of the new LIST chunk\r\n      adtlIndex = this.LIST.length - 1;\r\n    }\r\n    this.setLabelText_(adtlIndex, pointData, dwName);\r\n    if (pointData.dwSampleLength) {\r\n      this.setLtxtChunk_(adtlIndex, pointData, dwName);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a new 'labl' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * @param {number} adtlIndex The index of the 'adtl' LIST in this.LIST.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  setLabelText_(adtlIndex, pointData, dwName) {\r\n    this.LIST[adtlIndex].subChunks.push({\r\n      chunkId: 'labl',\r\n      chunkSize: 4, // should be 4 + label length in bytes\r\n      dwName: dwName,\r\n      value: pointData.label\r\n    });\r\n    this.LIST[adtlIndex].chunkSize += 12; // should be 4 + label byte length\r\n  }\r\n  /**\r\n   * Create a new 'ltxt' subchunk in a 'LIST' chunk of type 'adtl'.\r\n   * @param {number} adtlIndex The index of the 'adtl' LIST in this.LIST.\r\n   * @param {!Object} pointData A object with data of the cue point.\r\n   * @param {number} dwName The ID of the cue point.\r\n   * @private\r\n   */\r\n  setLtxtChunk_(adtlIndex, pointData, dwName) {\r\n    this.LIST[adtlIndex].subChunks.push({\r\n      chunkId: 'ltxt',\r\n      chunkSize: 20,  // should be 12 + label byte length\r\n      dwName: dwName,\r\n      dwSampleLength: pointData.dwSampleLength,\r\n      dwPurposeID: pointData.dwPurposeID || 0,\r\n      dwCountry: pointData.dwCountry || 0,\r\n      dwLanguage: pointData.dwLanguage || 0,\r\n      dwDialect: pointData.dwDialect || 0,\r\n      dwCodePage: pointData.dwCodePage || 0,\r\n      value: pointData.label // kept for compatibility\r\n    });\r\n    this.LIST[adtlIndex].chunkSize += 28;\r\n  }\r\n}\n\nexport { WaveFileCueEditor };\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright 2012 Spencer Cohen\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview The Interpolator class. Based on Smooth.js by Spencer Cohen.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/osuushi/Smooth.js\r\n */\r\n\r\n/**\r\n * A class to get scaled values out of arrays.\r\n * @extends WaveFileReader\r\n */\r\nclass Interpolator {\r\n  \r\n  /**\r\n   * @param {number} scaleFrom the length of the original array.\r\n   * @param {number} scaleTo The length of the new array.\r\n   * @param {!Object} details The extra configuration, if needed.\r\n   */\r\n  constructor(scaleFrom, scaleTo, details) {\r\n    /**\r\n     * The length of the original array.\r\n     * @type {number}\r\n     */\r\n    this.length_ = scaleFrom;\r\n    /**\r\n     * The scaling factor.\r\n     * @type {number}\r\n     */\r\n    this.scaleFactor_ = (scaleFrom - 1) / scaleTo;\r\n    /**\r\n     * The interpolation function.\r\n     * @type {Function}\r\n     */\r\n    this.interpolate = this.sinc;\r\n    if (details.method === 'point') {\r\n    \tthis.interpolate = this.point;\r\n    } else if(details.method === 'linear') {\r\n    \tthis.interpolate = this.linear;\r\n    } else if(details.method === 'cubic') {\r\n    \tthis.interpolate = this.cubic;\r\n    }\r\n    /**\r\n     * The tanget factor for cubic interpolation.\r\n     * @type {number}\r\n     */\r\n    this.tangentFactor_ = 1 - Math.max(0, Math.min(1, details.tension || 0));\r\n    // Configure the kernel for sinc\r\n    /**\r\n     * The sinc filter size.\r\n     * @type {number}\r\n     */\r\n    this.sincFilterSize_ = details.sincFilterSize || 1;\r\n    /**\r\n     * The sinc kernel.\r\n     * @type {Function}\r\n     */\r\n    this.kernel_ = sincKernel_(details.sincWindow || window_);\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  point(t, samples) {\r\n    return this.getClippedInput_(Math.round(this.scaleFactor_ * t), samples);\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  linear(t, samples) {\r\n    t = this.scaleFactor_ * t;\r\n    /** @type {number} */\r\n    let k = Math.floor(t);\r\n    t -= k;\r\n    return (1 - t) *\r\n    \tthis.getClippedInput_(k, samples) + t *\r\n    \tthis.getClippedInput_(k + 1, samples);\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  cubic(t, samples) {\r\n    t = this.scaleFactor_ * t;\r\n    /** @type {number} */\r\n    let k = Math.floor(t);\r\n    /** @type {Array<number>} */\r\n    let m = [this.getTangent_(k, samples), this.getTangent_(k + 1, samples)];\r\n    /** @type {Array<number>} */\r\n    let p = [this.getClippedInput_(k, samples),\r\n      this.getClippedInput_(k + 1, samples)];\r\n    t -= k;\r\n    /** @type {number} */\r\n    let t2 = t * t;\r\n    /** @type {number} */\r\n    let t3 = t * t2;\r\n    return (2 * t3 - 3 * t2 + 1) *\r\n      p[0] + (t3 - 2 * t2 + t) *\r\n      m[0] + (-2 * t3 + 3 * t2) *\r\n      p[1] + (t3 - t2) * m[1];\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   */\r\n  sinc(t, samples) {\r\n    t = this.scaleFactor_ * t;\r\n    /** @type {number} */\r\n    let k = Math.floor(t);\r\n    /** @type {number} */\r\n    let ref = k - this.sincFilterSize_ + 1;\r\n    /** @type {number} */\r\n    let ref1 = k + this.sincFilterSize_;\r\n    /** @type {number} */\r\n    let sum = 0;\r\n    for (let n = ref; n <= ref1; n++) {\r\n      sum += this.kernel_(t - n) * this.getClippedInput_(n, samples);\r\n    }\r\n    return sum;\r\n  }\r\n\r\n  /**\r\n   * @param {number} k The scaled index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The tangent.\r\n   * @private\r\n   */\r\n  getTangent_(k, samples) {\r\n    return this.tangentFactor_ *\r\n      (this.getClippedInput_(k + 1, samples) -\r\n        this.getClippedInput_(k - 1, samples)) / 2;\r\n  }\r\n\r\n  /**\r\n   * @param {number} t The scaled index to interpolate.\r\n   * @param {Array<number>|TypedArray} samples the original array.\r\n   * @return {number} The interpolated value.\r\n   * @private\r\n   */\r\n  getClippedInput_(t, samples) {\r\n    if ((0 <= t && t < this.length_)) {\r\n      return samples[t];\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * The default window function.\r\n * @param {number} x The sinc signal.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction window_(x) {\r\n  return Math.exp(-x / 2 * x / 2);\r\n}\r\n\r\n/**\r\n * @param {Function} window The window function.\r\n * @return {Function}\r\n * @private\r\n */\r\nfunction sincKernel_(window) {\r\n  return function(x) { return sinc_(x) * window(x); };\r\n}\r\n\r\n/**\r\n * @param {number} x The sinc signal.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction sinc_(x) {\r\n  if (x === 0) {\r\n    return 1;\r\n  }\r\n  return Math.sin(Math.PI * x) / (Math.PI * x);\r\n}\n\nexport { Interpolator };\n","import { Interpolator } from './interpolator.js';\nimport { FIRLPF } from './fir-lpf.js';\nimport { ButterworthLPF } from './butterworth-lpf.js';\n\n/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * Default use of LPF for each resampling method.\r\n * @readonly\r\n * @enum {boolean}\r\n * @private\r\n */\r\nconst DEFAULT_LPF_USE = {\r\n  'point': false,\r\n  'linear': false,\r\n  'cubic': true,\r\n  'sinc': true\r\n};\r\n\r\n/**\r\n * Default LPF order for each type of LPF.\r\n * @readonly\r\n * @enum {number}\r\n * @private\r\n */\r\nconst DEFAULT_LPF_ORDER = {\r\n  'IIR': 16,\r\n  'FIR': 71\r\n};\r\n\r\n/**\r\n * Default LPF class for each type of LPF.\r\n * @readonly\r\n * @enum {!Function}\r\n * @private\r\n */\r\nconst DEFAULT_LPF = {\r\n  'IIR': ButterworthLPF,\r\n  'FIR': FIRLPF\r\n};\r\n\r\n/**\r\n * Change the sample rate of the samples to a new sample rate.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {number} oldSampleRate The original sample rate.\r\n * @param {number} sampleRate The target sample rate.\r\n * @param {Object=} options The extra configuration, if needed.\r\n * @return {!Float64Array} the new samples.\r\n */\r\nfunction resample(samples, oldSampleRate, sampleRate, options=null) {\r\n  options = options || {};\r\n  // Make the new sample container\r\n  /** @type {number} */\r\n  let rate = ((sampleRate - oldSampleRate) / oldSampleRate) + 1;\r\n  /** @type {!Float64Array} */\r\n  let newSamples = new Float64Array(samples.length * (rate));\r\n  // Create the interpolator\r\n  options.method = options.method || 'cubic';\r\n  /** @type {!Object} */\r\n  let interpolator = new Interpolator(\r\n    samples.length,\r\n    newSamples.length,\r\n    {\r\n      method: options.method,\r\n      tension: options.tension || 0,\r\n      sincFilterSize: options.sincFilterSize || 6,\r\n      sincWindow: options.sincWindow || undefined,\r\n      clip: options.clip || 'mirror'\r\n    });\r\n  // Resample + LPF\r\n  if (options.LPF === undefined) {\r\n    options.LPF = DEFAULT_LPF_USE[options.method];\r\n  } \r\n  if (options.LPF) {\r\n    options.LPFType = options.LPFType || 'IIR';\r\n    const LPF = DEFAULT_LPF[options.LPFType];\r\n    // Upsampling\r\n    if (sampleRate > oldSampleRate) {\r\n      /** @type {!Object} */\r\n      let filter = new LPF(\r\n        options.LPForder || DEFAULT_LPF_ORDER[options.LPFType],\r\n        sampleRate,\r\n        (oldSampleRate / 2));\r\n      upsample_(\r\n        samples, newSamples, interpolator, filter);\r\n    // Downsampling\r\n    } else {\r\n      /** @type {!Object} */\r\n      let filter = new LPF(\r\n        options.LPForder || DEFAULT_LPF_ORDER[options.LPFType],\r\n        oldSampleRate,\r\n        sampleRate / 2);\r\n      downsample_(\r\n        samples, newSamples, interpolator, filter);\r\n    }\r\n  // Resample, no LPF\r\n  } else {\r\n    resample_(samples, newSamples, interpolator);\r\n  }\r\n  return newSamples;\r\n}\r\n\r\n/**\r\n * Resample.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @private\r\n */\r\nfunction resample_(samples, newSamples, interpolator) {\r\n  // Resample\r\n  for (let i = 0, len = newSamples.length; i < len; i++) {\r\n    newSamples[i] = interpolator.interpolate(i, samples);\r\n  }\r\n}\r\n\r\n/**\r\n * Upsample with LPF.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @param {Object} filter The LPF object.\r\n * @private\r\n */\r\nfunction upsample_(samples, newSamples, interpolator, filter) {\r\n  // Resample and filter\r\n  for (let i = 0, len = newSamples.length; i < len; i++) {\r\n    newSamples[i] = filter.filter(interpolator.interpolate(i, samples));\r\n  }\r\n  // Reverse filter\r\n  filter.reset();\r\n  for (let i = newSamples.length - 1; i >= 0; i--) {\r\n    newSamples[i]  = filter.filter(newSamples[i]);\r\n  }\r\n}\r\n\r\n/**\r\n * Downsample with LPF.\r\n * @param {!Array<number>|!TypedArray} samples The original samples.\r\n * @param {!Float64Array} newSamples The container for the new samples.\r\n * @param {Object} interpolator The interpolator.\r\n * @param {Object} filter The LPF object.\r\n * @private\r\n */\r\nfunction downsample_(samples, newSamples, interpolator, filter) {\r\n  // Filter\r\n  for (let i = 0, len = samples.length; i < len; i++) {\r\n    samples[i]  = filter.filter(samples[i]);\r\n  }\r\n  // Reverse filter\r\n  filter.reset();\r\n  for (let i = samples.length - 1; i >= 0; i--) {\r\n    samples[i]  = filter.filter(samples[i]);\r\n  }\r\n  // Resample\r\n  resample_(samples, newSamples, interpolator);\r\n}\n\nexport { resample };\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2014 Florian Markert\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview Butterworth LPF. Based on the Butterworth LPF from Fili.js.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/markert/fili.js\r\n */\r\n\r\n/**\r\n * Butterworth LPF.\r\n */\r\nclass ButterworthLPF {\r\n  \r\n  /**\r\n   * @param {number} order The order of the filter.\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} cutOff The cut off frequency.\r\n   */\r\n  constructor(order, sampleRate, cutOff) {\r\n    /** @type {!Array} */\r\n    let filters = [];\r\n    for (let i = 0; i < order; i++) {\r\n      filters.push(this.getCoeffs_({\r\n        Fs: sampleRate,\r\n        Fc: cutOff,\r\n        Q: 0.5 / (Math.sin((Math.PI / (order * 2)) * (i + 0.5)))\r\n      }));\r\n    }\r\n    this.stages = [];\r\n    for (let i = 0; i < filters.length; i++) {\r\n      this.stages[i] = {\r\n        b0 : filters[i].b[0],\r\n        b1 : filters[i].b[1],\r\n        b2 : filters[i].b[2],\r\n        a1 : filters[i].a[0],\r\n        a2 : filters[i].a[1],\r\n        k : filters[i].k,\r\n        z : [0, 0]\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} sample A sample of a sequence.\r\n   * @return {number}\r\n   */\r\n  filter(sample) {\r\n    /** @type {number} */\r\n    let out = sample;\r\n    for (let i = 0, len = this.stages.length; i < len; i++) {\r\n      out = this.runStage_(i, out);\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @param {!Object} params The filter params.\r\n   * @return {!Object}\r\n   */\r\n  getCoeffs_(params) {\r\n    /** @type {!Object} */\r\n    let coeffs = {};\r\n    coeffs.a = [];\r\n    coeffs.b = [];\r\n    /** @type {!Object} */\r\n    let p = this.preCalc_(params, coeffs);\r\n    coeffs.k = 1;\r\n    coeffs.b.push((1 - p.cw) / (2 * p.a0));\r\n    coeffs.b.push(2 * coeffs.b[0]);\r\n    coeffs.b.push(coeffs.b[0]);\r\n    return coeffs;\r\n  }\r\n\r\n  /**\r\n   * @param {!Object} params The filter params.\r\n   * @param {!Object} coeffs The coefficients template.\r\n   * @return {!Object}\r\n   */\r\n  preCalc_(params, coeffs) {\r\n    /** @type {!Object} */\r\n    let pre = {};\r\n    /** @type {number} */\r\n    let w = 2 * Math.PI * params.Fc / params.Fs;\r\n    pre.alpha = Math.sin(w) / (2 * params.Q);\r\n    pre.cw = Math.cos(w);\r\n    pre.a0 = 1 + pre.alpha;\r\n    coeffs.a0 = pre.a0;\r\n    coeffs.a.push((-2 * pre.cw) / pre.a0);\r\n    coeffs.k = 1;\r\n    coeffs.a.push((1 - pre.alpha) / pre.a0);\r\n    return pre;\r\n  }\r\n  \r\n  /**\r\n   * @param {number} i The stage index.\r\n   * @param {number} sample The sample.\r\n   * @return {number}\r\n   */\r\n  runStage_(i, sample) {\r\n    /** @type {number} */\r\n    let temp = sample * this.stages[i].k - this.stages[i].a1 *\r\n      this.stages[i].z[0] - this.stages[i].a2 * this.stages[i].z[1];\r\n    /** @type {number} */\r\n    let out = this.stages[i].b0 * temp + this.stages[i].b1 *\r\n      this.stages[i].z[0] + this.stages[i].b2 * this.stages[i].z[1];\r\n    this.stages[i].z[1] = this.stages[i].z[0];\r\n    this.stages[i].z[0] = temp;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Reset the filter.\r\n   */\r\n  reset() {\r\n    for (let i = 0; i < this.stages.length; i++) {\r\n      this.stages[i].z = [0, 0];\r\n    }\r\n  }\r\n}\n\nexport { ButterworthLPF };\n","/*\r\n * Copyright (c) 2019 Rafael da Silva Rocha.\r\n * Copyright (c) 2014 Florian Markert\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n/**\r\n * @fileoverview FIR LPF. Based on the FIR LPF from Fili by Florian Markert.\r\n * @see https://github.com/rochars/wavefile\r\n * @see https://github.com/markert/fili.js\r\n */\r\n\r\n/**\r\n * A FIR low pass filter.\r\n */\r\nclass FIRLPF {\r\n  \r\n  /**\r\n   * @param {number} order The order of the filter.\r\n   * @param {number} sampleRate The sample rate.\r\n   * @param {number} cutOff The cut off frequency.\r\n   */\r\n  constructor(order, sampleRate, cutOff) {\r\n    /** @type {number} */\r\n    let omega = 2 * Math.PI * cutOff / sampleRate;\r\n    /** @type {number} */\r\n    let dc = 0;\r\n    this.filters = [];\r\n    for (let i = 0; i <= order; i++) {\r\n      if (i - order / 2 === 0) {\r\n        this.filters[i] = omega;\r\n      } else {\r\n        this.filters[i] = Math.sin(omega * (i - order / 2)) / (i - order / 2);\r\n        // Hamming window\r\n        this.filters[i] *= (0.54 - 0.46 * Math.cos(2 * Math.PI * i / order));\r\n      }\r\n      dc = dc + this.filters[i];\r\n    }\r\n    // normalize\r\n    for (let i = 0; i <= order; i++) {\r\n      this.filters[i] /= dc;\r\n    }\r\n    this.z = this.initZ_();\r\n  }\r\n\r\n  /**\r\n   * @param {number} sample A sample of a sequence.\r\n   * @return {number}\r\n   */\r\n  filter(sample) {\r\n    this.z.buf[this.z.pointer] = sample;\r\n    /** @type {number} */\r\n    let out = 0;\r\n    for (let i = 0, len = this.z.buf.length; i < len; i++) {\r\n      out += (\r\n        this.filters[i] * this.z.buf[(this.z.pointer + i) % this.z.buf.length]);\r\n    }\r\n    this.z.pointer = (this.z.pointer + 1) % (this.z.buf.length);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Reset the filter.\r\n   */\r\n  reset() {\r\n    this.z = this.initZ_();\r\n  }\r\n\r\n  /**\r\n   * Return the default value for z.\r\n   * @private\r\n   */\r\n  initZ_() {\r\n    /** @type {!Array} */\r\n    let r = [];\r\n    for (let i = 0; i < this.filters.length - 1; i++) {\r\n      r.push(0);\r\n    }\r\n    return {\r\n      buf: r,\r\n      pointer: 0\r\n    };\r\n  }\r\n}\n\nexport { FIRLPF };\n","import { changeBitDepth } from './codecs/bitdepth.js';\nimport { encode, decode } from './codecs/imaadpcm.js';\nimport { encode as encode$1, decode as decode$1 } from './codecs/alaw.js';\nimport { encode as encode$2, decode as decode$2 } from './codecs/mulaw.js';\nimport { unpackArrayTo } from './parsers/binary/index.js';\nimport { WaveFileCueEditor } from './wavefile-cue-editor.js';\nimport { validateSampleRate } from './validators/validate-sample-rate.js';\nimport { resample } from './resampler/index.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to convert wav files to other types of wav files.\r\n * @extends WaveFileCueEditor\r\n * @ignore\r\n */\r\nclass WaveFileConverter extends WaveFileCueEditor {\r\n\r\n  /**\r\n   * Force a file as RIFF.\r\n   */\r\n  toRIFF() {\r\n    /** @type {!Float64Array} */\r\n    let output = new Float64Array(\r\n      outputSize_(this.data.samples.length, this.dataType.bits / 8));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n      0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      this.bitDepth,\r\n      output,\r\n      {container: 'RIFF'});\r\n  }\r\n\r\n  /**\r\n   * Force a file as RIFX.\r\n   */\r\n  toRIFX() {\r\n    /** @type {!Float64Array} */\r\n    let output = new Float64Array(\r\n      outputSize_(this.data.samples.length, this.dataType.bits / 8));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n      0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      this.bitDepth,\r\n      output,\r\n      {container: 'RIFX'});\r\n  }\r\n\r\n  /**\r\n   * Encode a 16-bit wave file as 4-bit IMA ADPCM.\r\n   * @throws {Error} If sample rate is not 8000.\r\n   * @throws {Error} If number of channels is not 1.\r\n   */\r\n  toIMAADPCM() {\r\n    if (this.fmt.sampleRate !== 8000) {\r\n      throw new Error(\r\n        'Only 8000 Hz files can be compressed as IMA-ADPCM.');\r\n    } else if (this.fmt.numChannels !== 1) {\r\n      throw new Error(\r\n        'Only mono files can be compressed as IMA-ADPCM.');\r\n    } else {\r\n      this.assure16Bit_();\r\n      /** @type {!Int16Array} */\r\n      let output = new Int16Array(\r\n        outputSize_(this.data.samples.length, 2));\r\n      unpackArrayTo(this.data.samples, this.dataType, output,\r\n        0, this.data.samples.length);\r\n      this.fromExisting_(\r\n        this.fmt.numChannels,\r\n        this.fmt.sampleRate,\r\n        '4',\r\n        encode(output),\r\n        {container: this.correctContainer_()});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Decode a 4-bit IMA ADPCM wave file as a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */\r\n  fromIMAADPCM(bitDepthCode='16') {\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '16',\r\n      decode(this.data.samples, this.fmt.blockAlign),\r\n      {container: this.correctContainer_()});\r\n    if (bitDepthCode != '16') {\r\n      this.toBitDepth(bitDepthCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Encode a 16-bit wave file as 8-bit A-Law.\r\n   */\r\n  toALaw() {\r\n    this.assure16Bit_();\r\n    /** @type {!Int16Array} */\r\n    let output = new Int16Array(\r\n      outputSize_(this.data.samples.length, 2));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n        0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '8a',\r\n      encode$1(output),\r\n      {container: this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Decode a 8-bit A-Law wave file into a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */\r\n  fromALaw(bitDepthCode='16') {\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '16',\r\n      decode$1(this.data.samples),\r\n      {container: this.correctContainer_()});\r\n    if (bitDepthCode != '16') {\r\n      this.toBitDepth(bitDepthCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Encode 16-bit wave file as 8-bit mu-Law.\r\n   */\r\n  toMuLaw() {\r\n    this.assure16Bit_();\r\n    /** @type {!Int16Array} */\r\n    let output = new Int16Array(\r\n      outputSize_(this.data.samples.length, 2));\r\n    unpackArrayTo(this.data.samples, this.dataType, output,\r\n        0, this.data.samples.length);\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '8m',\r\n      encode$2(output),\r\n      {container: this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Decode a 8-bit mu-Law wave file into a 16-bit wave file.\r\n   * @param {string=} [bitDepthCode='16'] The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats).\r\n   */\r\n  fromMuLaw(bitDepthCode='16') {\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      '16',\r\n      decode$2(this.data.samples),\r\n      {container: this.correctContainer_()});\r\n    if (bitDepthCode != '16') {\r\n      this.toBitDepth(bitDepthCode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change the bit depth of the samples.\r\n   * @param {string} newBitDepth The new bit depth of the samples.\r\n   *    One of '8' ... '32' (integers), '32f' or '64' (floats)\r\n   * @param {boolean=} [changeResolution=true] A boolean indicating if the\r\n   *    resolution of samples should be actually changed or not.\r\n   * @throws {Error} If the bit depth is not valid.\r\n   */\r\n  toBitDepth(newBitDepth, changeResolution=true) {\r\n    /** @type {string} */\r\n    let toBitDepth = newBitDepth;\r\n    /** @type {string} */\r\n    let thisBitDepth = this.bitDepth;\r\n    if (!changeResolution) {\r\n      if (newBitDepth != '32f') {\r\n        toBitDepth = this.dataType.bits.toString();\r\n      }\r\n      thisBitDepth = '' + this.dataType.bits;\r\n    }\r\n    // If the file is compressed, make it\r\n    // PCM before changing the bit depth\r\n    this.assureUncompressed_();\r\n    /**\r\n     * The original samples, interleaved.\r\n     * @type {!(Array|TypedArray)}\r\n     */\r\n    let samples = this.getSamples(true);\r\n    /**\r\n     * The container for the new samples.\r\n     * @type {!Float64Array}\r\n     */\r\n    let newSamples = new Float64Array(samples.length);\r\n    // Change the bit depth\r\n    changeBitDepth(samples, thisBitDepth, newSamples, toBitDepth);\r\n    // Re-create the file\r\n    this.fromExisting_(\r\n      this.fmt.numChannels,\r\n      this.fmt.sampleRate,\r\n      newBitDepth,\r\n      newSamples,\r\n      {container: this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Convert the sample rate of the file.\r\n   * @param {number} sampleRate The target sample rate.\r\n   * @param {Object=} options The extra configuration, if needed.\r\n   */\r\n  toSampleRate(sampleRate, options) {\r\n    this.validateResample_(sampleRate);\r\n    /** @type {!(Array|TypedArray)} */\r\n    let samples = this.getSamples();\r\n    /** @type {!(Array|Float64Array)} */\r\n    let newSamples = [];\r\n    // Mono files\r\n    if (samples.constructor === Float64Array) {\r\n      newSamples = resample(samples, this.fmt.sampleRate, sampleRate, options);\r\n    // Multi-channel files\r\n    } else {\r\n      for (let i = 0; i < samples.length; i++) {\r\n        newSamples.push(resample(\r\n          samples[i], this.fmt.sampleRate, sampleRate, options));\r\n      }\r\n    }\r\n    // Recreate the file\r\n    this.fromExisting_(\r\n      this.fmt.numChannels, sampleRate, this.bitDepth, newSamples,\r\n      {'container': this.correctContainer_()});\r\n  }\r\n\r\n  /**\r\n   * Validate the conditions for resampling.\r\n   * @param {number} sampleRate The target sample rate.\r\n   * @throws {Error} If the file cant be resampled.\r\n   * @private\r\n   */\r\n  validateResample_(sampleRate) {\r\n    if (!validateSampleRate(\r\n        this.fmt.numChannels, this.fmt.bitsPerSample, sampleRate)) {\r\n      throw new Error('Invalid sample rate.');\r\n    } else if (['4','8a','8m'].indexOf(this.bitDepth) > -1) {\r\n      throw new Error(\r\n        'wavefile can\\'t change the sample rate of compressed files.');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Make the file 16-bit if it is not.\r\n   * @private\r\n   */\r\n  assure16Bit_() {\r\n    this.assureUncompressed_();\r\n    if (this.bitDepth != '16') {\r\n      this.toBitDepth('16');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Uncompress the samples in case of a compressed file.\r\n   * @private\r\n   */\r\n  assureUncompressed_() {\r\n    if (this.bitDepth == '8a') {\r\n      this.fromALaw();\r\n    } else if (this.bitDepth == '8m') {\r\n      this.fromMuLaw();\r\n    } else if (this.bitDepth == '4') {\r\n      this.fromIMAADPCM();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return 'RIFF' if the container is 'RF64', the current container name\r\n   * otherwise. Used to enforce 'RIFF' when RF64 is not allowed.\r\n   * @return {string}\r\n   * @private\r\n   */\r\n  correctContainer_() {\r\n    return this.container == 'RF64' ? 'RIFF' : this.container;\r\n  }\r\n\r\n  /**\r\n   * Set up the WaveFileCreator object based on the arguments passed.\r\n   * This method only reset the fmt , fact, ds64 and data chunks.\r\n   * @param {number} numChannels The number of channels\r\n   *    (Integer numbers: 1 for mono, 2 stereo and so on).\r\n   * @param {number} sampleRate The sample rate.\r\n   *    Integer numbers like 8000, 44100, 48000, 96000, 192000.\r\n   * @param {string} bitDepthCode The audio bit depth code.\r\n   *    One of '4', '8', '8a', '8m', '16', '24', '32', '32f', '64'\r\n   *    or any value between '8' and '32' (like '12').\r\n   * @param {!(Array|TypedArray)} samples\r\n   *    The samples. Must be in the correct range according to the bit depth.\r\n   * @param {Object} options Used to define the container. Uses RIFF by default.\r\n   * @throws {Error} If any argument does not meet the criteria.\r\n   * @private\r\n   */\r\n  fromExisting_(numChannels, sampleRate, bitDepthCode, samples, options) {\r\n    /** @type {!Object} */\r\n    let tmpWav = new WaveFileCueEditor();\r\n    Object.assign(this.fmt, tmpWav.fmt);\r\n    Object.assign(this.fact, tmpWav.fact);\r\n    Object.assign(this.ds64, tmpWav.ds64);\r\n    Object.assign(this.data, tmpWav.data);\r\n    this.newWavFile_(numChannels, sampleRate, bitDepthCode, samples, options);\r\n  }\r\n}\r\n\r\n/**\r\n * Return the size in bytes of the output sample array when applying\r\n * compression to 16-bit samples.\r\n * @return {number}\r\n * @private\r\n */\r\nfunction outputSize_(byteLen, byteOffset) {\r\n  /** @type {number} */\r\n  let outputSize = byteLen / byteOffset;\r\n  if (outputSize % 2) {\r\n    outputSize++;\r\n  }\r\n  return outputSize;\r\n}\n\nexport { WaveFileConverter };\n","import { decode, encode } from './lib/parsers/base64-arraybuffer.js';\nimport { WaveFileConverter } from './lib/wavefile-converter.js';\n\n/*\r\n * Copyright (c) 2017-2019 Rafael da Silva Rocha.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining\r\n * a copy of this software and associated documentation files (the\r\n * \"Software\"), to deal in the Software without restriction, including\r\n * without limitation the rights to use, copy, modify, merge, publish,\r\n * distribute, sublicense, and/or sell copies of the Software, and to\r\n * permit persons to whom the Software is furnished to do so, subject to\r\n * the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n */\r\n\r\n\r\n/**\r\n * A class to manipulate wav files.\r\n * @extends WaveFileConverter\r\n */\r\nclass WaveFile extends WaveFileConverter {\r\n\r\n  /**\r\n   * @param {Uint8Array=} wav A wave file buffer.\r\n   * @throws {Error} If container is not RIFF, RIFX or RF64.\r\n   * @throws {Error} If format is not WAVE.\r\n   * @throws {Error} If no 'fmt ' chunk is found.\r\n   * @throws {Error} If no 'data' chunk is found.\r\n   */\r\n  constructor(wav) {\r\n    super();\r\n    if (wav) {\r\n      this.fromBuffer(wav);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Use a .wav file encoded as a base64 string to load the WaveFile object.\r\n   * @param {string} base64String A .wav file as a base64 string.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  fromBase64(base64String) {\r\n    this.fromBuffer(decode(base64String));\r\n  }\r\n\r\n  /**\r\n   * Return a base64 string representig the WaveFile object as a .wav file.\r\n   * @return {string} A .wav file as a base64 string.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  toBase64() {\r\n    return encode(this.toBuffer());\r\n  }\r\n\r\n  /**\r\n   * Return a DataURI string representig the WaveFile object as a .wav file.\r\n   * The return of this method can be used to load the audio in browsers.\r\n   * @return {string} A .wav file as a DataURI.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  toDataURI() {\r\n    return 'data:audio/wav;base64,' + this.toBase64();\r\n  }\r\n\r\n  /**\r\n   * Use a .wav file encoded as a DataURI to load the WaveFile object.\r\n   * @param {string} dataURI A .wav file as DataURI.\r\n   * @throws {Error} If any property of the object appears invalid.\r\n   */\r\n  fromDataURI(dataURI) {\r\n    this.fromBase64(dataURI.replace('data:audio/wav;base64,', ''));\r\n  }\r\n}\n\nexport { WaveFile };\n","import '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { createEngine as createEngine$1 } from '../../../WebPd_compiler/dist/src/engine-assemblyscript/run/index.js';\nimport { createEngine as createEngine$2 } from '../../../WebPd_compiler/dist/src/engine-javascript/run/index.js';\nimport { getFloatArrayType } from '../../../WebPd_compiler/dist/src/run/run-helpers.js';\nimport { WaveFile } from '../../node_modules/wavefile/index.js';\nimport { getArtefact } from './helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst renderWav = async (durationSeconds, artefacts, audioSettings) => {\n    let target = 'assemblyscript';\n    if (!artefacts.wasm && !artefacts.javascript) {\n        throw new Error(`Need compiled wasm or compiled js to render wav`);\n    }\n    if (!artefacts.wasm) {\n        target = 'javascript';\n    }\n    const engine = await createEngine(artefacts, target);\n    const audioData = await renderAudioData(engine, durationSeconds, audioSettings);\n    return audioDataToWav(audioData, audioSettings.sampleRate);\n};\nconst audioDataToWav = (audioData, sampleRate) => {\n    const channelCount = audioData.length;\n    let wav = new WaveFile();\n    wav.fromScratch(channelCount, sampleRate, '32f', audioData.map((channelData) => channelData.map((v) => v)));\n    return wav.toBuffer();\n};\nconst createEngine = async (artefacts, target) => {\n    switch (target) {\n        case 'javascript':\n            return createEngine$2(getArtefact(artefacts, 'javascript'));\n        case 'assemblyscript':\n            return createEngine$1(getArtefact(artefacts, 'wasm'));\n    }\n};\nconst renderAudioData = (engine, durationSeconds, audioSettings) => {\n    const { channelCount, sampleRate, blockSize } = audioSettings;\n    const durationSamples = Math.round(durationSeconds * sampleRate);\n    const blockInput = _makeBlock('in', audioSettings);\n    const blockOutput = _makeBlock('out', audioSettings);\n    const output = _makeBlock('out', audioSettings, durationSamples);\n    engine.configure(sampleRate, blockSize);\n    let frame = 0;\n    while (frame < durationSamples) {\n        engine.loop(blockInput, blockOutput);\n        for (let channel = 0; channel < channelCount.out; channel++) {\n            output[channel].set(blockOutput[channel].slice(0, Math.min(blockSize, durationSamples - frame)), frame);\n        }\n        frame += blockSize;\n    }\n    return output;\n};\nconst _makeBlock = (inOrOut, audioSettings, blockSize) => {\n    const { channelCount, blockSize: defaultBlockSize, bitDepth, } = audioSettings;\n    if (blockSize === undefined) {\n        blockSize = defaultBlockSize;\n    }\n    const floatArrayType = getFloatArrayType(bitDepth);\n    const block = [];\n    for (let channel = 0; channel < channelCount[inOrOut]; channel++) {\n        block.push(new floatArrayType(Math.round(blockSize)));\n    }\n    return block;\n};\n\nexport { renderWav };\n","const BUILD_FORMATS = {\n    pd: {\n        extensions: ['.pd'],\n        description: 'Pure Data text',\n    },\n    pdJson: {\n        extensions: ['.pd.json'],\n        description: 'Pure Data JSON',\n    },\n    dspGraph: {\n        extensions: ['.dsp-graph.json'],\n        description: 'WebPd DSP graph',\n    },\n    javascript: {\n        extensions: ['.js'],\n        description: 'JavaScript WebPd module',\n    },\n    assemblyscript: {\n        extensions: ['.as'],\n        description: 'AssemblyScript DSP code',\n    },\n    wasm: {\n        extensions: ['.wasm'],\n        description: 'Web Assembly WebPd module',\n    },\n    wav: {\n        extensions: ['.wav'],\n        description: 'An audio preview of your patch',\n    },\n    app: {\n        extensions: [],\n        description: 'Complete web app embedding your compiled WebPd patch',\n    },\n};\nconst BUILD_TREE = [\n    'pd',\n    'pdJson',\n    'dspGraph',\n    [\n        ['javascript', 'wav'],\n        ['assemblyscript', 'wasm', 'wav'],\n        ['assemblyscript', 'wasm', 'app'],\n        ['javascript', 'app'],\n    ],\n];\nconst guessFormat = (filepath) => {\n    const formats = Object.entries(BUILD_FORMATS).filter(([_, specs]) => {\n        if (specs.extensions.some((extension) => filepath.endsWith(extension))) {\n            return true;\n        }\n        return false;\n    });\n    if (formats.length === 0) {\n        return null;\n    }\n    return formats[0][0];\n};\nconst listBuildSteps = (inFormat, outFormat, intermediateStep) => {\n    let paths = _findBuildPaths(BUILD_TREE, outFormat, [])\n        .filter((path) => path.includes(inFormat))\n        .map((path) => path.slice(path.indexOf(inFormat) + 1));\n    if (intermediateStep && intermediateStep !== inFormat) {\n        paths = paths.filter((path) => path.includes(intermediateStep));\n    }\n    if (paths.length === 0) {\n        return null;\n    }\n    return paths[0];\n};\nconst listOutputFormats = (inFormat) => new Set(_traverseBuildTree(BUILD_TREE, [])\n    .filter((path) => path.includes(inFormat))\n    .map((path) => path.slice(path.indexOf(inFormat) + 1))\n    .flat());\nconst _findBuildPaths = (branch, target, parentPath) => {\n    let path = [...parentPath];\n    return branch.flatMap((node) => {\n        if (Array.isArray(node)) {\n            return _findBuildPaths(node, target, path);\n        }\n        path = [...path, node];\n        if (node === target) {\n            return [path];\n        }\n        return [];\n    });\n};\nconst _traverseBuildTree = (branch, parentPath) => {\n    let path = [...parentPath];\n    return branch.flatMap((node, i) => {\n        if (Array.isArray(node)) {\n            return _traverseBuildTree(node, path);\n        }\n        path = [...path, node];\n        if (i === branch.length - 1) {\n            return [path];\n        }\n        return [];\n    });\n};\n\nexport { BUILD_FORMATS, BUILD_TREE, _findBuildPaths, _traverseBuildTree, guessFormat, listBuildSteps, listOutputFormats };\n","import { mapArray } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertNumber } from '../validation.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : set message not supported\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode, patch) => {\n        let channelMapping;\n        if (pdNode.args.length) {\n            // Channels are provided as 1-indexed, so we translate them back to 0-indexed.\n            channelMapping = pdNode.args.map((channel) => assertNumber(channel) - 1);\n        }\n        else {\n            // If no channel is provided, since a patch doesn't contain the channel count info,\n            // we just guess the `channelMapping` according to inlets that are defined on the dac.\n            const dacInletIds = new Set();\n            patch.connections.forEach((connection) => {\n                if (connection.sink.nodeId === pdNode.id) {\n                    dacInletIds.add(connection.sink.portletId);\n                }\n            });\n            const maxInlet = Math.max(...dacInletIds);\n            channelMapping = [];\n            for (let channel = 0; channel <= maxInlet; channel++) {\n                channelMapping.push(channel);\n            }\n        }\n        return { channelMapping };\n    },\n    build: (nodeArgs) => ({\n        inlets: mapArray(nodeArgs.channelMapping, (_, i) => [`${i}`, { type: 'signal', id: `${i}` }]),\n        outlets: {},\n        isPullingSignal: true,\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst nodeImplementation = {\n    loop: ({ ins, globs, node, compilation: { settings: { audio }, target }, }) => Sequence([\n        node.args.channelMapping\n            // Save the original index\n            .map((destination, i) => [destination, i])\n            // Ignore channels that are out of bounds\n            .filter(([destination]) => 0 <= destination && destination < audio.channelCount.out)\n            .map(([destination, i]) => target === 'javascript'\n            ? `${globs.output}[${destination}][${globs.iterFrame}] = ${ins[`${i}`]}`\n            : `${globs.output}[${globs.iterFrame} + ${globs.blockSize} * ${destination}] = ${ins[`${i}`]}`)\n    ])\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertNumber } from '../validation.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : set message not supported\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode, patch) => {\n        let channelMapping;\n        if (pdNode.args.length) {\n            // Channels are provided as 1-indexed, so we translate them back to 0-indexed.\n            channelMapping = pdNode.args.map((channel) => assertNumber(channel) - 1);\n        }\n        else {\n            // If no channel is provided, since a patch doesn't contain the channel count info,\n            // we just guess the `channelMapping` according to inlets that are defined on the dac.\n            const adcOutletIds = new Set();\n            patch.connections.forEach((connection) => {\n                if (connection.source.nodeId === pdNode.id) {\n                    adcOutletIds.add(connection.source.portletId);\n                }\n            });\n            const maxOutlet = Math.max(...adcOutletIds);\n            channelMapping = [];\n            for (let channel = 0; channel <= maxOutlet; channel++) {\n                channelMapping.push(channel);\n            }\n        }\n        return { channelMapping };\n    },\n    build: (nodeArgs) => ({\n        inlets: {},\n        outlets: mapArray(nodeArgs.channelMapping, (_, i) => [`${i}`, { type: 'signal', id: `${i}` }]),\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst nodeImplementation = {\n    loop: ({ outs, globs, node, compilation: { settings: { audio }, target }, }) => Sequence([\n        node.args.channelMapping\n            // Save the original index \n            .map((source, i) => [source, i])\n            // Ignore channels that are out of bounds\n            .filter(([source]) => 0 <= source && source < audio.channelCount.in)\n            .map(([source, i]) => target === 'javascript'\n            ? `${outs[`${i}`]} = ${globs.input}[${source}][${globs.iterFrame}]`\n            : `${outs[`${i}`]} = ${globs.input}[${globs.iterFrame} + ${globs.blockSize} * ${source}]`)\n    ])\n};\n\nexport { builder, nodeImplementation };\n","import { bangUtils } from '../global-code/core.js';\nimport { AnonFunc, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ globs, snds }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) { \n            ${snds.$0}(msg_floats([${globs.sampleRate}])) \n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    dependencies: [bangUtils]\n};\n\nexport { builder, nodeImplementation };\n","import { Sequence, Class, Var, Func, ast, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        frequency: assertOptionalNumber(pdNode.args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId, { frequency }) => {\n        if (inletId === '0') {\n            return { initialSignalValue: frequency };\n        }\n        return undefined;\n    },\n};\nconst makeNodeImplementation = ({ name, coeff, generateOperation, }) => {\n    // ------------------------------ generateDeclarations ------------------------------ //\n    const variableNames = generateVariableNamesNodeType(name, [\n        'setPhase'\n    ]);\n    const nodeCore = () => Sequence([\n        Class(variableNames.stateClass, [\n            Var('Float', 'phase'),\n            Var('Float', 'J'),\n        ]),\n        Func(variableNames.setPhase, [\n            Var(variableNames.stateClass, 'state'),\n            Var('Float', 'phase'),\n        ], 'void') `\n            state.phase = phase % 1.0${coeff ? ` * ${coeff}` : ''}\n        `\n    ]);\n    const initialization = ({ globs, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                phase: 0,\n                J: 0,\n            }`)}\n            \n            commons_waitEngineConfigure(() => {\n                ${state}.J = ${coeff ? `${coeff}` : '1'} / ${globs.sampleRate}\n            })\n        `;\n    // ------------------------------- loop ------------------------------ //\n    const loop = ({ ins, state, outs }) => ast `\n        ${outs.$0} = ${generateOperation(`${state}.phase`)}\n        ${state}.phase += (${state}.J * ${ins.$0})\n    `;\n    // ------------------------------- messageReceivers ------------------------------ //\n    const messageReceivers = ({ globs, state }) => ({\n        '1': coldFloatInletWithSetter(variableNames.setPhase, state),\n    });\n    return {\n        initialization: initialization,\n        messageReceivers: messageReceivers,\n        loop: loop,\n        dependencies: [\n            commonsWaitEngineConfigure,\n            nodeCore\n        ]\n    };\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementations = {\n    'osc~': makeNodeImplementation({\n        name: 'osc_t',\n        coeff: '2 * Math.PI',\n        generateOperation: (phase) => `Math.cos(${phase})`\n    }),\n    'phasor~': makeNodeImplementation({\n        name: 'phasor_t',\n        generateOperation: (phase) => `${phase} % 1`\n    }),\n};\nconst builders = {\n    'osc~': builder,\n    'phasor~': builder,\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInlet } from '../standard-message-receivers.js';\nimport { ast, ConstVar, Sequence, Class, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        minValue: assertOptionalNumber(args[0]) || 0,\n        maxValue: assertOptionalNumber(args[1]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'message', id: '1' },\n            '2': { type: 'message', id: '2' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    })\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('clip_t');\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                minValue: ${args.minValue},\n                maxValue: ${args.maxValue},\n            }`)}\n        `,\n    inlineLoop: ({ ins, state }) => ast `Math.max(Math.min(${state}.maxValue, ${ins.$0}), ${state}.minValue)`,\n    messageReceivers: ({ state }) => ({\n        '1': coldFloatInlet(`${state}.minValue`),\n        '2': coldFloatInlet(`${state}.maxValue`),\n    }),\n    dependencies: [\n        () => Sequence([\n            Class(variableNames.stateClass, [\n                Var('Float', 'minValue'),\n                Var('Float', 'maxValue'),\n            ]),\n        ])\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '0_message': { type: 'message', id: '0_message' },\n            '1': { type: 'signal', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('samphold_t');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'signalMemory'),\n        Var('Float', 'controlMemory'),\n    ]),\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            signalMemory: 0,\n            controlMemory: 0,\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ ins, outs, state }) => ast `\n    ${state}.signalMemory = ${outs.$0} = ${ins.$1} < ${state}.controlMemory ? ${ins.$0}: ${state}.signalMemory\n    ${state}.controlMemory = ${ins.$1}\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state, globs }) => ({\n    '0_message': AnonFunc([Var('Message', 'm')], 'void') `\n        if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n            && msg_readStringToken(m, 0) === 'set'\n        ) {\n            ${state}.signalMemory = msg_readFloatToken(m, 1)\n            return\n\n        } else if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n            && msg_readStringToken(m, 0) === 'reset'\n        ) {\n            ${state}.controlMemory = msg_readFloatToken(m, 1)\n            return\n\n        } else if (\n            msg_isMatching(m, [MSG_STRING_TOKEN])\n            && msg_readStringToken(m, 0) === 'reset'\n        ) {\n            ${state}.controlMemory = 1e20\n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    loop: loop,\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { bangUtils } from '../global-code/core.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '0_message': { type: 'message', id: '0_message' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        isPullingSignal: true,\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('snapshot_t');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'currentValue')\n    ]),\n]);\nconst initialization = ({ state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            currentValue: 0\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ ins, state }) => ast `\n    ${state}.currentValue = ${ins.$0}\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state, snds }) => ({\n    '0_message': AnonFunc([Var('Message', 'm')], 'void') `\n        if (msg_isBang(m)) {\n            ${snds.$0}(msg_floats([${state}.currentValue]))\n            return \n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    loop: loop,\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        bangUtils,\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { interpolateLin } from './points.js';\nimport { Sequence, Class, Var, Func, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\nconst linesUtils = {\n    codeGenerator: () => Sequence([\n        Class('LineSegment', [\n            Var('Point', 'p0'),\n            Var('Point', 'p1'),\n            Var('Float', 'dx'),\n            Var('Float', 'dy'),\n        ]),\n        Func('computeSlope', [Var('Point', 'p0'), Var('Point', 'p1')], 'Float') `\n            return p1.x !== p0.x ? (p1.y - p0.y) / (p1.x - p0.x) : 0\n        `,\n        Func('removePointsBeforeFrame', [Var('Array<Point>', 'points'), Var('Float', 'frame')], 'Array<Point>') `\n            ${ConstVar('Array<Point>', 'newPoints', '[]')}\n            ${Var('Int', 'i', '0')}\n            while (i < points.length) {\n                if (frame <= points[i].x) {\n                    newPoints.push(points[i])\n                }\n                i++\n            }\n            return newPoints\n        `,\n        Func('insertNewLinePoints', [Var('Array<Point>', 'points'), Var('Point', 'p0'), Var('Point', 'p1')], 'Array<Point>') `\n            ${ConstVar('Array<Point>', 'newPoints', '[]')}\n            ${Var('Int', 'i', '0')}\n            \n            // Keep the points that are before the new points added\n            while (i < points.length && points[i].x <= p0.x) {\n                newPoints.push(points[i])\n                i++\n            }\n            \n            // Find the start value of the start point :\n            \n            // 1. If there is a previous point and that previous point\n            // is on the same frame, we don't modify the start point value.\n            // (represents a vertical line).\n            if (0 < i - 1 && points[i - 1].x === p0.x) {\n\n            // 2. If new points are inserted in between already existing points \n            // we need to interpolate the existing line to find the startValue.\n            } else if (0 < i && i < points.length) {\n                newPoints.push({\n                    x: p0.x,\n                    y: interpolateLin(p0.x, points[i - 1], points[i])\n                })\n\n            // 3. If new line is inserted after all existing points, \n            // we just take the value of the last point\n            } else if (i >= points.length && points.length) {\n                newPoints.push({\n                    x: p0.x,\n                    y: points[points.length - 1].y,\n                })\n\n            // 4. If new line placed in first position, we take the defaultStartValue.\n            } else if (i === 0) {\n                newPoints.push({\n                    x: p0.x,\n                    y: p0.y,\n                })\n            }\n            \n            newPoints.push({\n                x: p1.x,\n                y: p1.y,\n            })\n            return newPoints\n        `,\n        Func('computeFrameAjustedPoints', [Var('Array<Point>', 'points')], 'Array<Point>') `\n            if (points.length < 2) {\n                throw new Error('invalid length for points')\n            }\n\n            ${ConstVar('Array<Point>', 'newPoints', '[]')}\n            ${Var('Int', 'i', '0')}\n            ${Var('Point', 'p', 'points[0]')}\n            ${Var('Float', 'frameLower', '0')}\n            ${Var('Float', 'frameUpper', '0')}\n            \n            while(i < points.length) {\n                p = points[i]\n                frameLower = Math.floor(p.x)\n                frameUpper = frameLower + 1\n\n                // I. Placing interpolated point at the lower bound of the current frame\n                // ------------------------------------------------------------------------\n                // 1. Point is already on an exact frame,\n                if (p.x === frameLower) {\n                    newPoints.push({ x: p.x, y: p.y })\n\n                    // 1.a. if several of the next points are also on the same X,\n                    // we find the last one to draw a vertical line.\n                    while (\n                        (i + 1) < points.length\n                        && points[i + 1].x === frameLower\n                    ) {\n                        i++\n                    }\n                    if (points[i].y !== newPoints[newPoints.length - 1].y) {\n                        newPoints.push({ x: points[i].x, y: points[i].y })\n                    }\n\n                    // 1.b. if last point, we quit\n                    if (i + 1 >= points.length) {\n                        break\n                    }\n\n                    // 1.c. if next point is in a different frame we can move on to next iteration\n                    if (frameUpper <= points[i + 1].x) {\n                        i++\n                        continue\n                    }\n                \n                // 2. Point isn't on an exact frame\n                // 2.a. There's a previous point, the we use it to interpolate the value.\n                } else if (newPoints.length) {\n                    newPoints.push({\n                        x: frameLower,\n                        y: interpolateLin(frameLower, points[i - 1], p),\n                    })\n                \n                // 2.b. It's the very first point, then we don't change its value.\n                } else {\n                    newPoints.push({ x: frameLower, y: p.y })\n                }\n\n                // II. Placing interpolated point at the upper bound of the current frame\n                // ---------------------------------------------------------------------------\n                // First, we find the closest point from the frame upper bound (could be the same p).\n                // Or could be a point that is exactly placed on frameUpper.\n                while (\n                    (i + 1) < points.length \n                    && (\n                        Math.ceil(points[i + 1].x) === frameUpper\n                        || Math.floor(points[i + 1].x) === frameUpper\n                    )\n                ) {\n                    i++\n                }\n                p = points[i]\n\n                // 1. If the next point is directly in the next frame, \n                // we do nothing, as this corresponds with next iteration frameLower.\n                if (Math.floor(p.x) === frameUpper) {\n                    continue\n                \n                // 2. If there's still a point after p, we use it to interpolate the value\n                } else if (i < points.length - 1) {\n                    newPoints.push({\n                        x: frameUpper,\n                        y: interpolateLin(frameUpper, p, points[i + 1]),\n                    })\n\n                // 3. If it's the last point, we dont change the value\n                } else {\n                    newPoints.push({ x: frameUpper, y: p.y })\n                }\n\n                i++\n            }\n\n            return newPoints\n        `,\n        Func('computeLineSegments', [Var('Array<Point>', 'points')], 'Array<LineSegment>') `\n            ${ConstVar('Array<LineSegment>', 'lineSegments', '[]')}\n            ${Var('Int', 'i', '0')}\n            ${Var('Point', 'p0')}\n            ${Var('Point', 'p1')}\n\n            while(i < points.length - 1) {\n                p0 = points[i]\n                p1 = points[i + 1]\n                lineSegments.push({\n                    p0, p1, \n                    dy: computeSlope(p0, p1),\n                    dx: 1,\n                })\n                i++\n            }\n            return lineSegments\n        `,\n    ]),\n    dependencies: [interpolateLin],\n};\n\nexport { linesUtils };\n","import { Func, Var, Class } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst point = () => Class('Point', [\n    Var('Float', 'x'),\n    Var('Float', 'y'),\n]);\nconst interpolateLin = {\n    codeGenerator: () => Func('interpolateLin', [Var('Float', 'x'), Var('Point', 'p0'), Var('Point', 'p1')], 'Float') `\n            return p0.y + (x - p0.x) * (p1.y - p0.y) / (p1.x - p0.x)\n        `,\n    dependencies: [point],\n};\n\nexport { interpolateLin, point };\n","import { Func, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : unit testing\n// TODO : amount = 0 ?\n// TODO : missing persec and all per...\nconst computeUnitInSamples = () => Func('computeUnitInSamples', [\n    Var('Float', 'sampleRate'),\n    Var('Float', 'amount'),\n    Var('string', 'unit'),\n], 'Float') `\n        if (unit === 'msec' || unit === 'millisecond') {\n            return amount / 1000 * sampleRate\n        } else if (unit === 'sec' || unit === 'seconds' || unit === 'second') {\n            return amount * sampleRate\n        } else if (unit === 'min' || unit === 'minutes' || unit === 'minute') {\n            return amount * 60 * sampleRate\n        } else if (unit === 'samp' || unit === 'samples' || unit === 'sample') {\n            return amount\n        } else {\n            throw new Error(\"invalid time unit : \" + unit)\n        }\n    `;\n\nexport { computeUnitInSamples };\n","import { stringMsgUtils } from '../global-code/core.js';\nimport { linesUtils } from '../global-code/lines.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { Sequence, Class, Var, Func, ConstVar, ast, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n            '2': { type: 'message', id: '2' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('vline_t', [\n    'setNewLine',\n    'setNextDuration',\n    'setNextDelay',\n]);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Array<Point>', 'points'),\n        Var('Array<LineSegment>', 'lineSegments'),\n        Var('Float', 'currentValue'),\n        Var('Float', 'nextDurationSamp'),\n        Var('Float', 'nextDelaySamp'),\n    ]),\n    Func(variableNames.setNewLine, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'targetValue'),\n    ], 'void') `\n        state.points = removePointsBeforeFrame(state.points, toFloat(${globs.frame}))\n        ${ConstVar('Float', 'startFrame', `toFloat(${globs.frame}) + state.nextDelaySamp`)}\n        ${ConstVar('Float', 'endFrame', `startFrame + state.nextDurationSamp`)}\n        if (endFrame === toFloat(${globs.frame})) {\n            state.currentValue = targetValue\n            state.lineSegments = []\n        } else {\n            state.points = insertNewLinePoints(\n                state.points, \n                {x: startFrame, y: state.currentValue},\n                {x: endFrame, y: targetValue}\n            )\n            state.lineSegments = computeLineSegments(\n                computeFrameAjustedPoints(state.points))\n        }\n        state.nextDurationSamp = 0\n        state.nextDelaySamp = 0\n    `,\n    Func(variableNames.setNextDuration, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'durationMsec'),\n    ], 'void') `\n        state.nextDurationSamp = computeUnitInSamples(${globs.sampleRate}, durationMsec, 'msec')\n    `,\n    Func(variableNames.setNextDelay, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'delayMsec'),\n    ], 'void') `\n        state.nextDelaySamp = computeUnitInSamples(${globs.sampleRate}, delayMsec, 'msec')\n    `,\n]);\nconst initialization = ({ state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            points: [],\n            lineSegments: [],\n            currentValue: 0,\n            nextDurationSamp: 0,\n            nextDelaySamp: 0,\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ outs, state, globs }) => ast `\n    if (${state}.lineSegments.length) {\n        if (toFloat(${globs.frame}) < ${state}.lineSegments[0].p0.x) {\n\n        // This should come first to handle vertical lines\n        } else if (toFloat(${globs.frame}) === ${state}.lineSegments[0].p1.x) {\n            ${state}.currentValue = ${state}.lineSegments[0].p1.y\n            ${state}.lineSegments.shift()\n\n        } else if (toFloat(${globs.frame}) === ${state}.lineSegments[0].p0.x) {\n            ${state}.currentValue = ${state}.lineSegments[0].p0.y\n\n        } else if (toFloat(${globs.frame}) < ${state}.lineSegments[0].p1.x) {\n            ${state}.currentValue += ${state}.lineSegments[0].dy\n\n        }\n    }\n    ${outs.$0} = ${state}.currentValue\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n    if (\n        msg_isMatching(m, [MSG_FLOAT_TOKEN])\n        || msg_isMatching(m, [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n        || msg_isMatching(m, [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n    ) {\n        switch (msg_getLength(m)) {\n            case 3:\n                ${variableNames.setNextDelay}(${state}, msg_readFloatToken(m, 2))\n            case 2:\n                ${variableNames.setNextDuration}(${state}, msg_readFloatToken(m, 1))\n            case 1:\n                ${variableNames.setNewLine}(${state}, msg_readFloatToken(m, 0))\n        }\n        return\n\n    } else if (msg_isAction(m, 'stop')) {\n        ${state}.points = []\n        ${state}.lineSegments = []\n        return\n    }\n    `,\n    '1': coldFloatInletWithSetter(variableNames.setNextDuration, state),\n    '2': coldFloatInletWithSetter(variableNames.setNextDelay, state),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    loop: loop,\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        linesUtils,\n        computeUnitInSamples,\n        stringMsgUtils,\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { stringMsgUtils } from '../global-code/core.js';\nimport { linesUtils } from '../global-code/lines.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { Sequence, Class, Var, ConstVar, Func, ast, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initValue: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('line_t', [\n    'defaultLine',\n    'setNewLine',\n    'setNextDuration',\n    'stop',\n]);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('LineSegment', 'currentLine'),\n        Var('Float', 'currentValue'),\n        Var('Float', 'nextDurationSamp'),\n    ]),\n    ConstVar('LineSegment', variableNames.defaultLine, `{\n        p0: {x: -1, y: 0},\n        p1: {x: -1, y: 0},\n        dx: 1,\n        dy: 0,\n    }`),\n    Func(variableNames.setNewLine, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'targetValue'),\n    ], 'void') `\n        ${ConstVar('Float', 'startFrame', `toFloat(${globs.frame})`)}\n        ${ConstVar('Float', 'endFrame', `toFloat(${globs.frame}) + state.nextDurationSamp`)}\n        if (endFrame === toFloat(${globs.frame})) {\n            state.currentLine = ${variableNames.defaultLine}\n            state.currentValue = targetValue\n            state.nextDurationSamp = 0\n        } else {\n            state.currentLine = {\n                p0: {\n                    x: startFrame, \n                    y: state.currentValue,\n                }, \n                p1: {\n                    x: endFrame, \n                    y: targetValue,\n                }, \n                dx: 1,\n                dy: 0,\n            }\n            state.currentLine.dy = computeSlope(state.currentLine.p0, state.currentLine.p1)\n            state.nextDurationSamp = 0\n        }\n    `,\n    Func(variableNames.setNextDuration, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'durationMsec'),\n    ], 'void') `\n        state.nextDurationSamp = computeUnitInSamples(${globs.sampleRate}, durationMsec, 'msec')\n    `,\n    Func(variableNames.stop, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        state.currentLine.p1.x = -1\n        state.currentLine.p1.y = state.currentValue\n    `\n]);\nconst initialization = ({ state, node: { args } }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            currentLine: ${variableNames.defaultLine},\n            currentValue: ${args.initValue},\n            nextDurationSamp: 0,\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (\n            msg_isMatching(m, [MSG_FLOAT_TOKEN])\n            || msg_isMatching(m, [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n        ) {\n            switch (msg_getLength(m)) {\n                case 2:\n                    ${variableNames.setNextDuration}(${state}, msg_readFloatToken(m, 1))\n                case 1:\n                    ${variableNames.setNewLine}(${state}, msg_readFloatToken(m, 0))\n            }\n            return\n\n        } else if (msg_isAction(m, 'stop')) {\n            ${variableNames.stop}(${state})\n            return\n\n        }\n    `,\n    '1': coldFloatInletWithSetter(variableNames.setNextDuration, state),\n});\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ outs, state, globs }) => ast `\n    ${outs.$0} = ${state}.currentValue\n    if (toFloat(${globs.frame}) < ${state}.currentLine.p1.x) {\n        ${state}.currentValue += ${state}.currentLine.dy\n        if (toFloat(${globs.frame} + 1) >= ${state}.currentLine.p1.x) {\n            ${state}.currentValue = ${state}.currentLine.p1.y\n        }\n    }\n`;\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    loop: loop,\n    dependencies: [stringMsgUtils, computeUnitInSamples, linesUtils, nodeCore],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { stringMsgUtils } from '../global-code/core.js';\nimport { linesUtils } from '../global-code/lines.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst MIN_GRAIN_MSEC = 20;\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initValue: assertOptionalNumber(args[0]) || 0,\n        timeGrainMsec: Math.max(assertOptionalNumber(args[1]) || MIN_GRAIN_MSEC, MIN_GRAIN_MSEC),\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n            '2': { type: 'message', id: '2' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        isPushingMessages: true,\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('line', [\n    'setNewLine',\n    'setNextDuration',\n    'setGrain',\n    'stopCurrentLine',\n    'setNextSamp',\n    'incrementTime',\n    'tick',\n    'scheduleNextTick',\n]);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('LineSegment', 'currentLine'),\n        Var('Float', 'currentValue'),\n        Var('Float', 'nextSamp'),\n        Var('Int', 'nextSampInt'),\n        Var('Float', 'grainSamp'),\n        Var('Float', 'nextDurationSamp'),\n        Var('SkedId', 'skedId'),\n        Var('(m: Message) => void', 'snd0'),\n        Var('SkedCallback', 'tickCallback'),\n    ]),\n    Func(variableNames.setNewLine, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'targetValue'),\n    ], 'void') `\n        state.currentLine = {\n            p0: {\n                x: toFloat(${globs.frame}), \n                y: state.currentValue,\n            }, \n            p1: {\n                x: toFloat(${globs.frame}) + state.nextDurationSamp, \n                y: targetValue,\n            }, \n            dx: state.grainSamp\n        }\n        state.nextDurationSamp = 0\n        state.currentLine.dy = computeSlope(state.currentLine.p0, state.currentLine.p1) * state.grainSamp\n    `,\n    Func(variableNames.setNextDuration, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'durationMsec'),\n    ], 'void') `\n        state.nextDurationSamp = computeUnitInSamples(${globs.sampleRate}, durationMsec, 'msec')\n    `,\n    Func(variableNames.setGrain, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'grainMsec'),\n    ], 'void') `\n        state.grainSamp = computeUnitInSamples(${globs.sampleRate}, Math.max(grainMsec, ${MIN_GRAIN_MSEC}), 'msec')\n    `,\n    Func(variableNames.stopCurrentLine, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        if (state.skedId !== SKED_ID_NULL) {\n            commons_cancelWaitFrame(state.skedId)\n            state.skedId = SKED_ID_NULL\n        }\n        if (${globs.frame} < state.nextSampInt) {\n            ${variableNames.incrementTime}(state, -1 * (state.nextSamp - toFloat(${globs.frame})))\n        }\n        ${variableNames.setNextSamp}(state, -1)\n    `,\n    Func(variableNames.setNextSamp, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'currentSamp'),\n    ], 'void') `\n        state.nextSamp = currentSamp\n        state.nextSampInt = toInt(Math.round(currentSamp))\n    `,\n    Func(variableNames.incrementTime, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'incrementSamp'),\n    ], 'void') `\n        if (incrementSamp === state.currentLine.dx) {\n            state.currentValue += state.currentLine.dy\n        } else {\n            state.currentValue += interpolateLin(\n                incrementSamp,\n                {x: 0, y: 0},\n                {x: state.currentLine.dx, y: state.currentLine.dy},\n            )\n        }\n        ${variableNames.setNextSamp}(\n            state, \n            (state.nextSamp !== -1 ? state.nextSamp: toFloat(${globs.frame})) + incrementSamp\n        )\n    `,\n    Func(variableNames.tick, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        state.snd0(msg_floats([state.currentValue]))\n        if (toFloat(${globs.frame}) >= state.currentLine.p1.x) {\n            state.currentValue = state.currentLine.p1.y\n            ${variableNames.stopCurrentLine}(state)\n        } else {\n            ${variableNames.incrementTime}(state, state.currentLine.dx)\n            ${variableNames.scheduleNextTick}(state)\n        }\n    `,\n    Func(variableNames.scheduleNextTick, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        state.skedId = commons_waitFrame(state.nextSampInt, state.tickCallback)\n    `\n]);\nconst initialization = ({ node: { args, id }, state, snds }) => ast `\n        ${ConstVar(variableNames.stateClass, state, ast `{\n            currentLine: {\n                p0: {x: -1, y: 0},\n                p1: {x: -1, y: 0},\n                dx: 1,\n                dy: 0,\n            },\n            currentValue: ${args.initValue},\n            nextSamp: -1,\n            nextSampInt: -1,\n            grainSamp: 0,\n            nextDurationSamp: 0,\n            skedId: SKED_ID_NULL,\n            snd0: ${snds.$0},\n            tickCallback: ${AnonFunc() ``},\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${variableNames.setGrain}(${state}, ${args.timeGrainMsec})\n            ${state}.tickCallback = ${AnonFunc() `\n                ${variableNames.tick}(${state})\n            `}\n        })\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state, }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (\n            msg_isMatching(m, [MSG_FLOAT_TOKEN])\n            || msg_isMatching(m, [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n            || msg_isMatching(m, [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n        ) {\n            ${variableNames.stopCurrentLine}(${state})\n            switch (msg_getLength(m)) {\n                case 3:\n                    ${variableNames.setGrain}(${state}, msg_readFloatToken(m, 2))\n                case 2:\n                    ${variableNames.setNextDuration}(${state}, msg_readFloatToken(m, 1))\n                case 1:\n                    ${ConstVar('Float', 'targetValue', 'msg_readFloatToken(m, 0)')}\n                    if (${state}.nextDurationSamp === 0) {\n                        ${state}.currentValue = targetValue\n                        ${snds.$0}(msg_floats([targetValue]))\n                    } else {\n                        ${snds.$0}(msg_floats([${state}.currentValue]))\n                        ${variableNames.setNewLine}(${state}, targetValue)\n                        ${variableNames.incrementTime}(${state}, ${state}.currentLine.dx)\n                        ${variableNames.scheduleNextTick}(${state})\n                    }\n                    \n            }\n            return\n\n        } else if (msg_isAction(m, 'stop')) {\n            ${variableNames.stopCurrentLine}(${state})\n            return\n\n        } else if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n            && msg_readStringToken(m, 0) === 'set'\n        ) {\n            ${variableNames.stopCurrentLine}(${state})\n            ${state}.currentValue = msg_readFloatToken(m, 1)\n            return\n        }\n    `,\n    '1': coldFloatInletWithSetter(variableNames.setNextDuration, state),\n    '2': coldFloatInletWithSetter(variableNames.setGrain, state),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    dependencies: [\n        stringMsgUtils,\n        computeUnitInSamples,\n        linesUtils,\n        commonsWaitEngineConfigure,\n        commonsWaitFrame,\n        nodeCore\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { Func, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\nconst MAX_MIDI_FREQ = Math.pow(2, (1499 - 69) / 12) * 440;\n// Also possible to use optimized version, but gives approximate results : 8.17579891564 * Math.exp(0.0577622650 * value)\nconst mtof = () => Func('mtof', [\n    Var('Float', 'value'),\n], 'Float') `\n        return value <= -1500 ? 0: (value > 1499 ? ${MAX_MIDI_FREQ} : Math.pow(2, (value - 69) / 12) * 440)\n    `;\n// optimized version of formula : 12 * Math.log(freq / 440) / Math.LN2 + 69\n// which is the same as : Math.log(freq / mtof(0)) * (12 / Math.LN2) \n// which is the same as : Math.log(freq / 8.1757989156) * (12 / Math.LN2) \nconst ftom = () => Func('ftom', [\n    Var('Float', 'value'),\n], 'Float') `\n        return value <= 0 ? -1500: 12 * Math.log(value / 440) / Math.LN2 + 69\n    `;\n// TODO : tests (see in binop)\nconst pow = () => Func('pow', [\n    Var('Float', 'leftOp'),\n    Var('Float', 'rightOp'),\n], 'Float') `\n        return leftOp > 0 || (Math.round(rightOp) === rightOp) ? Math.pow(leftOp, rightOp): 0\n    `;\n\nexport { ftom, mtof, pow };\n","import { mtof, ftom } from '../global-code/funcs.js';\nimport { ast } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementations = {\n    'abs~': { inlineLoop: ({ ins }) => ast `Math.abs(${ins.$0})` },\n    'cos~': { inlineLoop: ({ ins }) => ast `Math.cos(${ins.$0} * 2 * Math.PI)` },\n    'wrap~': { inlineLoop: ({ ins }) => ast `(1 + (${ins.$0} % 1)) % 1` },\n    'sqrt~': { inlineLoop: ({ ins }) => ast `${ins.$0} >= 0 ? Math.pow(${ins.$0}, 0.5): 0` },\n    'mtof~': { inlineLoop: ({ ins }) => ast `mtof(${ins.$0})`, dependencies: [mtof] },\n    'ftom~': { inlineLoop: ({ ins }) => ast `ftom(${ins.$0})`, dependencies: [ftom] },\n};\nconst builders = {\n    'abs~': builder,\n    'cos~': builder,\n    'wrap~': builder,\n    'sqrt~': builder,\n    'mtof~': builder,\n    'ftom~': builder,\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalString } from '../validation.js';\nimport { Sequence, ConstVar, Class, Var, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst translateArgsTabBase = (pdNode) => ({\n    arrayName: assertOptionalString(pdNode.args[0]) || '',\n});\nconst variableNamesTabBase = generateVariableNamesNodeType('tabbase', [\n    'setArrayName',\n    'createState',\n    'prepareIndex',\n    'emptyArray',\n]);\nconst nodeCoreTabBase = () => Sequence([\n    ConstVar('FloatArray', variableNamesTabBase.emptyArray, 'createFloatArray(1)'),\n    Class(variableNamesTabBase.stateClass, [\n        Var('FloatArray', 'array'),\n        Var('string', 'arrayName'),\n        Var('SkedId', 'arrayChangesSubscription'),\n        Var('Int', 'readPosition'),\n        Var('Int', 'readUntil'),\n        Var('Int', 'writePosition')\n    ]),\n    Func(variableNamesTabBase.createState, [\n        Var('string', 'arrayName'),\n    ], variableNamesTabBase.stateClass) `\n        return {\n            array: ${variableNamesTabBase.emptyArray},\n            arrayName,\n            arrayChangesSubscription: SKED_ID_NULL,\n            readPosition: 0,\n            readUntil: 0,\n            writePosition: 0,\n        }\n    `,\n    Func(variableNamesTabBase.setArrayName, [\n        Var(variableNamesTabBase.stateClass, 'state'),\n        Var('string', 'arrayName'),\n        Var('SkedCallback', 'callback'),\n    ], 'void') `\n        if (state.arrayChangesSubscription != SKED_ID_NULL) {\n            commons_cancelArrayChangesSubscription(state.arrayChangesSubscription)\n        }\n        state.arrayName = arrayName\n        state.array = ${variableNamesTabBase.emptyArray}\n        commons_subscribeArrayChanges(arrayName, callback)\n    `,\n    Func(variableNamesTabBase.prepareIndex, [\n        Var('Float', 'index'),\n        Var('Int', 'arrayLength'),\n    ], 'Int') `\n        return toInt(Math.min(\n            Math.max(\n                0, Math.floor(index)\n            ), toFloat(arrayLength - 1)\n        ))\n    `\n]);\n\nexport { nodeCoreTabBase, translateArgsTabBase, variableNamesTabBase };\n","import { translateArgsTabBase, variableNamesTabBase, nodeCoreTabBase } from './tab-base.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsArrays } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: translateArgsTabBase,\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------ node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('tabread', [\n    'setArrayNameFinalize',\n]);\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNamesTabBase.stateClass, state, `${variableNamesTabBase.createState}(\"${args.arrayName}\")`)}\n\n        commons_waitEngineConfigure(() => {\n            if (${state}.arrayName.length) {\n                ${variableNamesTabBase.setArrayName}(\n                    ${state}, \n                    ${state}.arrayName,\n                    () => ${variableNames.setArrayNameFinalize}(${state})\n                )\n            }\n        })\n    `,\n    messageReceivers: (context) => {\n        const { snds, state } = context;\n        return {\n            '0': AnonFunc([Var('Message', 'm')]) `\n                if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {        \n                    if (${state}.array.length === 0) {\n                        ${snds.$0}(msg_floats([0]))\n\n                    } else {\n                        ${snds.$0}(msg_floats([${state}.array[\n                            ${variableNamesTabBase.prepareIndex}(\n                                msg_readFloatToken(m, 0), \n                                ${state}.array.length\n                            )\n                        ]]))\n                    }\n                    return \n\n                } else if (\n                    msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n                    && msg_readStringToken(m, 0) === 'set'\n                ) {\n                    ${variableNamesTabBase.setArrayName}(\n                        ${state}, \n                        msg_readStringToken(m, 1),\n                        () => ${variableNames.setArrayNameFinalize}(${state})\n                    )\n                    return\n            \n                }\n            `,\n        };\n    },\n    dependencies: [\n        commonsWaitEngineConfigure,\n        commonsArrays,\n        nodeCoreTabBase,\n        () => Sequence([\n            Func(variableNames.setArrayNameFinalize, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n            ], 'void') `\n                state.array = commons_getArray(state.arrayName)\n            `,\n        ]),\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { translateArgsTabBase, variableNamesTabBase, nodeCoreTabBase } from './tab-base.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsArrays } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: translateArgsTabBase,\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {},\n    }),\n};\n// ------------------------------ generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('tabwrite', [\n    'setArrayNameFinalize',\n    'setWritePosition',\n]);\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNamesTabBase.stateClass, state, `${variableNamesTabBase.createState}(\"${args.arrayName}\")`)}\n\n        commons_waitEngineConfigure(() => {\n            if (${state}.arrayName.length) {\n                ${variableNamesTabBase.setArrayName}(\n                    ${state}, \n                    ${state}.arrayName,\n                    () => ${variableNames.setArrayNameFinalize}(${state})\n                )\n            }\n        })\n    `,\n    messageReceivers: (context) => {\n        const { state } = context;\n        return {\n            '0': AnonFunc([Var('Message', 'm')]) `\n                if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {        \n                    if (${state}.array.length === 0) {\n                        return\n    \n                    } else {\n                        ${state}.array[${state}.writePosition] = msg_readFloatToken(m, 0)\n                        return\n                    }\n    \n                } else if (\n                    msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n                    && msg_readStringToken(m, 0) === 'set'\n                ) {\n                    ${variableNamesTabBase.setArrayName}(\n                        ${state}, \n                        msg_readStringToken(m, 1),\n                        () => ${variableNames.setArrayNameFinalize}(${state}),\n                    )\n                    return\n            \n                }\n            `,\n            '1': coldFloatInletWithSetter(variableNames.setWritePosition, state)\n        };\n    },\n    dependencies: [\n        commonsWaitEngineConfigure,\n        commonsArrays,\n        nodeCoreTabBase,\n        () => Sequence([\n            Func(variableNames.setArrayNameFinalize, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n            ], 'void') `\n                state.array = commons_getArray(state.arrayName)\n            `,\n            Func(variableNames.setWritePosition, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n                Var('Float', 'writePosition')\n            ], 'void') `\n                state.writePosition = ${variableNamesTabBase.prepareIndex}(writePosition, state.array.length)\n            `\n        ]),\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalString } from '../validation.js';\nimport { bangUtils, stringMsgUtils } from '../global-code/core.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsArrays } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\nimport { variableNamesTabBase, nodeCoreTabBase } from './tab-base.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : tabread4 interpolation algorithm\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        arrayName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '0_message': { type: 'message', id: '0_message' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\n// ------------------------------ node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('tabread_t', [\n    'setArrayNameFinalize',\n]);\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNamesTabBase.stateClass, state, `${variableNamesTabBase.createState}(\"${args.arrayName}\")`)}\n\n        commons_waitEngineConfigure(() => {\n            if (${state}.arrayName.length) {\n                ${variableNamesTabBase.setArrayName}(\n                    ${state}, \n                    ${state}.arrayName,\n                    () => ${variableNames.setArrayNameFinalize}(${state})\n                )\n            }\n        })\n    `,\n    messageReceivers: ({ state }) => ({\n        '0_message': AnonFunc([Var('Message', 'm')]) `\n            if (\n                msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n                && msg_readStringToken(m, 0) === 'set'\n            ) {\n                ${variableNamesTabBase.setArrayName}(\n                    ${state},\n                    msg_readStringToken(m, 1),\n                    () => ${variableNames.setArrayNameFinalize}(${state}),\n                )\n                return\n    \n            }\n        `,\n    }),\n    inlineLoop: ({ ins, state }) => ast `${state}.array[toInt(Math.max(Math.min(Math.floor(${ins.$0}), ${state}.array.length - 1), 0))]`,\n    dependencies: [\n        bangUtils,\n        commonsWaitEngineConfigure,\n        commonsArrays,\n        stringMsgUtils,\n        nodeCoreTabBase,\n        () => Sequence([\n            Func(variableNames.setArrayNameFinalize, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n            ], 'void') `\n                state.array = commons_getArray(state.arrayName)\n            `,\n        ]),\n    ],\n};\nconst builders = {\n    'tabread~': builder,\n    'tabread4~': builder,\n};\nconst nodeImplementations = {\n    'tabread~': nodeImplementation,\n    'tabread4~': nodeImplementation,\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalString } from '../validation.js';\nimport { bangUtils, stringMsgUtils } from '../global-code/core.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsArrays } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\nimport { variableNamesTabBase, nodeCoreTabBase } from './tab-base.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : Should work also if array was set the play started\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        arrayName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n    }),\n};\n// ------------------------------ node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('tabplay_t', [\n    'setArrayNameFinalize',\n    'play',\n    'stop',\n]);\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNamesTabBase.stateClass, state, `${variableNamesTabBase.createState}(\"${args.arrayName}\")`)}\n\n        commons_waitEngineConfigure(() => {\n            if (${state}.arrayName.length) {\n                ${variableNamesTabBase.setArrayName}(\n                    ${state}, \n                    ${state}.arrayName,\n                    () => ${variableNames.setArrayNameFinalize}(${state})\n                )\n            }\n        })\n    `,\n    messageReceivers: ({ state }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_isBang(m)) {\n                ${variableNames.play}(${state}, 0, ${state}.array.length)\n                return \n                \n            } else if (msg_isAction(m, 'stop')) {\n                ${variableNames.stop}(${state})\n                return \n    \n            } else if (\n                msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n                && msg_readStringToken(m, 0) === 'set'\n            ) {\n                ${variableNamesTabBase.setArrayName}(\n                    ${state},\n                    msg_readStringToken(m, 1),\n                    () => ${variableNames.setArrayNameFinalize}(${state}),\n                )\n                return\n    \n            } else if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                ${variableNames.play}(\n                    ${state},\n                    toInt(msg_readFloatToken(m, 0)), \n                    ${state}.array.length\n                )\n                return \n    \n            } else if (msg_isMatching(m, [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])) {\n                ${ConstVar('Int', 'fromSample', `toInt(msg_readFloatToken(m, 0))`)}\n                ${variableNames.play}(\n                    ${state},\n                    fromSample,\n                    fromSample + toInt(msg_readFloatToken(m, 1)),\n                )\n                return\n            }\n        `,\n    }),\n    loop: ({ state, snds, outs }) => ast `\n        if (${state}.readPosition < ${state}.readUntil) {\n            ${outs.$0} = ${state}.array[${state}.readPosition]\n            ${state}.readPosition++\n            if (${state}.readPosition >= ${state}.readUntil) {\n                ${snds.$1}(msg_bang())\n            }\n        } else {\n            ${outs.$0} = 0\n        }\n    `,\n    dependencies: [\n        bangUtils,\n        commonsWaitEngineConfigure,\n        commonsArrays,\n        stringMsgUtils,\n        nodeCoreTabBase,\n        () => Sequence([\n            Func(variableNames.setArrayNameFinalize, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n            ], 'void') `\n                state.array = commons_getArray(state.arrayName)\n                state.readPosition = state.array.length\n                state.readUntil = state.array.length\n            `,\n            Func(variableNames.play, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n                Var('Int', 'playFrom'),\n                Var('Int', 'playTo'),\n            ], 'void') `\n                state.readPosition = playFrom\n                state.readUntil = toInt(Math.min(\n                    toFloat(playTo), \n                    toFloat(state.array.length),\n                ))\n            `,\n            Func(variableNames.stop, [\n                Var(variableNamesTabBase.stateClass, 'state'),\n            ], 'void') `\n                state.readPosition = 0\n                state.readUntil = 0\n            `,\n        ]),\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { Func, Var, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { fsCore } from '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport { msg } from '../../../../WebPd_compiler/dist/src/stdlib/msg.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : support for -raw (see soundfiler help)\n// TODO : find a better way to factorize this code\n// TODO : unit testing\nconst parseSoundFileOpenOpts = {\n    codeGenerator: () => Func('parseSoundFileOpenOpts', [Var('Message', 'm'), Var('fs_SoundInfo', 'soundInfo')], 'Set<Int>') `\n            ${ConstVar('Set<Int>', 'unhandled', 'new Set()')}\n            ${Var('Int', 'i', '0')}\n            while (i < msg_getLength(m)) {\n                if (msg_isStringToken(m, i)) {\n                    ${ConstVar('string', 'str', 'msg_readStringToken(m, i)')}\n                    if (['-wave', '-aiff', '-caf', '-next', '-ascii'].includes(str)) {\n                        soundInfo.encodingFormat = str.slice(1)\n\n                    } else if (str === '-raw') {\n                        console.log('-raw format not yet supported')\n                        i += 4\n                        \n                    } else if (str === '-big') {\n                        soundInfo.endianness = 'b'\n\n                    } else if (str === '-little') {\n                        soundInfo.endianness = 'l'\n\n                    } else if (str === '-bytes') {\n                        if (i < msg_getLength(m) && msg_isFloatToken(m, i + 1)) {\n                            soundInfo.bitDepth = toInt(msg_readFloatToken(m, i + 1) * 8)\n                            i++\n                        } else {\n                            console.log('failed to parse -bytes <value>')\n                        }\n\n                    } else if (str === '-rate') {\n                        if (i < msg_getLength(m) && msg_isFloatToken(m, i + 1)) {\n                            soundInfo.sampleRate = toInt(msg_readFloatToken(m, i + 1))\n                            i++\n                        } else {\n                            console.log('failed to parse -rate <value>')\n                        }\n\n                    } else {\n                        unhandled.add(i)\n                    }\n                    \n                } else {\n                    unhandled.add(i)\n                }\n                i++\n            }\n            return unhandled\n        `,\n    dependencies: [msg, fsCore],\n};\n// TODO : unit testing\nconst parseReadWriteFsOpts = {\n    codeGenerator: () => Func('parseReadWriteFsOpts', [\n        Var('Message', 'm'),\n        Var('fs_SoundInfo', 'soundInfo'),\n        Var('Set<Int>', 'unhandledOptions'),\n    ], 'string') `\n            // Remove the \"open\" token\n            unhandledOptions.delete(0)\n\n            ${Var('string', 'url', '\"\"')}\n            ${Var('boolean', 'urlFound', 'false')}\n            ${Var('boolean', 'errored', 'false')}\n            ${Var('Int', 'i', '1')}\n            while (i < msg_getLength(m)) {\n                if (!unhandledOptions.has(i)) {\n\n                } else if (msg_isStringToken(m, i)) {\n                    url = msg_readStringToken(m, i)\n                    urlFound = true\n\n                } else {\n                    console.log(\"[writesf/readsf~] invalid option index \" + i.toString())\n                    errored = true\n                }\n                i++\n            }\n            if (!urlFound) {\n                console.log(\"[writesf/readsf~] invalid options, file url not found\")\n                return ''\n            }\n            if (errored) {\n                return ''\n            }\n            return url\n        `,\n    dependencies: [msg, fsCore],\n};\n\nexport { parseReadWriteFsOpts, parseSoundFileOpenOpts };\n","import { mapArray, countTo } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, Func, ConstVar, ast, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { fsReadSoundStream } from '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalNumber } from '../validation.js';\nimport { bangUtils, stringMsgUtils } from '../global-code/core.js';\nimport { parseSoundFileOpenOpts, parseReadWriteFsOpts } from '../global-code/fs.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : check the real state machine of readsf\n//      - what happens when start / stopping / start stream ?\n//      - what happens when stream ended and starting again ?\n//      - etc ...\n// TODO : second arg : \"buffer channel size\" not implemented\n// TODO : implement raw\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        channelCount: assertOptionalNumber(pdNode.args[0]) || 1,\n    }),\n    build: (nodeArgs) => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            ...mapArray(countTo(nodeArgs.channelCount), (channel) => [`${channel}`, { type: 'signal', id: `${channel}` }]),\n            [`${nodeArgs.channelCount}`]: {\n                type: 'message',\n                id: `${nodeArgs.channelCount}`,\n            }\n        },\n    })\n};\n// ------------------------------ generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('readsf_t', [\n    'openStream',\n]);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Array<buf_SoundBuffer>', 'buffers'),\n        Var('fs_OperationId', 'streamOperationId'),\n        Var('Int', 'readingStatus'),\n    ]),\n    Func(variableNames.openStream, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Message', 'm'),\n        Var('Int', 'channelCount'),\n        Var('fs_OperationCallback', 'onStreamClose'),\n    ], 'void') `\n        if (state.streamOperationId !== -1) {\n            state.readingStatus = 3\n            fs_closeSoundStream(state.streamOperationId, FS_OPERATION_SUCCESS)\n        }\n\n        ${ConstVar('fs_SoundInfo', 'soundInfo', `{\n            channelCount,\n            sampleRate: toInt(${globs.sampleRate}),\n            bitDepth: 32,\n            encodingFormat: '',\n            endianness: '',\n            extraOptions: '',\n        }`)}\n        ${ConstVar('Set<Int>', 'unhandledOptions', `parseSoundFileOpenOpts(\n            m,\n            soundInfo,\n        )`)}\n        ${ConstVar('string', 'url', `parseReadWriteFsOpts(\n            m,\n            soundInfo,\n            unhandledOptions\n        )`)}\n        if (url.length === 0) {\n            return\n        }\n        state.streamOperationId = fs_openSoundReadStream(\n            url,\n            soundInfo,\n            onStreamClose,\n        )\n        state.buffers = _FS_SOUND_STREAM_BUFFERS.get(state.streamOperationId)\n    `\n]);\nconst initialization = ({ state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            buffers: [],\n            streamOperationId: -1,\n            readingStatus: 0,\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ state, snds, outs, node: { args: { channelCount }, }, }) => ast `\n    switch(${state}.readingStatus) {\n        case 1: \n            ${countTo(channelCount).map((i) => `${outs[i]} = buf_pullSample(${state}.buffers[${i}])`)}\n            break\n            \n        case 2: \n            ${countTo(channelCount).map((i) => `${outs[i]} = buf_pullSample(${state}.buffers[${i}])`)}\n            if (${state}.buffers[0].pullAvailableLength === 0) {\n                ${snds[channelCount]}(msg_bang())\n                ${state}.readingStatus = 3\n            }\n            break\n\n        case 3: \n            ${countTo(channelCount).map((i) => `${outs[i]} = 0`)}\n            ${state}.readingStatus = 0\n            break\n    }\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ node, state, }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_getLength(m) >= 2) {\n            if (msg_isStringToken(m, 0) \n                && msg_readStringToken(m, 0) === 'open'\n            ) {\n                ${variableNames.openStream}(\n                    ${state},\n                    m,\n                    ${node.args.channelCount},\n                    ${AnonFunc() `\n                        ${state}.streamOperationId = -1\n                        if (${state}.readingStatus === 1) {\n                            ${state}.readingStatus = 2\n                        } else {\n                            ${state}.readingStatus = 3\n                        }\n                    `}\n                )\n                return\n            }\n\n        } else if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n            if (msg_readFloatToken(m, 0) === 0) {\n                ${state}.readingStatus = 3\n                return\n\n            } else {\n                if (${state}.streamOperationId !== -1) {\n                    ${state}.readingStatus = 1\n                } else {\n                    console.log('[readsf~] start requested without prior open')\n                }\n                return\n\n            }\n            \n        } else if (msg_isAction(m, 'print')) {\n            console.log('[readsf~] reading = ' + ${state}.readingStatus.toString())\n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    loop: loop,\n    dependencies: [\n        parseSoundFileOpenOpts,\n        parseReadWriteFsOpts,\n        bangUtils,\n        stringMsgUtils,\n        fsReadSoundStream,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray, countTo } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, Func, ConstVar, ast, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { fsWriteSoundStream } from '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalNumber } from '../validation.js';\nimport { stringMsgUtils } from '../global-code/core.js';\nimport { parseSoundFileOpenOpts, parseReadWriteFsOpts } from '../global-code/fs.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst BLOCK_SIZE = 44100 * 5;\n// TODO: lots of things left to implement\n// TODO : check the real state machine of writesf\n//      - what happens when start / stopping / start stream ? \n//      - what happens when stream ended and starting again ? \n//      - etc ...\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        channelCount: assertOptionalNumber(pdNode.args[0]) || 1,\n    }),\n    build: ({ channelCount }) => ({\n        inlets: {\n            '0_message': { type: 'message', id: '0_message' },\n            ...mapArray(countTo(channelCount), (channel) => [\n                `${channel}`,\n                { type: 'signal', id: `${channel}` },\n            ]),\n        },\n        outlets: {},\n        isPullingSignal: true,\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\n// ------------------------------ generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('writesf_t', [\n    'flushBlock'\n]);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('fs_OperationId', 'operationId'),\n        Var('boolean', 'isWriting'),\n        Var('Array<FloatArray>', 'block'),\n        Var('Int', 'cursor'),\n    ]),\n    Func(variableNames.flushBlock, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        ${ConstVar('Array<FloatArray>', 'block', '[]')}\n        for (${Var('Int', 'i', '0')}; i < state.block.length; i++) {\n            block.push(state.block[i].subarray(0, state.cursor))\n        }\n        fs_sendSoundStreamData(state.operationId, block)\n        state.cursor = 0\n    `,\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            operationId: -1,\n            isWriting: false,\n            cursor: 0,\n            block: [\n                ${countTo(args.channelCount).map(() => `createFloatArray(${BLOCK_SIZE})`).join(',')}\n            ],\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ state, ins, node: { args } }) => ast `\n    if (${state}.isWriting === true) {\n        ${countTo(args.channelCount).map((i) => `${state}.block[${i}][${state}.cursor] = ${ins[i]}`)}\n        ${state}.cursor++\n        if (${state}.cursor === ${BLOCK_SIZE}) {\n            ${variableNames.flushBlock}(${state})\n        }\n    }\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ node, state, globs }) => ({\n    '0_message': AnonFunc([Var('Message', 'm')], 'void') `\n        if (msg_getLength(m) >= 2) {\n            if (\n                msg_isStringToken(m, 0) \n                && msg_readStringToken(m, 0) === 'open'\n            ) {\n                if (${state}.operationId !== -1) {\n                    fs_closeSoundStream(${state}.operationId, FS_OPERATION_SUCCESS)\n                }\n\n                ${ConstVar('fs_SoundInfo', 'soundInfo', `{\n                    channelCount: ${node.args.channelCount},\n                    sampleRate: toInt(${globs.sampleRate}),\n                    bitDepth: 32,\n                    encodingFormat: '',\n                    endianness: '',\n                    extraOptions: '',\n                }`)}\n                ${ConstVar('Set<Int>', 'unhandledOptions', `parseSoundFileOpenOpts(\n                    m,\n                    soundInfo,\n                )`)}\n                ${ConstVar('string', 'url', `parseReadWriteFsOpts(\n                    m,\n                    soundInfo,\n                    unhandledOptions\n                )`)}\n                if (url.length === 0) {\n                    return\n                }\n                ${state}.operationId = fs_openSoundWriteStream(\n                    url,\n                    soundInfo,\n                    () => {\n                        ${variableNames.flushBlock}(${state})\n                        ${state}.operationId = -1\n                    }\n                )\n                return\n            }\n\n        } else if (msg_isAction(m, 'start')) {\n                ${state}.isWriting = true\n                return\n\n        } else if (msg_isAction(m, 'stop')) {\n            ${variableNames.flushBlock}(${state})\n            ${state}.isWriting = false\n            return\n\n        } else if (msg_isAction(m, 'print')) {\n            console.log('[writesf~] writing = ' + ${state}.isWriting.toString())\n            return\n        }    \n    `\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    loop: loop,\n    dependencies: [\n        parseSoundFileOpenOpts,\n        parseReadWriteFsOpts,\n        stringMsgUtils,\n        fsWriteSoundStream,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Class, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        frequency: assertOptionalNumber(args[0]) || 0,\n        Q: assertOptionalNumber(args[1]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '0_message': { type: 'message', id: '0_message' },\n            '1': { type: 'message', id: '1' },\n            '2': { type: 'message', id: '2' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('filter_bp_t', [\n    'updateCoefs',\n    'setFrequency',\n    'setQ',\n    'clear',\n]);\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            frequency: ${args.frequency},\n            Q: ${args.Q},\n            coef1: 0,\n            coef2: 0,\n            gain: 0,\n            y: 0,\n            ym1: 0,\n            ym2: 0,\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${variableNames.updateCoefs}(${state})\n        })\n    `,\n    loop: ({ ins, outs, state }) => ast `\n        ${state}.y = ${ins.$0} + ${state}.coef1 * ${state}.ym1 + ${state}.coef2 * ${state}.ym2\n        ${outs.$0} = ${state}.gain * ${state}.y\n        ${state}.ym2 = ${state}.ym1\n        ${state}.ym1 = ${state}.y\n    `,\n    messageReceivers: ({ state }) => ({\n        '0_message': AnonFunc([Var('Message', 'm')], 'void') `\n            if (\n                msg_isMatching(m)\n                && msg_readStringToken(m, 0) === 'clear'\n            ) {\n                ${variableNames.clear}()\n                return \n            }\n        `,\n        '1': coldFloatInletWithSetter(variableNames.setFrequency, state),\n        '2': coldFloatInletWithSetter(variableNames.setQ, state),\n    }),\n    dependencies: [\n        ({ globs }) => Sequence([\n            Class(variableNames.stateClass, [\n                Var('Float', 'frequency'),\n                Var('Float', 'Q'),\n                Var('Float', 'coef1'),\n                Var('Float', 'coef2'),\n                Var('Float', 'gain'),\n                Var('Float', 'y'),\n                Var('Float', 'ym1'),\n                Var('Float', 'ym2'),\n            ]),\n            Func(variableNames.updateCoefs, [\n                Var(variableNames.stateClass, 'state'),\n            ], 'void') `\n                ${Var('Float', 'omega', `state.frequency * (2.0 * Math.PI) / ${globs.sampleRate}`)}\n                ${Var('Float', 'oneminusr', `state.Q < 0.001 ? 1.0 : Math.min(omega / state.Q, 1)`)}\n                ${Var('Float', 'r', `1.0 - oneminusr`)}\n                ${Var('Float', 'sigbp_qcos', `(omega >= -(0.5 * Math.PI) && omega <= 0.5 * Math.PI) ? \n                    (((Math.pow(omega, 6) * (-1.0 / 720.0) + Math.pow(omega, 4) * (1.0 / 24)) - Math.pow(omega, 2) * 0.5) + 1)\n                    : 0`)}\n        \n                state.coef1 = 2.0 * sigbp_qcos * r\n                state.coef2 = - r * r\n                state.gain = 2 * oneminusr * (oneminusr + r * omega)\n            `,\n            Func(variableNames.setFrequency, [\n                Var(variableNames.stateClass, 'state'),\n                Var('Float', 'frequency'),\n            ], 'void') `\n                state.frequency = (frequency < 0.001) ? 10: frequency\n                ${variableNames.updateCoefs}(state)\n            `,\n            Func(variableNames.setQ, [\n                Var(variableNames.stateClass, 'state'),\n                Var('Float', 'Q'),\n            ], 'void') `\n                state.Q = Math.max(Q, 0)\n                ${variableNames.updateCoefs}(state)\n            `,\n            Func(variableNames.clear, [\n                Var(variableNames.stateClass, 'state'),\n            ], 'void') `\n                state.ym1 = 0\n                state.ym2 = 0\n            `\n        ])\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalString } from '../validation.js';\nimport { signalBuses } from '../global-code/buses.js';\nimport { ast, AnonFunc, Var, Sequence, Class, Func, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builderThrow = {\n    translateArgs: (pdNode) => ({\n        busName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '0_message': { type: 'message', id: '0_message' },\n        },\n        outlets: {},\n        isPullingSignal: true,\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\nconst builderReceive = {\n    translateArgs: (pdNode) => ({\n        busName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\nconst builderSend = {\n    translateArgs: (pdNode) => ({\n        busName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n        outlets: {},\n        isPullingSignal: true,\n    }),\n};\nconst builderCatch = {\n    translateArgs: (pdNode) => ({\n        busName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {},\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('throw_catch_send_receive_t', ['setBusName']);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('string', 'busName'),\n    ]),\n    Func(variableNames.setBusName, [\n        Var(variableNames.stateClass, 'state'),\n        Var('string', 'busName')\n    ], 'void') `\n        if (busName.length) {\n            state.busName = busName\n            resetSignalBus(state.busName)\n        }\n    `\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            busName: '',\n        }`)}\n\n        ${variableNames.setBusName}(${state}, \"${args.busName}\")\n    `;\n// --------------------------------- throw~ ---------------------------------- //\nconst nodeImplementationThrow = {\n    initialization: initialization,\n    loop: ({ ins, state }) => ast `\n        addAssignSignalBus(${state}.busName, ${ins.$0})\n    `,\n    messageReceivers: ({ state }) => ({\n        '0_message': AnonFunc([Var('Message', 'm')], 'void') `\n            if (\n                msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n                && msg_readStringToken(m, 0) === 'set'\n            ) {\n                ${variableNames.setBusName}(${state}, msg_readStringToken(m, 1))\n                return\n            }\n        `\n    }),\n    dependencies: [\n        signalBuses,\n        nodeCore,\n    ]\n};\n// --------------------------------- catch~ ---------------------------------- //\nconst nodeImplementationCatch = {\n    initialization: initialization,\n    loop: ({ outs, state, }) => ast `\n        ${outs.$0} = readSignalBus(${state}.busName)\n        resetSignalBus(${state}.busName)\n    `,\n    dependencies: [\n        signalBuses,\n        nodeCore\n    ],\n};\n// --------------------------------- send~ ---------------------------------- //\nconst nodeImplementationSend = {\n    initialization: initialization,\n    loop: ({ state, ins }) => ast `\n        setSignalBus(${state}.busName, ${ins.$0})\n    `,\n    dependencies: [\n        signalBuses,\n        nodeCore\n    ],\n};\n// --------------------------------- receive~ ---------------------------------- //\nconst nodeImplementationReceive = {\n    initialization: initialization,\n    inlineLoop: ({ state }) => ast `readSignalBus(${state}.busName)`,\n    messageReceivers: ({ state }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (\n                msg_isMatching(m, [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n                && msg_readStringToken(m, 0) === 'set'\n            ) {\n                ${variableNames.setBusName}(${state}, msg_readStringToken(m, 1))\n                return\n            }\n        `\n    }),\n    dependencies: [\n        signalBuses,\n        nodeCore,\n    ]\n};\n// ------------------------------------------------------------------- //\nconst builders = {\n    'throw~': builderThrow,\n    'catch~': builderCatch,\n    'send~': builderSend,\n    'receive~': builderReceive,\n};\nconst nodeImplementations = {\n    'throw~': nodeImplementationThrow,\n    'catch~': nodeImplementationCatch,\n    'send~': nodeImplementationSend,\n    'receive~': nodeImplementationReceive,\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalNumber, assertOptionalString } from '../validation.js';\nimport { bangUtils, stringMsgUtils } from '../global-code/core.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        rate: assertOptionalNumber(pdNode.args[0]) || 0,\n        unitAmount: assertOptionalNumber(pdNode.args[1]) || 1,\n        unit: assertOptionalString(pdNode.args[2]) || 'msec',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------ generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('metro', [\n    'setRate',\n    'scheduleNextTick',\n    'stop',\n]);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'rate'),\n        Var('Float', 'sampleRatio'),\n        Var('Int', 'skedId'),\n        Var('Float', 'realNextTick'),\n        Var('(m: Message) => void', 'snd0'),\n        Var('SkedCallback', 'tickCallback'),\n    ]),\n    // Time units are all expressed in samples here\n    Func(variableNames.setRate, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'rate'),\n    ], 'void') `\n        state.rate = Math.max(rate, 0)\n    `,\n    Func(variableNames.scheduleNextTick, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        state.snd0(msg_bang())\n        state.realNextTick = state.realNextTick + state.rate * state.sampleRatio\n        state.skedId = commons_waitFrame(\n            toInt(Math.round(state.realNextTick)), \n            state.tickCallback,\n        )\n    `,\n    Func(variableNames.stop, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        if (state.skedId !== SKED_ID_NULL) {\n            commons_cancelWaitFrame(state.skedId)\n            state.skedId = SKED_ID_NULL\n        }\n        state.realNextTick = 0\n    `,\n]);\nconst initialization = ({ node: { args }, state, globs, snds, }) => ast `\n        ${ConstVar(variableNames.stateClass, state, ast `{\n            rate: 0,\n            sampleRatio: 1,\n            skedId: SKED_ID_NULL,\n            realNextTick: -1,\n            snd0: ${snds.$0},\n            tickCallback: ${AnonFunc() ``},\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${state}.sampleRatio = computeUnitInSamples(${globs.sampleRate}, ${args.unitAmount}, \"${args.unit}\")\n            ${variableNames.setRate}(${state}, ${args.rate})\n            ${state}.tickCallback = ${AnonFunc() `\n                ${variableNames.scheduleNextTick}(${state})\n            `}\n        })\n    `;\n// ------------------------------ messageReceivers ------------------------------ //\nconst messageReceivers = ({ state, globs, }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_getLength(m) === 1) {\n            if (\n                (msg_isFloatToken(m, 0) && msg_readFloatToken(m, 0) === 0)\n                || msg_isAction(m, 'stop')\n            ) {\n                ${variableNames.stop}(${state})\n                return\n\n            } else if (\n                msg_isFloatToken(m, 0)\n                || msg_isBang(m)\n            ) {\n                ${state}.realNextTick = toFloat(${globs.frame})\n                ${variableNames.scheduleNextTick}(${state})\n                return\n            }\n        }\n    `,\n    '1': coldFloatInletWithSetter(variableNames.setRate, state),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    dependencies: [\n        computeUnitInSamples,\n        bangUtils,\n        stringMsgUtils,\n        commonsWaitEngineConfigure,\n        commonsWaitFrame,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber, assertOptionalString } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        unitAmount: assertOptionalNumber(pdNode.args[0]) || 1,\n        unit: assertOptionalString(pdNode.args[1]) || 'msec',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('timer');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'sampleRatio'),\n        Var('Int', 'resetTime'),\n    ]),\n]);\nconst initialization = ({ node: { args }, state, globs }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            sampleRatio: 0,\n            resetTime: 0,\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${state}.sampleRatio = computeUnitInSamples(${globs.sampleRate}, ${args.unitAmount}, \"${args.unit}\")\n        })\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, globs, state, }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) {\n            ${state}.resetTime = ${globs.frame}\n            return\n\n        } else if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN, MSG_STRING_TOKEN])\n            && msg_readStringToken(m, 0) === 'tempo'\n        ) {\n            ${state}.sampleRatio = computeUnitInSamples(\n                ${globs.sampleRate}, \n                msg_readFloatToken(m, 1), \n                msg_readStringToken(m, 2)\n            )\n            return\n        }\n    `,\n    '1': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) {\n            ${snds.$0}(msg_floats([toFloat(${globs.frame} - ${state}.resetTime) / ${state}.sampleRatio]))\n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    dependencies: [\n        computeUnitInSamples,\n        bangUtils,\n        commonsWaitEngineConfigure,\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber, assertOptionalString } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Class, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        delay: assertOptionalNumber(pdNode.args[0]) || 0,\n        unitAmount: assertOptionalNumber(pdNode.args[1]) || 1,\n        unit: assertOptionalString(pdNode.args[2]) || 'msec',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        isPushingMessages: true\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('delay', [\n    'setDelay',\n    'scheduleDelay',\n    'stop',\n]);\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state, globs }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            delay: 0,\n            sampleRatio: 1,\n            scheduledBang: SKED_ID_NULL,\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${state}.sampleRatio = computeUnitInSamples(${globs.sampleRate}, ${args.unitAmount}, \"${args.unit}\")\n            ${variableNames.setDelay}(${state}, ${args.delay})\n        })\n    `,\n    messageReceivers: ({ state, globs, snds }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_getLength(m) === 1) {\n                if (msg_isStringToken(m, 0)) {\n                    ${ConstVar('string', 'action', 'msg_readStringToken(m, 0)')}\n                    if (action === 'bang' || action === 'start') {\n                        ${variableNames.scheduleDelay}(\n                            ${state}, \n                            () => ${snds.$0}(msg_bang()),\n                            ${globs.frame},\n                        )\n                        return\n                    } else if (action === 'stop') {\n                        ${variableNames.stop}(${state})\n                        return\n                    }\n                    \n                } else if (msg_isFloatToken(m, 0)) {\n                    ${variableNames.setDelay}(${state}, msg_readFloatToken(m, 0))\n                    ${variableNames.scheduleDelay}(\n                        ${state},\n                        () => ${snds.$0}(msg_bang()),\n                        ${globs.frame},\n                    )\n                    return \n                }\n            \n            } else if (\n                msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN, MSG_STRING_TOKEN])\n                && msg_readStringToken(m, 0) === 'tempo'\n            ) {\n                ${state}.sampleRatio = computeUnitInSamples(\n                    ${globs.sampleRate}, \n                    msg_readFloatToken(m, 1), \n                    msg_readStringToken(m, 2)\n                )\n                return\n            }\n        `,\n        '1': coldFloatInletWithSetter(variableNames.setDelay, state)\n    }),\n    dependencies: [\n        computeUnitInSamples,\n        bangUtils,\n        commonsWaitEngineConfigure,\n        commonsWaitFrame,\n        () => Sequence([\n            Class(variableNames.stateClass, [\n                Var('Float', 'delay', '0'),\n                Var('Float', 'sampleRatio', '1'),\n                Var('SkedId', 'scheduledBang', 'SKED_ID_NULL'),\n            ]),\n            Func(variableNames.setDelay, [\n                Var(variableNames.stateClass, 'state'),\n                Var('Float', 'delay'),\n            ], 'void') `\n                state.delay = Math.max(0, delay)\n            `,\n            Func(variableNames.scheduleDelay, [\n                Var(variableNames.stateClass, 'state'),\n                Var('SkedCallback', 'callback'),\n                Var('Int', 'currentFrame'),\n            ], 'void') `\n                if (state.scheduledBang !== SKED_ID_NULL) {\n                    ${variableNames.stop}(state)\n                }\n                state.scheduledBang = commons_waitFrame(toInt(\n                    Math.round(\n                        toFloat(currentFrame) + state.delay * state.sampleRatio)),\n                    callback\n                )\n            `,\n            Func(variableNames.stop, [\n                Var(variableNames.stateClass, 'state'),\n            ], 'void') `\n                commons_cancelWaitFrame(state.scheduledBang)\n                state.scheduledBang = SKED_ID_NULL\n            `\n        ])\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalString } from '../validation.js';\nimport { EMPTY_BUS_NAME, build, controlsCoreVariableNames, controlsCore } from './controls-base.js';\nimport { messageBuses } from '../global-code/buses.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args: [init, receive, send] }) => ({\n        outputOnLoad: !!init,\n        sendBusName: assertOptionalString(send) || EMPTY_BUS_NAME,\n        receiveBusName: assertOptionalString(receive) || EMPTY_BUS_NAME,\n    }),\n    build,\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('bang', ['receiveMessage']);\nconst nodeImplementation = {\n    initialization: ({ snds, state, node: { args }, }) => ast `\n        ${ConstVar(controlsCoreVariableNames.stateClass, state, `{\n            value: msg_create([]),\n            receiveBusName: \"${args.receiveBusName}\",\n            sendBusName: \"${args.sendBusName}\",\n            messageReceiver: ${controlsCoreVariableNames.defaultMessageHandler},\n            messageSender: ${controlsCoreVariableNames.defaultMessageHandler},\n        }`)}\n    \n        commons_waitEngineConfigure(() => {\n            ${state}.messageReceiver = ${AnonFunc([Var('Message', 'm')]) `\n                ${variableNames.receiveMessage}(${state}, m)\n            `}\n            ${state}.messageSender = ${snds.$0}\n            ${controlsCoreVariableNames.setReceiveBusName}(${state}, \"${args.receiveBusName}\")\n        })\n\n        ${args.outputOnLoad ?\n        `commons_waitFrame(0, () => ${snds.$0}(msg_bang()))` : null}\n    `,\n    messageReceivers: ({ state }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            ${variableNames.receiveMessage}(${state}, m)\n            return\n        `,\n    }),\n    dependencies: [\n        bangUtils,\n        messageBuses,\n        commonsWaitEngineConfigure,\n        commonsWaitFrame,\n        controlsCore,\n        () => Sequence([\n            Func(variableNames.receiveMessage, [\n                Var(controlsCoreVariableNames.stateClass, 'state'),\n                Var('Message', 'm'),\n            ], 'void') `\n                if (${controlsCoreVariableNames.setSendReceiveFromMessage}(state, m) === true) {\n                    return\n                }\n                \n                ${ConstVar('Message', 'outMessage', 'msg_bang()')}\n                state.messageSender(outMessage)\n                if (state.sendBusName !== \"${EMPTY_BUS_NAME}\") {\n                    msgBusPublish(state.sendBusName, outMessage)\n                }\n                return\n            `\n        ]),\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { ast, ConstVar, AnonFunc, Var, Sequence, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalString } from '../validation.js';\nimport { controlsCoreVariableNames, controlsCore, EMPTY_BUS_NAME, build } from './controls-base.js';\nimport { messageBuses } from '../global-code/buses.js';\nimport { bangUtils, msgUtils } from '../global-code/core.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : use standard \"unsupported message\" from compile-generateDeclarations\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args: [_, __, receive, send] }) => ({\n        sendBusName: assertOptionalString(send) || EMPTY_BUS_NAME,\n        receiveBusName: assertOptionalString(receive) || EMPTY_BUS_NAME,\n    }),\n    build,\n};\n// ------------------------------- node implementation ------------------------------ //\nconst makeNodeImplementation = ({ name, initValue, messageMatch, }) => {\n    const variableNames = generateVariableNamesNodeType(name, ['receiveMessage']);\n    return {\n        initialization: ({ state, node: { args }, snds, }) => ast `\n            ${ConstVar(controlsCoreVariableNames.stateClass, state, `{\n                value: ${initValue},\n                receiveBusName: \"${args.receiveBusName}\",\n                sendBusName: \"${args.sendBusName}\",\n                messageReceiver: ${controlsCoreVariableNames.defaultMessageHandler},\n                messageSender: ${controlsCoreVariableNames.defaultMessageHandler},\n            }`)}\n        \n            commons_waitEngineConfigure(() => {\n                ${state}.messageReceiver = ${AnonFunc([Var('Message', 'm')]) `\n                    ${variableNames.receiveMessage}(${state}, m)\n                `}\n                ${state}.messageSender = ${snds.$0}\n                ${controlsCoreVariableNames.setReceiveBusName}(${state}, \"${args.receiveBusName}\")\n            })\n        `,\n        messageReceivers: ({ state }) => ({\n            '0': AnonFunc([Var('Message', 'm')]) `\n                ${variableNames.receiveMessage}(${state}, m)\n                return\n            `,\n        }),\n        dependencies: [\n            bangUtils,\n            messageBuses,\n            msgUtils,\n            commonsWaitEngineConfigure,\n            controlsCore,\n            () => Sequence([\n                Func(variableNames.receiveMessage, [\n                    Var(controlsCoreVariableNames.stateClass, 'state'),\n                    Var('Message', 'm'),\n                ], 'void') `\n                    if (msg_isBang(m)) {\n                        state.messageSender(state.value)\n                        if (state.sendBusName !== \"${EMPTY_BUS_NAME}\") {\n                            msgBusPublish(state.sendBusName, state.value)\n                        }\n                        return\n                    \n                    } else if (\n                        msg_getTokenType(m, 0) === MSG_STRING_TOKEN\n                        && msg_readStringToken(m, 0) === 'set'\n                    ) {\n                        ${ConstVar('Message', 'setMessage', 'msg_slice(m, 1, msg_getLength(m))')}\n                        ${messageMatch ?\n                    `if (${messageMatch('setMessage')}) {` : null} \n                                state.value = setMessage    \n                                return\n                        ${messageMatch ?\n                    '}' : null}\n        \n                    } else if (${controlsCoreVariableNames.setSendReceiveFromMessage}(state, m) === true) {\n                        return\n                        \n                    } ${messageMatch ?\n                    `else if (${messageMatch('m')}) {` :\n                    `else {`}\n                    \n                        state.value = m\n                        state.messageSender(state.value)\n                        if (state.sendBusName !== \"${EMPTY_BUS_NAME}\") {\n                            msgBusPublish(state.sendBusName, state.value)\n                        }\n                        return\n        \n                    }\n                `\n            ]),\n        ],\n    };\n};\nconst builders = {\n    'floatatom': builder,\n    'symbolatom': builder,\n    'listbox': builder,\n};\nconst nodeImplementations = {\n    'floatatom': makeNodeImplementation({\n        name: 'floatatom',\n        initValue: `msg_floats([0])`,\n        messageMatch: (m) => `msg_isMatching(${m}, [MSG_FLOAT_TOKEN])`\n    }),\n    'symbolatom': makeNodeImplementation({\n        name: 'symbolatom',\n        initValue: `msg_strings([''])`,\n        messageMatch: (m) => `msg_isMatching(${m}, [MSG_STRING_TOKEN])`\n    }),\n    'listbox': makeNodeImplementation({\n        name: 'listbox',\n        initValue: `msg_bang()`,\n    })\n};\n\nexport { builders, nodeImplementations };\n","import { bangUtils } from '../global-code/core.js';\nimport { ast } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {},\n        outlets: { '0': { type: 'message', id: '0' } },\n        isPushingMessages: true\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst initialization = ({ snds }) => ast `commons_waitFrame(0, () => ${snds.$0}(msg_bang()))`;\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    dependencies: [bangUtils, commonsWaitFrame],\n};\n\nexport { builder, nodeImplementation };\n","import { Func, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst roundFloatAsPdInt = () => Func('roundFloatAsPdInt', [\n    Var('Float', 'value'),\n], 'Float') `\n        return value > 0 ? Math.floor(value): Math.ceil(value)\n    `;\n\nexport { roundFloatAsPdInt };\n","import { Sequence, Class, Var, Func, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalNumber } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { roundFloatAsPdInt } from '../global-code/numbers.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO: proper support for $ args\n// TODO: simple number - shortcut for float\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        value: assertOptionalNumber(pdNode.args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        isPushingMessages: true,\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('float_int', [\n    'setValueInt',\n    'setValueFloat'\n]);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'value')\n    ]),\n    Func(variableNames.setValueInt, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'value'),\n    ], 'void') `\n        state.value = roundFloatAsPdInt(value)\n    `,\n    Func(variableNames.setValueFloat, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'value'),\n    ], 'void') `\n        state.value = value\n    `\n]);\nconst makeNodeImplementation = (setValueVariableName) => {\n    const initialization = ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                value: 0,\n            }`)}\n            ${setValueVariableName}(${state}, ${args.value})\n        `;\n    // ------------------------------- messageReceivers ------------------------------ //\n    const messageReceivers = ({ snds, state, }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                ${setValueVariableName}(${state}, msg_readFloatToken(m, 0))\n                ${snds.$0}(msg_floats([${state}.value]))\n                return \n\n            } else if (msg_isBang(m)) {\n                ${snds.$0}(msg_floats([${state}.value]))\n                return\n                \n            }\n        `,\n        '1': coldFloatInletWithSetter(setValueVariableName, state),\n    });\n    return {\n        initialization: initialization,\n        messageReceivers: messageReceivers,\n    };\n};\n// ------------------------------------------------------------------- //\nconst builders = {\n    float: builder,\n    f: { aliasTo: 'float' },\n    int: builder,\n    i: { aliasTo: 'int' },\n};\nconst nodeImplementations = {\n    float: {\n        ...makeNodeImplementation(variableNames.setValueFloat),\n        dependencies: [bangUtils, nodeCore],\n    },\n    int: {\n        ...makeNodeImplementation(variableNames.setValueInt),\n        dependencies: [roundFloatAsPdInt, bangUtils, nodeCore],\n    },\n};\n\nexport { builders, nodeImplementations };\n","import { mtof, ftom } from '../global-code/funcs.js';\nimport { AnonFunc, Var, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\nconst makeNodeImplementation = ({ operationCode, dependencies = [], }) => {\n    // ------------------------------- messageReceivers ------------------------------ //\n    const messageReceivers = ({ snds }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                ${ConstVar('Float', 'value', 'msg_readFloatToken(m, 0)')}\n                ${snds.$0}(msg_floats([${operationCode}]))\n                return\n            }\n        `\n    });\n    return { messageReceivers: messageReceivers, dependencies };\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementations = {\n    'abs': makeNodeImplementation({ operationCode: `Math.abs(value)` }),\n    'wrap': makeNodeImplementation({ operationCode: `(1 + (value % 1)) % 1` }),\n    'cos': makeNodeImplementation({ operationCode: `Math.cos(value)` }),\n    'sqrt': makeNodeImplementation({ operationCode: `value >= 0 ? Math.pow(value, 0.5): 0` }),\n    'mtof': makeNodeImplementation({ operationCode: `mtof(value)`, dependencies: [mtof] }),\n    'ftom': makeNodeImplementation({ operationCode: `ftom(value)`, dependencies: [ftom] }),\n    'rmstodb': makeNodeImplementation({ operationCode: `value <= 0 ? 0 : 20 * Math.log(value) / Math.LN10 + 100` }),\n    'dbtorms': makeNodeImplementation({ operationCode: `value <= 0 ? 0 : Math.exp(Math.LN10 * (value - 100) / 20)` }),\n    'powtodb': makeNodeImplementation({ operationCode: `value <= 0 ? 0 : 10 * Math.log(value) / Math.LN10 + 100` }),\n    'dbtopow': makeNodeImplementation({ operationCode: `value <= 0 ? 0 : Math.exp(Math.LN10 * (value - 100) / 10)` }),\n    // Implement vu as a noop\n    'vu': makeNodeImplementation({ operationCode: `value` }),\n};\nconst builders = {\n    'abs': builder,\n    'cos': builder,\n    'wrap': builder,\n    'sqrt': builder,\n    'mtof': builder,\n    'ftom': builder,\n    'rmstodb': builder,\n    'dbtorms': builder,\n    'powtodb': builder,\n    'dbtopow': builder,\n    'vu': builder,\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalNumber } from '../validation.js';\nimport { pow } from '../global-code/funcs.js';\nimport { ast } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst makeBuilder = (defaultValue) => ({\n    translateArgs: (pdNode) => {\n        const value = assertOptionalNumber(pdNode.args[0]);\n        return {\n            value: value !== undefined ? value : defaultValue,\n        };\n    },\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection(inletId, nodeArgs) {\n        if (inletId === '0') {\n            return { initialSignalValue: 0 };\n        }\n        if (inletId === '1') {\n            return { initialSignalValue: nodeArgs.value };\n        }\n        return undefined;\n    },\n});\n// ------------------------------- node implementation ------------------------------ //\nconst nodeImplementations = {\n    '+~': {\n        inlineLoop: ({ ins }) => ast `${ins.$0} + ${ins.$1}`,\n    },\n    '-~': {\n        inlineLoop: ({ ins }) => ast `${ins.$0} - ${ins.$1}`,\n    },\n    '*~': {\n        inlineLoop: ({ ins }) => ast `${ins.$0} * ${ins.$1}`,\n    },\n    '/~': {\n        inlineLoop: ({ ins }) => ast `${ins.$1} !== 0 ? ${ins.$0} / ${ins.$1} : 0`,\n    },\n    'min~': {\n        inlineLoop: ({ ins }) => ast `Math.min(${ins.$0}, ${ins.$1})`,\n    },\n    'max~': {\n        inlineLoop: ({ ins }) => ast `Math.max(${ins.$0}, ${ins.$1})`,\n    },\n    'pow~': {\n        inlineLoop: ({ ins }) => ast `pow(${ins.$0}, ${ins.$1})`,\n        dependencies: [pow],\n    },\n};\nconst builders = {\n    '+~': makeBuilder(0),\n    '-~': makeBuilder(0),\n    '*~': makeBuilder(0),\n    '/~': makeBuilder(0),\n    'min~': makeBuilder(0),\n    'max~': makeBuilder(0),\n    'pow~': makeBuilder(0),\n};\n\nexport { builders, nodeImplementations };\n","import { ast, AnonFunc, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : implement seed\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => {\n        return {\n            inlets: {\n                '0': { type: 'message', id: '0' },\n            },\n            outlets: {\n                '0': { type: 'signal', id: '0' },\n            },\n        };\n    },\n};\n// ------------------------------- loop ------------------------------ //\nconst inlineLoop = () => ast `Math.random() * 2 - 1`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ globs }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n            && msg_readStringToken(m, 0) === 'seed'\n        ) {\n            console.log('WARNING : seed not implemented yet for [noise~]')\n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    inlineLoop: inlineLoop,\n    messageReceivers: messageReceivers,\n};\n\nexport { builder, nodeImplementation };\n","import { Sequence, ConstVar, Func, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { sked } from '../../../../WebPd_compiler/dist/src/stdlib/sked.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { bufCore } from '../../../../WebPd_compiler/dist/src/stdlib/buf.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : how to safely declare a global variable without clashing\nconst delayBuffers = {\n    codeGenerator: () => Sequence([\n        ConstVar('Map<string, buf_SoundBuffer>', 'DELAY_BUFFERS', 'new Map()'),\n        ConstVar('Skeduler', 'DELAY_BUFFERS_SKEDULER', 'sked_create(true)'),\n        ConstVar('buf_SoundBuffer', 'DELAY_BUFFERS_NULL', 'buf_create(1)'),\n        Func('DELAY_BUFFERS_set', [Var('string', 'delayName'), Var('buf_SoundBuffer', 'buffer')], 'void') `\n            DELAY_BUFFERS.set(delayName, buffer)\n            sked_emit(DELAY_BUFFERS_SKEDULER, delayName)\n        `,\n        Func('DELAY_BUFFERS_get', [\n            Var('string', 'delayName'),\n            Var('SkedCallback', 'callback'),\n        ], 'void') `\n            sked_wait(DELAY_BUFFERS_SKEDULER, delayName, callback)\n        `,\n        Func('DELAY_BUFFERS_delete', [Var('string', 'delayName')], 'void') `\n            DELAY_BUFFERS.delete(delayName)\n        `,\n    ]),\n    dependencies: [bufCore, sked],\n};\n\nexport { delayBuffers };\n","import { ast, ConstVar, Sequence, Class, Var, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { bufWriteRead } from '../../../../WebPd_compiler/dist/src/stdlib/buf.js';\nimport { assertOptionalString, assertOptionalNumber } from '../validation.js';\nimport { delayBuffers } from '../global-code/delay-buffers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : Implement 4-point interpolation for delread4\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        delayName: assertOptionalString(args[0]) || '',\n        initDelayMsec: assertOptionalNumber(args[1]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId, { initDelayMsec }) => {\n        if (inletId === '0') {\n            return { initialSignalValue: initDelayMsec };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- node implementation ------------------------------ //\nconst makeNodeImplementation = () => {\n    const variableNames = generateVariableNamesNodeType('delread', ['setDelayName']);\n    return {\n        initialization: ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                delayName: '',\n                buffer: DELAY_BUFFERS_NULL,\n            }`)}\n\n            commons_waitEngineConfigure(() => {\n                if (\"${args.delayName}\".length) {\n                    ${variableNames.setDelayName}(${state}, \"${args.delayName}\", () => {\n                        ${state}.buffer = DELAY_BUFFERS.get(${state}.delayName)\n                    })\n                }\n            })\n        `,\n        inlineLoop: ({ globs, ins, state }) => ast `buf_readSample(${state}.buffer, toInt(Math.round(\n            Math.min(\n                Math.max(computeUnitInSamples(${globs.sampleRate}, ${ins.$0}, \"msec\"), 0), \n                toFloat(${state}.buffer.length - 1)\n            )\n        )))`,\n        dependencies: [\n            computeUnitInSamples,\n            delayBuffers,\n            commonsWaitEngineConfigure,\n            bufWriteRead,\n            () => Sequence([\n                Class(variableNames.stateClass, [\n                    Var('string', 'delayName'),\n                    Var('buf_SoundBuffer', 'buffer'),\n                ]),\n                Func(variableNames.setDelayName, [\n                    Var(variableNames.stateClass, 'state'),\n                    Var('string', 'delayName'),\n                    Var('SkedCallback', 'callback'),\n                ], 'void') `\n                    if (state.delayName.length) {\n                        state.buffer = DELAY_BUFFERS_NULL\n                    }\n                    state.delayName = delayName\n                    if (state.delayName.length) {\n                        DELAY_BUFFERS_get(state.delayName, callback)\n                    }\n                `\n            ]),\n        ],\n    };\n};\nconst builders = {\n    'delread~': builder,\n    'delread4~': builder,\n};\nconst nodeImplementations = {\n    'delread~': makeNodeImplementation(),\n    'delread4~': makeNodeImplementation(),\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalString, assertOptionalNumber } from '../validation.js';\nimport { stringMsgUtils } from '../global-code/core.js';\nimport { delayBuffers } from '../global-code/delay-buffers.js';\nimport { computeUnitInSamples } from '../global-code/timing.js';\nimport { ast, AnonFunc, Var, ConstVar, Sequence, Class, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : default maxDurationMsec in Pd ? \n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        delayName: assertOptionalString(args[0]) || '',\n        maxDurationMsec: assertOptionalNumber(args[1]) || 100,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '0_message': { type: 'message', id: '0_message' },\n        },\n        outlets: {},\n        isPullingSignal: true,\n    }),\n    configureMessageToSignalConnection: (inletId) => {\n        if (inletId === '0') {\n            return { reroutedMessageInletId: '0_message' };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('delwrite', ['setDelayName']);\nconst nodeImplementation = {\n    loop: ({ ins, state }) => ast `buf_writeSample(${state}.buffer, ${ins.$0})`,\n    messageReceivers: ({ state }) => ({\n        '0_message': AnonFunc([Var('Message', 'm')], 'void') `\n            if (msg_isAction(m, 'clear')) {\n                buf_clear(${state}.buffer)\n                return\n            }\n        `\n    }),\n    initialization: ({ node: { args }, state, globs }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            delayName: '',\n            buffer: DELAY_BUFFERS_NULL,\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${state}.buffer = buf_create(\n                toInt(Math.ceil(computeUnitInSamples(\n                    ${globs.sampleRate}, \n                    ${args.maxDurationMsec},\n                    \"msec\"\n                )))\n            )\n            if (\"${args.delayName}\".length) {\n                ${variableNames.setDelayName}(${state}, \"${args.delayName}\")\n            }\n        })\n    `,\n    dependencies: [\n        computeUnitInSamples,\n        delayBuffers,\n        stringMsgUtils,\n        () => Sequence([\n            Class(variableNames.stateClass, [\n                Var('string', 'delayName'),\n                Var('buf_SoundBuffer', 'buffer'),\n            ]),\n            Func(variableNames.setDelayName, [\n                Var(variableNames.stateClass, 'state'),\n                Var('string', 'delayName')\n            ], 'void') `\n                if (state.delayName.length) {\n                    DELAY_BUFFERS_delete(state.delayName)\n                }\n                state.delayName = delayName\n                if (state.delayName.length) {\n                    DELAY_BUFFERS_set(state.delayName, state.buffer)\n                }\n            `\n        ])\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { Sequence, Class, Var, ast, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : tests + cleaner implementations\n// TODO : separate rfilters with lastInput from the ones that don't need\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initValue: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId, { initValue }) => {\n        if (inletId === '1') {\n            return { initialSignalValue: initValue };\n        }\n        return undefined;\n    },\n};\nconst makeNodeImplementation = ({ generateOperation, }) => {\n    // ------------------------------- generateDeclarations ------------------------------ //\n    const variableNames = generateVariableNamesNodeType('filter_r_t');\n    const nodeCore = () => Sequence([\n        Class(variableNames.stateClass, [\n            Var('Float', 'lastOutput'),\n            Var('Float', 'lastInput'),\n        ]),\n    ]);\n    const initialization = ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                lastOutput: 0,\n                lastInput: 0,\n            }`)}\n        `;\n    // ------------------------------- loop ------------------------------ //\n    const loop = ({ ins, state, outs }) => ast `\n        ${state}.lastOutput = ${outs.$0} = ${generateOperation(ins.$0, ins.$1, `${state}.lastOutput`, `${state}.lastInput`)}\n        ${state}.lastInput = ${ins.$0}\n    `;\n    return {\n        initialization: initialization,\n        loop: loop,\n        dependencies: [nodeCore],\n    };\n};\n// ------------------------------------------------------------------- //\nconst builders = {\n    'rpole~': builder,\n    'rzero~': builder,\n    'rzero_rev~': builder,\n};\nconst nodeImplementations = {\n    'rpole~': makeNodeImplementation({\n        generateOperation: (input, coeff, lastOutput) => `${input} + ${coeff} * ${lastOutput}`,\n    }),\n    'rzero~': makeNodeImplementation({\n        generateOperation: (input, coeff, _, lastInput) => `${input} - ${coeff} * ${lastInput}`,\n    }),\n    'rzero_rev~': makeNodeImplementation({\n        generateOperation: (input, coeff, _, lastInput) => `${lastInput} - ${coeff} * ${input}`\n    }),\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalNumber } from '../validation.js';\nimport { ast, ConstVar, Sequence, Class, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : tests + cleaner implementations\n// TODO : separate cfilters with lastInputRe lastInputIm from the ones that don't need\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initCoeffRe: assertOptionalNumber(args[0]) || 0,\n        initCoeffIm: assertOptionalNumber(args[1]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n            '2': { type: 'signal', id: '2' },\n            '3': { type: 'signal', id: '3' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId, { initCoeffIm, initCoeffRe }) => {\n        if (inletId === '0') {\n            return { initialSignalValue: 0 };\n        }\n        if (inletId === '1') {\n            return { initialSignalValue: 0 };\n        }\n        if (inletId === '2') {\n            return { initialSignalValue: initCoeffRe };\n        }\n        if (inletId === '3') {\n            return { initialSignalValue: initCoeffIm };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- node implementation ------------------------------ //\nconst makeNodeImplementation = ({ generateOperationRe, generateOperationIm, }) => {\n    const variableNames = generateVariableNamesNodeType('filter_c_t');\n    return {\n        initialization: ({ state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                lastOutputRe: 0,\n                lastOutputIm: 0,\n                lastInputRe: 0,\n                lastInputIm: 0,\n            }`)}\n        `,\n        loop: ({ ins, state, outs }) => ast `\n            ${outs.$0} = ${generateOperationRe(ins.$0, ins.$1, ins.$2, ins.$3, `${state}.lastOutputRe`, `${state}.lastOutputIm`, `${state}.lastInputRe`, `${state}.lastInputIm`)}\n            ${state}.lastOutputIm = ${outs.$1} = ${generateOperationIm(ins.$0, ins.$1, ins.$2, ins.$3, `${state}.lastOutputRe`, `${state}.lastOutputIm`, `${state}.lastInputRe`, `${state}.lastInputIm`)}\n            ${state}.lastOutputRe    = ${outs.$0}\n            ${state}.lastInputRe = ${ins.$0}\n            ${state}.lastInputIm = ${ins.$1}\n        `,\n        dependencies: [\n            () => Sequence([\n                Class(variableNames.stateClass, [\n                    Var('Float', 'lastOutputRe'),\n                    Var('Float', 'lastOutputIm'),\n                    Var('Float', 'lastInputRe'),\n                    Var('Float', 'lastInputIm'),\n                ]),\n            ])\n        ]\n    };\n};\n// ------------------------------------------------------------------- //\nconst builders = {\n    'cpole~': builder,\n    'czero~': builder,\n};\nconst nodeImplementations = {\n    'cpole~': makeNodeImplementation({\n        // *outre++ = nextre + lastre * coefre - lastim * coefim\n        generateOperationRe: (inputRe, _, coeffRe, coeffIm, lastOutputRe, lastOutputIm) => `${inputRe} + ${lastOutputRe} * ${coeffRe} - ${lastOutputIm} * ${coeffIm}`,\n        // *outim++ = nextim + lastre * coefim + lastim * coefre;\n        generateOperationIm: (_, inputIm, coeffRe, coeffIm, lastOutputRe, lastOutputIm) => `${inputIm} + ${lastOutputRe} * ${coeffIm} + ${lastOutputIm} * ${coeffRe}`,\n    }),\n    'czero~': makeNodeImplementation({\n        // *outre++ = nextre - lastre * coefre + lastim * coefim;\n        generateOperationRe: (inputRe, _, coeffRe, coeffIm, __, ___, lastInputRe, lastInputIm) => `${inputRe} - ${lastInputRe} * ${coeffRe} + ${lastInputIm} * ${coeffIm}`,\n        // *outim++ = nextim - lastre * coefim - lastim * coefre;\n        generateOperationIm: (_, inputIm, coeffRe, coeffIm, __, ___, lastInputRe, lastInputIm) => `${inputIm} - ${lastInputRe} * ${coeffIm} - ${lastInputIm} * ${coeffRe}`,\n    }),\n};\n\nexport { builders, nodeImplementations };\n","import { assertOptionalNumber } from '../validation.js';\nimport { Sequence, Class, Var, ast, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : very inneficient compute coeff at each iter\n// TODO : tests + cleaner implementations\n// TODO : separate rfilters with lastInput from the ones that don't need\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initValue: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId, nodeArgs) => {\n        if (inletId === '1') {\n            return { initialSignalValue: nodeArgs.initValue };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('hip_t');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'previous'),\n        Var('Float', 'current'),\n        Var('Float', 'coeff'),\n        Var('Float', 'normal'),\n    ]),\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            previous: 0,\n            current: 0,\n            coeff: 0,\n            normal: 0,\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ ins, state, outs, globs }) => ast `\n    ${state}.coeff = Math.min(Math.max(1 - ${ins.$1} * (2 * Math.PI) / ${globs.sampleRate}, 0), 1)\n    ${state}.normal = 0.5 * (1 + ${state}.coeff)\n    ${state}.current = ${ins.$0} + ${state}.coeff * ${state}.previous\n    ${outs.$0} = ${state}.normal * (${state}.current - ${state}.previous)\n    ${state}.previous = ${state}.current\n`;\nconst nodeImplementation = {\n    initialization: initialization,\n    loop: loop,\n    dependencies: [nodeCore],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : very inneficient compute coeff at each iter\n// TODO : tests + cleaner implementations\n// TODO : separate rfilters with lastInput from the ones that don't need\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        frequency: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n        },\n    }),\n    configureMessageToSignalConnection: (inletId, nodeArgs) => {\n        if (inletId === '1') {\n            return { initialSignalValue: nodeArgs.frequency };\n        }\n        return undefined;\n    },\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('lop_t', ['setFreq']);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'previous'),\n        Var('Float', 'coeff'),\n    ]),\n    Func(variableNames.setFreq, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'freq'),\n    ], 'void') `\n        state.coeff = Math.max(Math.min(freq * 2 * Math.PI / ${globs.sampleRate}, 1), 0)\n    `\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            previous: 0,\n            coeff: 0,\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ ins, state, outs }) => ast `\n    ${variableNames.setFreq}(${state}, ${ins.$1})\n    ${state}.previous = ${outs.$0} = ${state}.coeff * ${ins.$0} + (1 - ${state}.coeff) * ${state}.previous\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state }) => ({\n    '1': coldFloatInletWithSetter(variableNames.setFreq, state),\n});\nconst nodeImplementation = {\n    initialization: initialization,\n    loop: loop,\n    messageReceivers: messageReceivers,\n    dependencies: [nodeCore],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : this uses bp~ implementation, not vcf. Rewrite using pd's implementation : \n// https://github.com/pure-data/pure-data/blob/master/src/d_osc.c\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        frequency: assertOptionalNumber(args[0]) || 0,\n        Q: assertOptionalNumber(args[1]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n            '2': { type: 'message', id: '2' },\n        },\n        outlets: {\n            '0': { type: 'signal', id: '0' },\n            '1': { type: 'signal', id: '1' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('vcf_t', [\n    'updateCoefs',\n    'setFrequency',\n    'setQ',\n]);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'frequency'),\n        Var('Float', 'Q'),\n        Var('Float', 'coef1'),\n        Var('Float', 'coef2'),\n        Var('Float', 'gain'),\n        Var('Float', 'y'),\n        Var('Float', 'ym1'),\n        Var('Float', 'ym2'),\n    ]),\n    Func(variableNames.updateCoefs, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        ${Var('Float', 'omega', `state.frequency * (2.0 * Math.PI) / ${globs.sampleRate}`)}\n        ${Var('Float', 'oneminusr', `state.Q < 0.001 ? 1.0 : Math.min(omega / state.Q, 1)`)}\n        ${Var('Float', 'r', `1.0 - oneminusr`)}\n        ${Var('Float', 'sigbp_qcos', `(omega >= -(0.5 * Math.PI) && omega <= 0.5 * Math.PI) ? \n            (((Math.pow(omega, 6) * (-1.0 / 720.0) + Math.pow(omega, 4) * (1.0 / 24)) - Math.pow(omega, 2) * 0.5) + 1)\n            : 0`)}\n\n        state.coef1 = 2.0 * sigbp_qcos * r\n        state.coef2 = - r * r\n        state.gain = 2 * oneminusr * (oneminusr + r * omega)\n    `,\n    Func(variableNames.setFrequency, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'frequency'),\n    ], 'void') `\n        state.frequency = (frequency < 0.001) ? 10: frequency\n        ${variableNames.updateCoefs}()\n    `,\n    Func(variableNames.setQ, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'Q'),\n    ], 'void') `\n        state.Q = Math.max(Q, 0)\n        ${variableNames.updateCoefs}()\n    `,\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            frequency: ${args.frequency},\n            Q: ${args.Q},\n            coef1: 0,\n            coef2: 0,\n            gain: 0,\n            y: 0,\n            ym1: 0,\n            ym2: 0,\n        }`)}\n    `;\n// ------------------------------- loop ------------------------------ //\nconst loop = ({ ins, outs, state }) => ast `\n    ${variableNames.setFrequency}(${state}, ${ins.$1})\n    ${state}.y = ${ins.$0} + ${state}.coef1 * ${state}.ym1 + ${state}.coef2 * ${state}.ym2\n    ${outs.$1} = ${outs.$0} = ${state}.gain * ${state}.y\n    ${state}.ym2 = ${state}.ym1\n    ${state}.ym1 = ${state}.y\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state }) => ({\n    '2': coldFloatInletWithSetter(variableNames.setQ, state),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    loop: loop,\n    messageReceivers: messageReceivers,\n    dependencies: [nodeCore],\n};\n\nexport { builder, nodeImplementation };\n","import { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : msg [ symbol $1 ( has the fllowing behavior :\n//      sends \"\" when receiving a number\n//      sends <string> when receiving a string\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    skipDollarArgsResolution: true,\n    translateArgs: ({ args }) => {\n        const templates = [[]];\n        args.forEach(arg => {\n            if (arg === ',') {\n                templates.push([]);\n            }\n            else {\n                templates[templates.length - 1].push(arg);\n            }\n        });\n        return ({\n            templates: templates\n                .filter(template => template.length)\n                .map(template => {\n                if (template[0] === 'symbol') {\n                    return [typeof template[1] === 'string' ? template[1] : ''];\n                }\n                return template;\n            }),\n        });\n    },\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------ generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('msg');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Array<MessageTemplate>', 'outTemplates'),\n        Var('Array<Message>', 'outMessages'),\n        Var('Array<(m: Message) => Message>', 'messageTransferFunctions'),\n    ]),\n]);\nconst initialization = (context) => {\n    const { node: { args }, state } = context;\n    const transferCodes = args.templates.map((template, i) => buildMsgTransferCode(context, template, i));\n    return ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            outTemplates: [],\n            outMessages: [],\n            messageTransferFunctions: [],\n        }`)}\n\n        ${transferCodes\n        .filter(({ inMessageUsed }) => !inMessageUsed)\n        .map(({ outMessageCode }) => outMessageCode)}\n        \n        ${state}.messageTransferFunctions = [\n            ${transferCodes.flatMap(({ inMessageUsed, outMessageCode }, i) => [\n        AnonFunc([\n            Var('Message', 'inMessage')\n        ], 'Message') `\n                    ${inMessageUsed ? outMessageCode : null}\n                    return ${state}.outMessages[${i}]\n                `, ','\n    ])}\n        ]\n    `;\n};\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state, }) => {\n    return {\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (\n                msg_isStringToken(m, 0) \n                && msg_readStringToken(m, 0) === 'set'\n            ) {\n                ${state}.outTemplates = [[]]\n                for (${Var('Int', 'i', '1')}; i < msg_getLength(m); i++) {\n                    if (msg_isFloatToken(m, i)) {\n                        ${state}.outTemplates[0].push(MSG_FLOAT_TOKEN)\n                    } else {\n                        ${state}.outTemplates[0].push(MSG_STRING_TOKEN)\n                        ${state}.outTemplates[0].push(msg_readStringToken(m, i).length)\n                    }\n                }\n\n                ${ConstVar('Message', 'message', `msg_create(${state}.outTemplates[0])`)}\n                for (${Var('Int', 'i', '1')}; i < msg_getLength(m); i++) {\n                    if (msg_isFloatToken(m, i)) {\n                        msg_writeFloatToken(\n                            message, i - 1, msg_readFloatToken(m, i)\n                        )\n                    } else {\n                        msg_writeStringToken(\n                            message, i - 1, msg_readStringToken(m, i)\n                        )\n                    }\n                }\n                ${state}.outMessages[0] = message\n                ${state}.messageTransferFunctions.splice(0, ${state}.messageTransferFunctions.length - 1)\n                ${state}.messageTransferFunctions[0] = ${AnonFunc([Var('Message', 'm')], 'Message') `\n                    return ${state}.outMessages[0]\n                `}\n                return\n\n            } else {\n                for (${Var('Int', 'i', '0')}; i < ${state}.messageTransferFunctions.length; i++) {\n                    ${snds.$0}(${state}.messageTransferFunctions[i](m))\n                }\n                return\n            }\n        `,\n    };\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    dependencies: [nodeCore],\n};\nconst buildMsgTransferCode = ({ state }, template, index) => {\n    const outTemplate = `${state}.outTemplates[${index}]`;\n    const outMessage = `${state}.outMessages[${index}]`;\n    const operations = buildMessageTransferOperations(template);\n    let outTemplateCode = [];\n    let outMessageCode = [];\n    let stringMemCount = 0;\n    operations.forEach((operation, outIndex) => {\n        if (operation.type === 'noop') {\n            const { inIndex } = operation;\n            outTemplateCode.push(ast `\n                ${outTemplate}.push(msg_getTokenType(inMessage, ${inIndex}))\n                if (msg_isStringToken(inMessage, ${inIndex})) {\n                    stringMem[${stringMemCount}] = msg_readStringToken(inMessage, ${inIndex})\n                    ${outTemplate}.push(stringMem[${stringMemCount}].length)\n                }\n            `);\n            outMessageCode.push(ast `\n                if (msg_isFloatToken(inMessage, ${inIndex})) {\n                    msg_writeFloatToken(${outMessage}, ${outIndex}, msg_readFloatToken(inMessage, ${inIndex}))\n                } else if (msg_isStringToken(inMessage, ${inIndex})) {\n                    msg_writeStringToken(${outMessage}, ${outIndex}, stringMem[${stringMemCount}])\n                }\n            `);\n            stringMemCount++;\n        }\n        else if (operation.type === 'string-template') {\n            outTemplateCode.push(ast `\n                stringToken = \"${operation.template}\"\n                ${operation.variables.map(({ placeholder, inIndex }) => `\n                    if (msg_isFloatToken(inMessage, ${inIndex})) {\n                        otherStringToken = msg_readFloatToken(inMessage, ${inIndex}).toString()\n                        if (otherStringToken.endsWith('.0')) {\n                            otherStringToken = otherStringToken.slice(0, -2)\n                        }\n                        stringToken = stringToken.replace(\"${placeholder}\", otherStringToken)\n                    } else if (msg_isStringToken(inMessage, ${inIndex})) {\n                        stringToken = stringToken.replace(\"${placeholder}\", msg_readStringToken(inMessage, ${inIndex}))\n                    }`).join('\\n')}\n                stringMem[${stringMemCount}] = stringToken\n                ${outTemplate}.push(MSG_STRING_TOKEN)\n                ${outTemplate}.push(stringMem[${stringMemCount}].length)\n            `);\n            outMessageCode.push(ast `\n                msg_writeStringToken(${outMessage}, ${outIndex}, stringMem[${stringMemCount}])\n            `);\n            stringMemCount++;\n        }\n        else if (operation.type === 'string-constant') {\n            outTemplateCode.push(ast `\n                ${outTemplate}.push(MSG_STRING_TOKEN)\n                ${outTemplate}.push(${operation.value.length})\n            `);\n            outMessageCode.push(ast `\n                msg_writeStringToken(${outMessage}, ${outIndex}, \"${operation.value}\")\n            `);\n        }\n        else if (operation.type === 'float-constant') {\n            outTemplateCode.push(ast `\n                ${outTemplate}.push(MSG_FLOAT_TOKEN)\n            `);\n            outMessageCode.push(ast `\n                msg_writeFloatToken(${outMessage}, ${outIndex}, ${operation.value})\n            `);\n        }\n    });\n    const hasStringTemplate = operations.some((op) => op.type === 'string-template');\n    const inMessageUsed = operations.some((op) => op.type === 'noop' || op.type === 'string-template');\n    return {\n        inMessageUsed,\n        outMessageCode: ast `\n            ${hasStringTemplate ? Var('string', 'stringToken') : null}\n            ${hasStringTemplate ? Var('string', 'otherStringToken') : null}\n            ${inMessageUsed ? Var('Array<string>', 'stringMem', '[]') : null}\n            ${outTemplate} = []\n            ${outTemplateCode}\n            ${outMessage} = msg_create(${outTemplate})\n            ${outMessageCode}\n        `\n    };\n};\nconst buildMessageTransferOperations = (template) => {\n    // Creates an array of transfer functions `inVal -> outVal`.\n    return template.map((templateElem) => {\n        if (typeof templateElem === 'string') {\n            const matchDollar = DOLLAR_VAR_RE.exec(templateElem);\n            // If the transfer is a dollar var :\n            //      ['bla', 789] - ['$1'] -> ['bla']\n            //      ['bla', 789] - ['$2'] -> [789]\n            if (matchDollar && matchDollar[0] === templateElem) {\n                // -1, because $1 corresponds to value 0.\n                const inIndex = parseInt(matchDollar[1], 10) - 1;\n                return { type: 'noop', inIndex };\n            }\n            else if (matchDollar) {\n                const variables = [];\n                let matched;\n                while ((matched = DOLLAR_VAR_RE_GLOB.exec(templateElem))) {\n                    // position -1, because $1 corresponds to value 0.\n                    variables.push({\n                        placeholder: matched[0],\n                        inIndex: parseInt(matched[1], 10) - 1,\n                    });\n                }\n                return {\n                    type: 'string-template',\n                    template: templateElem,\n                    variables,\n                };\n                // Else the input doesn't matter\n            }\n            else {\n                return { type: 'string-constant', value: templateElem };\n            }\n        }\n        else {\n            return { type: 'float-constant', value: templateElem };\n        }\n    });\n};\nconst DOLLAR_VAR_RE = /\\$(\\d+)/;\nconst DOLLAR_VAR_RE_GLOB = /\\$(\\d+)/g;\n\nexport { builder, nodeImplementation };\n","import { mapArray, countTo } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertOptionalString, assertOptionalNumber } from '../validation.js';\nimport { bangUtils, msgUtils } from '../global-code/core.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : implement missing list operations\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => {\n        const operation = assertOptionalString(args[0]) || 'append';\n        let operationArgs = args.slice(1);\n        switch (operation) {\n            case 'split':\n                operationArgs = [assertOptionalNumber(args[1]) || 0];\n                break;\n            case 'trim':\n            case 'length':\n                operationArgs = [];\n                break;\n            case 'append':\n            case 'prepend':\n                break;\n            case 'fromsymbol':\n            case 'tosymbol':\n            case 'store':\n                throw new Error(`list operation ${operation} not implemented yet`);\n            default:\n                throw new Error(`invalid list operation ${operation}`);\n        }\n        return {\n            operation,\n            operationArgs,\n        };\n    },\n    build: ({ operation }) => {\n        let inletCount = 0;\n        let outletCount = 0;\n        switch (operation) {\n            case 'split':\n                inletCount = 2;\n                outletCount = 3;\n                break;\n            case 'trim':\n            case 'length':\n                inletCount = 1;\n                outletCount = 1;\n                break;\n            case 'prepend':\n            case 'append':\n                inletCount = 2;\n                outletCount = 1;\n                break;\n        }\n        return {\n            inlets: mapArray(countTo(inletCount), (i) => [`${i}`, { type: 'message', id: `${i}` }]),\n            outlets: mapArray(countTo(outletCount), (i) => [`${i}`, { type: 'message', id: `${i}` }]),\n        };\n    },\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('list', ['setSplitPoint']);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Int', 'splitPoint'),\n        Var('Message', 'currentList'),\n    ]),\n    Func(variableNames.setSplitPoint, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'value'),\n    ], 'void') `\n        state.splitPoint = toInt(value)\n    `\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n    ${ConstVar(variableNames.stateClass, state, `{\n        splitPoint: 0,\n        currentList: msg_create([]),\n    }`)}\n\n    ${args.operation === 'split' ?\n    `${state}.splitPoint = ${args.operationArgs[0]}` : null}\n\n    ${args.operation === 'append' || args.operation === 'prepend' ? ast ` \n        {\n            ${ConstVar('MessageTemplate', 'template', `[${args.operationArgs.map((arg) => typeof arg === 'string' ?\n    `MSG_STRING_TOKEN,${arg.length}`\n    : `MSG_FLOAT_TOKEN`).join(',')}]`)}\n\n            ${state}.currentList = msg_create(template)\n\n            ${args.operationArgs.map((arg, i) => typeof arg === 'string' ?\n    `msg_writeStringToken(${state}.currentList, ${i}, \"${arg}\")`\n    : `msg_writeFloatToken(${state}.currentList, ${i}, ${arg})`)}\n        }\n    ` : null}\n`;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state, node: { args } }) => {\n    const prepareInMessage = ConstVar('Message', 'inMessage', `msg_isBang(m) ? msg_create([]): m`);\n    switch (args.operation) {\n        case 'split':\n            return {\n                '0': AnonFunc([Var('Message', 'm')]) `\n                    ${prepareInMessage}\n                    if (msg_getLength(inMessage) < ${state}.splitPoint) {\n                        ${snds.$2}(m)\n                        return\n                    } else if (msg_getLength(inMessage) === ${state}.splitPoint) {\n                        ${snds.$1}(msg_bang())\n                        ${snds.$0}(m)\n                        return\n                    }\n                    ${ConstVar('Message', 'outMessage1', `msg_slice(inMessage, ${state}.splitPoint, msg_getLength(inMessage))`)}\n                    ${ConstVar('Message', 'outMessage0', `msg_slice(inMessage, 0, ${state}.splitPoint)`)}\n                    ${snds.$1}(msg_getLength(outMessage1) === 0 ? msg_bang(): outMessage1)\n                    ${snds.$0}(msg_getLength(outMessage0) === 0 ? msg_bang(): outMessage0)\n                    return\n                `,\n                '1': coldFloatInletWithSetter(variableNames.setSplitPoint, state),\n            };\n        case 'trim':\n            return {\n                '0': AnonFunc([Var('Message', 'm')]) `\n                    ${snds.$0}(m)\n                    return\n                `\n            };\n        case 'length':\n            return {\n                '0': AnonFunc([Var('Message', 'm')]) `\n                    if (msg_isBang(m)) {\n                        ${snds.$0}(msg_floats([0]))\n                    } else {\n                        ${snds.$0}(msg_floats([toFloat(msg_getLength(m))]))\n                    }\n                    return\n                `\n            };\n        case 'append':\n        case 'prepend':\n            const appendPrependOutMessageCode = args.operation === 'prepend' ?\n                `msg_concat(${state}.currentList, m)`\n                : `msg_concat(m, ${state}.currentList)`;\n            return {\n                '0': AnonFunc([Var('Message', 'm')]) `\n                    if (msg_isBang(m)) {\n                        ${snds.$0}(msg_getLength(${state}.currentList) === 0 ? msg_bang(): ${state}.currentList)\n                    } else {\n                        ${snds.$0}(msg_getLength(${state}.currentList) === 0 && msg_getLength(m) === 0 ? msg_bang(): ${appendPrependOutMessageCode})\n                    }\n                    return\n                `,\n                '1': AnonFunc([Var('Message', 'm')]) `\n                    ${prepareInMessage}\n                    ${state}.currentList = inMessage\n                    return\n                `\n            };\n        case 'length':\n        default:\n            throw new Error(`unknown list operation ${args.operation}`);\n    }\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [bangUtils, msgUtils, nodeCore]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalString } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { messageBuses } from '../global-code/buses.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO: proper support for $ args\n// TODO: simple number - shortcut for float\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => ({\n        value: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        isPushingMessages: true,\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('symbol');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('string', 'value')\n    ]),\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            value: \"${args.value}\"\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state, }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) {\n            ${snds.$0}(msg_strings([${state}.value]))\n            return\n\n        } else if (msg_isMatching(m, [MSG_STRING_TOKEN])) {\n            ${state}.value = msg_readStringToken(m, 0)\n            ${snds.$0}(msg_strings([${state}.value]))\n            return\n\n        }\n    `,\n    '1': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isMatching(m, [MSG_STRING_TOKEN])) {\n            ${state}.value = msg_readStringToken(m, 0)\n            return \n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        bangUtils,\n        messageBuses,\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalString } from '../validation.js';\nimport { messageBuses } from '../global-code/buses.js';\nimport { coldStringInlet } from '../standard-message-receivers.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Class } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builderSend = {\n    translateArgs: (pdNode) => ({\n        busName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {},\n    }),\n};\nconst builderReceive = {\n    translateArgs: (pdNode) => ({\n        busName: assertOptionalString(pdNode.args[0]) || '',\n    }),\n    build: () => ({\n        inlets: {},\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        isPushingMessages: true\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('send');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('string', 'busName')\n    ]),\n]);\n// -------------------------------- send ----------------------------------- //\nconst nodeImplementationSend = {\n    initialization: ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                busName: \"${args.busName}\",\n            }`)}\n        `,\n    messageReceivers: ({ state, }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            msgBusPublish(${state}.busName, m)\n            return\n        `,\n        '1': coldStringInlet(`${state}.busName`)\n    }),\n    dependencies: [\n        messageBuses,\n        commonsWaitEngineConfigure,\n        nodeCore,\n    ],\n};\n// -------------------------------- receive ----------------------------------- //\nconst nodeImplementationReceive = {\n    initialization: ({ node: { args }, snds }) => ast `\n            commons_waitEngineConfigure(() => {\n                msgBusSubscribe(\"${args.busName}\", ${snds.$0})\n            })\n        `,\n    dependencies: [\n        messageBuses,\n        commonsWaitEngineConfigure,\n    ],\n};\nconst builders = {\n    send: builderSend,\n    receive: builderReceive,\n};\nconst nodeImplementations = {\n    send: nodeImplementationSend,\n    receive: nodeImplementationReceive,\n};\n\nexport { builders, nodeImplementations };\n","import { parseSoundFileOpenOpts } from '../global-code/fs.js';\nimport { Sequence, Class, Var, Func, ConstVar, ast, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsArrays } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport { fsReadSoundFile, fsWriteSoundFile } from '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO: Implement -normalize for write operation\n// TODO: Implement output headersize\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n    }),\n};\n// ------------------------------ generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('soundfiler', [\n    'Operation',\n    'buildMessage1',\n]);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var(`Map<fs_OperationId, ${variableNames.Operation}>`, 'operations')\n    ]),\n    Class(variableNames.Operation, [\n        Var('string', 'url'),\n        Var('Array<string>', 'arrayNames'),\n        Var('boolean', 'resize'),\n        Var('Float', 'maxSize'),\n        Var('Float', 'framesToWrite'),\n        Var('Float', 'skip'),\n        Var('fs_SoundInfo', 'soundInfo'),\n    ]),\n    Func(variableNames.buildMessage1, [\n        Var('fs_SoundInfo', 'soundInfo')\n    ], 'Message') `\n        ${ConstVar('Message', 'm', `msg_create([\n            MSG_FLOAT_TOKEN,\n            MSG_FLOAT_TOKEN,\n            MSG_FLOAT_TOKEN,\n            MSG_FLOAT_TOKEN,\n            MSG_STRING_TOKEN,\n            soundInfo.endianness.length,\n        ])`)}\n        msg_writeFloatToken(m, 0, toFloat(soundInfo.sampleRate))\n        msg_writeFloatToken(m, 1, -1) // TODO IMPLEMENT headersize\n        msg_writeFloatToken(m, 2, toFloat(soundInfo.channelCount))\n        msg_writeFloatToken(m, 3, Math.round(toFloat(soundInfo.bitDepth) / 8))\n        msg_writeStringToken(m, 4, soundInfo.endianness)\n        return m\n    `\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            operations: new Map(),\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ state, globs, snds }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (\n            msg_getLength(m) >= 3 \n            && msg_isStringToken(m, 0)\n            && (\n                msg_readStringToken(m, 0) === 'read'\n                || msg_readStringToken(m, 0) === 'write'\n            )\n        ) {\n            ${ConstVar('string', 'operationType', `msg_readStringToken(m, 0)`)}\n            ${ConstVar('fs_SoundInfo', 'soundInfo', `{\n                channelCount: 0,\n                sampleRate: toInt(${globs.sampleRate}),\n                bitDepth: 32,\n                encodingFormat: '',\n                endianness: '',\n                extraOptions: '',\n            }`)}\n            ${ConstVar(variableNames.Operation, 'operation', `{\n                arrayNames: [],\n                resize: false,\n                maxSize: -1,\n                skip: 0,\n                framesToWrite: 0,\n                url: '',\n                soundInfo,\n            }`)}\n            ${Var('Set<Int>', 'unhandledOptions', `parseSoundFileOpenOpts(\n                m,\n                soundInfo,\n            )`)}\n            \n            // Remove the operation type\n            unhandledOptions.delete(0)\n            \n            ${Var('Int', 'i', '1')}\n            ${Var('string', 'str', '\"\"')}\n            while (i < msg_getLength(m)) {\n                if (!unhandledOptions.has(i)) {\n\n                } else if (msg_isStringToken(m, i)) {\n                    str = msg_readStringToken(m, i)\n                    if (str === '-resize') {\n                        unhandledOptions.delete(i)\n                        operation.resize = true\n\n                    } else if (str === '-maxsize' || str === '-nframes') {\n                        unhandledOptions.delete(i)\n                        if (\n                            i + 1 >= msg_getLength(m) \n                            || !msg_isFloatToken(m, i + 1)\n                        ) {\n                            console.log(\"invalid value for -maxsize\")\n                        }\n                        operation.maxSize = msg_readFloatToken(m, i + 1)\n                        unhandledOptions.delete(i + 1)\n                        i++\n\n                    } else if (str === '-skip') {\n                        unhandledOptions.delete(i)\n                        if (\n                            i + 1 >= msg_getLength(m) \n                            || !msg_isFloatToken(m, i + 1)\n                        ) {\n                            console.log(\"invalid value for -skip\")\n                        }\n                        operation.skip = msg_readFloatToken(m, i + 1)\n                        unhandledOptions.delete(i + 1)\n                        i++\n\n                    } else if (str === '-normalize') {\n                        unhandledOptions.delete(i)\n                        console.log('-normalize not implemented')\n                    }\n                }\n                i++\n            }\n\n            i = 1\n            ${Var('boolean', 'urlFound', 'false')}\n            while (i < msg_getLength(m)) {\n                if (!unhandledOptions.has(i)) {\n\n                } else if (msg_isStringToken(m, i)) {\n                    str = msg_readStringToken(m, i)\n                    if (!str.startsWith('-') && urlFound === false) {\n                        operation.url = str\n                        urlFound = true\n                    } else {\n                        operation.arrayNames.push(str)\n                    }\n                    unhandledOptions.delete(i)\n                }\n                i++\n            }\n\n            for (i = 0; i < operation.arrayNames.length; i++) {\n                if (!commons_hasArray(operation.arrayNames[i])) {\n                    console.log('[soundfiler] unknown array ' + operation.arrayNames[i])\n                    return\n                }\n            }\n\n            if (unhandledOptions.size) {\n                console.log(\"soundfiler received invalid options\")\n            }\n\n            soundInfo.channelCount = operation.arrayNames.length\n\n            if (operationType === 'read') {\n                ${ConstVar('fs_OperationId', 'id', ast `fs_readSoundFile(\n                    operation.url, \n                    soundInfo,\n                    ${AnonFunc([\n        Var('fs_OperationId', 'id'),\n        Var('fs_OperationStatus', 'status'),\n        Var('FloatArray[]', 'sound'),\n    ], 'void') `\n                        ${ConstVar(variableNames.Operation, 'operation', `${state}.operations.get(id)`)}\n                        ${state}.operations.delete(id)\n                        ${Var('Int', 'i', '0')}\n                        ${Var('Float', 'maxFramesRead', '0')}\n                        ${Var('Float', 'framesToRead', '0')}\n                        ${Var('FloatArray', 'array', 'createFloatArray(0)')}\n                        for (i = 0; i < sound.length; i++) {\n                            if (operation.resize) {\n                                if (operation.maxSize > 0) {\n                                    framesToRead = Math.min(\n                                        operation.maxSize, \n                                        toFloat(sound[i].length) - operation.skip\n                                    )\n    \n                                } else {\n                                    framesToRead = toFloat(sound[i].length) - operation.skip\n                                }\n    \n                                commons_setArray(\n                                    operation.arrayNames[i], \n                                    sound[i].subarray(\n                                        toInt(operation.skip), \n                                        toInt(operation.skip + framesToRead)\n                                    )\n                                )\n                                \n                            } else {\n                                array = commons_getArray(operation.arrayNames[i])\n                                framesToRead = Math.min(\n                                    toFloat(array.length),\n                                    toFloat(sound[i].length) - operation.skip\n                                )\n                                array.set(sound[i].subarray(0, array.length))\n                            }\n                            maxFramesRead = Math.max(\n                                maxFramesRead,\n                                framesToRead\n                            )\n                        }\n    \n                        ${snds.$1}(${variableNames.buildMessage1}(operation.soundInfo))\n                        ${snds.$0}(msg_floats([maxFramesRead]))\n                    `}\n                )`)}\n\n                ${state}.operations.set(id, operation)\n\n            } else if (operationType === 'write') {\n                ${Var('Int', 'i', '0')}\n                ${Var('Float', 'framesToWrite', '0')}\n                ${Var('FloatArray', 'array', 'createFloatArray(0)')}\n                ${ConstVar('FloatArray[]', 'sound', '[]')}\n                \n                for (i = 0; i < operation.arrayNames.length; i++) {\n                    framesToWrite = Math.max(\n                        framesToWrite,\n                        toFloat(commons_getArray(operation.arrayNames[i]).length) - operation.skip,\n                    )\n                }\n\n                if (operation.maxSize >= 0) {\n                    framesToWrite = Math.min(\n                        operation.maxSize, \n                        framesToWrite\n                    )\n                }\n                operation.framesToWrite = framesToWrite\n\n                if (framesToWrite < 1) {\n                    console.log('[soundfiler] no frames to write')\n                    return\n                }\n\n                for (i = 0; i < operation.arrayNames.length; i++) {\n                    array = commons_getArray(operation.arrayNames[i])\n                    if (framesToWrite > toFloat(array.length) - operation.skip) {\n                        sound.push(createFloatArray(toInt(framesToWrite)))\n                        sound[i].set(array.subarray(\n                            toInt(operation.skip), \n                            toInt(operation.skip + framesToWrite)\n                        ))\n                    } else {\n                        sound.push(array.subarray(\n                            toInt(operation.skip), \n                            toInt(operation.skip + framesToWrite)\n                        ))\n                    }\n                }\n\n                ${Func('callback', [\n        Var('fs_OperationId', 'id'),\n        Var('fs_OperationStatus', 'status'),\n    ], 'void') `\n                    ${ConstVar(variableNames.Operation, 'operation', `${state}.operations.get(id)`)}\n                    ${state}.operations.delete(id)\n                    ${snds.$1}(${variableNames.buildMessage1}(operation.soundInfo))\n                    ${snds.$0}(msg_floats([operation.framesToWrite]))\n                `}\n\n                ${ConstVar('fs_OperationId', 'id', `fs_writeSoundFile(\n                    sound, \n                    operation.url, \n                    soundInfo, \n                    callback\n                )`)}\n\n                ${state}.operations.set(id, operation)\n            }\n\n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    dependencies: [\n        parseSoundFileOpenOpts,\n        commonsArrays,\n        fsReadSoundFile,\n        fsWriteSoundFile,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { AnonFunc, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: (pdNode) => {\n        let prefix = 'print:';\n        if (pdNode.args.length === 1 && pdNode.args[0] === '-n') {\n            prefix = '';\n        }\n        else if (pdNode.args.length >= 1) {\n            prefix = pdNode.args.join(' ') + ':';\n        }\n        return { prefix };\n    },\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {},\n    }),\n};\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ node: { args } }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        console.log(\"${args.prefix} \" + msg_display(m))\n        return\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = { messageReceivers: messageReceivers };\n\nexport { builder, nodeImplementation };\n","import { ValidationError } from './validation.js';\nimport { Func, Var, ConstVar } from '../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\nconst TYPE_ARGUMENTS = [\n    'float',\n    'bang',\n    'symbol',\n    'list',\n    'anything',\n];\nconst resolveTypeArgumentAlias = (value) => {\n    switch (value) {\n        case 'f':\n            return 'float';\n        case 'b':\n            return 'bang';\n        case 's':\n            return 'symbol';\n        case 'l':\n            return 'list';\n        case 'a':\n            return 'anything';\n        case 'p':\n            return 'pointer';\n        default:\n            return value;\n    }\n};\nconst assertTypeArgument = (value) => {\n    if (value === 'pointer') {\n        throw new ValidationError(`\"pointer\" not supported (yet)`);\n    }\n    else if (!TYPE_ARGUMENTS.includes(value)) {\n        throw new ValidationError(`invalid type ${value}`);\n    }\n    return value;\n};\nconst renderMessageTransfer = (typeArgument, msgVariableName, index) => {\n    switch (typeArgument) {\n        case 'float':\n            return `msg_floats([messageTokenToFloat(${msgVariableName}, ${index})])`;\n        case 'bang':\n            return `msg_bang()`;\n        case 'symbol':\n            return `msg_strings([messageTokenToString(${msgVariableName}, ${index})])`;\n        case 'list':\n        case 'anything':\n            return `${msgVariableName}`;\n        default:\n            throw new Error(`type argument ${typeArgument} not supported (yet)`);\n    }\n};\nconst messageTokenToFloat = () => Func('messageTokenToFloat', [\n    Var('Message', 'm'),\n    Var('Int', 'i')\n], 'Float') `\n        if (msg_isFloatToken(m, i)) {\n            return msg_readFloatToken(m, i)\n        } else {\n            return 0\n        }\n    `;\nconst messageTokenToString = () => Func('messageTokenToString', [\n    Var('Message', 'm'),\n    Var('Int', 'i')\n], 'string') `\n        if (msg_isStringToken(m, i)) {\n            ${ConstVar('string', 'str', 'msg_readStringToken(m, i)')}\n            if (str === 'bang') {\n                return 'symbol'\n            } else {\n                return str\n            }\n        } else {\n            return 'float'\n        }\n    `;\n\nexport { assertTypeArgument, messageTokenToFloat, messageTokenToString, renderMessageTransfer, resolveTypeArgumentAlias };\n","import { mapArray } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { AnonFunc, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertString } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { resolveTypeArgumentAlias, assertTypeArgument, messageTokenToFloat, messageTokenToString, renderMessageTransfer } from '../type-arguments.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : \n// - pointer\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        typeArguments: args.length === 0 ? ['bang', 'bang'] : args\n            .map(assertString)\n            .map(resolveTypeArgumentAlias)\n            .map(assertTypeArgument),\n    }),\n    build: ({ typeArguments }) => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: mapArray(typeArguments, (_, i) => [`${i}`, { type: 'message', id: `${i}` }]),\n    }),\n};\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, node: { args: { typeArguments } } }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        ${typeArguments.reverse().map((typeArg, i) => `${snds[typeArguments.length - i - 1]}(${renderMessageTransfer(typeArg, 'm', 0)})`)}\n        return\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    dependencies: [\n        messageTokenToFloat,\n        messageTokenToString,\n        bangUtils,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Class } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        initValue: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('change');\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                currentValue: ${args.initValue}\n            }`)}\n        `,\n    messageReceivers: ({ snds, state, }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                ${ConstVar('Float', 'newValue', 'msg_readFloatToken(m, 0)')}\n                if (newValue !== ${state}.currentValue) {\n                    ${state}.currentValue = newValue\n                    ${snds[0]}(msg_floats([${state}.currentValue]))\n                }\n                return\n    \n            } else if (msg_isBang(m)) {\n                ${snds[0]}(msg_floats([${state}.currentValue]))\n                return \n    \n            } else if (\n                msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n                && msg_readStringToken(m, 0) === 'set'\n            ) {\n                ${state}.currentValue = msg_readFloatToken(m, 1)\n                return\n            }\n        `,\n    }),\n    dependencies: [\n        bangUtils,\n        () => Sequence([\n            Class(variableNames.stateClass, [\n                Var('Float', 'currentValue'),\n            ]),\n        ])\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInlet } from '../standard-message-receivers.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        threshold: assertOptionalNumber(args[0]) || 0\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('moses');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'threshold')\n    ]),\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            threshold: ${args.threshold},\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n            ${ConstVar('Float', 'value', 'msg_readFloatToken(m, 0)')}\n            if (value >= ${state}.threshold) {\n                ${snds[1]}(msg_floats([value]))\n            } else {\n                ${snds[0]}(msg_floats([value]))\n            }\n            return\n        }\n    `,\n    '1': coldFloatInlet(`${state}.threshold`),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers, dependencies: [nodeCore]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInlet } from '../standard-message-receivers.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Class } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        minValue: assertOptionalNumber(args[0]) || 0,\n        maxValue: assertOptionalNumber(args[1]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n            '2': { type: 'message', id: '2' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('clip');\nconst nodeImplementation = {\n    initialization: ({ node: { args }, state }) => ast `\n            ${ConstVar(variableNames.stateClass, state, `{\n                minValue: ${args.minValue},\n                maxValue: ${args.maxValue},\n            }`)}\n        `,\n    messageReceivers: ({ snds, state }) => ({\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                ${snds[0]}(msg_floats([\n                    Math.max(\n                        Math.min(\n                            ${state}.maxValue, \n                            msg_readFloatToken(m, 0)\n                        ), \n                        ${state}.minValue\n                    )\n                ]))\n                return\n            }\n        `,\n        '1': coldFloatInlet(`${state}.minValue`),\n        '2': coldFloatInlet(`${state}.maxValue`),\n    }),\n    dependencies: [\n        () => Sequence([\n            Class(variableNames.stateClass, [\n                Var('Float', 'minValue'),\n                Var('Float', 'maxValue'),\n            ]),\n        ])\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray, countTo, renderSwitch } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { bangUtils, msgUtils } from '../global-code/core.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        filters: args.length ? args : [0],\n    }),\n    build: (args) => {\n        const inlets = {\n            '0': { type: 'message', id: '0' },\n        };\n        if (args.filters.length === 1) {\n            inlets['1'] = { type: 'message', id: '1' };\n        }\n        return {\n            inlets,\n            outlets: mapArray(args.filters.length ? countTo(args.filters.length + 1) : [0, 1], (_, i) => [`${i}`, { type: 'message', id: `${i}` }]),\n        };\n    },\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('route');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'floatFilter'),\n        Var('string', 'stringFilter'),\n        Var('Int', 'filterType'),\n    ]),\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            floatFilter: ${typeof args.filters[0] === 'number' ? args.filters[0] : 0},\n            stringFilter: \"${args.filters[0]}\",\n            filterType: ${typeof args.filters[0] === 'number' ? 'MSG_FLOAT_TOKEN' : 'MSG_STRING_TOKEN'},\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state, node: { args } }) => {\n    if (args.filters.length > 1) {\n        return {\n            '0': AnonFunc([Var('Message', 'm')]) `\n                ${args.filters.map((filter, i) => renderSwitch([filter === 'float', `\n                        if (msg_isFloatToken(m, 0)) {\n                            ${snds[i]}(m)\n                            return\n                        }\n                    `], [filter === 'symbol', `\n                        if (msg_isStringToken(m, 0)) {\n                            ${snds[i]}(m)\n                            return\n                        }\n                    `], [filter === 'list', `\n                        if (msg_getLength(m).length > 1) {\n                            ${snds[i]}(m)\n                            return\n                        }\n                    `], [filter === 'bang', `\n                        if (msg_isBang(m)) {\n                            ${snds[i]}(m)\n                            return\n                        }\n                    `], [typeof filter === 'number', `\n                        if (\n                            msg_isFloatToken(m, 0)\n                            && msg_readFloatToken(m, 0) === ${filter}\n                        ) {\n                            ${snds[i]}(msg_emptyToBang(msg_shift(m)))\n                            return\n                        }\n                    `], [typeof filter === 'string', `\n                        if (\n                            msg_isStringToken(m, 0) \n                            && msg_readStringToken(m, 0) === \"${filter}\"\n                        ) {\n                            ${snds[i]}(msg_emptyToBang(msg_shift(m)))\n                            return\n                        }`\n            ]))}\n\n                ${snds[args.filters.length]}(m)\n                return\n            `\n        };\n    }\n    else {\n        return {\n            '0': AnonFunc([Var('Message', 'm')]) `\n                if (${state}.filterType === MSG_STRING_TOKEN) {\n                    if (\n                        (${state}.stringFilter === 'float'\n                            && msg_isFloatToken(m, 0))\n                        || (${state}.stringFilter === 'symbol'\n                            && msg_isStringToken(m, 0))\n                        || (${state}.stringFilter === 'list'\n                            && msg_getLength(m) > 1)\n                        || (${state}.stringFilter === 'bang' \n                            && msg_isBang(m))\n                    ) {\n                        ${snds.$0}(m)\n                        return\n                    \n                    } else if (\n                        msg_isStringToken(m, 0)\n                        && msg_readStringToken(m, 0) === ${state}.stringFilter\n                    ) {\n                        ${snds.$0}(msg_emptyToBang(msg_shift(m)))\n                        return\n                    }\n\n                } else if (\n                    msg_isFloatToken(m, 0)\n                    && msg_readFloatToken(m, 0) === ${state}.floatFilter\n                ) {\n                    ${snds.$0}(msg_emptyToBang(msg_shift(m)))\n                    return\n                }\n            \n                ${snds.$1}(m)\n            return\n            `,\n            '1': AnonFunc([Var('Message', 'm')]) `\n                ${state}.filterType = msg_getTokenType(m, 0)\n                if (${state}.filterType === MSG_STRING_TOKEN) {\n                    ${state}.stringFilter = msg_readStringToken(m, 0)\n                } else {\n                    ${state}.floatFilter = msg_readFloatToken(m, 0)\n                }\n                return\n            `\n        };\n    }\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        bangUtils,\n        msgUtils,\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        isClosed: (assertOptionalNumber(args[0]) || 0) === 0\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('spigot', ['setIsClosed']);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'isClosed')\n    ]),\n    Func(variableNames.setIsClosed, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'value'),\n    ], 'void') `\n        state.isClosed = (value === 0)\n    `\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            isClosed: ${args.isClosed ? 'true' : 'false'}\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (!${state}.isClosed) {\n            ${snds.$0}(m)\n        }\n        return\n    `,\n    '1': coldFloatInletWithSetter(variableNames.setIsClosed, state),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    initialization: initialization,\n    messageReceivers: messageReceivers,\n    dependencies: [\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { bangUtils } from '../global-code/core.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: () => ({}),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('until');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('boolean', 'continueIter')\n    ]),\n]);\nconst initialization = ({ state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            continueIter: true,\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) {\n            ${state}.continueIter = true\n            while (${state}.continueIter) {\n                ${snds[0]}(msg_bang())\n            }\n            return\n\n        } else if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n            ${state}.continueIter = true\n            ${Var('Int', 'maxIterCount', 'toInt(msg_readFloatToken(m, 0))')}\n            ${Var('Int', 'iterCount', '0')}\n            while (${state}.continueIter && iterCount++ < maxIterCount) {\n                ${snds[0]}(msg_bang())\n            }\n            return\n        }\n    `,\n    '1': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) {\n            ${state}.continueIter = false\n            return\n        }\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        bangUtils,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { assertOptionalNumber } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { Sequence, Class, Var, Func, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : make seed work\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        maxValue: assertOptionalNumber(args[0]) || 0,\n    }),\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('random', [\n    'setMaxValue',\n]);\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Float', 'maxValue')\n    ]),\n    Func(variableNames.setMaxValue, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'maxValue'),\n    ], 'void') `\n        state.maxValue = Math.max(maxValue, 0)\n    `\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            maxValue: ${args.maxValue}\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isBang(m)) {\n            ${snds['0']}(msg_floats([Math.floor(Math.random() * ${state}.maxValue)]))\n            return\n        } else if (\n            msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n            && msg_readStringToken(m, 0) === 'seed'\n        ) {\n            console.log('WARNING : seed not implemented yet for [random]')\n            return\n        }\n    `,\n    '1': coldFloatInletWithSetter(variableNames.setMaxValue, state),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        bangUtils,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray, countTo } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, ConstVar, Func, ast, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsWaitEngineConfigure, commonsWaitFrame } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { assertNumber } from '../validation.js';\nimport { bangUtils, stringMsgUtils } from '../global-code/core.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { resolveTypeArgumentAlias, assertTypeArgument, messageTokenToFloat, messageTokenToString, renderMessageTransfer } from '../type-arguments.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => {\n        let delay = 0;\n        if (args.length >= 1) {\n            delay = assertNumber(args[args.length - 1]);\n            args = args.slice(0, -1);\n        }\n        args = args.length ? args : [0];\n        return {\n            typeArguments: args.map(resolveTypeArgumentAlias)\n                .map(value => [\n                typeof value === 'number' ? 'float' : assertTypeArgument(value),\n                typeof value === 'number' ? value : value === 'float' ? 0 : 'symbol'\n            ]),\n            delay\n        };\n    },\n    build: (args) => ({\n        inlets: {\n            ...mapArray(args.typeArguments, (_, i) => [`${i}`, { type: 'message', id: `${i}` }]),\n            [`${args.typeArguments.length}`]: {\n                type: 'message',\n                id: `${args.typeArguments.length}`\n            },\n        },\n        outlets: mapArray(args.typeArguments, (_, i) => [`${i}`, { type: 'message', id: `${i}` }]),\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('pipe', [\n    'prepareMessageScheduling',\n    'sendMessages',\n    'clear',\n    'setDelay',\n    'ScheduledMessage',\n    'dummyScheduledMessage',\n]);\nconst nodeCore = ({ globs }) => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Int', 'delay'),\n        Var('Array<Message>', 'outputMessages'),\n        Var(`Array<${variableNames.ScheduledMessage}>`, 'scheduledMessages'),\n        Var('Array<(m: Message) => void>', 'snds'),\n    ]),\n    Class(variableNames.ScheduledMessage, [\n        Var('Message', 'message'),\n        Var('Int', 'frame'),\n        Var('SkedId', 'skedId'),\n    ]),\n    ConstVar(variableNames.ScheduledMessage, variableNames.dummyScheduledMessage, `{\n        message: msg_create([]),\n        frame: 0,\n        skedId: SKED_ID_NULL,\n    }`),\n    Func(variableNames.prepareMessageScheduling, [\n        Var(variableNames.stateClass, 'state'),\n        Var('SkedCallback', 'callback'),\n    ], 'Int') `\n        ${Var('Int', 'insertIndex', '0')}\n        ${Var('Int', 'frame', `${globs.frame} + state.delay`)}\n        ${Var('SkedId', 'skedId', 'SKED_ID_NULL')}\n\n        while (\n            insertIndex < state.scheduledMessages.length \n            && state.scheduledMessages[insertIndex].frame <= frame\n        ) {\n            insertIndex++\n        }\n\n        ${''\n    // If there was not yet a callback scheduled for that frame, we schedule it.\n    }\n        if (\n            insertIndex === 0 || \n            (\n                insertIndex > 0 \n                && state.scheduledMessages[insertIndex - 1].frame !== frame\n            )\n        ) {\n            skedId = commons_waitFrame(frame, callback)\n        }\n\n        ${''\n    // !!! Array.splice insertion is not supported by assemblyscript, so : \n    // 1. We grow arrays to their post-insertion size by using `push`\n    // 2. We use `copyWithin` to move old elements to their final position.\n    // 3. Instantiate new messages in the newly created holes.\n    }\n        for (${Var('Int', 'i', 0)}; i < state.snds.length; i++) {\n            state.scheduledMessages.push(${variableNames.dummyScheduledMessage})\n        }\n        state.scheduledMessages.copyWithin(\n            (insertIndex + 1) * state.snds.length, \n            insertIndex * state.snds.length\n        )\n        for (${Var('Int', 'i', 0)}; i < state.snds.length; i++) {\n            state.scheduledMessages[insertIndex + i] = {\n                message: ${variableNames.dummyScheduledMessage}.message,\n                frame,\n                skedId,\n            }\n        }\n\n        return insertIndex\n    `,\n    Func(variableNames.sendMessages, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Int', 'toFrame'),\n    ], 'void') `\n        ${Var('Int', 'i', 0)}\n        while (\n            state.scheduledMessages.length \n            && state.scheduledMessages[0].frame <= toFrame\n        ) {\n            for (i = 0; i < state.snds.length; i++) {\n                // Snds are already reversed\n                state.snds[i](state.scheduledMessages.shift().message)\n            }\n        }\n    `,\n    Func(variableNames.clear, [\n        Var(variableNames.stateClass, 'state'),\n    ], 'void') `\n        ${Var('Int', 'i', '0')}\n        ${ConstVar('Int', 'length', `state.scheduledMessages.length`)}\n        for (i; i < length; i++) {\n            commons_cancelWaitFrame(state.scheduledMessages[i].skedId)\n        }\n        state.scheduledMessages = []\n    `,\n    Func(variableNames.setDelay, [\n        Var(variableNames.stateClass, 'state'),\n        Var('Float', 'delay'),\n    ], 'void') `\n        state.delay = toInt(Math.round(delay / 1000 * ${globs.sampleRate}))\n    `,\n]);\nconst initialization = ({ node: { args, id }, state, snds }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            delay: 0,\n            outputMessages: [${args.typeArguments\n    .map(([_, value]) => typeof value === 'number' ?\n    `msg_floats([${value}])`\n    : `msg_strings([\"${value}\"])`).join(',')}],\n            scheduledMessages: [],\n            snds: [${countTo(args.typeArguments.length)\n    .reverse()\n    .map((i) => snds[i]).join(', ')}],\n        }`)}\n\n        commons_waitEngineConfigure(() => {\n            ${variableNames.setDelay}(${state}, ${args.delay})\n        })\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ node: { args }, state, globs, }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (msg_isAction(m, 'clear')) {\n            ${variableNames.clear}(${state})\n            return \n\n        } else if (msg_isAction(m, 'flush')) {\n            if (${state}.scheduledMessages.length) {\n                ${variableNames.sendMessages}(\n                    ${state}, \n                    ${state}.scheduledMessages[${state}.scheduledMessages.length - 1].frame\n                )\n            }\n            return\n\n        } else {\n            ${ConstVar('Message', 'inMessage', 'msg_isBang(m) ? msg_create([]): m')}\n            ${ConstVar('Int', 'insertIndex', `${variableNames.prepareMessageScheduling}(\n                ${state}, \n                () => {\n                    ${variableNames.sendMessages}(${state}, ${globs.frame})\n                },\n            )`)}\n\n            ${args.typeArguments.slice(0).reverse()\n        .map(([typeArg], i) => [args.typeArguments.length - i - 1, typeArg])\n        .map(([iReverse, typeArg], i) => ast `\n                        if (msg_getLength(inMessage) > ${iReverse}) {\n                            ${state}.scheduledMessages[insertIndex + ${i}].message = \n                                ${renderMessageTransfer(typeArg, 'inMessage', iReverse)}\n                            ${state}.outputMessages[${iReverse}] \n                                = ${state}.scheduledMessages[insertIndex + ${i}].message\n                        } else {\n                            ${state}.scheduledMessages[insertIndex + ${i}].message \n                                = ${state}.outputMessages[${iReverse}]\n                        }\n                    `)}\n\n            return\n        }\n    `,\n    ...mapArray(args.typeArguments.slice(1), ([typeArg], i) => [\n        `${i + 1}`,\n        AnonFunc([Var('Message', 'm')]) `\n                ${state}.outputMessages[${i + 1}] = ${renderMessageTransfer(typeArg, 'm', 0)}\n                return\n            `\n    ]),\n    [args.typeArguments.length]: coldFloatInletWithSetter(variableNames.setDelay, state)\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        messageTokenToFloat,\n        messageTokenToString,\n        bangUtils,\n        stringMsgUtils,\n        commonsWaitEngineConfigure,\n        commonsWaitFrame,\n        nodeCore,\n    ],\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { resolveTypeArgumentAlias, assertTypeArgument, messageTokenToString, messageTokenToFloat } from '../type-arguments.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        typeArguments: (args.length ? args : ['float', 'float']).map(resolveTypeArgumentAlias)\n            // Not sure why but 'bang' is supported as a creation argument, \n            // but turned into a float.\n            .map(typeArg => {\n            // Assign default value\n            typeArg = typeArg || 'float';\n            if (typeArg === 'bang') {\n                typeArg = 'float';\n            }\n            if (typeof typeArg === 'number') {\n                return typeArg;\n            }\n            else if (!['float', 'symbol'].includes(typeArg)) {\n                throw new Error(`${typeArg} not supported (yet)`);\n            }\n            return typeArg;\n        })\n            .map(value => [\n            typeof value === 'number' ? 'float' : assertTypeArgument(value),\n            typeof value === 'number' ? value : value === 'float' ? 0 : 'symbol'\n        ]),\n    }),\n    build: ({ typeArguments }) => ({\n        inlets: mapArray(typeArguments, (_, i) => [`${i}`, { type: 'message', id: `${i}` }]),\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n};\n// ------------------------------- generateDeclarations ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('pack');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Array<Float>', 'floatValues'),\n        Var('Array<string>', 'stringValues'),\n    ]),\n]);\nconst initialization = ({ node: { args }, state }) => ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            floatValues: [${args.typeArguments.map(([typeArg, defaultValue]) => typeArg === 'float' ? defaultValue : 0).join(',')}],\n            stringValues: [${args.typeArguments.map(([typeArg, defaultValue]) => typeArg === 'symbol' ? `\"${defaultValue}\"` : '\"\"').join(',')}]\n        }`)}\n    `;\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, state, node }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        if (!msg_isBang(m)) {\n            for (${Var('Int', 'i', '0')}; i < msg_getLength(m); i++) {\n                ${state}.stringValues[i] = messageTokenToString(m, i)\n                ${state}.floatValues[i] = messageTokenToFloat(m, i)\n            }\n        }\n\n        ${ConstVar('MessageTemplate', 'template', `[${node.args.typeArguments.map(([typeArg], i) => typeArg === 'symbol' ?\n        `MSG_STRING_TOKEN, ${state}.stringValues[${i}].length`\n        : `MSG_FLOAT_TOKEN`).join(',')}]`)}\n\n        ${ConstVar('Message', 'messageOut', 'msg_create(template)')}\n\n        ${node.args.typeArguments.map(([typeArg], i) => typeArg === 'symbol' ?\n        `msg_writeStringToken(messageOut, ${i}, ${state}.stringValues[${i}])`\n        : `msg_writeFloatToken(messageOut, ${i}, ${state}.floatValues[${i}])`)}\n\n        ${snds[0]}(messageOut)\n        return\n    `,\n    ...mapArray(node.args.typeArguments.slice(1), ([typeArg], i) => {\n        if (typeArg === 'symbol') {\n            return [\n                `${i + 1}`,\n                AnonFunc([Var('Message', 'm')]) `\n                    ${state}.stringValues[${i + 1}] = messageTokenToString(m, 0)\n                    return\n                `\n            ];\n        }\n        else if (typeArg === 'float') {\n            return [\n                `${i + 1}`,\n                AnonFunc([Var('Message', 'm')]) `\n                    ${state}.floatValues[${i + 1}] = messageTokenToFloat(m, 0)\n                    return\n                `\n            ];\n        }\n        else {\n            throw new Error(`Unsupported type argument ${typeArg}`);\n        }\n    }),\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n    initialization: initialization,\n    dependencies: [\n        messageTokenToString,\n        messageTokenToFloat,\n        bangUtils,\n        nodeCore,\n    ]\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray, renderSwitch } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { AnonFunc, Var } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { resolveTypeArgumentAlias } from '../type-arguments.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst builder = {\n    translateArgs: ({ args }) => ({\n        typeArguments: args.length === 0 ? ['float', 'float'] : args\n            .map(resolveTypeArgumentAlias)\n            .map(arg => {\n            if (typeof arg === 'number') {\n                return 'float';\n            }\n            else if (arg === 'symbol' || arg === 'float') {\n                return arg;\n            }\n            else {\n                throw new Error(`Invalid type argument for unpack \"${arg}\"`);\n            }\n        }),\n    }),\n    build: ({ typeArguments }) => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n        },\n        outlets: mapArray(typeArguments, (_, i) => [`${i}`, { type: 'message', id: `${i}` }]),\n    }),\n};\n// ------------------------------- messageReceivers ------------------------------ //\nconst messageReceivers = ({ snds, node: { args } }) => ({\n    '0': AnonFunc([Var('Message', 'm')]) `\n        ${args.typeArguments.map((t, i) => [t, i]).reverse().map(([t, reversedI]) => `\n                if (\n                    msg_getLength(m) >= ${reversedI + 1}\n                ) {\n                    if (msg_getTokenType(m, ${reversedI}) === ${t === 'float' ? 'MSG_FLOAT_TOKEN' : 'MSG_STRING_TOKEN'}) {\n                        ${renderSwitch([t === 'float', `${snds[reversedI]}(msg_floats([msg_readFloatToken(m, ${reversedI})]))`], [t === 'symbol', `${snds[reversedI]}(msg_strings([msg_readStringToken(m, ${reversedI})]))`])}\n                    } else {\n                        console.log('unpack : invalid token type index ${reversedI}')\n                    }\n                }\n            `)}\n        return\n    `,\n});\n// ------------------------------------------------------------------- //\nconst nodeImplementation = {\n    messageReceivers: messageReceivers,\n};\n\nexport { builder, nodeImplementation };\n","import { mapArray } from '../../../../WebPd_compiler/dist/src/functional-helpers.js';\nimport { Sequence, Class, Var, ast, ConstVar, AnonFunc } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport { commonsArrays } from '../../../../WebPd_compiler/dist/src/stdlib/commons.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { roundFloatAsPdInt } from '../global-code/numbers.js';\nimport { messageTokenToString, messageTokenToFloat } from '../type-arguments.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : Implement if (`if(<test>, <then>, <else>)`)\n// TODO : [expr random(0, 10000)] fails (no inlet), and random function doesn't exist\n// ------------------------------- node builder ------------------------------ //\nconst builderExpr = {\n    translateArgs: ({ args }) => ({\n        tokenizedExpressions: preprocessExpression(args).map(tokenizeExpression),\n    }),\n    build: (args) => ({\n        inlets: mapArray(validateAndListInputsExpr(args.tokenizedExpressions), ({ id }) => [`${id}`, { type: 'message', id: `${id}` }]),\n        outlets: mapArray(args.tokenizedExpressions, (_, i) => [\n            `${i}`,\n            { type: 'message', id: `${i}` },\n        ]),\n    }),\n};\nconst builderExprTilde = {\n    translateArgs: ({ args }) => ({\n        tokenizedExpressions: preprocessExpression(args).map(tokenizeExpression),\n    }),\n    build: (args) => ({\n        inlets: mapArray(validateAndListInputsExprTilde(args.tokenizedExpressions), ({ id, type }) => [\n            `${id}`,\n            { type: type === 'signal' ? 'signal' : 'message', id: `${id}` },\n        ]),\n        outlets: mapArray(args.tokenizedExpressions, (_, i) => [\n            `${i}`,\n            { type: 'signal', id: `${i}` },\n        ]),\n    }),\n};\n// ------------------------------- node implementation ------------------------------ //\nconst variableNames = generateVariableNamesNodeType('expr');\nconst nodeCore = () => Sequence([\n    Class(variableNames.stateClass, [\n        Var('Map<Int, Float>', 'floatInputs'),\n        Var('Map<Int, string>', 'stringInputs'),\n        Var('Array<Float>', 'outputs'),\n    ]),\n]);\nconst initialization = ({ node: { args, type }, state }) => {\n    const inputs = type === 'expr' ?\n        validateAndListInputsExpr(args.tokenizedExpressions)\n        : validateAndListInputsExprTilde(args.tokenizedExpressions)\n            .filter(({ type }) => type !== 'signal');\n    return ast `\n        ${ConstVar(variableNames.stateClass, state, `{\n            floatInputs: new Map(),\n            stringInputs: new Map(),\n            outputs: new Array(${args.tokenizedExpressions.length}),\n        }`)}\n\n        ${inputs.filter(input => input.type === 'float' || input.type === 'int')\n        .map(input => `${state}.floatInputs.set(${input.id}, 0)`)}\n        ${inputs.filter(input => input.type === 'string')\n        .map(input => `${state}.stringInputs.set(${input.id}, '')`)}\n    `;\n};\nconst loopExprTilde = ({ node: { args }, state, outs, ins, }) => Sequence(args.tokenizedExpressions.map((tokens, i) => `${outs[i]} = ${renderTokenizedExpression(state, ins, tokens)}`));\nconst messageReceivers = ({ snds, state, node: { args, type }, }) => {\n    const inputs = type === 'expr' ?\n        validateAndListInputsExpr(args.tokenizedExpressions)\n        : validateAndListInputsExprTilde(args.tokenizedExpressions)\n            .filter(({ type }) => type !== 'signal');\n    const hasInput0 = inputs.length && inputs[0].id === 0;\n    return {\n        '0': AnonFunc([Var('Message', 'm')]) `\n            if (!msg_isBang(m)) {\n                for (${Var('Int', 'i', '0')}; i < msg_getLength(m); i++) {\n                    ${state}.stringInputs.set(i, messageTokenToString(m, i))\n                    ${state}.floatInputs.set(i, messageTokenToFloat(m, i))\n                }\n            }\n\n            ${type === 'expr' ? `\n                ${args.tokenizedExpressions.map((tokens, i) => `${state}.outputs[${i}] = ${renderTokenizedExpression(state, null, tokens)}`)}\n        \n                ${args.tokenizedExpressions.map((_, i) => `${snds[`${i}`]}(msg_floats([${state}.outputs[${i}]]))`)}\n            ` : null}\n            \n            return\n        `,\n        ...mapArray(inputs.slice(hasInput0 ? 1 : 0), ({ id, type }) => {\n            if (type === 'float' || type === 'int') {\n                return [\n                    `${id}`,\n                    AnonFunc([Var('Message', 'm')]) `\n                            ${state}.floatInputs.set(${id}, messageTokenToFloat(m, 0))\n                            return\n                        `\n                ];\n            }\n            else if (type === 'string') {\n                return [\n                    `${id}`,\n                    AnonFunc([Var('Message', 'm')]) `\n                            ${state}.stringInputs.set(${id}, messageTokenToString(m, 0))\n                            return\n                        `\n                ];\n            }\n            else {\n                throw new Error(`invalid input type ${type}`);\n            }\n        })\n    };\n};\n// ------------------------------------------------------------------- //\n// NOTE: Normally we'd use named regexp capturing groups, but that causes problems with \n// create-react-app which uses a babel plugin to remove them.\nconst TOKENIZE_REGEXP = /(?<f>\\$f(?<id_f>[0-9]+))|(?<v>\\$v(?<id_v>[0-9]+))|(?<i>\\$i(?<id_i>[0-9]+))|(?<s>\\$s(?<id_s>[0-9]+)\\s*\\[(?<sIndex>[^\\[\\]]*)\\])/;\nconst tokenizeExpression = (expression) => {\n    let match;\n    let tokens = [];\n    while (match = TOKENIZE_REGEXP.exec(expression)) {\n        if (match.index) {\n            tokens.push({\n                type: 'raw',\n                content: expression.slice(0, match.index)\n            });\n        }\n        if (match[1]) {\n            tokens.push({\n                type: 'float',\n                id: parseInt(match[2]) - 1,\n            });\n        }\n        else if (match[3]) {\n            tokens.push({\n                type: 'signal',\n                id: parseInt(match[4]) - 1,\n            });\n        }\n        else if (match[5]) {\n            tokens.push({\n                type: 'int',\n                id: parseInt(match[6]) - 1,\n            });\n            // Symbols in an expr are used normally only to index an array.\n            // Since we need to cast to an int to index an array, we need \n            // to wrap the indexing expression with a cast to int :\n            // $s1[$i1 + 2] -> $s1[toInt($i1 + 2)]\n        }\n        else if (match[7]) {\n            tokens = [\n                ...tokens,\n                {\n                    type: 'string',\n                    id: parseInt(match[8]) - 1,\n                },\n                {\n                    type: 'indexing-start'\n                },\n                ...tokenizeExpression(match[9]),\n                {\n                    type: 'indexing-end'\n                },\n            ];\n        }\n        expression = expression.slice(match.index + match[0].length);\n    }\n    if (expression.length) {\n        tokens.push({\n            type: 'raw',\n            content: expression\n        });\n    }\n    return tokens;\n};\nconst renderTokenizedExpression = (state, ins, tokens) => \n// Add '+(' to convert for example boolean output to float\n'+(' + tokens.map(token => {\n    switch (token.type) {\n        case 'float':\n            return `${state}.floatInputs.get(${token.id})`;\n        case 'signal':\n            if (ins === null) {\n                throw new Error(`invalid token signal received`);\n            }\n            return ins[token.id];\n        case 'int':\n            return `roundFloatAsPdInt(${state}.floatInputs.get(${token.id}))`;\n        case 'string':\n            return `commons_getArray(${state}.stringInputs.get(${token.id}))`;\n        case 'indexing-start':\n            return '[toInt(';\n        case 'indexing-end':\n            return ')]';\n        case 'raw':\n            return token.content;\n    }\n}).join('') + ')';\nconst listInputs = (tokenizedExpressions) => {\n    const inputs = [];\n    tokenizedExpressions.forEach(tokenizedExpression => {\n        tokenizedExpression.forEach(token => {\n            if (token.type === 'float'\n                || token.type === 'signal'\n                || token.type === 'int'\n                || token.type === 'string') {\n                inputs.push(token);\n            }\n        });\n    });\n    // Sort so that input 0 appears first if it exists\n    inputs.sort(({ id: i1 }, { id: i2 }) => i1 - i2);\n    const inputsMap = new Map();\n    return inputs.filter(token => {\n        if (inputsMap.has(token.id)) {\n            if (inputsMap.get(token.id).type !== token.type) {\n                throw new Error(`contradictory definitions for input ${token.id}`);\n            }\n            return false;\n        }\n        else {\n            inputsMap.set(token.id, token);\n            return true;\n        }\n    });\n};\nconst validateAndListInputsExpr = (tokenizedExpressions) => {\n    const inputs = listInputs(tokenizedExpressions);\n    inputs.forEach(input => {\n        if (input.type === 'signal') {\n            throw new Error(`invalid signal token $v# for [expr]`);\n        }\n    });\n    return inputs;\n};\nconst validateAndListInputsExprTilde = (tokenizedExpressions) => {\n    return listInputs(tokenizedExpressions);\n};\nconst preprocessExpression = (args) => {\n    let expression = args.join(' ');\n    // Get all Math functions from the expression and prefix them with `Math.`\n    Object.getOwnPropertyNames(Math).forEach(funcName => {\n        expression = expression.replaceAll(funcName, `Math.${funcName}`);\n    });\n    // Split the several outputs from the expression\n    return expression.split(';')\n        .map(expression => expression.trim());\n};\nconst nodeImplementations = {\n    expr: {\n        messageReceivers: messageReceivers,\n        initialization: initialization,\n        dependencies: [\n            messageTokenToString,\n            messageTokenToFloat,\n            roundFloatAsPdInt,\n            bangUtils,\n            commonsArrays,\n            nodeCore,\n        ],\n    },\n    'expr~': {\n        messageReceivers: messageReceivers,\n        initialization: initialization,\n        loop: loopExprTilde,\n        dependencies: [\n            messageTokenToString,\n            messageTokenToFloat,\n            roundFloatAsPdInt,\n            bangUtils,\n            commonsArrays,\n            nodeCore,\n        ],\n    },\n};\nconst builders = {\n    'expr': builderExpr,\n    'expr~': builderExprTilde,\n};\n\nexport { TOKENIZE_REGEXP, builders, listInputs, nodeImplementations, renderTokenizedExpression, tokenizeExpression };\n","import { assertOptionalNumber } from '../validation.js';\nimport { bangUtils } from '../global-code/core.js';\nimport { coldFloatInletWithSetter } from '../standard-message-receivers.js';\nimport { pow } from '../global-code/funcs.js';\nimport { ast, ConstVar, AnonFunc, Var, Sequence, Class, Func } from '../../../../WebPd_compiler/dist/src/ast/declare.js';\nimport '../../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { generateVariableNamesNodeType } from '../variable-names.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// ------------------------------- node builder ------------------------------ //\nconst makeBuilder = (defaultValue) => ({\n    translateArgs: (pdNode) => {\n        const value = assertOptionalNumber(pdNode.args[0]);\n        return {\n            value: value !== undefined ? value : defaultValue,\n        };\n    },\n    build: () => ({\n        inlets: {\n            '0': { type: 'message', id: '0' },\n            '1': { type: 'message', id: '1' },\n        },\n        outlets: {\n            '0': { type: 'message', id: '0' },\n        },\n    }),\n});\n// ------------------------------- node implementation ------------------------------ //\nconst variableNamesBinopBase = generateVariableNamesNodeType('binopbase');\nconst makeNodeImplementation = ({ operationName, generateOperation, dependencies = [], prepareLeftOp, prepareRightOp, }) => {\n    const variableNames = generateVariableNamesNodeType(operationName, ['setLeft', 'setRight']);\n    return {\n        initialization: ({ state, node: { args } }) => ast `\n        ${ConstVar(variableNamesBinopBase.stateClass, state, `{\n                leftOp: 0,\n                rightOp: 0,\n            }`)}\n            ${variableNames.setLeft}(${state}, 0)\n            ${variableNames.setRight}(${state}, ${args.value})\n        `,\n        messageReceivers: ({ state, snds }) => ({\n            '0': AnonFunc([Var('Message', 'm')]) `\n                if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                    ${variableNames.setLeft}(${state}, msg_readFloatToken(m, 0))\n                    ${snds.$0}(msg_floats([${generateOperation(state)}]))\n                    return\n                \n                } else if (msg_isBang(m)) {\n                    ${snds.$0}(msg_floats([${generateOperation(state)}]))\n                    return\n                }\n            `,\n            '1': coldFloatInletWithSetter(variableNames.setRight, state),\n        }),\n        dependencies: [\n            bangUtils,\n            ...dependencies,\n            // Shared code for all operators\n            () => Sequence([\n                Class(variableNamesBinopBase.stateClass, [\n                    Var('Float', 'leftOp'),\n                    Var('Float', 'rightOp')\n                ])\n            ]),\n            // Operator-dependent code\n            () => Sequence([\n                Func(variableNames.setLeft, [\n                    Var(variableNamesBinopBase.stateClass, 'state'),\n                    Var('Float', 'value'),\n                ], 'void') `\n                    state.leftOp = ${prepareLeftOp ? prepareLeftOp : 'value'}\n                `,\n                Func(variableNames.setRight, [\n                    Var(variableNamesBinopBase.stateClass, 'state'),\n                    Var('Float', 'value'),\n                ], 'void') `\n                    state.rightOp = ${prepareRightOp ? prepareRightOp : 'value'}\n                `,\n            ]),\n        ],\n    };\n};\n// ------------------------------------------------------------------- //\nconst nodeImplementations = {\n    '+': makeNodeImplementation({\n        operationName: 'add',\n        generateOperation: (state) => `${state}.leftOp + ${state}.rightOp`,\n    }),\n    '-': makeNodeImplementation({\n        operationName: 'sub',\n        generateOperation: (state) => `${state}.leftOp - ${state}.rightOp`,\n    }),\n    '*': makeNodeImplementation({\n        operationName: 'mul',\n        generateOperation: (state) => `${state}.leftOp * ${state}.rightOp`,\n    }),\n    '/': makeNodeImplementation({\n        operationName: 'div',\n        generateOperation: (state) => `${state}.rightOp !== 0 ? ${state}.leftOp / ${state}.rightOp: 0`,\n    }),\n    max: makeNodeImplementation({\n        operationName: 'max',\n        generateOperation: (state) => `Math.max(${state}.leftOp, ${state}.rightOp)`,\n    }),\n    min: makeNodeImplementation({\n        operationName: 'min',\n        generateOperation: (state) => `Math.min(${state}.leftOp, ${state}.rightOp)`,\n    }),\n    mod: makeNodeImplementation({\n        operationName: 'mod',\n        prepareLeftOp: `value > 0 ? Math.floor(value): Math.ceil(value)`,\n        prepareRightOp: `Math.floor(Math.abs(value))`,\n        // Modulo in Pd works so that negative values passed to the [mod] function cycle seamlessly :\n        // -3 % 3 = 0 ; -2 % 3 = 1 ; -1 % 3 = 2 ; 0 % 3 = 0 ; 1 % 3 = 1 ; ...\n        // So we need to translate the leftOp so that it is > 0 in order for the javascript % function to work.\n        generateOperation: (state) => `${state}.rightOp !== 0 ? (${state}.rightOp + (${state}.leftOp % ${state}.rightOp)) % ${state}.rightOp: 0`,\n    }),\n    // Legacy modulo\n    '%': makeNodeImplementation({\n        operationName: 'modlegacy',\n        generateOperation: (state) => `${state}.leftOp % ${state}.rightOp`,\n    }),\n    pow: makeNodeImplementation({\n        operationName: 'pow',\n        generateOperation: (state) => `pow(${state}.leftOp, ${state}.rightOp)`,\n        dependencies: [pow],\n    }),\n    log: makeNodeImplementation({\n        operationName: 'log',\n        generateOperation: (state) => `Math.log(${state}.leftOp) / Math.log(${state}.rightOp)`,\n    }),\n    '||': makeNodeImplementation({\n        operationName: 'or',\n        prepareLeftOp: `Math.floor(Math.abs(value))`,\n        prepareRightOp: `Math.floor(Math.abs(value))`,\n        generateOperation: (state) => `${state}.leftOp || ${state}.rightOp ? 1: 0`,\n    }),\n    '&&': makeNodeImplementation({\n        operationName: 'and',\n        prepareLeftOp: `Math.floor(Math.abs(value))`,\n        prepareRightOp: `Math.floor(Math.abs(value))`,\n        generateOperation: (state) => `${state}.leftOp && ${state}.rightOp ? 1: 0`,\n    }),\n    '>': makeNodeImplementation({\n        operationName: 'gt',\n        generateOperation: (state) => `${state}.leftOp > ${state}.rightOp ? 1: 0`,\n    }),\n    '>=': makeNodeImplementation({\n        operationName: 'gte',\n        generateOperation: (state) => `${state}.leftOp >= ${state}.rightOp ? 1: 0`,\n    }),\n    '<': makeNodeImplementation({\n        operationName: 'lt',\n        generateOperation: (state) => `${state}.leftOp < ${state}.rightOp ? 1: 0`,\n    }),\n    '<=': makeNodeImplementation({\n        operationName: 'lte',\n        generateOperation: (state) => `${state}.leftOp <= ${state}.rightOp ? 1: 0`,\n    }),\n    '==': makeNodeImplementation({\n        operationName: 'eq',\n        generateOperation: (state) => `${state}.leftOp == ${state}.rightOp ? 1: 0`,\n    }),\n    '!=': makeNodeImplementation({\n        operationName: 'neq',\n        generateOperation: (state) => `${state}.leftOp != ${state}.rightOp ? 1: 0`,\n    }),\n};\nconst builders = {\n    '+': makeBuilder(0),\n    '-': makeBuilder(0),\n    '*': makeBuilder(1),\n    '/': makeBuilder(1),\n    max: makeBuilder(0),\n    min: makeBuilder(1),\n    mod: makeBuilder(0),\n    '%': makeBuilder(0),\n    pow: makeBuilder(0),\n    log: makeBuilder(Math.E),\n    '||': makeBuilder(0),\n    '&&': makeBuilder(0),\n    '>': makeBuilder(0),\n    '>=': makeBuilder(0),\n    '<': makeBuilder(0),\n    '<=': makeBuilder(0),\n    '==': makeBuilder(0),\n    '!=': makeBuilder(0),\n};\n\nexport { builders, nodeImplementations };\n","import { nodeBuilders } from './nodes/subpatch.js';\nimport { builder as builder$7, nodeImplementation as nodeImplementation$7 } from './nodes/dac~.js';\nimport { builder as builder$8, nodeImplementation as nodeImplementation$8 } from './nodes/adc~.js';\nimport { builder as builder$9, nodeImplementation as nodeImplementation$9 } from './nodes/samplerate~.js';\nimport { builders as builders$2, nodeImplementations as nodeImplementations$2 } from './nodes/osc~-phasor~.js';\nimport { builder as builder$4, nodeImplementation as nodeImplementation$4 } from './nodes/clip~.js';\nimport { builder as builder$2, nodeImplementation as nodeImplementation$2 } from './nodes/sig~.js';\nimport { builder as builder$3, nodeImplementation as nodeImplementation$3 } from './nodes/samphold~.js';\nimport { builder as builder$1, nodeImplementation as nodeImplementation$1 } from './nodes/snapshot~.js';\nimport { builder as builder$5, nodeImplementation as nodeImplementation$5 } from './nodes/vline~.js';\nimport { builder as builder$6, nodeImplementation as nodeImplementation$6 } from './nodes/line~.js';\nimport { builder as builder$C, nodeImplementation as nodeImplementation$C } from './nodes/line.js';\nimport { builders as builders$1, nodeImplementations as nodeImplementations$1 } from './nodes/funcs~.js';\nimport { builder as builder$E, nodeImplementation as nodeImplementation$D } from './nodes/tabread.js';\nimport { builder as builder$F, nodeImplementation as nodeImplementation$E } from './nodes/tabwrite.js';\nimport { builders as builders$8, nodeImplementations as nodeImplementations$8 } from './nodes/tabread~-tabread4~.js';\nimport { builder as builder$a, nodeImplementation as nodeImplementation$a } from './nodes/tabplay~.js';\nimport { builder as builder$b, nodeImplementation as nodeImplementation$b } from './nodes/readsf~.js';\nimport { builder as builder$c, nodeImplementation as nodeImplementation$c } from './nodes/writesf~.js';\nimport { builder as builder$d, nodeImplementation as nodeImplementation$e } from './nodes/filters-bp~.js';\nimport { builders as builders$6, nodeImplementations as nodeImplementations$6 } from './nodes/throw~-catch~-send~-receive~.js';\nimport { builder as builder$z, nodeImplementation as nodeImplementation$z } from './nodes/metro.js';\nimport { builder as builder$A, nodeImplementation as nodeImplementation$A } from './nodes/timer.js';\nimport { builder as builder$B, nodeImplementation as nodeImplementation$B } from './nodes/delay.js';\nimport { builders as builders$9, nodeImplementations as nodeImplementations$9 } from './nodes/controls-float.js';\nimport { builder as builder$i, nodeImplementation as nodeImplementation$i } from './nodes/controls-bang.js';\nimport { builders as builders$a, nodeImplementations as nodeImplementations$a } from './nodes/controls-atoms.js';\nimport { builder as builder$l, nodeImplementation as nodeImplementation$l } from './nodes/loadbang.js';\nimport { builders as builders$d, nodeImplementations as nodeImplementations$c } from './nodes/float-int.js';\nimport { builders as builders$c, nodeImplementations as nodeImplementations$d } from './nodes/funcs.js';\nimport { builders, nodeImplementations } from './nodes/binop~.js';\nimport { builder, nodeImplementation } from './nodes/noise~.js';\nimport { builders as builders$5, nodeImplementations as nodeImplementations$5 } from './nodes/delread~-delread4~.js';\nimport { builder as builder$h, nodeImplementation as nodeImplementation$d } from './nodes/delwrite~.js';\nimport { builders as builders$3, nodeImplementations as nodeImplementations$3 } from './nodes/filters-real~.js';\nimport { builders as builders$4, nodeImplementations as nodeImplementations$4 } from './nodes/filters-complex~.js';\nimport { builder as builder$e, nodeImplementation as nodeImplementation$f } from './nodes/filters-hip~.js';\nimport { builder as builder$f, nodeImplementation as nodeImplementation$g } from './nodes/filters-lop~.js';\nimport { builder as builder$g, nodeImplementation as nodeImplementation$h } from './nodes/filters-vcf~.js';\nimport { builder as builder$y, nodeImplementation as nodeImplementation$y } from './nodes/msg.js';\nimport { builder as builder$j, nodeImplementation as nodeImplementation$j } from './nodes/list.js';\nimport { builder as builder$k, nodeImplementation as nodeImplementation$k } from './nodes/symbol.js';\nimport { builders as builders$7, nodeImplementations as nodeImplementations$7 } from './nodes/send-receive.js';\nimport { builder as builder$D, nodeImplementation as nodeImplementation$F } from './nodes/soundfiler.js';\nimport { builder as builder$m, nodeImplementation as nodeImplementation$m } from './nodes/print.js';\nimport { builder as builder$n, nodeImplementation as nodeImplementation$n } from './nodes/trigger.js';\nimport { builder as builder$o, nodeImplementation as nodeImplementation$o } from './nodes/change.js';\nimport { builder as builder$r, nodeImplementation as nodeImplementation$r } from './nodes/moses.js';\nimport { builder as builder$p, nodeImplementation as nodeImplementation$p } from './nodes/clip.js';\nimport { builder as builder$x, nodeImplementation as nodeImplementation$w } from './nodes/route.js';\nimport { builder as builder$u, nodeImplementation as nodeImplementation$u } from './nodes/spigot.js';\nimport { builder as builder$v, nodeImplementation as nodeImplementation$v } from './nodes/until.js';\nimport { builder as builder$w, nodeImplementation as nodeImplementation$x } from './nodes/random.js';\nimport { builder as builder$q, nodeImplementation as nodeImplementation$q } from './nodes/pipe.js';\nimport { builder as builder$s, nodeImplementation as nodeImplementation$s } from './nodes/pack.js';\nimport { builder as builder$t, nodeImplementation as nodeImplementation$t } from './nodes/unpack.js';\nimport { builders as builders$e, nodeImplementations as nodeImplementations$e } from './nodes/expr-expr~.js';\nimport { builders as builders$b, nodeImplementations as nodeImplementations$b } from './nodes/binop.js';\nimport { builder as builder$H, nodeImplementation as nodeImplementation$H } from './nodes/_routemsg.js';\nimport { builder as builder$G, nodeImplementation as nodeImplementation$G } from './nodes/_mixer~.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst NODE_BUILDERS = {\n    ...nodeBuilders,\n    ...builders,\n    ...builders$1,\n    ...builders$2,\n    ...builders$3,\n    ...builders$4,\n    ...builders$5,\n    ...builders$6,\n    ...builders$7,\n    ...builders$7,\n    ...builders$8,\n    'noise~': builder,\n    'snapshot~': builder$1,\n    'sig~': builder$2,\n    'samphold~': builder$3,\n    'clip~': builder$4,\n    'vline~': builder$5,\n    'line~': builder$6,\n    'dac~': builder$7,\n    'adc~': builder$8,\n    'samplerate~': builder$9,\n    'tabplay~': builder$a,\n    'readsf~': builder$b,\n    'writesf~': builder$c,\n    'vd~': { aliasTo: 'delread4~' },\n    'bp~': builder$d,\n    'hip~': builder$e,\n    'lop~': builder$f,\n    'vcf~': builder$g,\n    'delwrite~': builder$h,\n    's~': { aliasTo: 'send~' },\n    'r~': { aliasTo: 'receive~' },\n    ...builders$9,\n    ...builders$a,\n    ...builders$b,\n    ...builders$c,\n    ...builders$d,\n    ...builders$e,\n    bang: builder$i,\n    bng: { aliasTo: 'bang' },\n    b: { aliasTo: 'bang' },\n    list: builder$j,\n    symbol: builder$k,\n    loadbang: builder$l,\n    s: { aliasTo: 'send' },\n    r: { aliasTo: 'receive' },\n    print: builder$m,\n    trigger: builder$n,\n    t: { aliasTo: 'trigger' },\n    change: builder$o,\n    clip: builder$p,\n    pipe: builder$q,\n    moses: builder$r,\n    pack: builder$s,\n    unpack: builder$t,\n    spigot: builder$u,\n    until: builder$v,\n    random: builder$w,\n    route: builder$x,\n    select: { aliasTo: 'route' },\n    sel: { aliasTo: 'route' },\n    msg: builder$y,\n    metro: builder$z,\n    timer: builder$A,\n    delay: builder$B,\n    del: { aliasTo: 'delay' },\n    line: builder$C,\n    soundfiler: builder$D,\n    tabread: builder$E,\n    tabwrite: builder$F,\n    // The following are internal nodes used by the compiler\n    // to help reproduce Pd's behavior\n    '_mixer~': builder$G,\n    '_routemsg': builder$H,\n    // The following don't need implementations as they will never\n    // show up in the graph traversal.\n    graph: { isNoop: true },\n    table: { isNoop: true },\n    array: { isNoop: true },\n    text: { isNoop: true },\n    cnv: { isNoop: true },\n    'block~': { isNoop: true },\n    openpanel: { isNoop: true },\n};\nconst NODE_IMPLEMENTATIONS = {\n    ...nodeImplementations,\n    ...nodeImplementations$1,\n    ...nodeImplementations$2,\n    ...nodeImplementations$3,\n    ...nodeImplementations$4,\n    ...nodeImplementations$5,\n    ...nodeImplementations$6,\n    ...nodeImplementations$7,\n    ...nodeImplementations$8,\n    'noise~': nodeImplementation,\n    'snapshot~': nodeImplementation$1,\n    'sig~': nodeImplementation$2,\n    'samphold~': nodeImplementation$3,\n    'clip~': nodeImplementation$4,\n    'vline~': nodeImplementation$5,\n    'line~': nodeImplementation$6,\n    'dac~': nodeImplementation$7,\n    'adc~': nodeImplementation$8,\n    'samplerate~': nodeImplementation$9,\n    'tabplay~': nodeImplementation$a,\n    'readsf~': nodeImplementation$b,\n    'writesf~': nodeImplementation$c,\n    'delwrite~': nodeImplementation$d,\n    'bp~': nodeImplementation$e,\n    'hip~': nodeImplementation$f,\n    'lop~': nodeImplementation$g,\n    'vcf~': nodeImplementation$h,\n    ...nodeImplementations$9,\n    ...nodeImplementations$a,\n    ...nodeImplementations$b,\n    ...nodeImplementations$c,\n    ...nodeImplementations$d,\n    ...nodeImplementations$e,\n    bang: nodeImplementation$i,\n    list: nodeImplementation$j,\n    symbol: nodeImplementation$k,\n    loadbang: nodeImplementation$l,\n    print: nodeImplementation$m,\n    trigger: nodeImplementation$n,\n    change: nodeImplementation$o,\n    clip: nodeImplementation$p,\n    pipe: nodeImplementation$q,\n    moses: nodeImplementation$r,\n    pack: nodeImplementation$s,\n    unpack: nodeImplementation$t,\n    spigot: nodeImplementation$u,\n    until: nodeImplementation$v,\n    route: nodeImplementation$w,\n    random: nodeImplementation$x,\n    msg: nodeImplementation$y,\n    metro: nodeImplementation$z,\n    timer: nodeImplementation$A,\n    delay: nodeImplementation$B,\n    line: nodeImplementation$C,\n    tabread: nodeImplementation$D,\n    tabwrite: nodeImplementation$E,\n    soundfiler: nodeImplementation$F,\n    // Internal nodes\n    '_mixer~': nodeImplementation$G,\n    '_routemsg': nodeImplementation$H,\n};\n\nexport { NODE_BUILDERS, NODE_IMPLEMENTATIONS };\n","import index from '../../../WebPd_compiler/dist/src/compile/index.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport parse from '../../../WebPd_pd-parser/dist/src/parse.js';\nimport appGenerator from '../app-generator/generate-app.js';\nimport { discoverGuiControls } from '../app-generator/gui-controls.js';\nimport { collectIoMessageReceiversFromGui, collectIoMessageReceiversFromSendNodes } from '../app-generator/collect-message-receivers.js';\nimport toDspGraph from '../compile-dsp-graph/to-dsp-graph.js';\nimport { compileAssemblyscript } from './asc.js';\nimport { renderWav } from './audio.js';\nimport { stringifyArrayBuffer, getArtefact, UnknownNodeTypeError } from './helpers.js';\nimport { listBuildSteps } from './formats.js';\nimport { NODE_BUILDERS, NODE_IMPLEMENTATIONS } from '../nodes/index.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * Simple build function to compile a Pd patch into compiled code\n * that can be directly run into a web app.\n *\n * Throws an error if the build fails.\n *\n * @see performBuildStep\n */\nconst buildRunnable = async (pdFile, format = 'javascript', settings) => {\n    if (!['wasm', 'javascript'].includes(format)) {\n        throw new Error(`Invalid out format ${format}`);\n    }\n    const artefacts = { pd: pdFile };\n    for (const step of listBuildSteps('pd', format)) {\n        const result = await performBuildStep(artefacts, step, settings);\n        if (result.status === 1) {\n            throw new Error(`Build failed : ${result.errors.join('\\n')}`);\n        }\n    }\n    return artefacts[format];\n};\nconst defaultSettingsForBuild = () => ({\n    audioSettings: {\n        channelCount: {\n            in: 2,\n            out: 2,\n        },\n        bitDepth: 64,\n    },\n    renderAudioSettings: {\n        sampleRate: 44100,\n        blockSize: 4096,\n        previewDurationSeconds: 30,\n    },\n    abstractionLoader: alwaysFailingAbstractionLoader,\n    nodeBuilders: NODE_BUILDERS,\n    nodeImplementations: NODE_IMPLEMENTATIONS,\n});\nconst alwaysFailingAbstractionLoader = async (nodeType) => {\n    throw new UnknownNodeTypeError(nodeType);\n};\n/**\n * @returns an empty artefacts object.\n */\nconst createArtefacts = () => ({});\n/**\n * Helper to unpack an artefact from an ArrayBuffer into its correct format.\n * Useful for example to load artefacts from files or http requests.\n *\n * @returns a new artefacts object.\n */\nconst loadArtefact = (artefacts, artefactBuffer, artefactFormat) => {\n    switch (artefactFormat) {\n        case 'pd':\n            return { ...artefacts, pd: stringifyArrayBuffer(artefactBuffer) };\n        case 'pdJson':\n            return {\n                ...artefacts,\n                pdJson: JSON.parse(stringifyArrayBuffer(artefactBuffer)),\n            };\n        case 'dspGraph':\n            return {\n                ...artefacts,\n                dspGraph: JSON.parse(stringifyArrayBuffer(artefactBuffer)),\n            };\n        case 'javascript':\n            return {\n                ...artefacts,\n                javascript: stringifyArrayBuffer(artefactBuffer),\n            };\n        case 'assemblyscript':\n            return {\n                ...artefacts,\n                assemblyscript: stringifyArrayBuffer(artefactBuffer),\n            };\n        case 'wasm':\n            return { ...artefacts, wasm: artefactBuffer };\n        case 'wav':\n            return { ...artefacts, wav: new Uint8Array(artefactBuffer) };\n        default:\n            throw new Error(`Unexpected format for preloading ${artefactFormat}`);\n    }\n};\n/**\n * A helper to perform a build step on a given artefacts object.\n * If the build is successful, the artefacts object is updated in place with\n * the newly built artefact.\n *\n * Beware that this can only build one step at a time. If targetting a given format\n * requires multiple steps, you need to call this function multiple times with intermediate targets.\n *\n * @see fromPatch\n *\n * @param artefacts\n * @param target\n * @param settings\n */\nconst performBuildStep = async (artefacts, target, { nodeBuilders, nodeImplementations, audioSettings, renderAudioSettings, io = {}, abstractionLoader, }) => {\n    let warnings = [];\n    let errors = [];\n    switch (target) {\n        case 'pdJson':\n            const parseResult = parse(artefacts.pd);\n            if (parseResult.status === 0) {\n                artefacts.pdJson = parseResult.pd;\n                return {\n                    status: 0,\n                    warnings: _makeParseErrorMessages(parseResult.warnings),\n                };\n            }\n            else {\n                return {\n                    status: 1,\n                    warnings: _makeParseErrorMessages(parseResult.warnings),\n                    errors: _makeParseErrorMessages(parseResult.errors),\n                };\n            }\n        case 'dspGraph':\n            const toDspGraphResult = await toDspGraph(artefacts.pdJson, nodeBuilders, abstractionLoader);\n            if (toDspGraphResult.abstractionsLoadingWarnings) {\n                warnings = Object.entries(toDspGraphResult.abstractionsLoadingWarnings)\n                    .filter(([_, warnings]) => !!warnings.length)\n                    .flatMap(([nodeType, warnings]) => [\n                    `Warnings when parsing abstraction ${nodeType} :`,\n                    ..._makeParseErrorMessages(warnings),\n                ]);\n            }\n            if (toDspGraphResult.status === 0) {\n                // If io.messageReceivers are not defined, we infer them by\n                // discovering UI controls and generating messageReceivers for each one.\n                if (!io.messageReceivers) {\n                    const { controls } = discoverGuiControls(toDspGraphResult.pd);\n                    io.messageReceivers = {\n                        ...collectIoMessageReceiversFromGui(controls, toDspGraphResult.graph),\n                        ...collectIoMessageReceiversFromSendNodes(toDspGraphResult.pd, toDspGraphResult.graph)\n                    };\n                }\n                artefacts.dspGraph = {\n                    graph: toDspGraphResult.graph,\n                    arrays: toDspGraphResult.arrays,\n                    pd: toDspGraphResult.pd,\n                    io: {\n                        messageReceivers: {},\n                        messageSenders: {},\n                        ...io,\n                    },\n                };\n                return { status: 0, warnings };\n            }\n            else {\n                const unknownNodeTypes = Object.values(toDspGraphResult.abstractionsLoadingErrors)\n                    .filter((errors) => !!errors.unknownNodeType)\n                    .map((errors) => errors.unknownNodeType);\n                if (unknownNodeTypes.length) {\n                    errors = [\n                        ...errors,\n                        ..._makeUnknownNodeTypeMessage(new Set(unknownNodeTypes)),\n                    ];\n                }\n                errors = [\n                    ...errors,\n                    ...Object.entries(toDspGraphResult.abstractionsLoadingErrors)\n                        .filter(([_, errors]) => !!errors.parsingErrors)\n                        .flatMap(([nodeType, errors]) => [\n                        `Failed to parse abstraction ${nodeType} :`,\n                        ..._makeParseErrorMessages(errors.parsingErrors),\n                    ]),\n                ];\n                return {\n                    status: 1,\n                    errors,\n                    warnings,\n                };\n            }\n        case 'javascript':\n        case 'assemblyscript':\n            const compileCodeResult = index(artefacts.dspGraph.graph, nodeImplementations, target, {\n                audio: audioSettings,\n                io: artefacts.dspGraph.io,\n                arrays: artefacts.dspGraph.arrays,\n            });\n            {\n                if (target === 'javascript') {\n                    artefacts.javascript = compileCodeResult.code;\n                }\n                else {\n                    artefacts.assemblyscript = compileCodeResult.code;\n                }\n                return { status: 0, warnings: [] };\n            }\n        case 'wasm':\n            try {\n                artefacts.wasm = await compileAssemblyscript(getArtefact(artefacts, 'assemblyscript'), audioSettings.bitDepth);\n            }\n            catch (err) {\n                return {\n                    status: 1,\n                    errors: [err.message],\n                    warnings: [],\n                };\n            }\n            return { status: 0, warnings: [] };\n        case 'wav':\n            artefacts.wav = await renderWav(renderAudioSettings.previewDurationSeconds, artefacts, { ...audioSettings, ...renderAudioSettings });\n            return { status: 0, warnings: [] };\n        case 'app':\n            artefacts.app = appGenerator('bare-bones', artefacts);\n            return { status: 0, warnings: [] };\n        default:\n            throw new Error(`invalid build step ${target}`);\n    }\n};\nconst _makeUnknownNodeTypeMessage = (nodeTypeSet) => [\n    `Unknown object types ${Array.from(nodeTypeSet)\n        .map((nodeType) => `${nodeType}`)\n        .join(', ')}`,\n];\nconst _makeParseErrorMessages = (errorOrWarnings) => errorOrWarnings.map(({ message, lineIndex }) => `line ${lineIndex + 1} : ${message}`);\n\nexport { buildRunnable, createArtefacts, defaultSettingsForBuild, loadArtefact, performBuildStep };\n","var WEBPD_RUNTIME_CODE = \"var WebPdRuntime = (function (exports) {\\n  'use strict';\\n\\n  var _WebPdWorkletProcessorCode = \\\"/*\\\\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\\\n *\\\\n * This file is part of WebPd\\\\n * (see https://github.com/sebpiq/WebPd).\\\\n *\\\\n * This program is free software: you can redistribute it and/or modify\\\\n * it under the terms of the GNU Lesser General Public License as published by\\\\n * the Free Software Foundation, either version 3 of the License, or\\\\n * (at your option) any later version.\\\\n *\\\\n * This program is distributed in the hope that it will be useful,\\\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\\\n * GNU Lesser General Public License for more details.\\\\n *\\\\n * You should have received a copy of the GNU Lesser General Public License\\\\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\\\\n */\\\\nconst FS_CALLBACK_NAMES = [\\\\n    'onReadSoundFile',\\\\n    'onOpenSoundReadStream',\\\\n    'onWriteSoundFile',\\\\n    'onOpenSoundWriteStream',\\\\n    'onSoundStreamData',\\\\n    'onCloseSoundStream',\\\\n];\\\\nclass WasmWorkletProcessor extends AudioWorkletProcessor {\\\\n    constructor() {\\\\n        super();\\\\n        this.port.onmessage = this.onMessage.bind(this);\\\\n        this.settings = {\\\\n            blockSize: null,\\\\n            sampleRate,\\\\n        };\\\\n        this.dspConfigured = false;\\\\n        this.engine = null;\\\\n    }\\\\n    process(inputs, outputs) {\\\\n        const output = outputs[0];\\\\n        const input = inputs[0];\\\\n        if (!this.dspConfigured) {\\\\n            if (!this.engine) {\\\\n                return true;\\\\n            }\\\\n            this.settings.blockSize = output[0].length;\\\\n            this.engine.configure(this.settings.sampleRate, this.settings.blockSize);\\\\n            this.dspConfigured = true;\\\\n        }\\\\n        this.engine.loop(input, output);\\\\n        return true;\\\\n    }\\\\n    onMessage(messageEvent) {\\\\n        const message = messageEvent.data;\\\\n        switch (message.type) {\\\\n            case 'code:WASM':\\\\n                this.setWasm(message.payload.wasmBuffer);\\\\n                break;\\\\n            case 'code:JS':\\\\n                this.setJsCode(message.payload.jsCode);\\\\n                break;\\\\n            case 'io:messageReceiver':\\\\n                this.engine.io.messageReceivers[message.payload.nodeId][message.payload.portletId](message.payload.message);\\\\n                break;\\\\n            case 'fs':\\\\n                const returned = this.engine.fs[message.payload.functionName].apply(null, message.payload.arguments);\\\\n                this.port.postMessage({\\\\n                    type: 'fs',\\\\n                    payload: {\\\\n                        functionName: message.payload.functionName + '_return',\\\\n                        operationId: message.payload.arguments[0],\\\\n                        returned,\\\\n                    },\\\\n                });\\\\n                break;\\\\n            case 'destroy':\\\\n                this.destroy();\\\\n                break;\\\\n            default:\\\\n                new Error(`unknown message type ${message.type}`);\\\\n        }\\\\n    }\\\\n    // TODO : control for channelCount of wasmModule\\\\n    setWasm(wasmBuffer) {\\\\n        return AssemblyScriptWasmBindings.createEngine(wasmBuffer).then((engine) => this.setEngine(engine));\\\\n    }\\\\n    setJsCode(code) {\\\\n        const engine = JavaScriptBindings.createEngine(code);\\\\n        this.setEngine(engine);\\\\n    }\\\\n    setEngine(engine) {\\\\n        FS_CALLBACK_NAMES.forEach((functionName) => {\\\\n            ;\\\\n            engine.fs[functionName] = (...args) => {\\\\n                // We don't use transferables, because that would imply reallocating each time new array in the engine.\\\\n                this.port.postMessage({\\\\n                    type: 'fs',\\\\n                    payload: {\\\\n                        functionName,\\\\n                        arguments: args,\\\\n                    },\\\\n                });\\\\n            };\\\\n        });\\\\n        this.engine = engine;\\\\n        this.dspConfigured = false;\\\\n    }\\\\n    destroy() {\\\\n        this.process = () => false;\\\\n    }\\\\n}\\\\nregisterProcessor('webpd-node', WasmWorkletProcessor);\\\\n\\\";\\n\\n  var AssemblyScriptWasmBindingsCode = \\\"var AssemblyScriptWasmBindings = (function (exports) {\\\\n    'use strict';\\\\n\\\\n    const getFloatArrayType = (bitDepth) => bitDepth === 64 ? Float64Array : Float32Array;\\\\n    const createModule = (rawModule, bindings) => new Proxy({}, {\\\\n        get: (_, k) => {\\\\n            if (bindings.hasOwnProperty(k)) {\\\\n                const key = String(k);\\\\n                const bindingSpec = bindings[key];\\\\n                switch (bindingSpec.type) {\\\\n                    case 'raw':\\\\n                        if (k in rawModule) {\\\\n                            return rawModule[key];\\\\n                        }\\\\n                        else {\\\\n                            throw new Error(`Key ${String(key)} doesn't exist in raw module`);\\\\n                        }\\\\n                    case 'proxy':\\\\n                    case 'callback':\\\\n                        return bindingSpec.value;\\\\n                }\\\\n            }\\\\n            else {\\\\n                return undefined;\\\\n            }\\\\n        },\\\\n        set: (_, k, newValue) => {\\\\n            if (bindings.hasOwnProperty(String(k))) {\\\\n                const key = String(k);\\\\n                const bindingSpec = bindings[key];\\\\n                if (bindingSpec.type === 'callback') {\\\\n                    bindingSpec.value = newValue;\\\\n                }\\\\n                else {\\\\n                    throw new Error(`Binding key ${String(key)} is read-only`);\\\\n                }\\\\n            }\\\\n            else {\\\\n                throw new Error(`Key ${String(k)} is not defined in bindings`);\\\\n            }\\\\n            return true;\\\\n        },\\\\n    });\\\\n\\\\n    const liftString = (wasmExports, pointer) => {\\\\n        if (!pointer)\\\\n            return null;\\\\n        pointer = pointer >>> 0;\\\\n        const end = (pointer +\\\\n            new Uint32Array(wasmExports.memory.buffer)[(pointer - 4) >>> 2]) >>>\\\\n            1;\\\\n        const memoryU16 = new Uint16Array(wasmExports.memory.buffer);\\\\n        let start = pointer >>> 1;\\\\n        let string = '';\\\\n        while (end - start > 1024) {\\\\n            string += String.fromCharCode(...memoryU16.subarray(start, (start += 1024)));\\\\n        }\\\\n        return string + String.fromCharCode(...memoryU16.subarray(start, end));\\\\n    };\\\\n    const lowerString = (wasmExports, value) => {\\\\n        if (value == null)\\\\n            return 0;\\\\n        const length = value.length, pointer = wasmExports.__new(length << 1, 1) >>> 0, memoryU16 = new Uint16Array(wasmExports.memory.buffer);\\\\n        for (let i = 0; i < length; ++i)\\\\n            memoryU16[(pointer >>> 1) + i] = value.charCodeAt(i);\\\\n        return pointer;\\\\n    };\\\\n    const readTypedArray = (wasmExports, constructor, pointer) => {\\\\n        if (!pointer)\\\\n            return null;\\\\n        const memoryU32 = new Uint32Array(wasmExports.memory.buffer);\\\\n        return new constructor(wasmExports.memory.buffer, memoryU32[(pointer + 4) >>> 2], memoryU32[(pointer + 8) >>> 2] / constructor.BYTES_PER_ELEMENT);\\\\n    };\\\\n    const lowerFloatArray = (wasmExports, bitDepth, data) => {\\\\n        const arrayType = getFloatArrayType(bitDepth);\\\\n        const arrayPointer = wasmExports.createFloatArray(data.length);\\\\n        const array = readTypedArray(wasmExports, arrayType, arrayPointer);\\\\n        array.set(data);\\\\n        return { array, arrayPointer };\\\\n    };\\\\n    const lowerListOfFloatArrays = (wasmExports, bitDepth, data) => {\\\\n        const arraysPointer = wasmExports.x_core_createListOfArrays();\\\\n        data.forEach((array) => {\\\\n            const { arrayPointer } = lowerFloatArray(wasmExports, bitDepth, array);\\\\n            wasmExports.x_core_pushToListOfArrays(arraysPointer, arrayPointer);\\\\n        });\\\\n        return arraysPointer;\\\\n    };\\\\n    const readListOfFloatArrays = (wasmExports, bitDepth, listOfArraysPointer) => {\\\\n        const listLength = wasmExports.x_core_getListOfArraysLength(listOfArraysPointer);\\\\n        const arrays = [];\\\\n        const arrayType = getFloatArrayType(bitDepth);\\\\n        for (let i = 0; i < listLength; i++) {\\\\n            const arrayPointer = wasmExports.x_core_getListOfArraysElem(listOfArraysPointer, i);\\\\n            arrays.push(readTypedArray(wasmExports, arrayType, arrayPointer));\\\\n        }\\\\n        return arrays;\\\\n    };\\\\n\\\\n    const liftMessage = (wasmExports, messagePointer) => {\\\\n        const messageTokenTypesPointer = wasmExports.x_msg_getTokenTypes(messagePointer);\\\\n        const messageTokenTypes = readTypedArray(wasmExports, Int32Array, messageTokenTypesPointer);\\\\n        const message = [];\\\\n        messageTokenTypes.forEach((tokenType, tokenIndex) => {\\\\n            if (tokenType === wasmExports.MSG_FLOAT_TOKEN.valueOf()) {\\\\n                message.push(wasmExports.msg_readFloatToken(messagePointer, tokenIndex));\\\\n            }\\\\n            else if (tokenType === wasmExports.MSG_STRING_TOKEN.valueOf()) {\\\\n                const stringPointer = wasmExports.msg_readStringToken(messagePointer, tokenIndex);\\\\n                message.push(liftString(wasmExports, stringPointer));\\\\n            }\\\\n        });\\\\n        return message;\\\\n    };\\\\n    const lowerMessage = (wasmExports, message) => {\\\\n        const template = message.reduce((template, value) => {\\\\n            if (typeof value === 'number') {\\\\n                template.push(wasmExports.MSG_FLOAT_TOKEN.valueOf());\\\\n            }\\\\n            else if (typeof value === 'string') {\\\\n                template.push(wasmExports.MSG_STRING_TOKEN.valueOf());\\\\n                template.push(value.length);\\\\n            }\\\\n            else {\\\\n                throw new Error(`invalid message value ${value}`);\\\\n            }\\\\n            return template;\\\\n        }, []);\\\\n        const templateArrayPointer = wasmExports.x_msg_createTemplate(template.length);\\\\n        const loweredTemplateArray = readTypedArray(wasmExports, Int32Array, templateArrayPointer);\\\\n        loweredTemplateArray.set(template);\\\\n        const messagePointer = wasmExports.x_msg_create(templateArrayPointer);\\\\n        message.forEach((value, index) => {\\\\n            if (typeof value === 'number') {\\\\n                wasmExports.msg_writeFloatToken(messagePointer, index, value);\\\\n            }\\\\n            else if (typeof value === 'string') {\\\\n                const stringPointer = lowerString(wasmExports, value);\\\\n                wasmExports.msg_writeStringToken(messagePointer, index, stringPointer);\\\\n            }\\\\n        });\\\\n        return messagePointer;\\\\n    };\\\\n\\\\n    const mapObject = (src, func) => {\\\\n        const dest = {};\\\\n        Object.entries(src).forEach(([key, srcValue], i) => {\\\\n            dest[key] = func(srcValue, key, i);\\\\n        });\\\\n        return dest;\\\\n    };\\\\n    const mapArray = (src, func) => {\\\\n        const dest = {};\\\\n        src.forEach((srcValue, i) => {\\\\n            const [key, destValue] = func(srcValue, i);\\\\n            dest[key] = destValue;\\\\n        });\\\\n        return dest;\\\\n    };\\\\n\\\\n    const instantiateWasmModule = async (wasmBuffer, wasmImports = {}) => {\\\\n        const instanceAndModule = await WebAssembly.instantiate(wasmBuffer, {\\\\n            env: {\\\\n                abort: (messagePointer, _, lineNumber, columnNumber) => {\\\\n                    const message = liftString(wasmExports, messagePointer);\\\\n                    lineNumber = lineNumber;\\\\n                    columnNumber = columnNumber;\\\\n                    (() => {\\\\n                        throw Error(`${message} at ${lineNumber}:${columnNumber}`);\\\\n                    })();\\\\n                },\\\\n                seed: () => {\\\\n                    return (() => {\\\\n                        return Date.now() * Math.random();\\\\n                    })();\\\\n                },\\\\n                'console.log': (textPointer) => {\\\\n                    console.log(liftString(wasmExports, textPointer));\\\\n                },\\\\n            },\\\\n            ...wasmImports,\\\\n        });\\\\n        const wasmExports = instanceAndModule.instance\\\\n            .exports;\\\\n        return instanceAndModule.instance;\\\\n    };\\\\n\\\\n    const updateWasmInOuts = (rawModule, engineData) => {\\\\n        engineData.wasmOutput = readTypedArray(rawModule, engineData.arrayType, rawModule.getOutput());\\\\n        engineData.wasmInput = readTypedArray(rawModule, engineData.arrayType, rawModule.getInput());\\\\n    };\\\\n    const createEngineLifecycleBindings = (rawModule, engineData) => {\\\\n        return {\\\\n            configure: {\\\\n                type: 'proxy',\\\\n                value: (sampleRate, blockSize) => {\\\\n                    engineData.metadata.audioSettings.blockSize = blockSize;\\\\n                    engineData.metadata.audioSettings.sampleRate = sampleRate;\\\\n                    engineData.blockSize = blockSize;\\\\n                    rawModule.configure(sampleRate, blockSize);\\\\n                    updateWasmInOuts(rawModule, engineData);\\\\n                },\\\\n            },\\\\n            loop: {\\\\n                type: 'proxy',\\\\n                value: (input, output) => {\\\\n                    for (let channel = 0; channel < input.length; channel++) {\\\\n                        engineData.wasmInput.set(input[channel], channel * engineData.blockSize);\\\\n                    }\\\\n                    updateWasmInOuts(rawModule, engineData);\\\\n                    rawModule.loop();\\\\n                    updateWasmInOuts(rawModule, engineData);\\\\n                    for (let channel = 0; channel < output.length; channel++) {\\\\n                        output[channel].set(engineData.wasmOutput.subarray(engineData.blockSize * channel, engineData.blockSize * (channel + 1)));\\\\n                    }\\\\n                },\\\\n            },\\\\n        };\\\\n    };\\\\n    const createIoMessageReceiversBindings = (rawModule, engineData) => mapObject(engineData.metadata.compilation.io.messageReceivers, (spec, nodeId) => ({\\\\n        type: 'proxy',\\\\n        value: mapArray(spec.portletIds, (inletId) => [\\\\n            inletId,\\\\n            (message) => {\\\\n                const messagePointer = lowerMessage(rawModule, message);\\\\n                rawModule[engineData.metadata.compilation.variableNamesIndex.io\\\\n                    .messageReceivers[nodeId][inletId]](messagePointer);\\\\n            },\\\\n        ]),\\\\n    }));\\\\n    const createIoMessageSendersBindings = (_, engineData) => mapObject(engineData.metadata.compilation.io.messageSenders, (spec) => ({\\\\n        type: 'proxy',\\\\n        value: mapArray(spec.portletIds, (outletId) => [\\\\n            outletId,\\\\n            {\\\\n                onMessage: () => undefined,\\\\n            },\\\\n        ]),\\\\n    }));\\\\n    const ioMsgSendersImports = (forwardReferences, metadata) => {\\\\n        const wasmImports = {};\\\\n        const { variableNamesIndex } = metadata.compilation;\\\\n        Object.entries(metadata.compilation.io.messageSenders).forEach(([nodeId, spec]) => {\\\\n            spec.portletIds.forEach((outletId) => {\\\\n                const listenerName = variableNamesIndex.io.messageSenders[nodeId][outletId];\\\\n                wasmImports[listenerName] = (messagePointer) => {\\\\n                    const message = liftMessage(forwardReferences.rawModule, messagePointer);\\\\n                    forwardReferences.modules.io.messageSenders[nodeId][outletId].onMessage(message);\\\\n                };\\\\n            });\\\\n        });\\\\n        return wasmImports;\\\\n    };\\\\n    const readMetadata = async (wasmBuffer) => {\\\\n        const inputImports = {};\\\\n        const wasmModule = WebAssembly.Module.imports(new WebAssembly.Module(wasmBuffer));\\\\n        wasmModule\\\\n            .filter((imprt) => imprt.module === 'input' && imprt.kind === 'function')\\\\n            .forEach((imprt) => (inputImports[imprt.name] = () => undefined));\\\\n        const wasmInstance = await instantiateWasmModule(wasmBuffer, {\\\\n            input: inputImports,\\\\n        });\\\\n        const wasmExports = wasmInstance.exports;\\\\n        const stringPointer = wasmExports.metadata.valueOf();\\\\n        const metadataJSON = liftString(wasmExports, stringPointer);\\\\n        return JSON.parse(metadataJSON);\\\\n    };\\\\n\\\\n    const createFsBindings = (rawModule, engineData) => ({\\\\n        sendReadSoundFileResponse: {\\\\n            type: 'proxy',\\\\n            value: (operationId, status, sound) => {\\\\n                let soundPointer = 0;\\\\n                if (sound) {\\\\n                    soundPointer = lowerListOfFloatArrays(rawModule, engineData.bitDepth, sound);\\\\n                }\\\\n                rawModule.x_fs_onReadSoundFileResponse(operationId, status, soundPointer);\\\\n                updateWasmInOuts(rawModule, engineData);\\\\n            },\\\\n        },\\\\n        sendWriteSoundFileResponse: {\\\\n            type: 'proxy',\\\\n            value: rawModule.x_fs_onWriteSoundFileResponse,\\\\n        },\\\\n        sendSoundStreamData: {\\\\n            type: 'proxy',\\\\n            value: (operationId, sound) => {\\\\n                const soundPointer = lowerListOfFloatArrays(rawModule, engineData.bitDepth, sound);\\\\n                const writtenFrameCount = rawModule.x_fs_onSoundStreamData(operationId, soundPointer);\\\\n                updateWasmInOuts(rawModule, engineData);\\\\n                return writtenFrameCount;\\\\n            },\\\\n        },\\\\n        closeSoundStream: {\\\\n            type: 'proxy',\\\\n            value: rawModule.x_fs_onCloseSoundStream,\\\\n        },\\\\n        onReadSoundFile: { type: 'callback', value: () => undefined },\\\\n        onWriteSoundFile: { type: 'callback', value: () => undefined },\\\\n        onOpenSoundReadStream: { type: 'callback', value: () => undefined },\\\\n        onOpenSoundWriteStream: { type: 'callback', value: () => undefined },\\\\n        onSoundStreamData: { type: 'callback', value: () => undefined },\\\\n        onCloseSoundStream: { type: 'callback', value: () => undefined },\\\\n    });\\\\n    const createFsImports = (forwardReferences) => {\\\\n        let wasmImports = {\\\\n            i_fs_readSoundFile: (operationId, urlPointer, infoPointer) => {\\\\n                const url = liftString(forwardReferences.rawModule, urlPointer);\\\\n                const info = liftMessage(forwardReferences.rawModule, infoPointer);\\\\n                forwardReferences.modules.fs.onReadSoundFile(operationId, url, info);\\\\n            },\\\\n            i_fs_writeSoundFile: (operationId, soundPointer, urlPointer, infoPointer) => {\\\\n                const sound = readListOfFloatArrays(forwardReferences.rawModule, forwardReferences.engineData.bitDepth, soundPointer);\\\\n                const url = liftString(forwardReferences.rawModule, urlPointer);\\\\n                const info = liftMessage(forwardReferences.rawModule, infoPointer);\\\\n                forwardReferences.modules.fs.onWriteSoundFile(operationId, sound, url, info);\\\\n            },\\\\n            i_fs_openSoundReadStream: (operationId, urlPointer, infoPointer) => {\\\\n                const url = liftString(forwardReferences.rawModule, urlPointer);\\\\n                const info = liftMessage(forwardReferences.rawModule, infoPointer);\\\\n                updateWasmInOuts(forwardReferences.rawModule, forwardReferences.engineData);\\\\n                forwardReferences.modules.fs.onOpenSoundReadStream(operationId, url, info);\\\\n            },\\\\n            i_fs_openSoundWriteStream: (operationId, urlPointer, infoPointer) => {\\\\n                const url = liftString(forwardReferences.rawModule, urlPointer);\\\\n                const info = liftMessage(forwardReferences.rawModule, infoPointer);\\\\n                forwardReferences.modules.fs.onOpenSoundWriteStream(operationId, url, info);\\\\n            },\\\\n            i_fs_sendSoundStreamData: (operationId, blockPointer) => {\\\\n                const block = readListOfFloatArrays(forwardReferences.rawModule, forwardReferences.engineData.bitDepth, blockPointer);\\\\n                forwardReferences.modules.fs.onSoundStreamData(operationId, block);\\\\n            },\\\\n            i_fs_closeSoundStream: (...args) => forwardReferences.modules.fs.onCloseSoundStream(...args),\\\\n        };\\\\n        return wasmImports;\\\\n    };\\\\n\\\\n    const createCommonsBindings = (rawModule, engineData) => ({\\\\n        getArray: {\\\\n            type: 'proxy',\\\\n            value: (arrayName) => {\\\\n                const arrayNamePointer = lowerString(rawModule, arrayName);\\\\n                const arrayPointer = rawModule.commons_getArray(arrayNamePointer);\\\\n                return readTypedArray(rawModule, engineData.arrayType, arrayPointer);\\\\n            },\\\\n        },\\\\n        setArray: {\\\\n            type: 'proxy',\\\\n            value: (arrayName, array) => {\\\\n                const stringPointer = lowerString(rawModule, arrayName);\\\\n                const { arrayPointer } = lowerFloatArray(rawModule, engineData.bitDepth, array);\\\\n                rawModule.commons_setArray(stringPointer, arrayPointer);\\\\n                updateWasmInOuts(rawModule, engineData);\\\\n            },\\\\n        },\\\\n    });\\\\n\\\\n    const createEngine = async (wasmBuffer) => {\\\\n        const { rawModule, engineData, forwardReferences } = await createRawModule(wasmBuffer);\\\\n        const engineBindings = await createBindings(rawModule, engineData, forwardReferences);\\\\n        return createModule(rawModule, engineBindings);\\\\n    };\\\\n    const createRawModule = async (wasmBuffer) => {\\\\n        const metadata = await readMetadata(wasmBuffer);\\\\n        const forwardReferences = { modules: {} };\\\\n        const wasmImports = {\\\\n            ...createFsImports(forwardReferences),\\\\n            ...ioMsgSendersImports(forwardReferences, metadata),\\\\n        };\\\\n        const bitDepth = metadata.audioSettings.bitDepth;\\\\n        const arrayType = getFloatArrayType(bitDepth);\\\\n        const engineData = {\\\\n            metadata,\\\\n            wasmOutput: new arrayType(0),\\\\n            wasmInput: new arrayType(0),\\\\n            arrayType,\\\\n            bitDepth,\\\\n            blockSize: 0,\\\\n        };\\\\n        const wasmInstance = await instantiateWasmModule(wasmBuffer, {\\\\n            input: wasmImports,\\\\n        });\\\\n        const rawModule = wasmInstance.exports;\\\\n        return { rawModule, engineData, forwardReferences };\\\\n    };\\\\n    const createBindings = async (rawModule, engineData, forwardReferences) => {\\\\n        const commons = createModule(rawModule, createCommonsBindings(rawModule, engineData));\\\\n        const fs = createModule(rawModule, createFsBindings(rawModule, engineData));\\\\n        const io = {\\\\n            messageReceivers: createModule(rawModule, createIoMessageReceiversBindings(rawModule, engineData)),\\\\n            messageSenders: createModule(rawModule, createIoMessageSendersBindings(rawModule, engineData)),\\\\n        };\\\\n        forwardReferences.modules.fs = fs;\\\\n        forwardReferences.modules.io = io;\\\\n        forwardReferences.engineData = engineData;\\\\n        forwardReferences.rawModule = rawModule;\\\\n        return {\\\\n            ...createEngineLifecycleBindings(rawModule, engineData),\\\\n            metadata: { type: 'proxy', value: engineData.metadata },\\\\n            commons: { type: 'proxy', value: commons },\\\\n            fs: { type: 'proxy', value: fs },\\\\n            io: { type: 'proxy', value: io },\\\\n        };\\\\n    };\\\\n\\\\n    exports.createBindings = createBindings;\\\\n    exports.createEngine = createEngine;\\\\n    exports.createRawModule = createRawModule;\\\\n\\\\n    return exports;\\\\n\\\\n})({});\\\\n\\\";\\n\\n  var JavaScriptBindingsCode = \\\"var JavaScriptBindings = (function (exports) {\\\\n    'use strict';\\\\n\\\\n    const getFloatArrayType = (bitDepth) => bitDepth === 64 ? Float64Array : Float32Array;\\\\n    const createModule = (rawModule, bindings) => new Proxy({}, {\\\\n        get: (_, k) => {\\\\n            if (bindings.hasOwnProperty(k)) {\\\\n                const key = String(k);\\\\n                const bindingSpec = bindings[key];\\\\n                switch (bindingSpec.type) {\\\\n                    case 'raw':\\\\n                        if (k in rawModule) {\\\\n                            return rawModule[key];\\\\n                        }\\\\n                        else {\\\\n                            throw new Error(`Key ${String(key)} doesn't exist in raw module`);\\\\n                        }\\\\n                    case 'proxy':\\\\n                    case 'callback':\\\\n                        return bindingSpec.value;\\\\n                }\\\\n            }\\\\n            else {\\\\n                return undefined;\\\\n            }\\\\n        },\\\\n        set: (_, k, newValue) => {\\\\n            if (bindings.hasOwnProperty(String(k))) {\\\\n                const key = String(k);\\\\n                const bindingSpec = bindings[key];\\\\n                if (bindingSpec.type === 'callback') {\\\\n                    bindingSpec.value = newValue;\\\\n                }\\\\n                else {\\\\n                    throw new Error(`Binding key ${String(key)} is read-only`);\\\\n                }\\\\n            }\\\\n            else {\\\\n                throw new Error(`Key ${String(k)} is not defined in bindings`);\\\\n            }\\\\n            return true;\\\\n        },\\\\n    });\\\\n\\\\n    const createRawModule = (code) => new Function(`\\\\n        ${code}\\\\n        return exports\\\\n    `)();\\\\n    const createBindings = (rawModule) => ({\\\\n        fs: { type: 'proxy', value: createFsModule(rawModule) },\\\\n        metadata: { type: 'raw' },\\\\n        configure: { type: 'raw' },\\\\n        loop: { type: 'raw' },\\\\n        io: { type: 'raw' },\\\\n        commons: {\\\\n            type: 'proxy',\\\\n            value: createCommonsModule(rawModule, rawModule.metadata.audioSettings.bitDepth),\\\\n        },\\\\n    });\\\\n    const createEngine = (code) => {\\\\n        const rawModule = createRawModule(code);\\\\n        return createModule(rawModule, createBindings(rawModule));\\\\n    };\\\\n    const createFsModule = (rawModule) => {\\\\n        const fs = createModule(rawModule, {\\\\n            onReadSoundFile: { type: 'callback', value: () => undefined },\\\\n            onWriteSoundFile: { type: 'callback', value: () => undefined },\\\\n            onOpenSoundReadStream: { type: 'callback', value: () => undefined },\\\\n            onOpenSoundWriteStream: { type: 'callback', value: () => undefined },\\\\n            onSoundStreamData: { type: 'callback', value: () => undefined },\\\\n            onCloseSoundStream: { type: 'callback', value: () => undefined },\\\\n            sendReadSoundFileResponse: {\\\\n                type: 'proxy',\\\\n                value: rawModule.x_fs_onReadSoundFileResponse,\\\\n            },\\\\n            sendWriteSoundFileResponse: {\\\\n                type: 'proxy',\\\\n                value: rawModule.x_fs_onWriteSoundFileResponse,\\\\n            },\\\\n            sendSoundStreamData: {\\\\n                type: 'proxy',\\\\n                value: rawModule.x_fs_onSoundStreamData,\\\\n            },\\\\n            closeSoundStream: {\\\\n                type: 'proxy',\\\\n                value: rawModule.x_fs_onCloseSoundStream,\\\\n            },\\\\n        });\\\\n        rawModule.i_fs_openSoundWriteStream = (...args) => fs.onOpenSoundWriteStream(...args);\\\\n        rawModule.i_fs_sendSoundStreamData = (...args) => fs.onSoundStreamData(...args);\\\\n        rawModule.i_fs_openSoundReadStream = (...args) => fs.onOpenSoundReadStream(...args);\\\\n        rawModule.i_fs_closeSoundStream = (...args) => fs.onCloseSoundStream(...args);\\\\n        rawModule.i_fs_writeSoundFile = (...args) => fs.onWriteSoundFile(...args);\\\\n        rawModule.i_fs_readSoundFile = (...args) => fs.onReadSoundFile(...args);\\\\n        return fs;\\\\n    };\\\\n    const createCommonsModule = (rawModule, bitDepth) => {\\\\n        const floatArrayType = getFloatArrayType(bitDepth);\\\\n        return createModule(rawModule, {\\\\n            getArray: { type: 'proxy', value: rawModule.commons_getArray },\\\\n            setArray: {\\\\n                type: 'proxy',\\\\n                value: (arrayName, array) => rawModule.commons_setArray(arrayName, new floatArrayType(array)),\\\\n            },\\\\n        });\\\\n    };\\\\n\\\\n    exports.createBindings = createBindings;\\\\n    exports.createEngine = createEngine;\\\\n    exports.createRawModule = createRawModule;\\\\n\\\\n    return exports;\\\\n\\\\n})({});\\\\n\\\";\\n\\n  var fetchRetry$1 = function (fetch, defaults) {\\n    defaults = defaults || {};\\n    if (typeof fetch !== 'function') {\\n      throw new ArgumentError('fetch must be a function');\\n    }\\n\\n    if (typeof defaults !== 'object') {\\n      throw new ArgumentError('defaults must be an object');\\n    }\\n\\n    if (defaults.retries !== undefined && !isPositiveInteger(defaults.retries)) {\\n      throw new ArgumentError('retries must be a positive integer');\\n    }\\n\\n    if (defaults.retryDelay !== undefined && !isPositiveInteger(defaults.retryDelay) && typeof defaults.retryDelay !== 'function') {\\n      throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\\n    }\\n\\n    if (defaults.retryOn !== undefined && !Array.isArray(defaults.retryOn) && typeof defaults.retryOn !== 'function') {\\n      throw new ArgumentError('retryOn property expects an array or function');\\n    }\\n\\n    var baseDefaults = {\\n      retries: 3,\\n      retryDelay: 1000,\\n      retryOn: [],\\n    };\\n\\n    defaults = Object.assign(baseDefaults, defaults);\\n\\n    return function fetchRetry(input, init) {\\n      var retries = defaults.retries;\\n      var retryDelay = defaults.retryDelay;\\n      var retryOn = defaults.retryOn;\\n\\n      if (init && init.retries !== undefined) {\\n        if (isPositiveInteger(init.retries)) {\\n          retries = init.retries;\\n        } else {\\n          throw new ArgumentError('retries must be a positive integer');\\n        }\\n      }\\n\\n      if (init && init.retryDelay !== undefined) {\\n        if (isPositiveInteger(init.retryDelay) || (typeof init.retryDelay === 'function')) {\\n          retryDelay = init.retryDelay;\\n        } else {\\n          throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\\n        }\\n      }\\n\\n      if (init && init.retryOn) {\\n        if (Array.isArray(init.retryOn) || (typeof init.retryOn === 'function')) {\\n          retryOn = init.retryOn;\\n        } else {\\n          throw new ArgumentError('retryOn property expects an array or function');\\n        }\\n      }\\n\\n      // eslint-disable-next-line no-undef\\n      return new Promise(function (resolve, reject) {\\n        var wrappedFetch = function (attempt) {\\n          // As of node 18, this is no longer needed since node comes with native support for fetch:\\n          /* istanbul ignore next */\\n          var _input =\\n            typeof Request !== 'undefined' && input instanceof Request\\n              ? input.clone()\\n              : input;\\n          fetch(_input, init)\\n            .then(function (response) {\\n              if (Array.isArray(retryOn) && retryOn.indexOf(response.status) === -1) {\\n                resolve(response);\\n              } else if (typeof retryOn === 'function') {\\n                try {\\n                  // eslint-disable-next-line no-undef\\n                  return Promise.resolve(retryOn(attempt, null, response))\\n                    .then(function (retryOnResponse) {\\n                      if(retryOnResponse) {\\n                        retry(attempt, null, response);\\n                      } else {\\n                        resolve(response);\\n                      }\\n                    }).catch(reject);\\n                } catch (error) {\\n                  reject(error);\\n                }\\n              } else {\\n                if (attempt < retries) {\\n                  retry(attempt, null, response);\\n                } else {\\n                  resolve(response);\\n                }\\n              }\\n            })\\n            .catch(function (error) {\\n              if (typeof retryOn === 'function') {\\n                try {\\n                  // eslint-disable-next-line no-undef\\n                  Promise.resolve(retryOn(attempt, error, null))\\n                    .then(function (retryOnResponse) {\\n                      if(retryOnResponse) {\\n                        retry(attempt, error, null);\\n                      } else {\\n                        reject(error);\\n                      }\\n                    })\\n                    .catch(function(error) {\\n                      reject(error);\\n                    });\\n                } catch(error) {\\n                  reject(error);\\n                }\\n              } else if (attempt < retries) {\\n                retry(attempt, error, null);\\n              } else {\\n                reject(error);\\n              }\\n            });\\n        };\\n\\n        function retry(attempt, error, response) {\\n          var delay = (typeof retryDelay === 'function') ?\\n            retryDelay(attempt, error, response) : retryDelay;\\n          setTimeout(function () {\\n            wrappedFetch(++attempt);\\n          }, delay);\\n        }\\n\\n        wrappedFetch(0);\\n      });\\n    };\\n  };\\n\\n  function isPositiveInteger(value) {\\n    return Number.isInteger(value) && value >= 0;\\n  }\\n\\n  function ArgumentError(message) {\\n    this.name = 'ArgumentError';\\n    this.message = message;\\n  }\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const fetchRetry = fetchRetry$1(fetch);\\n  /**\\n   * Note : the audio worklet feature is available only in secure context.\\n   * This function will fail when used in insecure context (non-https, etc ...)\\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AudioWorklet\\n   */\\n  const addModule = async (context, processorCode) => {\\n      const blob = new Blob([processorCode], { type: 'text/javascript' });\\n      const workletProcessorUrl = URL.createObjectURL(blob);\\n      return context.audioWorklet.addModule(workletProcessorUrl);\\n  };\\n  // TODO : testing\\n  const fetchFile = async (url) => {\\n      let response;\\n      try {\\n          response = await fetchRetry(url, { retries: 3 });\\n      }\\n      catch (err) {\\n          throw new FileError(response.status, err.toString());\\n      }\\n      if (!response.ok) {\\n          const responseText = await response.text();\\n          throw new FileError(response.status, responseText);\\n      }\\n      return response.arrayBuffer();\\n  };\\n  const audioBufferToArray = (audioBuffer) => {\\n      const sound = [];\\n      for (let channel = 0; channel < audioBuffer.numberOfChannels; channel++) {\\n          sound.push(audioBuffer.getChannelData(channel));\\n      }\\n      return sound;\\n  };\\n  // TODO : testing\\n  const fixSoundChannelCount = (sound, targetChannelCount) => {\\n      if (sound.length === 0) {\\n          throw new Error(`Received empty sound`);\\n      }\\n      const floatArrayType = sound[0].constructor;\\n      const frameCount = sound[0].length;\\n      const fixedSound = sound.slice(0, targetChannelCount);\\n      while (sound.length < targetChannelCount) {\\n          fixedSound.push(new floatArrayType(frameCount));\\n      }\\n      return fixedSound;\\n  };\\n  const resolveRelativeUrl = (rootUrl, relativeUrl) => {\\n      return new URL(relativeUrl, rootUrl).href;\\n  };\\n  class FileError extends Error {\\n      constructor(status, msg) {\\n          super(`Error ${status} : ${msg}`);\\n      }\\n  }\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  // TODO : manage transferables\\n  class WebPdWorkletNode extends AudioWorkletNode {\\n      constructor(context) {\\n          super(context, 'webpd-node', {\\n              numberOfOutputs: 1,\\n              outputChannelCount: [2],\\n          });\\n      }\\n      destroy() {\\n          this.port.postMessage({\\n              type: 'destroy',\\n              payload: {},\\n          });\\n      }\\n  }\\n  // Concatenate WorkletProcessor code with the Wasm bindings it needs\\n  const WEBPD_WORKLET_PROCESSOR_CODE = AssemblyScriptWasmBindingsCode +\\n      ';\\\\n' +\\n      JavaScriptBindingsCode +\\n      ';\\\\n' +\\n      _WebPdWorkletProcessorCode;\\n  const registerWebPdWorkletNode = (context) => {\\n      return addModule(context, WEBPD_WORKLET_PROCESSOR_CODE);\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const FILES = {};\\n  const STREAMS = {};\\n  class FakeStream {\\n      constructor(url, sound) {\\n          this.url = url;\\n          this.sound = sound;\\n          this.frameCount = sound[0].length;\\n          this.readPosition = 0;\\n      }\\n  }\\n  const read = async (url) => {\\n      if (FILES[url]) {\\n          return FILES[url];\\n      }\\n      const arrayBuffer = await fetchFile(url);\\n      return {\\n          type: 'binary',\\n          data: arrayBuffer,\\n      };\\n  };\\n  // TODO : testing\\n  const readSound = async (url, context) => {\\n      let fakeFile = FILES[url] || (await read(url));\\n      switch (fakeFile.type) {\\n          case 'binary':\\n              const audioBuffer = await context.decodeAudioData(fakeFile.data);\\n              return audioBufferToArray(audioBuffer);\\n          case 'sound':\\n              // We copy the data here o it can be manipulated freely by the host.\\n              // e.g. if the buffer is sent as transferrable to the node we don't want the original to be transferred.\\n              return fakeFile.data.map((array) => array.slice());\\n      }\\n  };\\n  const writeSound = async (sound, url) => {\\n      FILES[url] = {\\n          type: 'sound',\\n          data: sound,\\n      };\\n  };\\n  const readStreamSound = async (operationId, url, channelCount, context) => {\\n      const sound = await readSound(url, context);\\n      STREAMS[operationId] = new FakeStream(url, fixSoundChannelCount(sound, channelCount));\\n      return STREAMS[operationId];\\n  };\\n  const writeStreamSound = async (operationId, url, channelCount) => {\\n      const emptySound = [];\\n      for (let channel = 0; channel < channelCount; channel++) {\\n          emptySound.push(new Float32Array(0));\\n      }\\n      STREAMS[operationId] = new FakeStream(url, emptySound);\\n      FILES[url] = {\\n          type: 'sound',\\n          data: emptySound,\\n      };\\n      return STREAMS[operationId];\\n  };\\n  const getStream = (operationId) => {\\n      return STREAMS[operationId];\\n  };\\n  const killStream = (operationId) => {\\n      console.log('KILL STREAM', operationId);\\n      delete STREAMS[operationId];\\n  };\\n  const pullBlock = (stream, frameCount) => {\\n      const block = stream.sound.map((array) => array.slice(stream.readPosition, stream.readPosition + frameCount));\\n      stream.readPosition += frameCount;\\n      return block;\\n  };\\n  const pushBlock = (stream, block) => {\\n      stream.sound = stream.sound.map((channelData, channel) => {\\n          const concatenated = new Float32Array(channelData.length + block[channel].length);\\n          concatenated.set(channelData);\\n          concatenated.set(block[channel], channelData.length);\\n          return concatenated;\\n      });\\n      stream.frameCount = stream.sound[0].length;\\n      FILES[stream.url].data = stream.sound;\\n  };\\n  var fakeFs = {\\n      writeSound,\\n      readSound,\\n      readStreamSound,\\n      writeStreamSound,\\n      pullBlock,\\n      pushBlock,\\n  };\\n\\n  var closeSoundStream = async (_, payload, __) => {\\n      if (payload.functionName === 'onCloseSoundStream') {\\n          killStream(payload.arguments[0]);\\n      }\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  /** Generate an integer series from 0 to `count` (non-inclusive). */\\n  const countTo$1 = (count) => {\\n      const results = [];\\n      for (let i = 0; i < count; i++) {\\n          results.push(i);\\n      }\\n      return results;\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const Var$1 = (typeName, name, value) => _preventToString$1({\\n      astType: 'Var',\\n      name,\\n      type: typeName,\\n      value: value !== undefined ? _prepareVarValue$1(value) : undefined,\\n  });\\n  const ConstVar$1 = (typeName, name, value) => _preventToString$1({\\n      astType: 'ConstVar',\\n      name,\\n      type: typeName,\\n      value: _prepareVarValue$1(value),\\n  });\\n  const Func$1 = (name, args = [], returnType = 'void') => (strings, ...content) => _preventToString$1({\\n      astType: 'Func',\\n      name,\\n      args,\\n      returnType,\\n      body: ast$1(strings, ...content),\\n  });\\n  const AnonFunc$1 = (args = [], returnType = 'void') => (strings, ...content) => _preventToString$1({\\n      astType: 'Func',\\n      name: null,\\n      args,\\n      returnType,\\n      body: ast$1(strings, ...content),\\n  });\\n  const Class$1 = (name, members) => _preventToString$1({\\n      astType: 'Class',\\n      name,\\n      members,\\n  });\\n  const Sequence$1 = (content) => ({\\n      astType: 'Sequence',\\n      content: _processRawContent$1(_intersperse$1(content, countTo$1(content.length - 1).map(() => '\\\\n'))),\\n  });\\n  const ast$1 = (strings, ...content) => _preventToString$1({\\n      astType: 'Sequence',\\n      content: _processRawContent$1(_intersperse$1(strings, content)),\\n  });\\n  const _processRawContent$1 = (content) => {\\n      // 1. Flatten arrays and AstSequence, filter out nulls, and convert numbers to strings\\n      // Basically converts input to an Array<AstContent>.\\n      const flattenedAndFiltered = content.flatMap((element) => {\\n          if (typeof element === 'string') {\\n              return [element];\\n          }\\n          else if (typeof element === 'number') {\\n              return [element.toString()];\\n          }\\n          else {\\n              if (element === null) {\\n                  return [];\\n              }\\n              else if (Array.isArray(element)) {\\n                  return _processRawContent$1(_intersperse$1(element, countTo$1(element.length - 1).map(() => '\\\\n')));\\n              }\\n              else if (typeof element === 'object' &&\\n                  element.astType === 'Sequence') {\\n                  return element.content;\\n              }\\n              else {\\n                  return [element];\\n              }\\n          }\\n      });\\n      // 2. Combine adjacent strings\\n      const [combinedContent, remainingString] = flattenedAndFiltered.reduce(([combinedContent, currentString], element) => {\\n          if (typeof element === 'string') {\\n              return [combinedContent, currentString + element];\\n          }\\n          else {\\n              if (currentString.length) {\\n                  return [[...combinedContent, currentString, element], ''];\\n              }\\n              else {\\n                  return [[...combinedContent, element], ''];\\n              }\\n          }\\n      }, [[], '']);\\n      if (remainingString.length) {\\n          combinedContent.push(remainingString);\\n      }\\n      return combinedContent;\\n  };\\n  /**\\n   * Intersperse content from array1 with content from array2.\\n   * `array1.length` must be equal to `array2.length + 1`.\\n   */\\n  const _intersperse$1 = (array1, array2) => {\\n      if (array1.length === 0) {\\n          return [];\\n      }\\n      return array1\\n          .slice(1)\\n          .reduce((combinedContent, element, i) => combinedContent.concat([array2[i], element]), [array1[0]]);\\n  };\\n  /**\\n   * Prevents AST elements from being rendered as a string, as this is\\n   * most likely an error due to unproper use of `ast`.\\n   * Deacivated. Activate for debugging by uncommenting the line below.\\n   */\\n  const _preventToString$1 = (element) => ({\\n      ...element,\\n      // Uncomment this to activate\\n      // toString: () => { throw new Error(`Rendering element ${elemennt.astType} as string is probably an error`) }\\n  });\\n  const _prepareVarValue$1 = (value) => {\\n      if (typeof value === 'number') {\\n          return Sequence$1([value.toString()]);\\n      }\\n      else if (typeof value === 'string') {\\n          return Sequence$1([value]);\\n      }\\n      else {\\n          return value;\\n      }\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const bufCore$1 = () => Sequence$1([\\n      /**\\n       * Ring buffer\\n       */\\n      Class$1('buf_SoundBuffer', [\\n          Var$1('FloatArray', 'data'),\\n          Var$1('Int', 'length'),\\n          Var$1('Int', 'writeCursor'),\\n          Var$1('Int', 'pullAvailableLength'),\\n      ]),\\n      /** Erases all the content from the buffer */\\n      Func$1('buf_clear', [\\n          Var$1('buf_SoundBuffer', 'buffer')\\n      ], 'void') `\\n        buffer.data.fill(0)\\n    `,\\n      /** Erases all the content from the buffer */\\n      Func$1('buf_create', [\\n          Var$1('Int', 'length')\\n      ], 'buf_SoundBuffer') `\\n        return {\\n            data: createFloatArray(length),\\n            length: length,\\n            writeCursor: 0,\\n            pullAvailableLength: 0,\\n        }\\n    `\\n  ]);\\n  const bufPushPull$1 = {\\n      codeGenerator: () => Sequence$1([\\n          /**\\n           * Pushes a block to the buffer, throwing an error if the buffer is full.\\n           * If the block is written successfully, {@link buf_SoundBuffer#writeCursor}\\n           * is moved corresponding with the length of data written.\\n           *\\n           * @todo : Optimize by allowing to read/write directly from host\\n           */\\n          Func$1('buf_pushBlock', [\\n              Var$1('buf_SoundBuffer', 'buffer'),\\n              Var$1('FloatArray', 'block')\\n          ], 'Int') `\\n            if (buffer.pullAvailableLength + block.length > buffer.length) {\\n                throw new Error('buffer full')\\n            }\\n\\n            ${Var$1('Int', 'left', 'block.length')}\\n            while (left > 0) {\\n                ${ConstVar$1('Int', 'lengthToWrite', `toInt(Math.min(\\n                    toFloat(buffer.length - buffer.writeCursor), \\n                    toFloat(left),\\n                ))`)}\\n                buffer.data.set(\\n                    block.subarray(\\n                        block.length - left, \\n                        block.length - left + lengthToWrite\\n                    ), \\n                    buffer.writeCursor\\n                )\\n                left -= lengthToWrite\\n                buffer.writeCursor = (buffer.writeCursor + lengthToWrite) % buffer.length\\n                buffer.pullAvailableLength += lengthToWrite\\n            }\\n            return buffer.pullAvailableLength\\n        `,\\n          /**\\n           * Pulls a single sample from the buffer.\\n           * This is a destructive operation, and the sample will be\\n           * unavailable for subsequent readers with the same operation.\\n           */\\n          Func$1('buf_pullSample', [\\n              Var$1('buf_SoundBuffer', 'buffer')\\n          ], 'Float') `\\n            if (buffer.pullAvailableLength <= 0) {\\n                return 0\\n            }\\n            ${ConstVar$1('Int', 'readCursor', 'buffer.writeCursor - buffer.pullAvailableLength')}\\n            buffer.pullAvailableLength -= 1\\n            return buffer.data[readCursor >= 0 ? readCursor : buffer.length + readCursor]\\n        `\\n      ]),\\n      dependencies: [bufCore$1],\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const msg$1 = {\\n      codeGenerator: ({ target }) => {\\n          const declareFuncs = {\\n              msg_create: Func$1('msg_create', [Var$1('MessageTemplate', 'template')], 'Message'),\\n              msg_writeStringToken: Func$1('msg_writeStringToken', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n                  Var$1('string', 'value'),\\n              ], 'void'),\\n              msg_writeFloatToken: Func$1('msg_writeFloatToken', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n                  Var$1('MessageFloatToken', 'value'),\\n              ], 'void'),\\n              msg_readStringToken: Func$1('msg_readStringToken', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n              ], 'string'),\\n              msg_readFloatToken: Func$1('msg_readFloatToken', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n              ], 'MessageFloatToken'),\\n              msg_getLength: Func$1('msg_getLength', [\\n                  Var$1('Message', 'message')\\n              ], 'Int'),\\n              msg_getTokenType: Func$1('msg_getTokenType', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n              ], 'Int'),\\n              msg_isStringToken: Func$1('msg_isStringToken', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n              ], 'boolean'),\\n              msg_isFloatToken: Func$1('msg_isFloatToken', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Int', 'tokenIndex'),\\n              ], 'boolean'),\\n              msg_isMatching: Func$1('msg_isMatching', [\\n                  Var$1('Message', 'message'),\\n                  Var$1('Array<MessageHeaderEntry>', 'tokenTypes'),\\n              ], 'boolean'),\\n              msg_floats: Func$1('msg_floats', [\\n                  Var$1('Array<Float>', 'values'),\\n              ], 'Message'),\\n              msg_strings: Func$1('msg_strings', [\\n                  Var$1('Array<string>', 'values'),\\n              ], 'Message'),\\n              msg_display: Func$1('msg_display', [\\n                  Var$1('Message', 'message'),\\n              ], 'string')\\n          };\\n          if (target === 'assemblyscript') {\\n              return Sequence$1([\\n                  `\\n                type MessageFloatToken = Float\\n                type MessageCharToken = Int\\n\\n                type MessageTemplate = Array<Int>\\n                type MessageHeaderEntry = Int\\n                type MessageHeader = Int32Array\\n                `,\\n                  ConstVar$1('MessageHeaderEntry', 'MSG_FLOAT_TOKEN', '0'),\\n                  ConstVar$1('MessageHeaderEntry', 'MSG_STRING_TOKEN', '1'),\\n                  // =========================== EXPORTED API\\n                  Func$1('x_msg_create', [\\n                      Var$1('Int32Array', 'templateTypedArray')\\n                  ], 'Message') `\\n                    const template: MessageTemplate = new Array<Int>(templateTypedArray.length)\\n                    for (let i: Int = 0; i < templateTypedArray.length; i++) {\\n                        template[i] = templateTypedArray[i]\\n                    }\\n                    return msg_create(template)\\n                `,\\n                  Func$1('x_msg_getTokenTypes', [\\n                      Var$1('Message', 'message')\\n                  ], 'MessageHeader') `\\n                    return message.tokenTypes\\n                `,\\n                  Func$1('x_msg_createTemplate', [\\n                      Var$1('i32', 'length')\\n                  ], 'Int32Array') `\\n                    return new Int32Array(length)\\n                `,\\n                  // =========================== MSG API\\n                  declareFuncs.msg_create `\\n                    let i: Int = 0\\n                    let byteCount: Int = 0\\n                    let tokenTypes: Array<MessageHeaderEntry> = []\\n                    let tokenPositions: Array<MessageHeaderEntry> = []\\n\\n                    i = 0\\n                    while (i < template.length) {\\n                        switch(template[i]) {\\n                            case MSG_FLOAT_TOKEN:\\n                                byteCount += sizeof<MessageFloatToken>()\\n                                tokenTypes.push(MSG_FLOAT_TOKEN)\\n                                tokenPositions.push(byteCount)\\n                                i += 1\\n                                break\\n                            case MSG_STRING_TOKEN:\\n                                byteCount += sizeof<MessageCharToken>() * template[i + 1]\\n                                tokenTypes.push(MSG_STRING_TOKEN)\\n                                tokenPositions.push(byteCount)\\n                                i += 2\\n                                break\\n                            default:\\n                                throw new Error(\\\"unknown token type : \\\" + template[i].toString())\\n                        }\\n                    }\\n\\n                    const tokenCount = tokenTypes.length\\n                    const headerByteCount = _msg_computeHeaderLength(tokenCount) * sizeof<MessageHeaderEntry>()\\n                    byteCount += headerByteCount\\n\\n                    const buffer = new ArrayBuffer(byteCount)\\n                    const dataView = new DataView(buffer)\\n                    let writePosition: Int = 0\\n                    \\n                    dataView.setInt32(writePosition, tokenCount)\\n                    writePosition += sizeof<MessageHeaderEntry>()\\n\\n                    for (i = 0; i < tokenCount; i++) {\\n                        dataView.setInt32(writePosition, tokenTypes[i])\\n                        writePosition += sizeof<MessageHeaderEntry>()\\n                    }\\n\\n                    dataView.setInt32(writePosition, headerByteCount)\\n                    writePosition += sizeof<MessageHeaderEntry>()\\n                    for (i = 0; i < tokenCount; i++) {\\n                        dataView.setInt32(writePosition, headerByteCount + tokenPositions[i])\\n                        writePosition += sizeof<MessageHeaderEntry>()\\n                    }\\n\\n                    const header = _msg_unpackHeader(dataView, tokenCount)\\n                    return {\\n                        dataView,\\n                        tokenCount,\\n                        header,\\n                        tokenTypes: _msg_unpackTokenTypes(header),\\n                        tokenPositions: _msg_unpackTokenPositions(header),\\n                    }\\n                `,\\n                  declareFuncs.msg_writeStringToken `\\n                    const startPosition = message.tokenPositions[tokenIndex]\\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\\n                    const expectedStringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\\n                    if (value.length !== expectedStringLength) {\\n                        throw new Error('Invalid string size, specified ' + expectedStringLength.toString() + ', received ' + value.length.toString())\\n                    }\\n\\n                    for (let i = 0; i < value.length; i++) {\\n                        message.dataView.setInt32(\\n                            startPosition + i * sizeof<MessageCharToken>(), \\n                            value.codePointAt(i)\\n                        )\\n                    }\\n                `,\\n                  declareFuncs.msg_writeFloatToken `\\n                    setFloatDataView(message.dataView, message.tokenPositions[tokenIndex], value)\\n                `,\\n                  declareFuncs.msg_readStringToken `\\n                    const startPosition = message.tokenPositions[tokenIndex]\\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\\n                    const stringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\\n                    let value: string = ''\\n                    for (let i = 0; i < stringLength; i++) {\\n                        value += String.fromCodePoint(message.dataView.getInt32(startPosition + sizeof<MessageCharToken>() * i))\\n                    }\\n                    return value\\n                `,\\n                  declareFuncs.msg_readFloatToken `\\n                    return getFloatDataView(message.dataView, message.tokenPositions[tokenIndex])\\n                `,\\n                  declareFuncs.msg_getLength `\\n                    return message.tokenTypes.length\\n                `,\\n                  declareFuncs.msg_getTokenType `\\n                    return message.tokenTypes[tokenIndex]\\n                `,\\n                  declareFuncs.msg_isStringToken `\\n                    return msg_getTokenType(message, tokenIndex) === MSG_STRING_TOKEN\\n                `,\\n                  declareFuncs.msg_isFloatToken `\\n                    return msg_getTokenType(message, tokenIndex) === MSG_FLOAT_TOKEN\\n                `,\\n                  declareFuncs.msg_isMatching `\\n                    if (message.tokenTypes.length !== tokenTypes.length) {\\n                        return false\\n                    }\\n                    for (let i: Int = 0; i < tokenTypes.length; i++) {\\n                        if (message.tokenTypes[i] !== tokenTypes[i]) {\\n                            return false\\n                        }\\n                    }\\n                    return true\\n                `,\\n                  declareFuncs.msg_floats `\\n                    const message: Message = msg_create(values.map<MessageHeaderEntry>(v => MSG_FLOAT_TOKEN))\\n                    for (let i: Int = 0; i < values.length; i++) {\\n                        msg_writeFloatToken(message, i, values[i])\\n                    }\\n                    return message\\n                `,\\n                  declareFuncs.msg_strings `\\n                    const template: MessageTemplate = []\\n                    for (let i: Int = 0; i < values.length; i++) {\\n                        template.push(MSG_STRING_TOKEN)\\n                        template.push(values[i].length)\\n                    }\\n                    const message: Message = msg_create(template)\\n                    for (let i: Int = 0; i < values.length; i++) {\\n                        msg_writeStringToken(message, i, values[i])\\n                    }\\n                    return message\\n                `,\\n                  declareFuncs.msg_display `\\n                    let displayArray: Array<string> = []\\n                    for (let i: Int = 0; i < msg_getLength(message); i++) {\\n                        if (msg_isFloatToken(message, i)) {\\n                            displayArray.push(msg_readFloatToken(message, i).toString())\\n                        } else {\\n                            displayArray.push('\\\"' + msg_readStringToken(message, i) + '\\\"')\\n                        }\\n                    }\\n                    return '[' + displayArray.join(', ') + ']'\\n                `,\\n                  // =========================== PRIVATE\\n                  // Message header : [\\n                  //      <Token count>, \\n                  //      <Token 1 type>,  ..., <Token N type>, \\n                  //      <Token 1 start>, ..., <Token N start>, <Token N end>\\n                  //      ... DATA ...\\n                  // ]\\n                  Class$1('Message', [\\n                      Var$1('DataView', 'dataView'),\\n                      Var$1('MessageHeader', 'header'),\\n                      Var$1('MessageHeaderEntry', 'tokenCount'),\\n                      Var$1('MessageHeader', 'tokenTypes'),\\n                      Var$1('MessageHeader', 'tokenPositions'),\\n                  ]),\\n                  Func$1('_msg_computeHeaderLength', [\\n                      Var$1('Int', 'tokenCount')\\n                  ], 'Int') `\\n                    return 1 + tokenCount * 2 + 1\\n                `,\\n                  Func$1('_msg_unpackTokenCount', [\\n                      Var$1('DataView', 'messageDataView')\\n                  ], 'MessageHeaderEntry') `\\n                    return messageDataView.getInt32(0)\\n                `,\\n                  Func$1('_msg_unpackHeader', [\\n                      Var$1('DataView', 'messageDataView'),\\n                      Var$1('MessageHeaderEntry', 'tokenCount'),\\n                  ], 'MessageHeader') `\\n                    const headerLength = _msg_computeHeaderLength(tokenCount)\\n                    // TODO : why is this \\\\`wrap\\\\` not working ?\\n                    // return Int32Array.wrap(messageDataView.buffer, 0, headerLength)\\n                    const messageHeader = new Int32Array(headerLength)\\n                    for (let i = 0; i < headerLength; i++) {\\n                        messageHeader[i] = messageDataView.getInt32(sizeof<MessageHeaderEntry>() * i)\\n                    }\\n                    return messageHeader\\n                `,\\n                  Func$1('_msg_unpackTokenTypes', [\\n                      Var$1('MessageHeader', 'header'),\\n                  ], 'MessageHeader') `\\n                    return header.slice(1, 1 + header[0])\\n                `,\\n                  Func$1('_msg_unpackTokenPositions', [\\n                      Var$1('MessageHeader', 'header'),\\n                  ], 'MessageHeader') `\\n                    return header.slice(1 + header[0])\\n                `,\\n              ]);\\n          }\\n          else if (target === 'javascript') {\\n              return Sequence$1([\\n                  ConstVar$1('string', 'MSG_FLOAT_TOKEN', '\\\"number\\\"'),\\n                  ConstVar$1('string', 'MSG_STRING_TOKEN', '\\\"string\\\"'),\\n                  declareFuncs.msg_create `\\n                    const m = []\\n                    let i = 0\\n                    while (i < template.length) {\\n                        if (template[i] === MSG_STRING_TOKEN) {\\n                            m.push('')\\n                            i += 2\\n                        } else if (template[i] === MSG_FLOAT_TOKEN) {\\n                            m.push(0)\\n                            i += 1\\n                        }\\n                    }\\n                    return m\\n                `,\\n                  declareFuncs.msg_getLength `\\n                    return message.length\\n                `,\\n                  declareFuncs.msg_getTokenType `\\n                    return typeof message[tokenIndex]\\n                `,\\n                  declareFuncs.msg_isStringToken `\\n                    return msg_getTokenType(message, tokenIndex) === 'string'\\n                `,\\n                  declareFuncs.msg_isFloatToken `\\n                    return msg_getTokenType(message, tokenIndex) === 'number'\\n                `,\\n                  declareFuncs.msg_isMatching `\\n                    return (message.length === tokenTypes.length) \\n                        && message.every((v, i) => msg_getTokenType(message, i) === tokenTypes[i])\\n                `,\\n                  declareFuncs.msg_writeFloatToken `\\n                    message[tokenIndex] = value\\n                `,\\n                  declareFuncs.msg_writeStringToken `\\n                    message[tokenIndex] = value\\n                `,\\n                  declareFuncs.msg_readFloatToken `\\n                    return message[tokenIndex]\\n                `,\\n                  declareFuncs.msg_readStringToken `\\n                    return message[tokenIndex]\\n                `,\\n                  declareFuncs.msg_floats `\\n                    return values\\n                `,\\n                  declareFuncs.msg_strings `\\n                    return values\\n                `,\\n                  declareFuncs.msg_display `\\n                    return '[' + message\\n                        .map(t => typeof t === 'string' ? '\\\"' + t + '\\\"' : t.toString())\\n                        .join(', ') + ']'\\n                `,\\n              ]);\\n          }\\n          else {\\n              throw new Error(`Unexpected target: ${target}`);\\n          }\\n      },\\n      exports: [\\n          { name: 'x_msg_create', targets: ['assemblyscript'] },\\n          { name: 'x_msg_getTokenTypes', targets: ['assemblyscript'] },\\n          { name: 'x_msg_createTemplate', targets: ['assemblyscript'] },\\n          { name: 'msg_writeStringToken', targets: ['assemblyscript'] },\\n          { name: 'msg_writeFloatToken', targets: ['assemblyscript'] },\\n          { name: 'msg_readStringToken', targets: ['assemblyscript'] },\\n          { name: 'msg_readFloatToken', targets: ['assemblyscript'] },\\n          { name: 'MSG_FLOAT_TOKEN', targets: ['assemblyscript'] },\\n          { name: 'MSG_STRING_TOKEN', targets: ['assemblyscript'] },\\n      ],\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const FS_OPERATION_SUCCESS$1 = 0;\\n  const FS_OPERATION_FAILURE$1 = 1;\\n  const fsCore$1 = {\\n      codeGenerator: ({ target }) => {\\n          const content = [];\\n          if (target === 'assemblyscript') {\\n              content.push(`\\n                type fs_OperationId = Int\\n                type fs_OperationStatus = Int\\n                type fs_OperationCallback = (id: fs_OperationId, status: fs_OperationStatus) => void\\n                type fs_OperationSoundCallback = (id: fs_OperationId, status: fs_OperationStatus, sound: FloatArray[]) => void\\n                type fs_Url = string\\n            `);\\n          }\\n          return Sequence$1([\\n              ...content,\\n              ConstVar$1('Int', 'FS_OPERATION_SUCCESS', FS_OPERATION_SUCCESS$1.toString()),\\n              ConstVar$1('Int', 'FS_OPERATION_FAILURE', FS_OPERATION_FAILURE$1.toString()),\\n              ConstVar$1('Set<fs_OperationId>', '_FS_OPERATIONS_IDS', 'new Set()'),\\n              ConstVar$1('Map<fs_OperationId, fs_OperationCallback>', '_FS_OPERATIONS_CALLBACKS', 'new Map()'),\\n              ConstVar$1('Map<fs_OperationId, fs_OperationSoundCallback>', '_FS_OPERATIONS_SOUND_CALLBACKS', 'new Map()'),\\n              // We start at 1, because 0 is what ASC uses when host forgets to pass an arg to \\n              // a function. Therefore we can get false negatives when a test happens to expect a 0.\\n              Var$1('Int', '_FS_OPERATION_COUNTER', '1'),\\n              Class$1('fs_SoundInfo', [\\n                  Var$1('Int', 'channelCount'),\\n                  Var$1('Int', 'sampleRate'),\\n                  Var$1('Int', 'bitDepth'),\\n                  Var$1('string', 'encodingFormat'),\\n                  Var$1('string', 'endianness'),\\n                  Var$1('string', 'extraOptions'),\\n              ]),\\n              Func$1('fs_soundInfoToMessage', [\\n                  Var$1('fs_SoundInfo', 'soundInfo')\\n              ], 'Message') `\\n                ${ConstVar$1('Message', 'info', `msg_create([\\n                    MSG_FLOAT_TOKEN,\\n                    MSG_FLOAT_TOKEN,\\n                    MSG_FLOAT_TOKEN,\\n                    MSG_STRING_TOKEN,\\n                    soundInfo.encodingFormat.length,\\n                    MSG_STRING_TOKEN,\\n                    soundInfo.endianness.length,\\n                    MSG_STRING_TOKEN,\\n                    soundInfo.extraOptions.length\\n                ])`)}\\n                msg_writeFloatToken(info, 0, toFloat(soundInfo.channelCount))\\n                msg_writeFloatToken(info, 1, toFloat(soundInfo.sampleRate))\\n                msg_writeFloatToken(info, 2, toFloat(soundInfo.bitDepth))\\n                msg_writeStringToken(info, 3, soundInfo.encodingFormat)\\n                msg_writeStringToken(info, 4, soundInfo.endianness)\\n                msg_writeStringToken(info, 5, soundInfo.extraOptions)\\n                return info\\n            `,\\n              Func$1('_fs_assertOperationExists', [\\n                  Var$1('fs_OperationId', 'id'),\\n                  Var$1('string', 'operationName'),\\n              ], 'void') `\\n                if (!_FS_OPERATIONS_IDS.has(id)) {\\n                    throw new Error(operationName + ' operation unknown : ' + id.toString())\\n                }\\n            `,\\n              Func$1('_fs_createOperationId', [], 'fs_OperationId') `\\n                ${ConstVar$1('fs_OperationId', 'id', '_FS_OPERATION_COUNTER++')}\\n                _FS_OPERATIONS_IDS.add(id)\\n                return id\\n            `\\n          ]);\\n      },\\n      dependencies: [msg$1],\\n  };\\n  ({\\n      codeGenerator: () => Sequence$1([\\n          Func$1('fs_readSoundFile', [\\n              Var$1('fs_Url', 'url'),\\n              Var$1('fs_SoundInfo', 'soundInfo'),\\n              Var$1('fs_OperationSoundCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            ${ConstVar$1('fs_OperationId', 'id', '_fs_createOperationId()')}\\n            _FS_OPERATIONS_SOUND_CALLBACKS.set(id, callback)\\n            i_fs_readSoundFile(id, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func$1('x_fs_onReadSoundFileResponse', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_OperationStatus', 'status'),\\n              Var$1('FloatArray[]', 'sound'),\\n          ], 'void') `\\n            _fs_assertOperationExists(id, 'x_fs_onReadSoundFileResponse')\\n            _FS_OPERATIONS_IDS.delete(id)\\n            // Finish cleaning before calling the callback in case it would throw an error.\\n            const callback = _FS_OPERATIONS_SOUND_CALLBACKS.get(id)\\n            callback(id, status, sound)\\n            _FS_OPERATIONS_SOUND_CALLBACKS.delete(id)\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onReadSoundFileResponse',\\n          },\\n      ],\\n      imports: [\\n          Func$1('i_fs_readSoundFile', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_Url', 'url'),\\n              Var$1('Message', 'info'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsCore$1],\\n  });\\n  ({\\n      codeGenerator: () => Sequence$1([\\n          Func$1('fs_writeSoundFile', [\\n              Var$1('FloatArray[]', 'sound'),\\n              Var$1('fs_Url', 'url'),\\n              Var$1('fs_SoundInfo', 'soundInfo'),\\n              Var$1('fs_OperationCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            ${ConstVar$1('fs_OperationId', 'id', '_fs_createOperationId()')}\\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\\n            i_fs_writeSoundFile(id, sound, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func$1('x_fs_onWriteSoundFileResponse', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_OperationStatus', 'status'),\\n          ], 'void') `\\n            _fs_assertOperationExists(id, 'x_fs_onWriteSoundFileResponse')\\n            _FS_OPERATIONS_IDS.delete(id)\\n            // Finish cleaning before calling the callback in case it would throw an error.\\n            ${ConstVar$1('fs_OperationCallback', 'callback', '_FS_OPERATIONS_CALLBACKS.get(id)')}\\n            callback(id, status)\\n            _FS_OPERATIONS_CALLBACKS.delete(id)\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onWriteSoundFileResponse',\\n          },\\n      ],\\n      imports: [\\n          Func$1('i_fs_writeSoundFile', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('FloatArray[]', 'sound'),\\n              Var$1('fs_Url', 'url'),\\n              Var$1('Message', 'info'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsCore$1],\\n  });\\n  const fsSoundStreamCore$1 = {\\n      codeGenerator: () => Sequence$1([\\n          ConstVar$1('Map<fs_OperationId, Array<buf_SoundBuffer>>', '_FS_SOUND_STREAM_BUFFERS', 'new Map()'),\\n          ConstVar$1('Int', '_FS_SOUND_BUFFER_LENGTH', '20 * 44100'),\\n          Func$1('fs_closeSoundStream', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_OperationStatus', 'status'),\\n          ], 'void') `\\n            if (!_FS_OPERATIONS_IDS.has(id)) {\\n                return\\n            }\\n            _FS_OPERATIONS_IDS.delete(id)\\n            _FS_OPERATIONS_CALLBACKS.get(id)(id, status)\\n            _FS_OPERATIONS_CALLBACKS.delete(id)\\n            // Delete this last, to give the callback \\n            // a chance to save a reference to the buffer\\n            // If write stream, there won't be a buffer\\n            if (_FS_SOUND_STREAM_BUFFERS.has(id)) {\\n                _FS_SOUND_STREAM_BUFFERS.delete(id)\\n            }\\n            i_fs_closeSoundStream(id, status)\\n        `,\\n          Func$1('x_fs_onCloseSoundStream', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_OperationStatus', 'status'),\\n          ], 'void') `\\n            fs_closeSoundStream(id, status)\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onCloseSoundStream',\\n          },\\n      ],\\n      imports: [\\n          Func$1('i_fs_closeSoundStream', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_OperationStatus', 'status'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [bufCore$1, fsCore$1],\\n  };\\n  ({\\n      codeGenerator: () => Sequence$1([\\n          Func$1('fs_openSoundReadStream', [\\n              Var$1('fs_Url', 'url'),\\n              Var$1('fs_SoundInfo', 'soundInfo'),\\n              Var$1('fs_OperationCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            ${ConstVar$1('fs_OperationId', 'id', '_fs_createOperationId()')}\\n            ${ConstVar$1('Array<buf_SoundBuffer>', 'buffers', '[]')}\\n            for (${Var$1('Int', 'channel', '0')}; channel < soundInfo.channelCount; channel++) {\\n                buffers.push(buf_create(_FS_SOUND_BUFFER_LENGTH))\\n            }\\n            _FS_SOUND_STREAM_BUFFERS.set(id, buffers)\\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\\n            i_fs_openSoundReadStream(id, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func$1('x_fs_onSoundStreamData', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('FloatArray[]', 'block'),\\n          ], 'Int') `\\n            _fs_assertOperationExists(id, 'x_fs_onSoundStreamData')\\n            const buffers = _FS_SOUND_STREAM_BUFFERS.get(id)\\n            for (${Var$1('Int', 'i', '0')}; i < buffers.length; i++) {\\n                buf_pushBlock(buffers[i], block[i])\\n            }\\n            return buffers[0].pullAvailableLength\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onSoundStreamData',\\n          },\\n      ],\\n      imports: [\\n          Func$1('i_fs_openSoundReadStream', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_Url', 'url'),\\n              Var$1('Message', 'info'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsSoundStreamCore$1, bufPushPull$1],\\n  });\\n  ({\\n      codeGenerator: () => Sequence$1([\\n          Func$1('fs_openSoundWriteStream', [\\n              Var$1('fs_Url', 'url'),\\n              Var$1('fs_SoundInfo', 'soundInfo'),\\n              Var$1('fs_OperationCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            const id = _fs_createOperationId()\\n            _FS_SOUND_STREAM_BUFFERS.set(id, [])\\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\\n            i_fs_openSoundWriteStream(id, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func$1('fs_sendSoundStreamData', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('FloatArray[]', 'block')\\n          ], 'void') `\\n            _fs_assertOperationExists(id, 'fs_sendSoundStreamData')\\n            i_fs_sendSoundStreamData(id, block)\\n        `\\n      ]),\\n      imports: [\\n          Func$1('i_fs_openSoundWriteStream', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('fs_Url', 'url'),\\n              Var$1('Message', 'info'),\\n          ], 'void') ``,\\n          Func$1('i_fs_sendSoundStreamData', [\\n              Var$1('fs_OperationId', 'id'),\\n              Var$1('FloatArray[]', 'block'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsSoundStreamCore$1],\\n  });\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  AnonFunc$1([Var$1('Message', 'm')], 'void') ``;\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  var readSoundFile = async (node, payload, settings) => {\\n      if (payload.functionName === 'onReadSoundFile') {\\n          const [operationId, url, [channelCount]] = payload.arguments;\\n          const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\\n          let operationStatus = FS_OPERATION_SUCCESS$1;\\n          let sound = null;\\n          try {\\n              sound = await fakeFs.readSound(absoluteUrl, node.context);\\n          }\\n          catch (err) {\\n              operationStatus = FS_OPERATION_FAILURE$1;\\n              console.error(err);\\n          }\\n          if (sound) {\\n              sound = fixSoundChannelCount(sound, channelCount);\\n          }\\n          node.port.postMessage({\\n              type: 'fs',\\n              payload: {\\n                  functionName: 'sendReadSoundFileResponse',\\n                  arguments: [operationId, operationStatus, sound],\\n              },\\n          }, \\n          // Add as transferables to avoid copies between threads\\n          sound.map((array) => array.buffer));\\n      }\\n      else if (payload.functionName === 'sendReadSoundFileResponse_return') ;\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const BUFFER_HIGH = 10 * 44100;\\n  const BUFFER_LOW = BUFFER_HIGH / 2;\\n  var readSoundStream = async (node, payload, settings) => {\\n      if (payload.functionName === 'onOpenSoundReadStream') {\\n          const [operationId, url, [channelCount]] = payload.arguments;\\n          try {\\n              const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\\n              await fakeFs.readStreamSound(operationId, absoluteUrl, channelCount, node.context);\\n          }\\n          catch (err) {\\n              console.error(err);\\n              node.port.postMessage({\\n                  type: 'fs',\\n                  payload: {\\n                      functionName: 'closeSoundStream',\\n                      arguments: [operationId, FS_OPERATION_FAILURE$1],\\n                  },\\n              });\\n              return;\\n          }\\n          streamLoop(node, operationId, 0);\\n      }\\n      else if (payload.functionName === 'sendSoundStreamData_return') {\\n          const stream = getStream(payload.operationId);\\n          if (!stream) {\\n              throw new Error(`unknown stream ${payload.operationId}`);\\n          }\\n          streamLoop(node, payload.operationId, payload.returned);\\n      }\\n      else if (payload.functionName === 'closeSoundStream_return') {\\n          const stream = getStream(payload.operationId);\\n          if (stream) {\\n              killStream(payload.operationId);\\n          }\\n      }\\n  };\\n  const streamLoop = (node, operationId, framesAvailableInEngine) => {\\n      const sampleRate = node.context.sampleRate;\\n      const secondsToThreshold = Math.max(framesAvailableInEngine - BUFFER_LOW, 10) / sampleRate;\\n      const framesToSend = BUFFER_HIGH -\\n          (framesAvailableInEngine - secondsToThreshold * sampleRate);\\n      setTimeout(() => {\\n          const stream = getStream(operationId);\\n          if (!stream) {\\n              console.log(`stream ${operationId} was maybe closed`);\\n              return;\\n          }\\n          if (stream.readPosition < stream.frameCount) {\\n              const block = pullBlock(stream, framesToSend);\\n              node.port.postMessage({\\n                  type: 'fs',\\n                  payload: {\\n                      functionName: 'sendSoundStreamData',\\n                      arguments: [operationId, block],\\n                  },\\n              }, \\n              // Add as transferables to avoid copies between threads\\n              block.map((array) => array.buffer));\\n          }\\n          else {\\n              node.port.postMessage({\\n                  type: 'fs',\\n                  payload: {\\n                      functionName: 'closeSoundStream',\\n                      arguments: [operationId, FS_OPERATION_SUCCESS$1],\\n                  },\\n              });\\n          }\\n      }, secondsToThreshold * 1000);\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  var writeSoundFile = async (node, payload, settings) => {\\n      if (payload.functionName === 'onWriteSoundFile') {\\n          const [operationId, sound, url, [channelCount]] = payload.arguments;\\n          const fixedSound = fixSoundChannelCount(sound, channelCount);\\n          const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\\n          await fakeFs.writeSound(fixedSound, absoluteUrl);\\n          let operationStatus = FS_OPERATION_SUCCESS$1;\\n          node.port.postMessage({\\n              type: 'fs',\\n              payload: {\\n                  functionName: 'sendWriteSoundFileResponse',\\n                  arguments: [operationId, operationStatus],\\n              },\\n          });\\n      }\\n      else if (payload.functionName === 'sendWriteSoundFileResponse_return') ;\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  var writeSoundStream = async (_, payload, settings) => {\\n      if (payload.functionName === 'onOpenSoundWriteStream') {\\n          const [operationId, url, [channelCount]] = payload.arguments;\\n          const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\\n          await fakeFs.writeStreamSound(operationId, absoluteUrl, channelCount);\\n      }\\n      else if (payload.functionName === 'onSoundStreamData') {\\n          const [operationId, sound] = payload.arguments;\\n          const stream = getStream(operationId);\\n          if (!stream) {\\n              throw new Error(`unknown stream ${operationId}`);\\n          }\\n          pushBlock(stream, sound);\\n      }\\n      else if (payload.functionName === 'closeSoundStream_return') {\\n          const stream = getStream(payload.operationId);\\n          if (stream) {\\n              killStream(payload.operationId);\\n          }\\n      }\\n  };\\n\\n  var index = async (node, messageEvent, settings) => {\\n      const message = messageEvent.data;\\n      const { payload } = message;\\n      if (message.type !== 'fs') {\\n          throw new Error(`Unknown message type from node ${message.type}`);\\n      }\\n      if (payload.functionName === 'onReadSoundFile' ||\\n          payload.functionName === 'sendReadSoundFileResponse_return') {\\n          readSoundFile(node, payload, settings);\\n      }\\n      else if (payload.functionName === 'onOpenSoundReadStream' ||\\n          payload.functionName === 'sendSoundStreamData_return') {\\n          readSoundStream(node, payload, settings);\\n      }\\n      else if (payload.functionName === 'onWriteSoundFile' ||\\n          payload.functionName === 'sendWriteSoundFileResponse_return') {\\n          writeSoundFile(node, payload, settings);\\n      }\\n      else if (payload.functionName === 'onOpenSoundWriteStream' ||\\n          payload.functionName === 'onSoundStreamData') {\\n          writeSoundStream(node, payload, settings);\\n      }\\n      else if (payload.functionName === 'closeSoundStream_return') {\\n          writeSoundStream(node, payload, settings);\\n          readSoundStream(node, payload, settings);\\n      }\\n      else if (payload.functionName === 'onCloseSoundStream') {\\n          closeSoundStream(node, payload);\\n      }\\n      else {\\n          throw new Error(`Unknown callback ${payload.functionName}`);\\n      }\\n  };\\n\\n  var initialize = (...args) => {\\n      return registerWebPdWorkletNode(...args);\\n  };\\n\\n  const urlDirName = (url) => {\\n      if (isExternalUrl(url)) {\\n          return new URL('.', url).href;\\n      }\\n      else {\\n          return new URL('.', new URL(url, document.URL).href).href;\\n      }\\n  };\\n  const isExternalUrl = (urlString) => {\\n      try {\\n          const url = new URL(urlString);\\n          if (url.origin !== new URL(document.URL, document.baseURI).origin) {\\n              return true;\\n          }\\n      }\\n      catch (_e) {\\n          new URL(urlString, document.baseURI);\\n      }\\n      return false;\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  /** Generate an integer series from 0 to `count` (non-inclusive). */\\n  const countTo = (count) => {\\n      const results = [];\\n      for (let i = 0; i < count; i++) {\\n          results.push(i);\\n      }\\n      return results;\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const Var = (typeName, name, value) => _preventToString({\\n      astType: 'Var',\\n      name,\\n      type: typeName,\\n      value: value !== undefined ? _prepareVarValue(value) : undefined,\\n  });\\n  const ConstVar = (typeName, name, value) => _preventToString({\\n      astType: 'ConstVar',\\n      name,\\n      type: typeName,\\n      value: _prepareVarValue(value),\\n  });\\n  const Func = (name, args = [], returnType = 'void') => (strings, ...content) => _preventToString({\\n      astType: 'Func',\\n      name,\\n      args,\\n      returnType,\\n      body: ast(strings, ...content),\\n  });\\n  const AnonFunc = (args = [], returnType = 'void') => (strings, ...content) => _preventToString({\\n      astType: 'Func',\\n      name: null,\\n      args,\\n      returnType,\\n      body: ast(strings, ...content),\\n  });\\n  const Class = (name, members) => _preventToString({\\n      astType: 'Class',\\n      name,\\n      members,\\n  });\\n  const Sequence = (content) => ({\\n      astType: 'Sequence',\\n      content: _processRawContent(_intersperse(content, countTo(content.length - 1).map(() => '\\\\n'))),\\n  });\\n  const ast = (strings, ...content) => _preventToString({\\n      astType: 'Sequence',\\n      content: _processRawContent(_intersperse(strings, content)),\\n  });\\n  const _processRawContent = (content) => {\\n      // 1. Flatten arrays and AstSequence, filter out nulls, and convert numbers to strings\\n      // Basically converts input to an Array<AstContent>.\\n      const flattenedAndFiltered = content.flatMap((element) => {\\n          if (typeof element === 'string') {\\n              return [element];\\n          }\\n          else if (typeof element === 'number') {\\n              return [element.toString()];\\n          }\\n          else {\\n              if (element === null) {\\n                  return [];\\n              }\\n              else if (Array.isArray(element)) {\\n                  return _processRawContent(_intersperse(element, countTo(element.length - 1).map(() => '\\\\n')));\\n              }\\n              else if (typeof element === 'object' &&\\n                  element.astType === 'Sequence') {\\n                  return element.content;\\n              }\\n              else {\\n                  return [element];\\n              }\\n          }\\n      });\\n      // 2. Combine adjacent strings\\n      const [combinedContent, remainingString] = flattenedAndFiltered.reduce(([combinedContent, currentString], element) => {\\n          if (typeof element === 'string') {\\n              return [combinedContent, currentString + element];\\n          }\\n          else {\\n              if (currentString.length) {\\n                  return [[...combinedContent, currentString, element], ''];\\n              }\\n              else {\\n                  return [[...combinedContent, element], ''];\\n              }\\n          }\\n      }, [[], '']);\\n      if (remainingString.length) {\\n          combinedContent.push(remainingString);\\n      }\\n      return combinedContent;\\n  };\\n  /**\\n   * Intersperse content from array1 with content from array2.\\n   * `array1.length` must be equal to `array2.length + 1`.\\n   */\\n  const _intersperse = (array1, array2) => {\\n      if (array1.length === 0) {\\n          return [];\\n      }\\n      return array1\\n          .slice(1)\\n          .reduce((combinedContent, element, i) => combinedContent.concat([array2[i], element]), [array1[0]]);\\n  };\\n  /**\\n   * Prevents AST elements from being rendered as a string, as this is\\n   * most likely an error due to unproper use of `ast`.\\n   * Deacivated. Activate for debugging by uncommenting the line below.\\n   */\\n  const _preventToString = (element) => ({\\n      ...element,\\n      // Uncomment this to activate\\n      // toString: () => { throw new Error(`Rendering element ${elemennt.astType} as string is probably an error`) }\\n  });\\n  const _prepareVarValue = (value) => {\\n      if (typeof value === 'number') {\\n          return Sequence([value.toString()]);\\n      }\\n      else if (typeof value === 'string') {\\n          return Sequence([value]);\\n      }\\n      else {\\n          return value;\\n      }\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const bufCore = () => Sequence([\\n      /**\\n       * Ring buffer\\n       */\\n      Class('buf_SoundBuffer', [\\n          Var('FloatArray', 'data'),\\n          Var('Int', 'length'),\\n          Var('Int', 'writeCursor'),\\n          Var('Int', 'pullAvailableLength'),\\n      ]),\\n      /** Erases all the content from the buffer */\\n      Func('buf_clear', [\\n          Var('buf_SoundBuffer', 'buffer')\\n      ], 'void') `\\n        buffer.data.fill(0)\\n    `,\\n      /** Erases all the content from the buffer */\\n      Func('buf_create', [\\n          Var('Int', 'length')\\n      ], 'buf_SoundBuffer') `\\n        return {\\n            data: createFloatArray(length),\\n            length: length,\\n            writeCursor: 0,\\n            pullAvailableLength: 0,\\n        }\\n    `\\n  ]);\\n  const bufPushPull = {\\n      codeGenerator: () => Sequence([\\n          /**\\n           * Pushes a block to the buffer, throwing an error if the buffer is full.\\n           * If the block is written successfully, {@link buf_SoundBuffer#writeCursor}\\n           * is moved corresponding with the length of data written.\\n           *\\n           * @todo : Optimize by allowing to read/write directly from host\\n           */\\n          Func('buf_pushBlock', [\\n              Var('buf_SoundBuffer', 'buffer'),\\n              Var('FloatArray', 'block')\\n          ], 'Int') `\\n            if (buffer.pullAvailableLength + block.length > buffer.length) {\\n                throw new Error('buffer full')\\n            }\\n\\n            ${Var('Int', 'left', 'block.length')}\\n            while (left > 0) {\\n                ${ConstVar('Int', 'lengthToWrite', `toInt(Math.min(\\n                    toFloat(buffer.length - buffer.writeCursor), \\n                    toFloat(left),\\n                ))`)}\\n                buffer.data.set(\\n                    block.subarray(\\n                        block.length - left, \\n                        block.length - left + lengthToWrite\\n                    ), \\n                    buffer.writeCursor\\n                )\\n                left -= lengthToWrite\\n                buffer.writeCursor = (buffer.writeCursor + lengthToWrite) % buffer.length\\n                buffer.pullAvailableLength += lengthToWrite\\n            }\\n            return buffer.pullAvailableLength\\n        `,\\n          /**\\n           * Pulls a single sample from the buffer.\\n           * This is a destructive operation, and the sample will be\\n           * unavailable for subsequent readers with the same operation.\\n           */\\n          Func('buf_pullSample', [\\n              Var('buf_SoundBuffer', 'buffer')\\n          ], 'Float') `\\n            if (buffer.pullAvailableLength <= 0) {\\n                return 0\\n            }\\n            ${ConstVar('Int', 'readCursor', 'buffer.writeCursor - buffer.pullAvailableLength')}\\n            buffer.pullAvailableLength -= 1\\n            return buffer.data[readCursor >= 0 ? readCursor : buffer.length + readCursor]\\n        `\\n      ]),\\n      dependencies: [bufCore],\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const msg = {\\n      codeGenerator: ({ target }) => {\\n          const declareFuncs = {\\n              msg_create: Func('msg_create', [Var('MessageTemplate', 'template')], 'Message'),\\n              msg_writeStringToken: Func('msg_writeStringToken', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n                  Var('string', 'value'),\\n              ], 'void'),\\n              msg_writeFloatToken: Func('msg_writeFloatToken', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n                  Var('MessageFloatToken', 'value'),\\n              ], 'void'),\\n              msg_readStringToken: Func('msg_readStringToken', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n              ], 'string'),\\n              msg_readFloatToken: Func('msg_readFloatToken', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n              ], 'MessageFloatToken'),\\n              msg_getLength: Func('msg_getLength', [\\n                  Var('Message', 'message')\\n              ], 'Int'),\\n              msg_getTokenType: Func('msg_getTokenType', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n              ], 'Int'),\\n              msg_isStringToken: Func('msg_isStringToken', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n              ], 'boolean'),\\n              msg_isFloatToken: Func('msg_isFloatToken', [\\n                  Var('Message', 'message'),\\n                  Var('Int', 'tokenIndex'),\\n              ], 'boolean'),\\n              msg_isMatching: Func('msg_isMatching', [\\n                  Var('Message', 'message'),\\n                  Var('Array<MessageHeaderEntry>', 'tokenTypes'),\\n              ], 'boolean'),\\n              msg_floats: Func('msg_floats', [\\n                  Var('Array<Float>', 'values'),\\n              ], 'Message'),\\n              msg_strings: Func('msg_strings', [\\n                  Var('Array<string>', 'values'),\\n              ], 'Message'),\\n              msg_display: Func('msg_display', [\\n                  Var('Message', 'message'),\\n              ], 'string')\\n          };\\n          if (target === 'assemblyscript') {\\n              return Sequence([\\n                  `\\n                type MessageFloatToken = Float\\n                type MessageCharToken = Int\\n\\n                type MessageTemplate = Array<Int>\\n                type MessageHeaderEntry = Int\\n                type MessageHeader = Int32Array\\n                `,\\n                  ConstVar('MessageHeaderEntry', 'MSG_FLOAT_TOKEN', '0'),\\n                  ConstVar('MessageHeaderEntry', 'MSG_STRING_TOKEN', '1'),\\n                  // =========================== EXPORTED API\\n                  Func('x_msg_create', [\\n                      Var('Int32Array', 'templateTypedArray')\\n                  ], 'Message') `\\n                    const template: MessageTemplate = new Array<Int>(templateTypedArray.length)\\n                    for (let i: Int = 0; i < templateTypedArray.length; i++) {\\n                        template[i] = templateTypedArray[i]\\n                    }\\n                    return msg_create(template)\\n                `,\\n                  Func('x_msg_getTokenTypes', [\\n                      Var('Message', 'message')\\n                  ], 'MessageHeader') `\\n                    return message.tokenTypes\\n                `,\\n                  Func('x_msg_createTemplate', [\\n                      Var('i32', 'length')\\n                  ], 'Int32Array') `\\n                    return new Int32Array(length)\\n                `,\\n                  // =========================== MSG API\\n                  declareFuncs.msg_create `\\n                    let i: Int = 0\\n                    let byteCount: Int = 0\\n                    let tokenTypes: Array<MessageHeaderEntry> = []\\n                    let tokenPositions: Array<MessageHeaderEntry> = []\\n\\n                    i = 0\\n                    while (i < template.length) {\\n                        switch(template[i]) {\\n                            case MSG_FLOAT_TOKEN:\\n                                byteCount += sizeof<MessageFloatToken>()\\n                                tokenTypes.push(MSG_FLOAT_TOKEN)\\n                                tokenPositions.push(byteCount)\\n                                i += 1\\n                                break\\n                            case MSG_STRING_TOKEN:\\n                                byteCount += sizeof<MessageCharToken>() * template[i + 1]\\n                                tokenTypes.push(MSG_STRING_TOKEN)\\n                                tokenPositions.push(byteCount)\\n                                i += 2\\n                                break\\n                            default:\\n                                throw new Error(\\\"unknown token type : \\\" + template[i].toString())\\n                        }\\n                    }\\n\\n                    const tokenCount = tokenTypes.length\\n                    const headerByteCount = _msg_computeHeaderLength(tokenCount) * sizeof<MessageHeaderEntry>()\\n                    byteCount += headerByteCount\\n\\n                    const buffer = new ArrayBuffer(byteCount)\\n                    const dataView = new DataView(buffer)\\n                    let writePosition: Int = 0\\n                    \\n                    dataView.setInt32(writePosition, tokenCount)\\n                    writePosition += sizeof<MessageHeaderEntry>()\\n\\n                    for (i = 0; i < tokenCount; i++) {\\n                        dataView.setInt32(writePosition, tokenTypes[i])\\n                        writePosition += sizeof<MessageHeaderEntry>()\\n                    }\\n\\n                    dataView.setInt32(writePosition, headerByteCount)\\n                    writePosition += sizeof<MessageHeaderEntry>()\\n                    for (i = 0; i < tokenCount; i++) {\\n                        dataView.setInt32(writePosition, headerByteCount + tokenPositions[i])\\n                        writePosition += sizeof<MessageHeaderEntry>()\\n                    }\\n\\n                    const header = _msg_unpackHeader(dataView, tokenCount)\\n                    return {\\n                        dataView,\\n                        tokenCount,\\n                        header,\\n                        tokenTypes: _msg_unpackTokenTypes(header),\\n                        tokenPositions: _msg_unpackTokenPositions(header),\\n                    }\\n                `,\\n                  declareFuncs.msg_writeStringToken `\\n                    const startPosition = message.tokenPositions[tokenIndex]\\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\\n                    const expectedStringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\\n                    if (value.length !== expectedStringLength) {\\n                        throw new Error('Invalid string size, specified ' + expectedStringLength.toString() + ', received ' + value.length.toString())\\n                    }\\n\\n                    for (let i = 0; i < value.length; i++) {\\n                        message.dataView.setInt32(\\n                            startPosition + i * sizeof<MessageCharToken>(), \\n                            value.codePointAt(i)\\n                        )\\n                    }\\n                `,\\n                  declareFuncs.msg_writeFloatToken `\\n                    setFloatDataView(message.dataView, message.tokenPositions[tokenIndex], value)\\n                `,\\n                  declareFuncs.msg_readStringToken `\\n                    const startPosition = message.tokenPositions[tokenIndex]\\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\\n                    const stringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\\n                    let value: string = ''\\n                    for (let i = 0; i < stringLength; i++) {\\n                        value += String.fromCodePoint(message.dataView.getInt32(startPosition + sizeof<MessageCharToken>() * i))\\n                    }\\n                    return value\\n                `,\\n                  declareFuncs.msg_readFloatToken `\\n                    return getFloatDataView(message.dataView, message.tokenPositions[tokenIndex])\\n                `,\\n                  declareFuncs.msg_getLength `\\n                    return message.tokenTypes.length\\n                `,\\n                  declareFuncs.msg_getTokenType `\\n                    return message.tokenTypes[tokenIndex]\\n                `,\\n                  declareFuncs.msg_isStringToken `\\n                    return msg_getTokenType(message, tokenIndex) === MSG_STRING_TOKEN\\n                `,\\n                  declareFuncs.msg_isFloatToken `\\n                    return msg_getTokenType(message, tokenIndex) === MSG_FLOAT_TOKEN\\n                `,\\n                  declareFuncs.msg_isMatching `\\n                    if (message.tokenTypes.length !== tokenTypes.length) {\\n                        return false\\n                    }\\n                    for (let i: Int = 0; i < tokenTypes.length; i++) {\\n                        if (message.tokenTypes[i] !== tokenTypes[i]) {\\n                            return false\\n                        }\\n                    }\\n                    return true\\n                `,\\n                  declareFuncs.msg_floats `\\n                    const message: Message = msg_create(values.map<MessageHeaderEntry>(v => MSG_FLOAT_TOKEN))\\n                    for (let i: Int = 0; i < values.length; i++) {\\n                        msg_writeFloatToken(message, i, values[i])\\n                    }\\n                    return message\\n                `,\\n                  declareFuncs.msg_strings `\\n                    const template: MessageTemplate = []\\n                    for (let i: Int = 0; i < values.length; i++) {\\n                        template.push(MSG_STRING_TOKEN)\\n                        template.push(values[i].length)\\n                    }\\n                    const message: Message = msg_create(template)\\n                    for (let i: Int = 0; i < values.length; i++) {\\n                        msg_writeStringToken(message, i, values[i])\\n                    }\\n                    return message\\n                `,\\n                  declareFuncs.msg_display `\\n                    let displayArray: Array<string> = []\\n                    for (let i: Int = 0; i < msg_getLength(message); i++) {\\n                        if (msg_isFloatToken(message, i)) {\\n                            displayArray.push(msg_readFloatToken(message, i).toString())\\n                        } else {\\n                            displayArray.push('\\\"' + msg_readStringToken(message, i) + '\\\"')\\n                        }\\n                    }\\n                    return '[' + displayArray.join(', ') + ']'\\n                `,\\n                  // =========================== PRIVATE\\n                  // Message header : [\\n                  //      <Token count>, \\n                  //      <Token 1 type>,  ..., <Token N type>, \\n                  //      <Token 1 start>, ..., <Token N start>, <Token N end>\\n                  //      ... DATA ...\\n                  // ]\\n                  Class('Message', [\\n                      Var('DataView', 'dataView'),\\n                      Var('MessageHeader', 'header'),\\n                      Var('MessageHeaderEntry', 'tokenCount'),\\n                      Var('MessageHeader', 'tokenTypes'),\\n                      Var('MessageHeader', 'tokenPositions'),\\n                  ]),\\n                  Func('_msg_computeHeaderLength', [\\n                      Var('Int', 'tokenCount')\\n                  ], 'Int') `\\n                    return 1 + tokenCount * 2 + 1\\n                `,\\n                  Func('_msg_unpackTokenCount', [\\n                      Var('DataView', 'messageDataView')\\n                  ], 'MessageHeaderEntry') `\\n                    return messageDataView.getInt32(0)\\n                `,\\n                  Func('_msg_unpackHeader', [\\n                      Var('DataView', 'messageDataView'),\\n                      Var('MessageHeaderEntry', 'tokenCount'),\\n                  ], 'MessageHeader') `\\n                    const headerLength = _msg_computeHeaderLength(tokenCount)\\n                    // TODO : why is this \\\\`wrap\\\\` not working ?\\n                    // return Int32Array.wrap(messageDataView.buffer, 0, headerLength)\\n                    const messageHeader = new Int32Array(headerLength)\\n                    for (let i = 0; i < headerLength; i++) {\\n                        messageHeader[i] = messageDataView.getInt32(sizeof<MessageHeaderEntry>() * i)\\n                    }\\n                    return messageHeader\\n                `,\\n                  Func('_msg_unpackTokenTypes', [\\n                      Var('MessageHeader', 'header'),\\n                  ], 'MessageHeader') `\\n                    return header.slice(1, 1 + header[0])\\n                `,\\n                  Func('_msg_unpackTokenPositions', [\\n                      Var('MessageHeader', 'header'),\\n                  ], 'MessageHeader') `\\n                    return header.slice(1 + header[0])\\n                `,\\n              ]);\\n          }\\n          else if (target === 'javascript') {\\n              return Sequence([\\n                  ConstVar('string', 'MSG_FLOAT_TOKEN', '\\\"number\\\"'),\\n                  ConstVar('string', 'MSG_STRING_TOKEN', '\\\"string\\\"'),\\n                  declareFuncs.msg_create `\\n                    const m = []\\n                    let i = 0\\n                    while (i < template.length) {\\n                        if (template[i] === MSG_STRING_TOKEN) {\\n                            m.push('')\\n                            i += 2\\n                        } else if (template[i] === MSG_FLOAT_TOKEN) {\\n                            m.push(0)\\n                            i += 1\\n                        }\\n                    }\\n                    return m\\n                `,\\n                  declareFuncs.msg_getLength `\\n                    return message.length\\n                `,\\n                  declareFuncs.msg_getTokenType `\\n                    return typeof message[tokenIndex]\\n                `,\\n                  declareFuncs.msg_isStringToken `\\n                    return msg_getTokenType(message, tokenIndex) === 'string'\\n                `,\\n                  declareFuncs.msg_isFloatToken `\\n                    return msg_getTokenType(message, tokenIndex) === 'number'\\n                `,\\n                  declareFuncs.msg_isMatching `\\n                    return (message.length === tokenTypes.length) \\n                        && message.every((v, i) => msg_getTokenType(message, i) === tokenTypes[i])\\n                `,\\n                  declareFuncs.msg_writeFloatToken `\\n                    message[tokenIndex] = value\\n                `,\\n                  declareFuncs.msg_writeStringToken `\\n                    message[tokenIndex] = value\\n                `,\\n                  declareFuncs.msg_readFloatToken `\\n                    return message[tokenIndex]\\n                `,\\n                  declareFuncs.msg_readStringToken `\\n                    return message[tokenIndex]\\n                `,\\n                  declareFuncs.msg_floats `\\n                    return values\\n                `,\\n                  declareFuncs.msg_strings `\\n                    return values\\n                `,\\n                  declareFuncs.msg_display `\\n                    return '[' + message\\n                        .map(t => typeof t === 'string' ? '\\\"' + t + '\\\"' : t.toString())\\n                        .join(', ') + ']'\\n                `,\\n              ]);\\n          }\\n          else {\\n              throw new Error(`Unexpected target: ${target}`);\\n          }\\n      },\\n      exports: [\\n          { name: 'x_msg_create', targets: ['assemblyscript'] },\\n          { name: 'x_msg_getTokenTypes', targets: ['assemblyscript'] },\\n          { name: 'x_msg_createTemplate', targets: ['assemblyscript'] },\\n          { name: 'msg_writeStringToken', targets: ['assemblyscript'] },\\n          { name: 'msg_writeFloatToken', targets: ['assemblyscript'] },\\n          { name: 'msg_readStringToken', targets: ['assemblyscript'] },\\n          { name: 'msg_readFloatToken', targets: ['assemblyscript'] },\\n          { name: 'MSG_FLOAT_TOKEN', targets: ['assemblyscript'] },\\n          { name: 'MSG_STRING_TOKEN', targets: ['assemblyscript'] },\\n      ],\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const FS_OPERATION_SUCCESS = 0;\\n  const FS_OPERATION_FAILURE = 1;\\n  const fsCore = {\\n      codeGenerator: ({ target }) => {\\n          const content = [];\\n          if (target === 'assemblyscript') {\\n              content.push(`\\n                type fs_OperationId = Int\\n                type fs_OperationStatus = Int\\n                type fs_OperationCallback = (id: fs_OperationId, status: fs_OperationStatus) => void\\n                type fs_OperationSoundCallback = (id: fs_OperationId, status: fs_OperationStatus, sound: FloatArray[]) => void\\n                type fs_Url = string\\n            `);\\n          }\\n          return Sequence([\\n              ...content,\\n              ConstVar('Int', 'FS_OPERATION_SUCCESS', FS_OPERATION_SUCCESS.toString()),\\n              ConstVar('Int', 'FS_OPERATION_FAILURE', FS_OPERATION_FAILURE.toString()),\\n              ConstVar('Set<fs_OperationId>', '_FS_OPERATIONS_IDS', 'new Set()'),\\n              ConstVar('Map<fs_OperationId, fs_OperationCallback>', '_FS_OPERATIONS_CALLBACKS', 'new Map()'),\\n              ConstVar('Map<fs_OperationId, fs_OperationSoundCallback>', '_FS_OPERATIONS_SOUND_CALLBACKS', 'new Map()'),\\n              // We start at 1, because 0 is what ASC uses when host forgets to pass an arg to \\n              // a function. Therefore we can get false negatives when a test happens to expect a 0.\\n              Var('Int', '_FS_OPERATION_COUNTER', '1'),\\n              Class('fs_SoundInfo', [\\n                  Var('Int', 'channelCount'),\\n                  Var('Int', 'sampleRate'),\\n                  Var('Int', 'bitDepth'),\\n                  Var('string', 'encodingFormat'),\\n                  Var('string', 'endianness'),\\n                  Var('string', 'extraOptions'),\\n              ]),\\n              Func('fs_soundInfoToMessage', [\\n                  Var('fs_SoundInfo', 'soundInfo')\\n              ], 'Message') `\\n                ${ConstVar('Message', 'info', `msg_create([\\n                    MSG_FLOAT_TOKEN,\\n                    MSG_FLOAT_TOKEN,\\n                    MSG_FLOAT_TOKEN,\\n                    MSG_STRING_TOKEN,\\n                    soundInfo.encodingFormat.length,\\n                    MSG_STRING_TOKEN,\\n                    soundInfo.endianness.length,\\n                    MSG_STRING_TOKEN,\\n                    soundInfo.extraOptions.length\\n                ])`)}\\n                msg_writeFloatToken(info, 0, toFloat(soundInfo.channelCount))\\n                msg_writeFloatToken(info, 1, toFloat(soundInfo.sampleRate))\\n                msg_writeFloatToken(info, 2, toFloat(soundInfo.bitDepth))\\n                msg_writeStringToken(info, 3, soundInfo.encodingFormat)\\n                msg_writeStringToken(info, 4, soundInfo.endianness)\\n                msg_writeStringToken(info, 5, soundInfo.extraOptions)\\n                return info\\n            `,\\n              Func('_fs_assertOperationExists', [\\n                  Var('fs_OperationId', 'id'),\\n                  Var('string', 'operationName'),\\n              ], 'void') `\\n                if (!_FS_OPERATIONS_IDS.has(id)) {\\n                    throw new Error(operationName + ' operation unknown : ' + id.toString())\\n                }\\n            `,\\n              Func('_fs_createOperationId', [], 'fs_OperationId') `\\n                ${ConstVar('fs_OperationId', 'id', '_FS_OPERATION_COUNTER++')}\\n                _FS_OPERATIONS_IDS.add(id)\\n                return id\\n            `\\n          ]);\\n      },\\n      dependencies: [msg],\\n  };\\n  ({\\n      codeGenerator: () => Sequence([\\n          Func('fs_readSoundFile', [\\n              Var('fs_Url', 'url'),\\n              Var('fs_SoundInfo', 'soundInfo'),\\n              Var('fs_OperationSoundCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\\n            _FS_OPERATIONS_SOUND_CALLBACKS.set(id, callback)\\n            i_fs_readSoundFile(id, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func('x_fs_onReadSoundFileResponse', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_OperationStatus', 'status'),\\n              Var('FloatArray[]', 'sound'),\\n          ], 'void') `\\n            _fs_assertOperationExists(id, 'x_fs_onReadSoundFileResponse')\\n            _FS_OPERATIONS_IDS.delete(id)\\n            // Finish cleaning before calling the callback in case it would throw an error.\\n            const callback = _FS_OPERATIONS_SOUND_CALLBACKS.get(id)\\n            callback(id, status, sound)\\n            _FS_OPERATIONS_SOUND_CALLBACKS.delete(id)\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onReadSoundFileResponse',\\n          },\\n      ],\\n      imports: [\\n          Func('i_fs_readSoundFile', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_Url', 'url'),\\n              Var('Message', 'info'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsCore],\\n  });\\n  ({\\n      codeGenerator: () => Sequence([\\n          Func('fs_writeSoundFile', [\\n              Var('FloatArray[]', 'sound'),\\n              Var('fs_Url', 'url'),\\n              Var('fs_SoundInfo', 'soundInfo'),\\n              Var('fs_OperationCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\\n            i_fs_writeSoundFile(id, sound, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func('x_fs_onWriteSoundFileResponse', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_OperationStatus', 'status'),\\n          ], 'void') `\\n            _fs_assertOperationExists(id, 'x_fs_onWriteSoundFileResponse')\\n            _FS_OPERATIONS_IDS.delete(id)\\n            // Finish cleaning before calling the callback in case it would throw an error.\\n            ${ConstVar('fs_OperationCallback', 'callback', '_FS_OPERATIONS_CALLBACKS.get(id)')}\\n            callback(id, status)\\n            _FS_OPERATIONS_CALLBACKS.delete(id)\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onWriteSoundFileResponse',\\n          },\\n      ],\\n      imports: [\\n          Func('i_fs_writeSoundFile', [\\n              Var('fs_OperationId', 'id'),\\n              Var('FloatArray[]', 'sound'),\\n              Var('fs_Url', 'url'),\\n              Var('Message', 'info'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsCore],\\n  });\\n  const fsSoundStreamCore = {\\n      codeGenerator: () => Sequence([\\n          ConstVar('Map<fs_OperationId, Array<buf_SoundBuffer>>', '_FS_SOUND_STREAM_BUFFERS', 'new Map()'),\\n          ConstVar('Int', '_FS_SOUND_BUFFER_LENGTH', '20 * 44100'),\\n          Func('fs_closeSoundStream', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_OperationStatus', 'status'),\\n          ], 'void') `\\n            if (!_FS_OPERATIONS_IDS.has(id)) {\\n                return\\n            }\\n            _FS_OPERATIONS_IDS.delete(id)\\n            _FS_OPERATIONS_CALLBACKS.get(id)(id, status)\\n            _FS_OPERATIONS_CALLBACKS.delete(id)\\n            // Delete this last, to give the callback \\n            // a chance to save a reference to the buffer\\n            // If write stream, there won't be a buffer\\n            if (_FS_SOUND_STREAM_BUFFERS.has(id)) {\\n                _FS_SOUND_STREAM_BUFFERS.delete(id)\\n            }\\n            i_fs_closeSoundStream(id, status)\\n        `,\\n          Func('x_fs_onCloseSoundStream', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_OperationStatus', 'status'),\\n          ], 'void') `\\n            fs_closeSoundStream(id, status)\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onCloseSoundStream',\\n          },\\n      ],\\n      imports: [\\n          Func('i_fs_closeSoundStream', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_OperationStatus', 'status'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [bufCore, fsCore],\\n  };\\n  ({\\n      codeGenerator: () => Sequence([\\n          Func('fs_openSoundReadStream', [\\n              Var('fs_Url', 'url'),\\n              Var('fs_SoundInfo', 'soundInfo'),\\n              Var('fs_OperationCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\\n            ${ConstVar('Array<buf_SoundBuffer>', 'buffers', '[]')}\\n            for (${Var('Int', 'channel', '0')}; channel < soundInfo.channelCount; channel++) {\\n                buffers.push(buf_create(_FS_SOUND_BUFFER_LENGTH))\\n            }\\n            _FS_SOUND_STREAM_BUFFERS.set(id, buffers)\\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\\n            i_fs_openSoundReadStream(id, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func('x_fs_onSoundStreamData', [\\n              Var('fs_OperationId', 'id'),\\n              Var('FloatArray[]', 'block'),\\n          ], 'Int') `\\n            _fs_assertOperationExists(id, 'x_fs_onSoundStreamData')\\n            const buffers = _FS_SOUND_STREAM_BUFFERS.get(id)\\n            for (${Var('Int', 'i', '0')}; i < buffers.length; i++) {\\n                buf_pushBlock(buffers[i], block[i])\\n            }\\n            return buffers[0].pullAvailableLength\\n        `\\n      ]),\\n      exports: [\\n          {\\n              name: 'x_fs_onSoundStreamData',\\n          },\\n      ],\\n      imports: [\\n          Func('i_fs_openSoundReadStream', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_Url', 'url'),\\n              Var('Message', 'info'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsSoundStreamCore, bufPushPull],\\n  });\\n  ({\\n      codeGenerator: () => Sequence([\\n          Func('fs_openSoundWriteStream', [\\n              Var('fs_Url', 'url'),\\n              Var('fs_SoundInfo', 'soundInfo'),\\n              Var('fs_OperationCallback', 'callback'),\\n          ], 'fs_OperationId') `\\n            const id = _fs_createOperationId()\\n            _FS_SOUND_STREAM_BUFFERS.set(id, [])\\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\\n            i_fs_openSoundWriteStream(id, url, fs_soundInfoToMessage(soundInfo))\\n            return id\\n        `,\\n          Func('fs_sendSoundStreamData', [\\n              Var('fs_OperationId', 'id'),\\n              Var('FloatArray[]', 'block')\\n          ], 'void') `\\n            _fs_assertOperationExists(id, 'fs_sendSoundStreamData')\\n            i_fs_sendSoundStreamData(id, block)\\n        `\\n      ]),\\n      imports: [\\n          Func('i_fs_openSoundWriteStream', [\\n              Var('fs_OperationId', 'id'),\\n              Var('fs_Url', 'url'),\\n              Var('Message', 'info'),\\n          ], 'void') ``,\\n          Func('i_fs_sendSoundStreamData', [\\n              Var('fs_OperationId', 'id'),\\n              Var('FloatArray[]', 'block'),\\n          ], 'void') ``,\\n      ],\\n      dependencies: [fsSoundStreamCore],\\n  });\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  AnonFunc([Var('Message', 'm')], 'void') ``;\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  // NOTE : not necessarily the most logical place to put this function, but we need it here\\n  // cause it's imported by the bindings.\\n  const getFloatArrayType = (bitDepth) => bitDepth === 64 ? Float64Array : Float32Array;\\n  /** Helper to create a Module by wrapping a RawModule with Bindings */\\n  const createModule = (rawModule, bindings) => \\n  // Use empty object on proxy cause proxy cannot redefine access of member of its target,\\n  // which causes issues for example for WebAssembly exports.\\n  // See : https://stackoverflow.com/questions/75148897/get-on-proxy-property-items-is-a-read-only-and-non-configurable-data-proper\\n  new Proxy({}, {\\n      get: (_, k) => {\\n          if (bindings.hasOwnProperty(k)) {\\n              const key = String(k);\\n              const bindingSpec = bindings[key];\\n              switch (bindingSpec.type) {\\n                  case 'raw':\\n                      // Cannot use hasOwnProperty here cause not defined in wasm exports object\\n                      if (k in rawModule) {\\n                          return rawModule[key];\\n                      }\\n                      else {\\n                          throw new Error(`Key ${String(key)} doesn't exist in raw module`);\\n                      }\\n                  case 'proxy':\\n                  case 'callback':\\n                      return bindingSpec.value;\\n              }\\n              // We need to return undefined here for compatibility with various APIs\\n              // which inspect object's attributes.\\n          }\\n          else {\\n              return undefined;\\n          }\\n      },\\n      set: (_, k, newValue) => {\\n          if (bindings.hasOwnProperty(String(k))) {\\n              const key = String(k);\\n              const bindingSpec = bindings[key];\\n              if (bindingSpec.type === 'callback') {\\n                  bindingSpec.value = newValue;\\n              }\\n              else {\\n                  throw new Error(`Binding key ${String(key)} is read-only`);\\n              }\\n          }\\n          else {\\n              throw new Error(`Key ${String(k)} is not defined in bindings`);\\n          }\\n          return true;\\n      },\\n  });\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  /** @copyright Assemblyscript ESM bindings */\\n  const liftString = (wasmExports, pointer) => {\\n      if (!pointer)\\n          return null;\\n      pointer = pointer >>> 0;\\n      const end = (pointer +\\n          new Uint32Array(wasmExports.memory.buffer)[(pointer - 4) >>> 2]) >>>\\n          1;\\n      const memoryU16 = new Uint16Array(wasmExports.memory.buffer);\\n      let start = pointer >>> 1;\\n      let string = '';\\n      while (end - start > 1024) {\\n          string += String.fromCharCode(...memoryU16.subarray(start, (start += 1024)));\\n      }\\n      return string + String.fromCharCode(...memoryU16.subarray(start, end));\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  // REF : Assemblyscript ESM bindings\\n  const instantiateWasmModule = async (wasmBuffer, wasmImports = {}) => {\\n      const instanceAndModule = await WebAssembly.instantiate(wasmBuffer, {\\n          env: {\\n              abort: (messagePointer, \\n              // filename, not useful because we compile everything to a single string\\n              _, lineNumber, columnNumber) => {\\n                  const message = liftString(wasmExports, messagePointer);\\n                  lineNumber = lineNumber;\\n                  columnNumber = columnNumber;\\n                  (() => {\\n                      // @external.js\\n                      throw Error(`${message} at ${lineNumber}:${columnNumber}`);\\n                  })();\\n              },\\n              seed: () => {\\n                  return (() => {\\n                      return Date.now() * Math.random();\\n                  })();\\n              },\\n              'console.log': (textPointer) => {\\n                  console.log(liftString(wasmExports, textPointer));\\n              },\\n          },\\n          ...wasmImports,\\n      });\\n      const wasmExports = instanceAndModule.instance\\n          .exports;\\n      return instanceAndModule.instance;\\n  };\\n\\n  const readMetadata$2 = async (wasmBuffer) => {\\n      // In order to read metadata, we need to introspect the module to get the imports\\n      const inputImports = {};\\n      const wasmModule = WebAssembly.Module.imports(new WebAssembly.Module(wasmBuffer));\\n      // Then we generate dummy functions to be able to instantiate the module\\n      wasmModule\\n          .filter((imprt) => imprt.module === 'input' && imprt.kind === 'function')\\n          .forEach((imprt) => (inputImports[imprt.name] = () => undefined));\\n      const wasmInstance = await instantiateWasmModule(wasmBuffer, {\\n          input: inputImports,\\n      });\\n      // Finally, once the module instantiated, we read the metadata\\n      const wasmExports = wasmInstance.exports;\\n      const stringPointer = wasmExports.metadata.valueOf();\\n      const metadataJSON = liftString(wasmExports, stringPointer);\\n      return JSON.parse(metadataJSON);\\n  };\\n\\n  /*\\n   * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\\n   *\\n   * This file is part of WebPd\\n   * (see https://github.com/sebpiq/WebPd).\\n   *\\n   * This program is free software: you can redistribute it and/or modify\\n   * it under the terms of the GNU Lesser General Public License as published by\\n   * the Free Software Foundation, either version 3 of the License, or\\n   * (at your option) any later version.\\n   *\\n   * This program is distributed in the hope that it will be useful,\\n   * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n   * GNU Lesser General Public License for more details.\\n   *\\n   * You should have received a copy of the GNU Lesser General Public License\\n   * along with this program. If not, see <http://www.gnu.org/licenses/>.\\n   */\\n  const createRawModule = (code) => new Function(`\\n        ${code}\\n        return exports\\n    `)();\\n  const createBindings = (rawModule) => ({\\n      fs: { type: 'proxy', value: createFsModule(rawModule) },\\n      metadata: { type: 'raw' },\\n      configure: { type: 'raw' },\\n      loop: { type: 'raw' },\\n      io: { type: 'raw' },\\n      commons: {\\n          type: 'proxy',\\n          value: createCommonsModule(rawModule, rawModule.metadata.audioSettings.bitDepth),\\n      },\\n  });\\n  const createEngine = (code) => {\\n      const rawModule = createRawModule(code);\\n      return createModule(rawModule, createBindings(rawModule));\\n  };\\n  const createFsModule = (rawModule) => {\\n      const fs = createModule(rawModule, {\\n          onReadSoundFile: { type: 'callback', value: () => undefined },\\n          onWriteSoundFile: { type: 'callback', value: () => undefined },\\n          onOpenSoundReadStream: { type: 'callback', value: () => undefined },\\n          onOpenSoundWriteStream: { type: 'callback', value: () => undefined },\\n          onSoundStreamData: { type: 'callback', value: () => undefined },\\n          onCloseSoundStream: { type: 'callback', value: () => undefined },\\n          sendReadSoundFileResponse: {\\n              type: 'proxy',\\n              value: rawModule.x_fs_onReadSoundFileResponse,\\n          },\\n          sendWriteSoundFileResponse: {\\n              type: 'proxy',\\n              value: rawModule.x_fs_onWriteSoundFileResponse,\\n          },\\n          sendSoundStreamData: {\\n              type: 'proxy',\\n              value: rawModule.x_fs_onSoundStreamData,\\n          },\\n          closeSoundStream: {\\n              type: 'proxy',\\n              value: rawModule.x_fs_onCloseSoundStream,\\n          },\\n      });\\n      rawModule.i_fs_openSoundWriteStream = (...args) => fs.onOpenSoundWriteStream(...args);\\n      rawModule.i_fs_sendSoundStreamData = (...args) => fs.onSoundStreamData(...args);\\n      rawModule.i_fs_openSoundReadStream = (...args) => fs.onOpenSoundReadStream(...args);\\n      rawModule.i_fs_closeSoundStream = (...args) => fs.onCloseSoundStream(...args);\\n      rawModule.i_fs_writeSoundFile = (...args) => fs.onWriteSoundFile(...args);\\n      rawModule.i_fs_readSoundFile = (...args) => fs.onReadSoundFile(...args);\\n      return fs;\\n  };\\n  const createCommonsModule = (rawModule, bitDepth) => {\\n      const floatArrayType = getFloatArrayType(bitDepth);\\n      return createModule(rawModule, {\\n          getArray: { type: 'proxy', value: rawModule.commons_getArray },\\n          setArray: {\\n              type: 'proxy',\\n              value: (arrayName, array) => rawModule.commons_setArray(arrayName, new floatArrayType(array)),\\n          },\\n      });\\n  };\\n\\n  const readMetadata$1 = async (target, compiled) => {\\n      switch (target) {\\n          case 'assemblyscript':\\n              return readMetadata$2(compiled);\\n          case 'javascript':\\n              return createEngine(compiled).metadata;\\n      }\\n  };\\n\\n  const defaultSettingsForRun = (patchUrl) => {\\n      const rootUrl = urlDirName(patchUrl);\\n      return {\\n          messageHandler: (node, message) => index(node, message, { rootUrl }),\\n      };\\n  };\\n  const readMetadata = (compiledPatch) => {\\n      if (typeof compiledPatch === 'string') {\\n          return readMetadata$1('javascript', compiledPatch);\\n      }\\n      else {\\n          return readMetadata$1('assemblyscript', compiledPatch);\\n      }\\n  };\\n\\n  var run = async (audioContext, compiledPatch, settings) => {\\n      const { messageHandler } = settings;\\n      const webpdNode = new WebPdWorkletNode(audioContext);\\n      webpdNode.port.onmessage = (msg) => messageHandler(webpdNode, msg);\\n      if (typeof compiledPatch === 'string') {\\n          webpdNode.port.postMessage({\\n              type: 'code:JS',\\n              payload: {\\n                  jsCode: compiledPatch,\\n              },\\n          });\\n      }\\n      else {\\n          webpdNode.port.postMessage({\\n              type: 'code:WASM',\\n              payload: {\\n                  wasmBuffer: compiledPatch,\\n              },\\n          });\\n      }\\n      return webpdNode;\\n  };\\n\\n  exports.defaultSettingsForRun = defaultSettingsForRun;\\n  exports.initialize = initialize;\\n  exports.readMetadata = readMetadata;\\n  exports.run = run;\\n\\n  return exports;\\n\\n})({});\\n\";\n\nexport { WEBPD_RUNTIME_CODE as default };\n","var fetchRetry = function (fetch, defaults) {\n  defaults = defaults || {};\n  if (typeof fetch !== 'function') {\n    throw new ArgumentError('fetch must be a function');\n  }\n\n  if (typeof defaults !== 'object') {\n    throw new ArgumentError('defaults must be an object');\n  }\n\n  if (defaults.retries !== undefined && !isPositiveInteger(defaults.retries)) {\n    throw new ArgumentError('retries must be a positive integer');\n  }\n\n  if (defaults.retryDelay !== undefined && !isPositiveInteger(defaults.retryDelay) && typeof defaults.retryDelay !== 'function') {\n    throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n  }\n\n  if (defaults.retryOn !== undefined && !Array.isArray(defaults.retryOn) && typeof defaults.retryOn !== 'function') {\n    throw new ArgumentError('retryOn property expects an array or function');\n  }\n\n  var baseDefaults = {\n    retries: 3,\n    retryDelay: 1000,\n    retryOn: [],\n  };\n\n  defaults = Object.assign(baseDefaults, defaults);\n\n  return function fetchRetry(input, init) {\n    var retries = defaults.retries;\n    var retryDelay = defaults.retryDelay;\n    var retryOn = defaults.retryOn;\n\n    if (init && init.retries !== undefined) {\n      if (isPositiveInteger(init.retries)) {\n        retries = init.retries;\n      } else {\n        throw new ArgumentError('retries must be a positive integer');\n      }\n    }\n\n    if (init && init.retryDelay !== undefined) {\n      if (isPositiveInteger(init.retryDelay) || (typeof init.retryDelay === 'function')) {\n        retryDelay = init.retryDelay;\n      } else {\n        throw new ArgumentError('retryDelay must be a positive integer or a function returning a positive integer');\n      }\n    }\n\n    if (init && init.retryOn) {\n      if (Array.isArray(init.retryOn) || (typeof init.retryOn === 'function')) {\n        retryOn = init.retryOn;\n      } else {\n        throw new ArgumentError('retryOn property expects an array or function');\n      }\n    }\n\n    // eslint-disable-next-line no-undef\n    return new Promise(function (resolve, reject) {\n      var wrappedFetch = function (attempt) {\n        // As of node 18, this is no longer needed since node comes with native support for fetch:\n        /* istanbul ignore next */\n        var _input =\n          typeof Request !== 'undefined' && input instanceof Request\n            ? input.clone()\n            : input;\n        fetch(_input, init)\n          .then(function (response) {\n            if (Array.isArray(retryOn) && retryOn.indexOf(response.status) === -1) {\n              resolve(response);\n            } else if (typeof retryOn === 'function') {\n              try {\n                // eslint-disable-next-line no-undef\n                return Promise.resolve(retryOn(attempt, null, response))\n                  .then(function (retryOnResponse) {\n                    if(retryOnResponse) {\n                      retry(attempt, null, response);\n                    } else {\n                      resolve(response);\n                    }\n                  }).catch(reject);\n              } catch (error) {\n                reject(error);\n              }\n            } else {\n              if (attempt < retries) {\n                retry(attempt, null, response);\n              } else {\n                resolve(response);\n              }\n            }\n          })\n          .catch(function (error) {\n            if (typeof retryOn === 'function') {\n              try {\n                // eslint-disable-next-line no-undef\n                Promise.resolve(retryOn(attempt, error, null))\n                  .then(function (retryOnResponse) {\n                    if(retryOnResponse) {\n                      retry(attempt, error, null);\n                    } else {\n                      reject(error);\n                    }\n                  })\n                  .catch(function(error) {\n                    reject(error);\n                  });\n              } catch(error) {\n                reject(error);\n              }\n            } else if (attempt < retries) {\n              retry(attempt, error, null);\n            } else {\n              reject(error);\n            }\n          });\n      };\n\n      function retry(attempt, error, response) {\n        var delay = (typeof retryDelay === 'function') ?\n          retryDelay(attempt, error, response) : retryDelay;\n        setTimeout(function () {\n          wrappedFetch(++attempt);\n        }, delay);\n      }\n\n      wrappedFetch(0);\n    });\n  };\n};\n\nfunction isPositiveInteger(value) {\n  return Number.isInteger(value) && value >= 0;\n}\n\nfunction ArgumentError(message) {\n  this.name = 'ArgumentError';\n  this.message = message;\n}\n\nexport { fetchRetry as default };\n","import fetchRetry$1 from '../node_modules/fetch-retry/index.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst fetchRetry = fetchRetry$1(fetch);\n/**\n * Note : the audio worklet feature is available only in secure context.\n * This function will fail when used in insecure context (non-https, etc ...)\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AudioWorklet\n */\nconst addModule = async (context, processorCode) => {\n    const blob = new Blob([processorCode], { type: 'text/javascript' });\n    const workletProcessorUrl = URL.createObjectURL(blob);\n    return context.audioWorklet.addModule(workletProcessorUrl);\n};\n// TODO : testing\nconst fetchFile = async (url) => {\n    let response;\n    try {\n        response = await fetchRetry(url, { retries: 3 });\n    }\n    catch (err) {\n        throw new FileError(response.status, err.toString());\n    }\n    if (!response.ok) {\n        const responseText = await response.text();\n        throw new FileError(response.status, responseText);\n    }\n    return response.arrayBuffer();\n};\nconst audioBufferToArray = (audioBuffer) => {\n    const sound = [];\n    for (let channel = 0; channel < audioBuffer.numberOfChannels; channel++) {\n        sound.push(audioBuffer.getChannelData(channel));\n    }\n    return sound;\n};\n// TODO : testing\nconst fixSoundChannelCount = (sound, targetChannelCount) => {\n    if (sound.length === 0) {\n        throw new Error(`Received empty sound`);\n    }\n    const floatArrayType = sound[0].constructor;\n    const frameCount = sound[0].length;\n    const fixedSound = sound.slice(0, targetChannelCount);\n    while (sound.length < targetChannelCount) {\n        fixedSound.push(new floatArrayType(frameCount));\n    }\n    return fixedSound;\n};\nconst resolveRelativeUrl = (rootUrl, relativeUrl) => {\n    return new URL(relativeUrl, rootUrl).href;\n};\nclass FileError extends Error {\n    constructor(status, msg) {\n        super(`Error ${status} : ${msg}`);\n    }\n}\n\nexport { FileError, addModule, audioBufferToArray, fetchFile, fixSoundChannelCount, resolveRelativeUrl };\n","import _WebPdWorkletProcessorCode from './WebPdWorkletProcessor.generated.js';\nimport AssemblyScriptWasmBindingsCode from '../../WebPd_compiler/dist/assemblyscript-wasm-bindings.iife.js';\nimport JavaScriptBindingsCode from '../../WebPd_compiler/dist/javascript-bindings.iife.js';\nimport { addModule } from './utils.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n// TODO : manage transferables\nclass WebPdWorkletNode extends AudioWorkletNode {\n    constructor(context) {\n        super(context, 'webpd-node', {\n            numberOfOutputs: 1,\n            outputChannelCount: [2],\n        });\n    }\n    destroy() {\n        this.port.postMessage({\n            type: 'destroy',\n            payload: {},\n        });\n    }\n}\n// Concatenate WorkletProcessor code with the Wasm bindings it needs\nconst WEBPD_WORKLET_PROCESSOR_CODE = AssemblyScriptWasmBindingsCode +\n    ';\\n' +\n    JavaScriptBindingsCode +\n    ';\\n' +\n    _WebPdWorkletProcessorCode;\nconst registerWebPdWorkletNode = (context) => {\n    return addModule(context, WEBPD_WORKLET_PROCESSOR_CODE);\n};\n\nexport { WebPdWorkletNode as default, registerWebPdWorkletNode };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/** Generate an integer series from 0 to `count` (non-inclusive). */\nconst countTo = (count) => {\n    const results = [];\n    for (let i = 0; i < count; i++) {\n        results.push(i);\n    }\n    return results;\n};\n\nexport { countTo };\n","import { countTo } from '../functional-helpers.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst Var = (typeName, name, value) => _preventToString({\n    astType: 'Var',\n    name,\n    type: typeName,\n    value: value !== undefined ? _prepareVarValue(value) : undefined,\n});\nconst ConstVar = (typeName, name, value) => _preventToString({\n    astType: 'ConstVar',\n    name,\n    type: typeName,\n    value: _prepareVarValue(value),\n});\nconst Func = (name, args = [], returnType = 'void') => (strings, ...content) => _preventToString({\n    astType: 'Func',\n    name,\n    args,\n    returnType,\n    body: ast(strings, ...content),\n});\nconst AnonFunc = (args = [], returnType = 'void') => (strings, ...content) => _preventToString({\n    astType: 'Func',\n    name: null,\n    args,\n    returnType,\n    body: ast(strings, ...content),\n});\nconst Class = (name, members) => _preventToString({\n    astType: 'Class',\n    name,\n    members,\n});\nconst Sequence = (content) => ({\n    astType: 'Sequence',\n    content: _processRawContent(_intersperse(content, countTo(content.length - 1).map(() => '\\n'))),\n});\nconst ast = (strings, ...content) => _preventToString({\n    astType: 'Sequence',\n    content: _processRawContent(_intersperse(strings, content)),\n});\nconst _processRawContent = (content) => {\n    // 1. Flatten arrays and AstSequence, filter out nulls, and convert numbers to strings\n    // Basically converts input to an Array<AstContent>.\n    const flattenedAndFiltered = content.flatMap((element) => {\n        if (typeof element === 'string') {\n            return [element];\n        }\n        else if (typeof element === 'number') {\n            return [element.toString()];\n        }\n        else {\n            if (element === null) {\n                return [];\n            }\n            else if (Array.isArray(element)) {\n                return _processRawContent(_intersperse(element, countTo(element.length - 1).map(() => '\\n')));\n            }\n            else if (typeof element === 'object' &&\n                element.astType === 'Sequence') {\n                return element.content;\n            }\n            else {\n                return [element];\n            }\n        }\n    });\n    // 2. Combine adjacent strings\n    const [combinedContent, remainingString] = flattenedAndFiltered.reduce(([combinedContent, currentString], element) => {\n        if (typeof element === 'string') {\n            return [combinedContent, currentString + element];\n        }\n        else {\n            if (currentString.length) {\n                return [[...combinedContent, currentString, element], ''];\n            }\n            else {\n                return [[...combinedContent, element], ''];\n            }\n        }\n    }, [[], '']);\n    if (remainingString.length) {\n        combinedContent.push(remainingString);\n    }\n    return combinedContent;\n};\n/**\n * Intersperse content from array1 with content from array2.\n * `array1.length` must be equal to `array2.length + 1`.\n */\nconst _intersperse = (array1, array2) => {\n    if (array1.length === 0) {\n        return [];\n    }\n    return array1\n        .slice(1)\n        .reduce((combinedContent, element, i) => combinedContent.concat([array2[i], element]), [array1[0]]);\n};\n/**\n * Prevents AST elements from being rendered as a string, as this is\n * most likely an error due to unproper use of `ast`.\n * Deacivated. Activate for debugging by uncommenting the line below.\n */\nconst _preventToString = (element) => ({\n    ...element,\n    // Uncomment this to activate\n    // toString: () => { throw new Error(`Rendering element ${elemennt.astType} as string is probably an error`) }\n});\nconst _prepareVarValue = (value) => {\n    if (typeof value === 'number') {\n        return Sequence([value.toString()]);\n    }\n    else if (typeof value === 'string') {\n        return Sequence([value]);\n    }\n    else {\n        return value;\n    }\n};\n\nexport { AnonFunc, Class, ConstVar, Func, Sequence, Var, _processRawContent, ast };\n","import { Sequence, Class, Var, Func, ConstVar } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst bufCore = () => Sequence([\n    /**\n     * Ring buffer\n     */\n    Class('buf_SoundBuffer', [\n        Var('FloatArray', 'data'),\n        Var('Int', 'length'),\n        Var('Int', 'writeCursor'),\n        Var('Int', 'pullAvailableLength'),\n    ]),\n    /** Erases all the content from the buffer */\n    Func('buf_clear', [\n        Var('buf_SoundBuffer', 'buffer')\n    ], 'void') `\n        buffer.data.fill(0)\n    `,\n    /** Erases all the content from the buffer */\n    Func('buf_create', [\n        Var('Int', 'length')\n    ], 'buf_SoundBuffer') `\n        return {\n            data: createFloatArray(length),\n            length: length,\n            writeCursor: 0,\n            pullAvailableLength: 0,\n        }\n    `\n]);\nconst bufPushPull = {\n    codeGenerator: () => Sequence([\n        /**\n         * Pushes a block to the buffer, throwing an error if the buffer is full.\n         * If the block is written successfully, {@link buf_SoundBuffer#writeCursor}\n         * is moved corresponding with the length of data written.\n         *\n         * @todo : Optimize by allowing to read/write directly from host\n         */\n        Func('buf_pushBlock', [\n            Var('buf_SoundBuffer', 'buffer'),\n            Var('FloatArray', 'block')\n        ], 'Int') `\n            if (buffer.pullAvailableLength + block.length > buffer.length) {\n                throw new Error('buffer full')\n            }\n\n            ${Var('Int', 'left', 'block.length')}\n            while (left > 0) {\n                ${ConstVar('Int', 'lengthToWrite', `toInt(Math.min(\n                    toFloat(buffer.length - buffer.writeCursor), \n                    toFloat(left),\n                ))`)}\n                buffer.data.set(\n                    block.subarray(\n                        block.length - left, \n                        block.length - left + lengthToWrite\n                    ), \n                    buffer.writeCursor\n                )\n                left -= lengthToWrite\n                buffer.writeCursor = (buffer.writeCursor + lengthToWrite) % buffer.length\n                buffer.pullAvailableLength += lengthToWrite\n            }\n            return buffer.pullAvailableLength\n        `,\n        /**\n         * Pulls a single sample from the buffer.\n         * This is a destructive operation, and the sample will be\n         * unavailable for subsequent readers with the same operation.\n         */\n        Func('buf_pullSample', [\n            Var('buf_SoundBuffer', 'buffer')\n        ], 'Float') `\n            if (buffer.pullAvailableLength <= 0) {\n                return 0\n            }\n            ${ConstVar('Int', 'readCursor', 'buffer.writeCursor - buffer.pullAvailableLength')}\n            buffer.pullAvailableLength -= 1\n            return buffer.data[readCursor >= 0 ? readCursor : buffer.length + readCursor]\n        `\n    ]),\n    dependencies: [bufCore],\n};\n\nexport { bufCore, bufPushPull };\n","import { bufCore, bufPushPull } from './buf.js';\nimport { msg } from './msg.js';\nimport { Sequence, Func, Var, ConstVar, Class } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst FS_OPERATION_SUCCESS = 0;\nconst FS_OPERATION_FAILURE = 1;\nconst fsCore = {\n    codeGenerator: ({ target }) => {\n        const content = [];\n        if (target === 'assemblyscript') {\n            content.push(`\n                type fs_OperationId = Int\n                type fs_OperationStatus = Int\n                type fs_OperationCallback = (id: fs_OperationId, status: fs_OperationStatus) => void\n                type fs_OperationSoundCallback = (id: fs_OperationId, status: fs_OperationStatus, sound: FloatArray[]) => void\n                type fs_Url = string\n            `);\n        }\n        return Sequence([\n            ...content,\n            ConstVar('Int', 'FS_OPERATION_SUCCESS', FS_OPERATION_SUCCESS.toString()),\n            ConstVar('Int', 'FS_OPERATION_FAILURE', FS_OPERATION_FAILURE.toString()),\n            ConstVar('Set<fs_OperationId>', '_FS_OPERATIONS_IDS', 'new Set()'),\n            ConstVar('Map<fs_OperationId, fs_OperationCallback>', '_FS_OPERATIONS_CALLBACKS', 'new Map()'),\n            ConstVar('Map<fs_OperationId, fs_OperationSoundCallback>', '_FS_OPERATIONS_SOUND_CALLBACKS', 'new Map()'),\n            // We start at 1, because 0 is what ASC uses when host forgets to pass an arg to \n            // a function. Therefore we can get false negatives when a test happens to expect a 0.\n            Var('Int', '_FS_OPERATION_COUNTER', '1'),\n            Class('fs_SoundInfo', [\n                Var('Int', 'channelCount'),\n                Var('Int', 'sampleRate'),\n                Var('Int', 'bitDepth'),\n                Var('string', 'encodingFormat'),\n                Var('string', 'endianness'),\n                Var('string', 'extraOptions'),\n            ]),\n            Func('fs_soundInfoToMessage', [\n                Var('fs_SoundInfo', 'soundInfo')\n            ], 'Message') `\n                ${ConstVar('Message', 'info', `msg_create([\n                    MSG_FLOAT_TOKEN,\n                    MSG_FLOAT_TOKEN,\n                    MSG_FLOAT_TOKEN,\n                    MSG_STRING_TOKEN,\n                    soundInfo.encodingFormat.length,\n                    MSG_STRING_TOKEN,\n                    soundInfo.endianness.length,\n                    MSG_STRING_TOKEN,\n                    soundInfo.extraOptions.length\n                ])`)}\n                msg_writeFloatToken(info, 0, toFloat(soundInfo.channelCount))\n                msg_writeFloatToken(info, 1, toFloat(soundInfo.sampleRate))\n                msg_writeFloatToken(info, 2, toFloat(soundInfo.bitDepth))\n                msg_writeStringToken(info, 3, soundInfo.encodingFormat)\n                msg_writeStringToken(info, 4, soundInfo.endianness)\n                msg_writeStringToken(info, 5, soundInfo.extraOptions)\n                return info\n            `,\n            Func('_fs_assertOperationExists', [\n                Var('fs_OperationId', 'id'),\n                Var('string', 'operationName'),\n            ], 'void') `\n                if (!_FS_OPERATIONS_IDS.has(id)) {\n                    throw new Error(operationName + ' operation unknown : ' + id.toString())\n                }\n            `,\n            Func('_fs_createOperationId', [], 'fs_OperationId') `\n                ${ConstVar('fs_OperationId', 'id', '_FS_OPERATION_COUNTER++')}\n                _FS_OPERATIONS_IDS.add(id)\n                return id\n            `\n        ]);\n    },\n    dependencies: [msg],\n};\n({\n    codeGenerator: () => Sequence([\n        Func('fs_readSoundFile', [\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationSoundCallback', 'callback'),\n        ], 'fs_OperationId') `\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\n            _FS_OPERATIONS_SOUND_CALLBACKS.set(id, callback)\n            i_fs_readSoundFile(id, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('x_fs_onReadSoundFileResponse', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n            Var('FloatArray[]', 'sound'),\n        ], 'void') `\n            _fs_assertOperationExists(id, 'x_fs_onReadSoundFileResponse')\n            _FS_OPERATIONS_IDS.delete(id)\n            // Finish cleaning before calling the callback in case it would throw an error.\n            const callback = _FS_OPERATIONS_SOUND_CALLBACKS.get(id)\n            callback(id, status, sound)\n            _FS_OPERATIONS_SOUND_CALLBACKS.delete(id)\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onReadSoundFileResponse',\n        },\n    ],\n    imports: [\n        Func('i_fs_readSoundFile', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsCore],\n});\n({\n    codeGenerator: () => Sequence([\n        Func('fs_writeSoundFile', [\n            Var('FloatArray[]', 'sound'),\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationCallback', 'callback'),\n        ], 'fs_OperationId') `\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\n            i_fs_writeSoundFile(id, sound, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('x_fs_onWriteSoundFileResponse', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') `\n            _fs_assertOperationExists(id, 'x_fs_onWriteSoundFileResponse')\n            _FS_OPERATIONS_IDS.delete(id)\n            // Finish cleaning before calling the callback in case it would throw an error.\n            ${ConstVar('fs_OperationCallback', 'callback', '_FS_OPERATIONS_CALLBACKS.get(id)')}\n            callback(id, status)\n            _FS_OPERATIONS_CALLBACKS.delete(id)\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onWriteSoundFileResponse',\n        },\n    ],\n    imports: [\n        Func('i_fs_writeSoundFile', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'sound'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsCore],\n});\nconst fsSoundStreamCore = {\n    codeGenerator: () => Sequence([\n        ConstVar('Map<fs_OperationId, Array<buf_SoundBuffer>>', '_FS_SOUND_STREAM_BUFFERS', 'new Map()'),\n        ConstVar('Int', '_FS_SOUND_BUFFER_LENGTH', '20 * 44100'),\n        Func('fs_closeSoundStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') `\n            if (!_FS_OPERATIONS_IDS.has(id)) {\n                return\n            }\n            _FS_OPERATIONS_IDS.delete(id)\n            _FS_OPERATIONS_CALLBACKS.get(id)(id, status)\n            _FS_OPERATIONS_CALLBACKS.delete(id)\n            // Delete this last, to give the callback \n            // a chance to save a reference to the buffer\n            // If write stream, there won't be a buffer\n            if (_FS_SOUND_STREAM_BUFFERS.has(id)) {\n                _FS_SOUND_STREAM_BUFFERS.delete(id)\n            }\n            i_fs_closeSoundStream(id, status)\n        `,\n        Func('x_fs_onCloseSoundStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') `\n            fs_closeSoundStream(id, status)\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onCloseSoundStream',\n        },\n    ],\n    imports: [\n        Func('i_fs_closeSoundStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_OperationStatus', 'status'),\n        ], 'void') ``,\n    ],\n    dependencies: [bufCore, fsCore],\n};\n({\n    codeGenerator: () => Sequence([\n        Func('fs_openSoundReadStream', [\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationCallback', 'callback'),\n        ], 'fs_OperationId') `\n            ${ConstVar('fs_OperationId', 'id', '_fs_createOperationId()')}\n            ${ConstVar('Array<buf_SoundBuffer>', 'buffers', '[]')}\n            for (${Var('Int', 'channel', '0')}; channel < soundInfo.channelCount; channel++) {\n                buffers.push(buf_create(_FS_SOUND_BUFFER_LENGTH))\n            }\n            _FS_SOUND_STREAM_BUFFERS.set(id, buffers)\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\n            i_fs_openSoundReadStream(id, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('x_fs_onSoundStreamData', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'block'),\n        ], 'Int') `\n            _fs_assertOperationExists(id, 'x_fs_onSoundStreamData')\n            const buffers = _FS_SOUND_STREAM_BUFFERS.get(id)\n            for (${Var('Int', 'i', '0')}; i < buffers.length; i++) {\n                buf_pushBlock(buffers[i], block[i])\n            }\n            return buffers[0].pullAvailableLength\n        `\n    ]),\n    exports: [\n        {\n            name: 'x_fs_onSoundStreamData',\n        },\n    ],\n    imports: [\n        Func('i_fs_openSoundReadStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsSoundStreamCore, bufPushPull],\n});\n({\n    codeGenerator: () => Sequence([\n        Func('fs_openSoundWriteStream', [\n            Var('fs_Url', 'url'),\n            Var('fs_SoundInfo', 'soundInfo'),\n            Var('fs_OperationCallback', 'callback'),\n        ], 'fs_OperationId') `\n            const id = _fs_createOperationId()\n            _FS_SOUND_STREAM_BUFFERS.set(id, [])\n            _FS_OPERATIONS_CALLBACKS.set(id, callback)\n            i_fs_openSoundWriteStream(id, url, fs_soundInfoToMessage(soundInfo))\n            return id\n        `,\n        Func('fs_sendSoundStreamData', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'block')\n        ], 'void') `\n            _fs_assertOperationExists(id, 'fs_sendSoundStreamData')\n            i_fs_sendSoundStreamData(id, block)\n        `\n    ]),\n    imports: [\n        Func('i_fs_openSoundWriteStream', [\n            Var('fs_OperationId', 'id'),\n            Var('fs_Url', 'url'),\n            Var('Message', 'info'),\n        ], 'void') ``,\n        Func('i_fs_sendSoundStreamData', [\n            Var('fs_OperationId', 'id'),\n            Var('FloatArray[]', 'block'),\n        ], 'void') ``,\n    ],\n    dependencies: [fsSoundStreamCore],\n});\n\nexport { FS_OPERATION_FAILURE, FS_OPERATION_SUCCESS, fsCore, fsSoundStreamCore };\n","import { Func, Var, Sequence, ConstVar, Class } from '../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst msg = {\n    codeGenerator: ({ target }) => {\n        const declareFuncs = {\n            msg_create: Func('msg_create', [Var('MessageTemplate', 'template')], 'Message'),\n            msg_writeStringToken: Func('msg_writeStringToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n                Var('string', 'value'),\n            ], 'void'),\n            msg_writeFloatToken: Func('msg_writeFloatToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n                Var('MessageFloatToken', 'value'),\n            ], 'void'),\n            msg_readStringToken: Func('msg_readStringToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'string'),\n            msg_readFloatToken: Func('msg_readFloatToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'MessageFloatToken'),\n            msg_getLength: Func('msg_getLength', [\n                Var('Message', 'message')\n            ], 'Int'),\n            msg_getTokenType: Func('msg_getTokenType', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'Int'),\n            msg_isStringToken: Func('msg_isStringToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'boolean'),\n            msg_isFloatToken: Func('msg_isFloatToken', [\n                Var('Message', 'message'),\n                Var('Int', 'tokenIndex'),\n            ], 'boolean'),\n            msg_isMatching: Func('msg_isMatching', [\n                Var('Message', 'message'),\n                Var('Array<MessageHeaderEntry>', 'tokenTypes'),\n            ], 'boolean'),\n            msg_floats: Func('msg_floats', [\n                Var('Array<Float>', 'values'),\n            ], 'Message'),\n            msg_strings: Func('msg_strings', [\n                Var('Array<string>', 'values'),\n            ], 'Message'),\n            msg_display: Func('msg_display', [\n                Var('Message', 'message'),\n            ], 'string')\n        };\n        if (target === 'assemblyscript') {\n            return Sequence([\n                `\n                type MessageFloatToken = Float\n                type MessageCharToken = Int\n\n                type MessageTemplate = Array<Int>\n                type MessageHeaderEntry = Int\n                type MessageHeader = Int32Array\n                `,\n                ConstVar('MessageHeaderEntry', 'MSG_FLOAT_TOKEN', '0'),\n                ConstVar('MessageHeaderEntry', 'MSG_STRING_TOKEN', '1'),\n                // =========================== EXPORTED API\n                Func('x_msg_create', [\n                    Var('Int32Array', 'templateTypedArray')\n                ], 'Message') `\n                    const template: MessageTemplate = new Array<Int>(templateTypedArray.length)\n                    for (let i: Int = 0; i < templateTypedArray.length; i++) {\n                        template[i] = templateTypedArray[i]\n                    }\n                    return msg_create(template)\n                `,\n                Func('x_msg_getTokenTypes', [\n                    Var('Message', 'message')\n                ], 'MessageHeader') `\n                    return message.tokenTypes\n                `,\n                Func('x_msg_createTemplate', [\n                    Var('i32', 'length')\n                ], 'Int32Array') `\n                    return new Int32Array(length)\n                `,\n                // =========================== MSG API\n                declareFuncs.msg_create `\n                    let i: Int = 0\n                    let byteCount: Int = 0\n                    let tokenTypes: Array<MessageHeaderEntry> = []\n                    let tokenPositions: Array<MessageHeaderEntry> = []\n\n                    i = 0\n                    while (i < template.length) {\n                        switch(template[i]) {\n                            case MSG_FLOAT_TOKEN:\n                                byteCount += sizeof<MessageFloatToken>()\n                                tokenTypes.push(MSG_FLOAT_TOKEN)\n                                tokenPositions.push(byteCount)\n                                i += 1\n                                break\n                            case MSG_STRING_TOKEN:\n                                byteCount += sizeof<MessageCharToken>() * template[i + 1]\n                                tokenTypes.push(MSG_STRING_TOKEN)\n                                tokenPositions.push(byteCount)\n                                i += 2\n                                break\n                            default:\n                                throw new Error(\"unknown token type : \" + template[i].toString())\n                        }\n                    }\n\n                    const tokenCount = tokenTypes.length\n                    const headerByteCount = _msg_computeHeaderLength(tokenCount) * sizeof<MessageHeaderEntry>()\n                    byteCount += headerByteCount\n\n                    const buffer = new ArrayBuffer(byteCount)\n                    const dataView = new DataView(buffer)\n                    let writePosition: Int = 0\n                    \n                    dataView.setInt32(writePosition, tokenCount)\n                    writePosition += sizeof<MessageHeaderEntry>()\n\n                    for (i = 0; i < tokenCount; i++) {\n                        dataView.setInt32(writePosition, tokenTypes[i])\n                        writePosition += sizeof<MessageHeaderEntry>()\n                    }\n\n                    dataView.setInt32(writePosition, headerByteCount)\n                    writePosition += sizeof<MessageHeaderEntry>()\n                    for (i = 0; i < tokenCount; i++) {\n                        dataView.setInt32(writePosition, headerByteCount + tokenPositions[i])\n                        writePosition += sizeof<MessageHeaderEntry>()\n                    }\n\n                    const header = _msg_unpackHeader(dataView, tokenCount)\n                    return {\n                        dataView,\n                        tokenCount,\n                        header,\n                        tokenTypes: _msg_unpackTokenTypes(header),\n                        tokenPositions: _msg_unpackTokenPositions(header),\n                    }\n                `,\n                declareFuncs.msg_writeStringToken `\n                    const startPosition = message.tokenPositions[tokenIndex]\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\n                    const expectedStringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\n                    if (value.length !== expectedStringLength) {\n                        throw new Error('Invalid string size, specified ' + expectedStringLength.toString() + ', received ' + value.length.toString())\n                    }\n\n                    for (let i = 0; i < value.length; i++) {\n                        message.dataView.setInt32(\n                            startPosition + i * sizeof<MessageCharToken>(), \n                            value.codePointAt(i)\n                        )\n                    }\n                `,\n                declareFuncs.msg_writeFloatToken `\n                    setFloatDataView(message.dataView, message.tokenPositions[tokenIndex], value)\n                `,\n                declareFuncs.msg_readStringToken `\n                    const startPosition = message.tokenPositions[tokenIndex]\n                    const endPosition = message.tokenPositions[tokenIndex + 1]\n                    const stringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\n                    let value: string = ''\n                    for (let i = 0; i < stringLength; i++) {\n                        value += String.fromCodePoint(message.dataView.getInt32(startPosition + sizeof<MessageCharToken>() * i))\n                    }\n                    return value\n                `,\n                declareFuncs.msg_readFloatToken `\n                    return getFloatDataView(message.dataView, message.tokenPositions[tokenIndex])\n                `,\n                declareFuncs.msg_getLength `\n                    return message.tokenTypes.length\n                `,\n                declareFuncs.msg_getTokenType `\n                    return message.tokenTypes[tokenIndex]\n                `,\n                declareFuncs.msg_isStringToken `\n                    return msg_getTokenType(message, tokenIndex) === MSG_STRING_TOKEN\n                `,\n                declareFuncs.msg_isFloatToken `\n                    return msg_getTokenType(message, tokenIndex) === MSG_FLOAT_TOKEN\n                `,\n                declareFuncs.msg_isMatching `\n                    if (message.tokenTypes.length !== tokenTypes.length) {\n                        return false\n                    }\n                    for (let i: Int = 0; i < tokenTypes.length; i++) {\n                        if (message.tokenTypes[i] !== tokenTypes[i]) {\n                            return false\n                        }\n                    }\n                    return true\n                `,\n                declareFuncs.msg_floats `\n                    const message: Message = msg_create(values.map<MessageHeaderEntry>(v => MSG_FLOAT_TOKEN))\n                    for (let i: Int = 0; i < values.length; i++) {\n                        msg_writeFloatToken(message, i, values[i])\n                    }\n                    return message\n                `,\n                declareFuncs.msg_strings `\n                    const template: MessageTemplate = []\n                    for (let i: Int = 0; i < values.length; i++) {\n                        template.push(MSG_STRING_TOKEN)\n                        template.push(values[i].length)\n                    }\n                    const message: Message = msg_create(template)\n                    for (let i: Int = 0; i < values.length; i++) {\n                        msg_writeStringToken(message, i, values[i])\n                    }\n                    return message\n                `,\n                declareFuncs.msg_display `\n                    let displayArray: Array<string> = []\n                    for (let i: Int = 0; i < msg_getLength(message); i++) {\n                        if (msg_isFloatToken(message, i)) {\n                            displayArray.push(msg_readFloatToken(message, i).toString())\n                        } else {\n                            displayArray.push('\"' + msg_readStringToken(message, i) + '\"')\n                        }\n                    }\n                    return '[' + displayArray.join(', ') + ']'\n                `,\n                // =========================== PRIVATE\n                // Message header : [\n                //      <Token count>, \n                //      <Token 1 type>,  ..., <Token N type>, \n                //      <Token 1 start>, ..., <Token N start>, <Token N end>\n                //      ... DATA ...\n                // ]\n                Class('Message', [\n                    Var('DataView', 'dataView'),\n                    Var('MessageHeader', 'header'),\n                    Var('MessageHeaderEntry', 'tokenCount'),\n                    Var('MessageHeader', 'tokenTypes'),\n                    Var('MessageHeader', 'tokenPositions'),\n                ]),\n                Func('_msg_computeHeaderLength', [\n                    Var('Int', 'tokenCount')\n                ], 'Int') `\n                    return 1 + tokenCount * 2 + 1\n                `,\n                Func('_msg_unpackTokenCount', [\n                    Var('DataView', 'messageDataView')\n                ], 'MessageHeaderEntry') `\n                    return messageDataView.getInt32(0)\n                `,\n                Func('_msg_unpackHeader', [\n                    Var('DataView', 'messageDataView'),\n                    Var('MessageHeaderEntry', 'tokenCount'),\n                ], 'MessageHeader') `\n                    const headerLength = _msg_computeHeaderLength(tokenCount)\n                    // TODO : why is this \\`wrap\\` not working ?\n                    // return Int32Array.wrap(messageDataView.buffer, 0, headerLength)\n                    const messageHeader = new Int32Array(headerLength)\n                    for (let i = 0; i < headerLength; i++) {\n                        messageHeader[i] = messageDataView.getInt32(sizeof<MessageHeaderEntry>() * i)\n                    }\n                    return messageHeader\n                `,\n                Func('_msg_unpackTokenTypes', [\n                    Var('MessageHeader', 'header'),\n                ], 'MessageHeader') `\n                    return header.slice(1, 1 + header[0])\n                `,\n                Func('_msg_unpackTokenPositions', [\n                    Var('MessageHeader', 'header'),\n                ], 'MessageHeader') `\n                    return header.slice(1 + header[0])\n                `,\n            ]);\n        }\n        else if (target === 'javascript') {\n            return Sequence([\n                ConstVar('string', 'MSG_FLOAT_TOKEN', '\"number\"'),\n                ConstVar('string', 'MSG_STRING_TOKEN', '\"string\"'),\n                declareFuncs.msg_create `\n                    const m = []\n                    let i = 0\n                    while (i < template.length) {\n                        if (template[i] === MSG_STRING_TOKEN) {\n                            m.push('')\n                            i += 2\n                        } else if (template[i] === MSG_FLOAT_TOKEN) {\n                            m.push(0)\n                            i += 1\n                        }\n                    }\n                    return m\n                `,\n                declareFuncs.msg_getLength `\n                    return message.length\n                `,\n                declareFuncs.msg_getTokenType `\n                    return typeof message[tokenIndex]\n                `,\n                declareFuncs.msg_isStringToken `\n                    return msg_getTokenType(message, tokenIndex) === 'string'\n                `,\n                declareFuncs.msg_isFloatToken `\n                    return msg_getTokenType(message, tokenIndex) === 'number'\n                `,\n                declareFuncs.msg_isMatching `\n                    return (message.length === tokenTypes.length) \n                        && message.every((v, i) => msg_getTokenType(message, i) === tokenTypes[i])\n                `,\n                declareFuncs.msg_writeFloatToken `\n                    message[tokenIndex] = value\n                `,\n                declareFuncs.msg_writeStringToken `\n                    message[tokenIndex] = value\n                `,\n                declareFuncs.msg_readFloatToken `\n                    return message[tokenIndex]\n                `,\n                declareFuncs.msg_readStringToken `\n                    return message[tokenIndex]\n                `,\n                declareFuncs.msg_floats `\n                    return values\n                `,\n                declareFuncs.msg_strings `\n                    return values\n                `,\n                declareFuncs.msg_display `\n                    return '[' + message\n                        .map(t => typeof t === 'string' ? '\"' + t + '\"' : t.toString())\n                        .join(', ') + ']'\n                `,\n            ]);\n        }\n        else {\n            throw new Error(`Unexpected target: ${target}`);\n        }\n    },\n    exports: [\n        { name: 'x_msg_create', targets: ['assemblyscript'] },\n        { name: 'x_msg_getTokenTypes', targets: ['assemblyscript'] },\n        { name: 'x_msg_createTemplate', targets: ['assemblyscript'] },\n        { name: 'msg_writeStringToken', targets: ['assemblyscript'] },\n        { name: 'msg_writeFloatToken', targets: ['assemblyscript'] },\n        { name: 'msg_readStringToken', targets: ['assemblyscript'] },\n        { name: 'msg_readFloatToken', targets: ['assemblyscript'] },\n        { name: 'MSG_FLOAT_TOKEN', targets: ['assemblyscript'] },\n        { name: 'MSG_STRING_TOKEN', targets: ['assemblyscript'] },\n    ],\n};\n\nexport { msg };\n","import { AnonFunc, Var } from '../../ast/declare.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nAnonFunc([Var('Message', 'm')], 'void') ``;\n","import { makeAbstractionLoader, UnknownNodeTypeError } from '../build/helpers.js';\nimport { defaultSettingsForBuild as defaultSettingsForBuild$1 } from '../build/build.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport '../nodes/nodes/osc~-phasor~.js';\nimport '../nodes/nodes/clip~.js';\nimport '../nodes/nodes/sig~.js';\nimport '../nodes/nodes/samphold~.js';\nimport '../nodes/nodes/snapshot~.js';\nimport '../nodes/nodes/vline~.js';\nimport '../nodes/nodes/line~.js';\nimport '../nodes/nodes/line.js';\nimport '../nodes/nodes/tabread.js';\nimport '../nodes/nodes/tabwrite.js';\nimport '../nodes/nodes/tabread~-tabread4~.js';\nimport '../nodes/nodes/tabplay~.js';\nimport '../nodes/nodes/readsf~.js';\nimport '../nodes/nodes/writesf~.js';\nimport '../nodes/nodes/filters-bp~.js';\nimport '../nodes/nodes/throw~-catch~-send~-receive~.js';\nimport '../nodes/nodes/metro.js';\nimport '../nodes/nodes/timer.js';\nimport '../nodes/nodes/delay.js';\nimport '../nodes/nodes/controls-float.js';\nimport '../nodes/nodes/controls-bang.js';\nimport '../nodes/nodes/controls-atoms.js';\nimport '../nodes/nodes/float-int.js';\nimport '../nodes/nodes/delread~-delread4~.js';\nimport '../nodes/nodes/delwrite~.js';\nimport '../nodes/nodes/filters-real~.js';\nimport '../nodes/nodes/filters-complex~.js';\nimport '../nodes/nodes/filters-hip~.js';\nimport '../nodes/nodes/filters-lop~.js';\nimport '../nodes/nodes/filters-vcf~.js';\nimport '../nodes/nodes/msg.js';\nimport '../nodes/nodes/list.js';\nimport '../nodes/nodes/symbol.js';\nimport '../nodes/nodes/send-receive.js';\nimport '../nodes/nodes/soundfiler.js';\nimport '../nodes/nodes/change.js';\nimport '../nodes/nodes/moses.js';\nimport '../nodes/nodes/clip.js';\nimport '../nodes/nodes/route.js';\nimport '../nodes/nodes/spigot.js';\nimport '../nodes/nodes/until.js';\nimport '../nodes/nodes/random.js';\nimport '../nodes/nodes/pipe.js';\nimport '../nodes/nodes/pack.js';\nimport '../nodes/nodes/expr-expr~.js';\nimport '../nodes/nodes/binop.js';\nimport '../compile-dsp-graph/to-dsp-graph.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst defaultSettingsForBuild = (rootUrl) => ({\n    ...defaultSettingsForBuild$1(),\n    abstractionLoader: makeUrlAbstractionLoader(rootUrl),\n});\n/**\n * Helper to build an abstraction loader from a root url.\n * The returned loader will :\n * - use the root url to resolve relative paths for abstractions.\n * - suffix all abstraction names with .pd if they don't already have an extension.\n *\n * @param rootUrl\n * @returns\n */\nconst makeUrlAbstractionLoader = (rootUrl) => {\n    return makeAbstractionLoader(async (nodeType) => {\n        const url = `${rootUrl}/${(nodeType.endsWith('.pd') ? nodeType : `${nodeType}.pd`)}`;\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new UnknownNodeTypeError(nodeType);\n        }\n        return await response.text();\n    });\n};\n\nexport { defaultSettingsForBuild, makeUrlAbstractionLoader };\n","import { audioBufferToArray, fixSoundChannelCount, fetchFile } from '../utils.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst FILES = {};\nconst STREAMS = {};\nclass FakeStream {\n    constructor(url, sound) {\n        this.url = url;\n        this.sound = sound;\n        this.frameCount = sound[0].length;\n        this.readPosition = 0;\n    }\n}\nconst read = async (url) => {\n    if (FILES[url]) {\n        return FILES[url];\n    }\n    const arrayBuffer = await fetchFile(url);\n    return {\n        type: 'binary',\n        data: arrayBuffer,\n    };\n};\n// TODO : testing\nconst readSound = async (url, context) => {\n    let fakeFile = FILES[url] || (await read(url));\n    switch (fakeFile.type) {\n        case 'binary':\n            const audioBuffer = await context.decodeAudioData(fakeFile.data);\n            return audioBufferToArray(audioBuffer);\n        case 'sound':\n            // We copy the data here o it can be manipulated freely by the host.\n            // e.g. if the buffer is sent as transferrable to the node we don't want the original to be transferred.\n            return fakeFile.data.map((array) => array.slice());\n    }\n};\nconst writeSound = async (sound, url) => {\n    FILES[url] = {\n        type: 'sound',\n        data: sound,\n    };\n};\nconst readStreamSound = async (operationId, url, channelCount, context) => {\n    const sound = await readSound(url, context);\n    STREAMS[operationId] = new FakeStream(url, fixSoundChannelCount(sound, channelCount));\n    return STREAMS[operationId];\n};\nconst writeStreamSound = async (operationId, url, channelCount) => {\n    const emptySound = [];\n    for (let channel = 0; channel < channelCount; channel++) {\n        emptySound.push(new Float32Array(0));\n    }\n    STREAMS[operationId] = new FakeStream(url, emptySound);\n    FILES[url] = {\n        type: 'sound',\n        data: emptySound,\n    };\n    return STREAMS[operationId];\n};\nconst getStream = (operationId) => {\n    return STREAMS[operationId];\n};\nconst killStream = (operationId) => {\n    console.log('KILL STREAM', operationId);\n    delete STREAMS[operationId];\n};\nconst pullBlock = (stream, frameCount) => {\n    const block = stream.sound.map((array) => array.slice(stream.readPosition, stream.readPosition + frameCount));\n    stream.readPosition += frameCount;\n    return block;\n};\nconst pushBlock = (stream, block) => {\n    stream.sound = stream.sound.map((channelData, channel) => {\n        const concatenated = new Float32Array(channelData.length + block[channel].length);\n        concatenated.set(channelData);\n        concatenated.set(block[channel], channelData.length);\n        return concatenated;\n    });\n    stream.frameCount = stream.sound[0].length;\n    FILES[stream.url].data = stream.sound;\n};\nvar fakeFs = {\n    writeSound,\n    readSound,\n    readStreamSound,\n    writeStreamSound,\n    pullBlock,\n    pushBlock,\n};\n\nexport { FakeStream, fakeFs as default, getStream, killStream, pullBlock, pushBlock, readSound };\n","import { FS_OPERATION_FAILURE, FS_OPERATION_SUCCESS } from '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { resolveRelativeUrl } from '../utils.js';\nimport fakeFs, { getStream, killStream, pullBlock } from './fake-filesystem.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst BUFFER_HIGH = 10 * 44100;\nconst BUFFER_LOW = BUFFER_HIGH / 2;\nvar readSoundStream = async (node, payload, settings) => {\n    if (payload.functionName === 'onOpenSoundReadStream') {\n        const [operationId, url, [channelCount]] = payload.arguments;\n        try {\n            const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\n            await fakeFs.readStreamSound(operationId, absoluteUrl, channelCount, node.context);\n        }\n        catch (err) {\n            console.error(err);\n            node.port.postMessage({\n                type: 'fs',\n                payload: {\n                    functionName: 'closeSoundStream',\n                    arguments: [operationId, FS_OPERATION_FAILURE],\n                },\n            });\n            return;\n        }\n        streamLoop(node, operationId, 0);\n    }\n    else if (payload.functionName === 'sendSoundStreamData_return') {\n        const stream = getStream(payload.operationId);\n        if (!stream) {\n            throw new Error(`unknown stream ${payload.operationId}`);\n        }\n        streamLoop(node, payload.operationId, payload.returned);\n    }\n    else if (payload.functionName === 'closeSoundStream_return') {\n        const stream = getStream(payload.operationId);\n        if (stream) {\n            killStream(payload.operationId);\n        }\n    }\n};\nconst streamLoop = (node, operationId, framesAvailableInEngine) => {\n    const sampleRate = node.context.sampleRate;\n    const secondsToThreshold = Math.max(framesAvailableInEngine - BUFFER_LOW, 10) / sampleRate;\n    const framesToSend = BUFFER_HIGH -\n        (framesAvailableInEngine - secondsToThreshold * sampleRate);\n    setTimeout(() => {\n        const stream = getStream(operationId);\n        if (!stream) {\n            console.log(`stream ${operationId} was maybe closed`);\n            return;\n        }\n        if (stream.readPosition < stream.frameCount) {\n            const block = pullBlock(stream, framesToSend);\n            node.port.postMessage({\n                type: 'fs',\n                payload: {\n                    functionName: 'sendSoundStreamData',\n                    arguments: [operationId, block],\n                },\n            }, \n            // Add as transferables to avoid copies between threads\n            block.map((array) => array.buffer));\n        }\n        else {\n            node.port.postMessage({\n                type: 'fs',\n                payload: {\n                    functionName: 'closeSoundStream',\n                    arguments: [operationId, FS_OPERATION_SUCCESS],\n                },\n            });\n        }\n    }, secondsToThreshold * 1000);\n};\n\nexport { readSoundStream as default };\n","import { FS_OPERATION_SUCCESS } from '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { fixSoundChannelCount, resolveRelativeUrl } from '../utils.js';\nimport fakeFs from './fake-filesystem.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar writeSoundFile = async (node, payload, settings) => {\n    if (payload.functionName === 'onWriteSoundFile') {\n        const [operationId, sound, url, [channelCount]] = payload.arguments;\n        const fixedSound = fixSoundChannelCount(sound, channelCount);\n        const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\n        await fakeFs.writeSound(fixedSound, absoluteUrl);\n        let operationStatus = FS_OPERATION_SUCCESS;\n        node.port.postMessage({\n            type: 'fs',\n            payload: {\n                functionName: 'sendWriteSoundFileResponse',\n                arguments: [operationId, operationStatus],\n            },\n        });\n    }\n    else if (payload.functionName === 'sendWriteSoundFileResponse_return') ;\n};\n\nexport { writeSoundFile as default };\n","import { resolveRelativeUrl } from '../utils.js';\nimport fakeFs, { pushBlock, getStream, killStream } from './fake-filesystem.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar writeSoundStream = async (_, payload, settings) => {\n    if (payload.functionName === 'onOpenSoundWriteStream') {\n        const [operationId, url, [channelCount]] = payload.arguments;\n        const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\n        await fakeFs.writeStreamSound(operationId, absoluteUrl, channelCount);\n    }\n    else if (payload.functionName === 'onSoundStreamData') {\n        const [operationId, sound] = payload.arguments;\n        const stream = getStream(operationId);\n        if (!stream) {\n            throw new Error(`unknown stream ${operationId}`);\n        }\n        pushBlock(stream, sound);\n    }\n    else if (payload.functionName === 'closeSoundStream_return') {\n        const stream = getStream(payload.operationId);\n        if (stream) {\n            killStream(payload.operationId);\n        }\n    }\n};\n\nexport { writeSoundStream as default };\n","import closeSoundStream from './close-sound-stream.js';\nimport readSoundFile from './read-sound-file.js';\nimport readSoundStream from './read-sound-stream.js';\nimport writeSoundFile from './write-sound-file.js';\nimport writeSoundStream from './write-sound-stream.js';\n\nvar index = async (node, messageEvent, settings) => {\n    const message = messageEvent.data;\n    const { payload } = message;\n    if (message.type !== 'fs') {\n        throw new Error(`Unknown message type from node ${message.type}`);\n    }\n    if (payload.functionName === 'onReadSoundFile' ||\n        payload.functionName === 'sendReadSoundFileResponse_return') {\n        readSoundFile(node, payload, settings);\n    }\n    else if (payload.functionName === 'onOpenSoundReadStream' ||\n        payload.functionName === 'sendSoundStreamData_return') {\n        readSoundStream(node, payload, settings);\n    }\n    else if (payload.functionName === 'onWriteSoundFile' ||\n        payload.functionName === 'sendWriteSoundFileResponse_return') {\n        writeSoundFile(node, payload, settings);\n    }\n    else if (payload.functionName === 'onOpenSoundWriteStream' ||\n        payload.functionName === 'onSoundStreamData') {\n        writeSoundStream(node, payload, settings);\n    }\n    else if (payload.functionName === 'closeSoundStream_return') {\n        writeSoundStream(node, payload, settings);\n        readSoundStream(node, payload, settings);\n    }\n    else if (payload.functionName === 'onCloseSoundStream') {\n        closeSoundStream(node, payload);\n    }\n    else {\n        throw new Error(`Unknown callback ${payload.functionName}`);\n    }\n};\n\nexport { index as default };\n","import { FS_OPERATION_SUCCESS, FS_OPERATION_FAILURE } from '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { resolveRelativeUrl, fixSoundChannelCount } from '../utils.js';\nimport fakeFs from './fake-filesystem.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar readSoundFile = async (node, payload, settings) => {\n    if (payload.functionName === 'onReadSoundFile') {\n        const [operationId, url, [channelCount]] = payload.arguments;\n        const absoluteUrl = resolveRelativeUrl(settings.rootUrl, url);\n        let operationStatus = FS_OPERATION_SUCCESS;\n        let sound = null;\n        try {\n            sound = await fakeFs.readSound(absoluteUrl, node.context);\n        }\n        catch (err) {\n            operationStatus = FS_OPERATION_FAILURE;\n            console.error(err);\n        }\n        if (sound) {\n            sound = fixSoundChannelCount(sound, channelCount);\n        }\n        node.port.postMessage({\n            type: 'fs',\n            payload: {\n                functionName: 'sendReadSoundFileResponse',\n                arguments: [operationId, operationStatus, sound],\n            },\n        }, \n        // Add as transferables to avoid copies between threads\n        sound.map((array) => array.buffer));\n    }\n    else if (payload.functionName === 'sendReadSoundFileResponse_return') ;\n};\n\nexport { readSoundFile as default };\n","import { killStream } from './fake-filesystem.js';\n\nvar closeSoundStream = async (_, payload, __) => {\n    if (payload.functionName === 'onCloseSoundStream') {\n        killStream(payload.arguments[0]);\n    }\n};\n\nexport { closeSoundStream as default };\n","/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nconst urlDirName = (url) => {\n    if (isExternalUrl(url)) {\n        return new URL('.', url).href;\n    }\n    else {\n        return new URL('.', new URL(url, document.URL).href).href;\n    }\n};\n// REF : https://stackoverflow.com/questions/10687099/how-to-test-if-a-url-string-is-absolute-or-relative\nconst isExternalUrl = (urlString) => {\n    try {\n        const url = new URL(urlString);\n        if (url.origin !== new URL(document.URL, document.baseURI).origin) {\n            return true;\n        }\n    }\n    catch (_e) {\n        new URL(urlString, document.baseURI);\n    }\n    return false;\n};\n\nexport { isExternalUrl, urlDirName };\n","import { createAction } from '@reduxjs/toolkit'\n\nexport const actionCleanBuild = createAction('shared/clean')","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { Build } from 'webpd'\nimport { Artefacts } from 'webpd/dist/types/src/build/types'\nimport { PatchPlayer } from '../PatchPlayer/types'\nimport buildInput from './build-input'\nimport buildOutput from './build-output'\nimport { actionCleanBuild } from './shared-action'\n\nexport const BUILD_STATUS = {\n    INIT: 0,\n    IN_PROGRESS: 1,\n    SUCCESS: 2,\n    ERRORED: 3,\n}\n\ntype BuildStatus =\n    | typeof BUILD_STATUS.INIT\n    | typeof BUILD_STATUS.IN_PROGRESS\n    | typeof BUILD_STATUS.SUCCESS\n    | typeof BUILD_STATUS.ERRORED\n\n// We need to kep these out of state\n// because these complex, non-serializable values\n// cause errors with immer and RTK.\nexport const ASSETS: {\n    artefacts: Build.Artefacts\n} = {\n    artefacts: Build.createArtefacts(),\n}\n\ninterface ArtefactsState {\n    buildStatus: BuildStatus\n    step: Build.BuildFormat | null\n}\n\nconst initialState: ArtefactsState = {\n    buildStatus: BUILD_STATUS.INIT,\n    step: null,\n}\n\nexport default createSlice({\n    name: 'buildOutput',\n    initialState,\n    reducers: {\n        startBuild: (state) => {\n            state.buildStatus = BUILD_STATUS.IN_PROGRESS\n        },\n        buildSuccess: (\n            state,\n            action: PayloadAction<{\n                artefacts: Build.Artefacts\n                patchPlayer: PatchPlayer | null\n            }>\n        ) => {\n            ASSETS.artefacts = action.payload.artefacts\n            state.buildStatus = BUILD_STATUS.SUCCESS\n        },\n        startStep: (state, action: PayloadAction<Build.BuildFormat>) => {\n            state.step = action.payload\n        },\n        stepComplete: (\n            state,\n            action: PayloadAction<{\n                status: 0 | 1\n                errors?: Array<string>\n                warnings?: Array<string>\n                artefacts: Artefacts\n            }>\n        ) => {\n            ASSETS.artefacts = action.payload.artefacts\n            if (action.payload.status === 1) {\n                state.buildStatus = BUILD_STATUS.ERRORED\n            }\n        },\n    },\n    extraReducers(builder) {\n        const reset = () => {\n            ASSETS.artefacts = Build.createArtefacts()\n            return initialState\n        }\n        builder.addCase(actionCleanBuild, reset)\n        builder.addCase(buildOutput.actions.setFormat, reset)\n        builder.addCase(buildInput.actions.setLocalFile, reset)\n        builder.addCase(buildInput.actions.fetchUrlSuccess, reset)\n    },\n})\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport artefacts from \"./artefacts\"\nimport buildInput from \"./build-input\"\nimport buildOutput from \"./build-output\"\n\ninterface ConsoleState {\n    warnings: Array<string> | null\n    errors: Array<string> | null\n}\n\nconst initialState: ConsoleState = {\n    warnings: null,\n    errors: null,\n}\n\nexport default createSlice({\n    name: 'console',\n    initialState,\n    reducers: {\n        setState: (_, action: PayloadAction<ConsoleState>) => {\n            return action.payload\n        },\n    },\n    extraReducers(builder) {\n        builder.addCase(artefacts.actions.startBuild, () => initialState)\n        builder.addCase(artefacts.actions.stepComplete, (\n            state,\n            action\n        ) => {\n            if (action.payload.warnings) {\n                state.warnings = [...(state.warnings || []), ...action.payload.warnings]\n                if (state.warnings.length === 0) {\n                    state.warnings = null\n                }\n            }\n            if (action.payload.errors) {\n                state.errors = [...(state.errors || []), ...action.payload.errors]\n            }\n        })\n        builder.addCase(buildInput.actions.setUrl, () => initialState)\n        builder.addCase(buildInput.actions.setLocalFile, () => initialState)\n        builder.addCase(buildInput.actions.clear, () => initialState)\n        builder.addCase(buildOutput.actions.setFormat, () => initialState)\n        builder.addCase(buildInput.actions.fetchUrlError, (\n            state,\n            action\n        ) => {\n            state.errors = [action.payload]\n        })\n    },\n})","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport artefacts from './artefacts'\n\ninterface AppState {\n    isInitialized: boolean\n    willBuildOnLoad: boolean\n    debug: boolean\n}\n\nexport default createSlice({\n    name: 'app',\n    initialState: {\n        isInitialized: false,\n        willBuildOnLoad: false,\n        debug: false,\n    } as AppState,\n    reducers: {\n        setWillBuildOnLoad: (state, action: PayloadAction<boolean>) => {\n            state.willBuildOnLoad = action.payload\n        },\n        initializationDone: (state) => {\n            state.isInitialized = true\n        },\n        setDebug: (state, action: PayloadAction<boolean>) => {\n            state.debug = action.payload\n        },\n        pointerUp: () => {}\n    },\n    extraReducers: (builder) => {\n        builder.addCase(artefacts.actions.buildSuccess, (state) => {\n            state.willBuildOnLoad = true\n        })\n    },\n})\n","// Cache implementation based on Erik Rasmussen's `lru-memoize`:\n// https://github.com/erikras/lru-memoize\nvar NOT_FOUND = 'NOT_FOUND';\n\nfunction createSingletonCache(equals) {\n  var entry;\n  return {\n    get: function get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n\n      return NOT_FOUND;\n    },\n    put: function put(key, value) {\n      entry = {\n        key: key,\n        value: value\n      };\n    },\n    getEntries: function getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear: function clear() {\n      entry = undefined;\n    }\n  };\n}\n\nfunction createLruCache(maxSize, equals) {\n  var entries = [];\n\n  function get(key) {\n    var cacheIndex = entries.findIndex(function (entry) {\n      return equals(key, entry.key);\n    }); // We found a cached entry\n\n    if (cacheIndex > -1) {\n      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top\n\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n\n      return entry.value;\n    } // No entry found in cache, return sentinel\n\n\n    return NOT_FOUND;\n  }\n\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      // TODO Is unshift slow?\n      entries.unshift({\n        key: key,\n        value: value\n      });\n\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n\n  function getEntries() {\n    return entries;\n  }\n\n  function clear() {\n    entries = [];\n  }\n\n  return {\n    get: get,\n    put: put,\n    getEntries: getEntries,\n    clear: clear\n  };\n}\n\nexport var defaultEqualityCheck = function defaultEqualityCheck(a, b) {\n  return a === b;\n};\nexport function createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n    var length = prev.length;\n\n    for (var i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n// defaultMemoize now supports a configurable cache size with LRU behavior,\n// and optional comparison of the result value with existing values\nexport function defaultMemoize(func, equalityCheckOrOptions) {\n  var providedOptions = typeof equalityCheckOrOptions === 'object' ? equalityCheckOrOptions : {\n    equalityCheck: equalityCheckOrOptions\n  };\n  var _providedOptions$equa = providedOptions.equalityCheck,\n      equalityCheck = _providedOptions$equa === void 0 ? defaultEqualityCheck : _providedOptions$equa,\n      _providedOptions$maxS = providedOptions.maxSize,\n      maxSize = _providedOptions$maxS === void 0 ? 1 : _providedOptions$maxS,\n      resultEqualityCheck = providedOptions.resultEqualityCheck;\n  var comparator = createCacheKeyComparator(equalityCheck);\n  var cache = maxSize === 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator); // we reference arguments instead of spreading them for performance reasons\n\n  function memoized() {\n    var value = cache.get(arguments);\n\n    if (value === NOT_FOUND) {\n      // @ts-ignore\n      value = func.apply(null, arguments);\n\n      if (resultEqualityCheck) {\n        var entries = cache.getEntries();\n        var matchingEntry = entries.find(function (entry) {\n          return resultEqualityCheck(entry.value, value);\n        });\n\n        if (matchingEntry) {\n          value = matchingEntry.value;\n        }\n      }\n\n      cache.put(arguments, value);\n    }\n\n    return value;\n  }\n\n  memoized.clearCache = function () {\n    return cache.clear();\n  };\n\n  return memoized;\n}","import { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function recomputationWrapper() {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function dependenciesChecker() {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize);\n// Manual definition of state and output arguments\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","import { createSelector } from \"@reduxjs/toolkit\"\nimport { Build } from \"webpd\"\nimport { RootState } from \".\"\n\nexport const selectBuildInputUrl = (state: RootState) => state.buildInput.url\nexport const selectBuildInputFilepath = (state: RootState) =>\n    state.buildInput.filepath\nexport const selectBuildInputArrayBuffer = (state: RootState) =>\n    state.buildInput.arrayBuffer\nexport const selectBuildInputFocusOn = (state: RootState) =>\n    state.buildInput.focusOn\n\nexport const selectBuildInputFormat = createSelector(\n    selectBuildInputUrl,\n    selectBuildInputFilepath,\n    (url, filepath) => {\n        let filepathOrUrl = url || filepath\n        if (filepathOrUrl) {\n            // If no format guessed, we get pd format by default to allow\n            // for urls with no extension.\n            return Build.guessFormat(filepathOrUrl) || 'pd'\n\n        } else {\n            return null\n        }\n    }\n)\n\nexport const selectBuildInputArtefacts = createSelector(\n    selectBuildInputFormat,\n    selectBuildInputArrayBuffer,\n    (inFormat, arrayBuffer) => {\n        if (inFormat === null || arrayBuffer === null) {\n            return null\n        }\n        return Build.loadArtefact(\n            Build.createArtefacts(),\n            arrayBuffer,\n            inFormat\n        )\n    }\n)","import { createSelector } from '@reduxjs/toolkit'\nimport { Build } from 'webpd'\nimport { RootState } from '.'\nimport { BuildFormatWebSite } from '../types'\nimport { selectBuildInputFormat } from './build-input-selectors'\nimport { AVAILABLE_OUTPUT_FORMATS } from './build-output'\n\nexport const selectBuildOutputFormat = (state: RootState) =>\n    state.buildOutput.format\nexport const selectBuildOutputCodeTarget = (state: RootState) =>\n    state.buildOutput.codeTarget\nexport const selectBuildOutputPreviewDurationSeconds = (state: RootState) =>\n    state.buildOutput.previewDurationSeconds\n\nexport const selectBuildOutputFormatsAvailable = createSelector(\n    selectBuildInputFormat,\n    (inFormat) => {\n        inFormat = inFormat || 'pd'\n        const outputFormats = Build.listOutputFormats(inFormat)\n        return [\n            'patchPlayer',\n            ...AVAILABLE_OUTPUT_FORMATS.filter((format) =>\n                outputFormats.has(format)\n            ),\n        ] as Array<BuildFormatWebSite>\n    }\n)","var createSymbol = function createSymbol(name) {\n  return \"@@redux-saga/\" + name;\n};\n\nvar CANCEL =\n/*#__PURE__*/\ncreateSymbol('CANCEL_PROMISE');\nvar CHANNEL_END_TYPE =\n/*#__PURE__*/\ncreateSymbol('CHANNEL_END');\nvar IO =\n/*#__PURE__*/\ncreateSymbol('IO');\nvar MATCH =\n/*#__PURE__*/\ncreateSymbol('MATCH');\nvar MULTICAST =\n/*#__PURE__*/\ncreateSymbol('MULTICAST');\nvar SAGA_ACTION =\n/*#__PURE__*/\ncreateSymbol('SAGA_ACTION');\nvar SELF_CANCELLATION =\n/*#__PURE__*/\ncreateSymbol('SELF_CANCELLATION');\nvar TASK =\n/*#__PURE__*/\ncreateSymbol('TASK');\nvar TASK_CANCEL =\n/*#__PURE__*/\ncreateSymbol('TASK_CANCEL');\nvar TERMINATE =\n/*#__PURE__*/\ncreateSymbol('TERMINATE');\nvar SAGA_LOCATION =\n/*#__PURE__*/\ncreateSymbol('LOCATION');\n\nexport { CANCEL, CHANNEL_END_TYPE, IO, MATCH, MULTICAST, SAGA_ACTION, SAGA_LOCATION, SELF_CANCELLATION, TASK, TASK_CANCEL, TERMINATE };\n","import { TASK, SAGA_ACTION, MULTICAST, IO } from '@redux-saga/symbols';\n\nvar undef = function undef(v) {\n  return v === null || v === undefined;\n};\nvar notUndef = function notUndef(v) {\n  return v !== null && v !== undefined;\n};\nvar func = function func(f) {\n  return typeof f === 'function';\n};\nvar number = function number(n) {\n  return typeof n === 'number';\n};\nvar string = function string(s) {\n  return typeof s === 'string';\n};\nvar array = Array.isArray;\nvar object = function object(obj) {\n  return obj && !array(obj) && typeof obj === 'object';\n};\nvar promise = function promise(p) {\n  return p && func(p.then);\n};\nvar iterator = function iterator(it) {\n  return it && func(it.next) && func(it.throw);\n};\nvar iterable = function iterable(it) {\n  return it && func(Symbol) ? func(it[Symbol.iterator]) : array(it);\n};\nvar task = function task(t) {\n  return t && t[TASK];\n};\nvar sagaAction = function sagaAction(a) {\n  return Boolean(a && a[SAGA_ACTION]);\n};\nvar observable = function observable(ob) {\n  return ob && func(ob.subscribe);\n};\nvar buffer = function buffer(buf) {\n  return buf && func(buf.isEmpty) && func(buf.take) && func(buf.put);\n};\nvar pattern = function pattern(pat) {\n  return pat && (string(pat) || symbol(pat) || func(pat) || array(pat) && pat.every(pattern));\n};\nvar channel = function channel(ch) {\n  return ch && func(ch.take) && func(ch.close);\n};\nvar stringableFunc = function stringableFunc(f) {\n  return func(f) && f.hasOwnProperty('toString');\n};\nvar symbol = function symbol(sym) {\n  return Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype;\n};\nvar multicast = function multicast(ch) {\n  return channel(ch) && ch[MULTICAST];\n};\nvar effect = function effect(eff) {\n  return eff && eff[IO];\n};\n\nexport { array, buffer, channel, effect, func, iterable, iterator, multicast, notUndef, number, object, observable, pattern, promise, sagaAction, string, stringableFunc, symbol, task, undef };\n","import { CANCEL } from '@redux-saga/symbols';\n\nvar MAX_SIGNED_INT = 2147483647;\nfunction delayP(ms, val) {\n  if (val === void 0) {\n    val = true;\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#maximum_delay_value\n  if (process.env.NODE_ENV !== 'production' && ms > MAX_SIGNED_INT) {\n    throw new Error('delay only supports a maximum value of ' + MAX_SIGNED_INT + 'ms');\n  }\n\n  var timeoutId;\n  var promise = new Promise(function (resolve) {\n    timeoutId = setTimeout(resolve, Math.min(MAX_SIGNED_INT, ms), val);\n  });\n\n  promise[CANCEL] = function () {\n    clearTimeout(timeoutId);\n  };\n\n  return promise;\n}\n\nexport default delayP;\n","import { TASK_CANCEL, TERMINATE, SAGA_LOCATION, SAGA_ACTION, IO, SELF_CANCELLATION } from '@redux-saga/symbols';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { array, notUndef, pattern, multicast, channel, undef, effect, task, func, buffer, string, object } from '@redux-saga/is';\nimport delayP from '@redux-saga/delay-p';\n\nvar konst = function konst(v) {\n  return function () {\n    return v;\n  };\n};\nvar kTrue =\n/*#__PURE__*/\nkonst(true);\n\nvar noop = function noop() {};\n\nif (process.env.NODE_ENV !== 'production' && typeof Proxy !== 'undefined') {\n  noop =\n  /*#__PURE__*/\n  new Proxy(noop, {\n    set: function set() {\n      throw internalErr('There was an attempt to assign a property to internal `noop` function.');\n    }\n  });\n}\nvar identity = function identity(v) {\n  return v;\n};\nvar hasSymbol = typeof Symbol === 'function';\nvar asyncIteratorSymbol = hasSymbol && Symbol.asyncIterator ? Symbol.asyncIterator : '@@asyncIterator';\nfunction check(value, predicate, error) {\n  if (!predicate(value)) {\n    throw new Error(error);\n  }\n}\nvar assignWithSymbols = function assignWithSymbols(target, source) {\n  _extends(target, source);\n\n  if (Object.getOwnPropertySymbols) {\n    Object.getOwnPropertySymbols(source).forEach(function (s) {\n      target[s] = source[s];\n    });\n  }\n};\nvar flatMap = function flatMap(mapper, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(mapper));\n};\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\nfunction once(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    fn();\n  };\n}\n\nvar kThrow = function kThrow(err) {\n  throw err;\n};\n\nvar kReturn = function kReturn(value) {\n  return {\n    value: value,\n    done: true\n  };\n};\n\nfunction makeIterator(next, thro, name) {\n  if (thro === void 0) {\n    thro = kThrow;\n  }\n\n  if (name === void 0) {\n    name = 'iterator';\n  }\n\n  var iterator = {\n    meta: {\n      name: name\n    },\n    next: next,\n    throw: thro,\n    return: kReturn,\n    isSagaIterator: true\n  };\n\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = function () {\n      return iterator;\n    };\n  }\n\n  return iterator;\n}\nfunction logError(error, _ref2) {\n  var sagaStack = _ref2.sagaStack;\n\n  /*eslint-disable no-console*/\n  console.error(error);\n  console.error(sagaStack);\n}\nvar internalErr = function internalErr(err) {\n  return new Error(\"\\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\\n  Error: \" + err + \"\\n\");\n};\nvar createSetContextWarning = function createSetContextWarning(ctx, props) {\n  return (ctx ? ctx + '.' : '') + \"setContext(props): argument \" + props + \" is not a plain object\";\n};\nvar FROZEN_ACTION_ERROR = \"You can't put (a.k.a. dispatch from saga) frozen actions.\\nWe have to define a special non-enumerable property on those actions for scheduling purposes.\\nOtherwise you wouldn't be able to communicate properly between sagas & other subscribers (action ordering would become far less predictable).\\nIf you are using redux and you care about this behaviour (frozen actions),\\nthen you might want to switch to freezing actions in a middleware rather than in action creator.\\nExample implementation:\\n\\nconst freezeActions = store => next => action => next(Object.freeze(action))\\n\"; // creates empty, but not-holey array\n\nvar createEmptyArray = function createEmptyArray(n) {\n  return Array.apply(null, new Array(n));\n};\nvar wrapSagaDispatch = function wrapSagaDispatch(dispatch) {\n  return function (action) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(action, function (ac) {\n        return !Object.isFrozen(ac);\n      }, FROZEN_ACTION_ERROR);\n    }\n\n    return dispatch(Object.defineProperty(action, SAGA_ACTION, {\n      value: true\n    }));\n  };\n};\nvar shouldTerminate = function shouldTerminate(res) {\n  return res === TERMINATE;\n};\nvar shouldCancel = function shouldCancel(res) {\n  return res === TASK_CANCEL;\n};\nvar shouldComplete = function shouldComplete(res) {\n  return shouldTerminate(res) || shouldCancel(res);\n};\nfunction createAllStyleChildCallbacks(shape, parentCallback) {\n  var keys = Object.keys(shape);\n  var totalCount = keys.length;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(totalCount, function (c) {\n      return c > 0;\n    }, 'createAllStyleChildCallbacks: get an empty array or object');\n  }\n\n  var completedCount = 0;\n  var completed;\n  var results = array(shape) ? createEmptyArray(totalCount) : {};\n  var childCallbacks = {};\n\n  function checkEnd() {\n    if (completedCount === totalCount) {\n      completed = true;\n      parentCallback(results);\n    }\n  }\n\n  keys.forEach(function (key) {\n    var chCbAtKey = function chCbAtKey(res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      if (isErr || shouldComplete(res)) {\n        parentCallback.cancel();\n        parentCallback(res, isErr);\n      } else {\n        results[key] = res;\n        completedCount++;\n        checkEnd();\n      }\n    };\n\n    chCbAtKey.cancel = noop;\n    childCallbacks[key] = chCbAtKey;\n  });\n\n  parentCallback.cancel = function () {\n    if (!completed) {\n      completed = true;\n      keys.forEach(function (key) {\n        return childCallbacks[key].cancel();\n      });\n    }\n  };\n\n  return childCallbacks;\n}\nfunction getMetaInfo(fn) {\n  return {\n    name: fn.name || 'anonymous',\n    location: getLocation(fn)\n  };\n}\nfunction getLocation(instrumented) {\n  return instrumented[SAGA_LOCATION];\n}\n\nvar BUFFER_OVERFLOW = \"Channel's Buffer overflow!\";\nvar ON_OVERFLOW_THROW = 1;\nvar ON_OVERFLOW_DROP = 2;\nvar ON_OVERFLOW_SLIDE = 3;\nvar ON_OVERFLOW_EXPAND = 4;\nvar zeroBuffer = {\n  isEmpty: kTrue,\n  put: noop,\n  take: noop\n};\n\nfunction ringBuffer(limit, overflowAction) {\n  if (limit === void 0) {\n    limit = 10;\n  }\n\n  var arr = new Array(limit);\n  var length = 0;\n  var pushIndex = 0;\n  var popIndex = 0;\n\n  var push = function push(it) {\n    arr[pushIndex] = it;\n    pushIndex = (pushIndex + 1) % limit;\n    length++;\n  };\n\n  var take = function take() {\n    if (length != 0) {\n      var it = arr[popIndex];\n      arr[popIndex] = null;\n      length--;\n      popIndex = (popIndex + 1) % limit;\n      return it;\n    }\n  };\n\n  var flush = function flush() {\n    var items = [];\n\n    while (length) {\n      items.push(take());\n    }\n\n    return items;\n  };\n\n  return {\n    isEmpty: function isEmpty() {\n      return length == 0;\n    },\n    put: function put(it) {\n      if (length < limit) {\n        push(it);\n      } else {\n        var doubledLimit;\n\n        switch (overflowAction) {\n          case ON_OVERFLOW_THROW:\n            throw new Error(BUFFER_OVERFLOW);\n\n          case ON_OVERFLOW_SLIDE:\n            arr[pushIndex] = it;\n            pushIndex = (pushIndex + 1) % limit;\n            popIndex = pushIndex;\n            break;\n\n          case ON_OVERFLOW_EXPAND:\n            doubledLimit = 2 * limit;\n            arr = flush();\n            length = arr.length;\n            pushIndex = arr.length;\n            popIndex = 0;\n            arr.length = doubledLimit;\n            limit = doubledLimit;\n            push(it);\n            break;\n\n          default: // DROP\n\n        }\n      }\n    },\n    take: take,\n    flush: flush\n  };\n}\n\nvar none = function none() {\n  return zeroBuffer;\n};\nvar fixed = function fixed(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_THROW);\n};\nvar dropping = function dropping(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_DROP);\n};\nvar sliding = function sliding(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_SLIDE);\n};\nvar expanding = function expanding(initialSize) {\n  return ringBuffer(initialSize, ON_OVERFLOW_EXPAND);\n};\n\nvar buffers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  none: none,\n  fixed: fixed,\n  dropping: dropping,\n  sliding: sliding,\n  expanding: expanding\n});\n\nvar TAKE = 'TAKE';\nvar PUT = 'PUT';\nvar ALL = 'ALL';\nvar RACE = 'RACE';\nvar CALL = 'CALL';\nvar CPS = 'CPS';\nvar FORK = 'FORK';\nvar JOIN = 'JOIN';\nvar CANCEL = 'CANCEL';\nvar SELECT = 'SELECT';\nvar ACTION_CHANNEL = 'ACTION_CHANNEL';\nvar CANCELLED = 'CANCELLED';\nvar FLUSH = 'FLUSH';\nvar GET_CONTEXT = 'GET_CONTEXT';\nvar SET_CONTEXT = 'SET_CONTEXT';\n\nvar effectTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  TAKE: TAKE,\n  PUT: PUT,\n  ALL: ALL,\n  RACE: RACE,\n  CALL: CALL,\n  CPS: CPS,\n  FORK: FORK,\n  JOIN: JOIN,\n  CANCEL: CANCEL,\n  SELECT: SELECT,\n  ACTION_CHANNEL: ACTION_CHANNEL,\n  CANCELLED: CANCELLED,\n  FLUSH: FLUSH,\n  GET_CONTEXT: GET_CONTEXT,\n  SET_CONTEXT: SET_CONTEXT\n});\n\nvar TEST_HINT = '\\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)';\n\nvar makeEffect = function makeEffect(type, payload) {\n  var _ref;\n\n  return _ref = {}, _ref[IO] = true, _ref.combinator = false, _ref.type = type, _ref.payload = payload, _ref;\n};\n\nvar isForkEffect = function isForkEffect(eff) {\n  return effect(eff) && eff.type === FORK;\n};\n\nvar detach = function detach(eff) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(eff, isForkEffect, 'detach(eff): argument must be a fork effect');\n  }\n\n  return makeEffect(FORK, _extends({}, eff.payload, {\n    detached: true\n  }));\n};\nfunction take(patternOrChannel, multicastPattern) {\n  if (patternOrChannel === void 0) {\n    patternOrChannel = '*';\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'take(patternOrChannel): patternOrChannel is undefined');\n  }\n\n  if (pattern(patternOrChannel)) {\n    if (notUndef(multicastPattern)) {\n      /* eslint-disable no-console */\n      console.warn(\"take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types\");\n    }\n\n    return makeEffect(TAKE, {\n      pattern: patternOrChannel\n    });\n  }\n\n  if (multicast(patternOrChannel) && notUndef(multicastPattern) && pattern(multicastPattern)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel,\n      pattern: multicastPattern\n    });\n  }\n\n  if (channel(patternOrChannel)) {\n    if (notUndef(multicastPattern)) {\n      /* eslint-disable no-console */\n      console.warn(\"take(channel) takes one argument but two were provided. Second argument is ignored.\");\n    }\n\n    return makeEffect(TAKE, {\n      channel: patternOrChannel\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(\"take(patternOrChannel): argument \" + patternOrChannel + \" is not valid channel or a valid pattern\");\n  }\n}\nvar takeMaybe = function takeMaybe() {\n  var eff = take.apply(void 0, arguments);\n  eff.payload.maybe = true;\n  return eff;\n};\nfunction put(channel$1, action) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      check(channel$1, notUndef, 'put(channel, action): argument channel is undefined');\n      check(channel$1, channel, \"put(channel, action): argument \" + channel$1 + \" is not a valid channel\");\n      check(action, notUndef, 'put(channel, action): argument action is undefined');\n    } else {\n      check(channel$1, notUndef, 'put(action): argument action is undefined');\n    }\n  }\n\n  if (undef(action)) {\n    action = channel$1; // `undefined` instead of `null` to make default parameter work\n\n    channel$1 = undefined;\n  }\n\n  return makeEffect(PUT, {\n    channel: channel$1,\n    action: action\n  });\n}\nvar putResolve = function putResolve() {\n  var eff = put.apply(void 0, arguments);\n  eff.payload.resolve = true;\n  return eff;\n};\nfunction all(effects) {\n  var eff = makeEffect(ALL, effects);\n  eff.combinator = true;\n  return eff;\n}\nfunction race(effects) {\n  var eff = makeEffect(RACE, effects);\n  eff.combinator = true;\n  return eff;\n} // this match getFnCallDescriptor logic\n\nvar validateFnDescriptor = function validateFnDescriptor(effectName, fnDescriptor) {\n  check(fnDescriptor, notUndef, effectName + \": argument fn is undefined or null\");\n\n  if (func(fnDescriptor)) {\n    return;\n  }\n\n  var context = null;\n  var fn;\n\n  if (array(fnDescriptor)) {\n    context = fnDescriptor[0];\n    fn = fnDescriptor[1];\n    check(fn, notUndef, effectName + \": argument of type [context, fn] has undefined or null `fn`\");\n  } else if (object(fnDescriptor)) {\n    context = fnDescriptor.context;\n    fn = fnDescriptor.fn;\n    check(fn, notUndef, effectName + \": argument of type {context, fn} has undefined or null `fn`\");\n  } else {\n    check(fnDescriptor, func, effectName + \": argument fn is not function\");\n    return;\n  }\n\n  if (context && string(fn)) {\n    check(context[fn], func, effectName + \": context arguments has no such method - \\\"\" + fn + \"\\\"\");\n    return;\n  }\n\n  check(fn, func, effectName + \": unpacked fn argument (from [context, fn] or {context, fn}) is not a function\");\n};\n\nfunction getFnCallDescriptor(fnDescriptor, args) {\n  var context = null;\n  var fn;\n\n  if (func(fnDescriptor)) {\n    fn = fnDescriptor;\n  } else {\n    if (array(fnDescriptor)) {\n      context = fnDescriptor[0];\n      fn = fnDescriptor[1];\n    } else {\n      context = fnDescriptor.context;\n      fn = fnDescriptor.fn;\n    }\n\n    if (context && string(fn) && func(context[fn])) {\n      fn = context[fn];\n    }\n  }\n\n  return {\n    context: context,\n    fn: fn,\n    args: args\n  };\n}\n\nvar isNotDelayEffect = function isNotDelayEffect(fn) {\n  return fn !== delay;\n};\n\nfunction call(fnDescriptor) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var arg0 = typeof args[0] === 'number' ? args[0] : 'ms';\n    check(fnDescriptor, isNotDelayEffect, \"instead of writing `yield call(delay, \" + arg0 + \")` where delay is an effect from `redux-saga/effects` you should write `yield delay(\" + arg0 + \")`\");\n    validateFnDescriptor('call', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction apply(context, fn, args) {\n  if (args === void 0) {\n    args = [];\n  }\n\n  var fnDescriptor = [context, fn];\n\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('apply', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor([context, fn], args));\n}\nfunction cps(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('cps', fnDescriptor);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return makeEffect(CPS, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction fork(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('fork', fnDescriptor);\n    check(fnDescriptor, function (arg) {\n      return !effect(arg);\n    }, 'fork: argument must not be an effect');\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return makeEffect(FORK, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction spawn(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('spawn', fnDescriptor);\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return detach(fork.apply(void 0, [fnDescriptor].concat(args)));\n}\nfunction join(taskOrTasks) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('join(...tasks) is not supported any more. Please use join([...tasks]) to join multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"join([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else {\n      check(taskOrTasks, task, \"join(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(JOIN, taskOrTasks);\n}\nfunction cancel(taskOrTasks) {\n  if (taskOrTasks === void 0) {\n    taskOrTasks = SELF_CANCELLATION;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"cancel([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else if (taskOrTasks !== SELF_CANCELLATION && notUndef(taskOrTasks)) {\n      check(taskOrTasks, task, \"cancel(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(CANCEL, taskOrTasks);\n}\nfunction select(selector) {\n  if (selector === void 0) {\n    selector = identity;\n  }\n\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'select(selector, [...]): argument selector is undefined');\n    check(selector, func, \"select(selector, [...]): argument \" + selector + \" is not a function\");\n  }\n\n  return makeEffect(SELECT, {\n    selector: selector,\n    args: args\n  });\n}\n/**\n  channel(pattern, [buffer])    => creates a proxy channel for store actions\n**/\n\nfunction actionChannel(pattern$1, buffer$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern$1, pattern, 'actionChannel(pattern,...): argument pattern is not valid');\n\n    if (arguments.length > 1) {\n      check(buffer$1, notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined');\n      check(buffer$1, buffer, \"actionChannel(pattern, buffer): argument \" + buffer$1 + \" is not a valid buffer\");\n    }\n  }\n\n  return makeEffect(ACTION_CHANNEL, {\n    pattern: pattern$1,\n    buffer: buffer$1\n  });\n}\nfunction cancelled() {\n  return makeEffect(CANCELLED, {});\n}\nfunction flush(channel$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel$1, channel, \"flush(channel): argument \" + channel$1 + \" is not valid channel\");\n  }\n\n  return makeEffect(FLUSH, channel$1);\n}\nfunction getContext(prop) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(prop, string, \"getContext(prop): argument \" + prop + \" is not a string\");\n  }\n\n  return makeEffect(GET_CONTEXT, prop);\n}\nfunction setContext(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(props, object, createSetContextWarning(null, props));\n  }\n\n  return makeEffect(SET_CONTEXT, props);\n}\nvar delay =\n/*#__PURE__*/\ncall.bind(null, delayP);\n\nexport { apply as $, ALL as A, logError as B, CALL as C, wrapSagaDispatch as D, identity as E, FORK as F, GET_CONTEXT as G, buffers as H, detach as I, JOIN as J, take as K, fork as L, cancel as M, call as N, delay as O, PUT as P, actionChannel as Q, RACE as R, SELECT as S, TAKE as T, sliding as U, race as V, effectTypes as W, takeMaybe as X, put as Y, putResolve as Z, all as _, CPS as a, cps as a0, spawn as a1, join as a2, select as a3, cancelled as a4, flush as a5, getContext as a6, setContext as a7, CANCEL as b, check as c, ACTION_CHANNEL as d, expanding as e, CANCELLED as f, FLUSH as g, SET_CONTEXT as h, internalErr as i, getMetaInfo as j, kTrue as k, createAllStyleChildCallbacks as l, createEmptyArray as m, none as n, once as o, assignWithSymbols as p, makeIterator as q, remove as r, shouldComplete as s, noop as t, flatMap as u, getLocation as v, createSetContextWarning as w, asyncIteratorSymbol as x, shouldCancel as y, shouldTerminate as z };\n","function deferred() {\n  var def = {};\n  def.promise = new Promise(function (resolve, reject) {\n    def.resolve = resolve;\n    def.reject = reject;\n  });\n  return def;\n}\nfunction arrayOfDeferred(length) {\n  var arr = [];\n\n  for (var i = 0; i < length; i++) {\n    arr.push(deferred());\n  }\n\n  return arr;\n}\n\nexport default deferred;\nexport { arrayOfDeferred };\n","import { CHANNEL_END_TYPE, MULTICAST, MATCH, SAGA_ACTION, CANCEL, SELF_CANCELLATION, TERMINATE, TASK, TASK_CANCEL, IO } from '@redux-saga/symbols';\nexport { CANCEL, SAGA_LOCATION } from '@redux-saga/symbols';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { string as string$1, array as array$1, stringableFunc, func, symbol as symbol$1, buffer, notUndef, promise, iterator, undef, object, channel as channel$1 } from '@redux-saga/is';\nimport { k as kTrue, e as expanding, c as check, o as once, r as remove, n as none, i as internalErr, T as TAKE, P as PUT, A as ALL, R as RACE, C as CALL, a as CPS, F as FORK, J as JOIN, b as CANCEL$1, S as SELECT, d as ACTION_CHANNEL, f as CANCELLED$1, g as FLUSH, G as GET_CONTEXT, h as SET_CONTEXT, j as getMetaInfo, l as createAllStyleChildCallbacks, m as createEmptyArray, p as assignWithSymbols, q as makeIterator, s as shouldComplete, t as noop, u as flatMap, v as getLocation, w as createSetContextWarning, x as asyncIteratorSymbol, y as shouldCancel, z as shouldTerminate, B as logError, D as wrapSagaDispatch, E as identity } from './io-c3792963.js';\nexport { H as buffers, I as detach } from './io-c3792963.js';\nimport { compose } from 'redux';\nimport deferred from '@redux-saga/deferred';\nimport '@redux-saga/delay-p';\n\nvar queue = [];\n/**\n  Variable to hold a counting semaphore\n  - Incrementing adds a lock and puts the scheduler in a `suspended` state (if it's not\n    already suspended)\n  - Decrementing releases a lock. Zero locks puts the scheduler in a `released` state. This\n    triggers flushing the queued tasks.\n**/\n\nvar semaphore = 0;\n/**\n  Executes a task 'atomically'. Tasks scheduled during this execution will be queued\n  and flushed after this task has finished (assuming the scheduler endup in a released\n  state).\n**/\n\nfunction exec(task) {\n  try {\n    suspend();\n    task();\n  } finally {\n    release();\n  }\n}\n/**\n  Executes or queues a task depending on the state of the scheduler (`suspended` or `released`)\n**/\n\n\nfunction asap(task) {\n  queue.push(task);\n\n  if (!semaphore) {\n    suspend();\n    flush();\n  }\n}\n/**\n * Puts the scheduler in a `suspended` state and executes a task immediately.\n */\n\nfunction immediately(task) {\n  try {\n    suspend();\n    return task();\n  } finally {\n    flush();\n  }\n}\n/**\n  Puts the scheduler in a `suspended` state. Scheduled tasks will be queued until the\n  scheduler is released.\n**/\n\nfunction suspend() {\n  semaphore++;\n}\n/**\n  Puts the scheduler in a `released` state.\n**/\n\n\nfunction release() {\n  semaphore--;\n}\n/**\n  Releases the current lock. Executes all queued tasks if the scheduler is in the released state.\n**/\n\n\nfunction flush() {\n  release();\n  var task;\n\n  while (!semaphore && (task = queue.shift()) !== undefined) {\n    exec(task);\n  }\n}\n\nvar array = function array(patterns) {\n  return function (input) {\n    return patterns.some(function (p) {\n      return matcher(p)(input);\n    });\n  };\n};\nvar predicate = function predicate(_predicate) {\n  return function (input) {\n    return _predicate(input);\n  };\n};\nvar string = function string(pattern) {\n  return function (input) {\n    return input.type === String(pattern);\n  };\n};\nvar symbol = function symbol(pattern) {\n  return function (input) {\n    return input.type === pattern;\n  };\n};\nvar wildcard = function wildcard() {\n  return kTrue;\n};\nfunction matcher(pattern) {\n  // prettier-ignore\n  var matcherCreator = pattern === '*' ? wildcard : string$1(pattern) ? string : array$1(pattern) ? array : stringableFunc(pattern) ? string : func(pattern) ? predicate : symbol$1(pattern) ? symbol : null;\n\n  if (matcherCreator === null) {\n    throw new Error(\"invalid pattern: \" + pattern);\n  }\n\n  return matcherCreator(pattern);\n}\n\nvar END = {\n  type: CHANNEL_END_TYPE\n};\nvar isEnd = function isEnd(a) {\n  return a && a.type === CHANNEL_END_TYPE;\n};\nvar CLOSED_CHANNEL_WITH_TAKERS = 'Cannot have a closed channel with pending takers';\nvar INVALID_BUFFER = 'invalid buffer passed to channel factory function';\nvar UNDEFINED_INPUT_ERROR = \"Saga or channel was provided with an undefined action\\nHints:\\n  - check that your Action Creator returns a non-undefined value\\n  - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners\";\nfunction channel(buffer$1) {\n  if (buffer$1 === void 0) {\n    buffer$1 = expanding();\n  }\n\n  var closed = false;\n  var takers = [];\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(buffer$1, buffer, INVALID_BUFFER);\n  }\n\n  function checkForbiddenStates() {\n    if (closed && takers.length) {\n      throw internalErr(CLOSED_CHANNEL_WITH_TAKERS);\n    }\n\n    if (takers.length && !buffer$1.isEmpty()) {\n      throw internalErr('Cannot have pending takers with non empty buffer');\n    }\n  }\n\n  function put(input) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(input, notUndef, UNDEFINED_INPUT_ERROR);\n    }\n\n    if (closed) {\n      return;\n    }\n\n    if (takers.length === 0) {\n      return buffer$1.put(input);\n    }\n\n    var cb = takers.shift();\n    cb(input);\n  }\n\n  function take(cb) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(cb, func, \"channel.take's callback must be a function\");\n    }\n\n    if (closed && buffer$1.isEmpty()) {\n      cb(END);\n    } else if (!buffer$1.isEmpty()) {\n      cb(buffer$1.take());\n    } else {\n      takers.push(cb);\n\n      cb.cancel = function () {\n        remove(takers, cb);\n      };\n    }\n  }\n\n  function flush(cb) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(cb, func, \"channel.flush' callback must be a function\");\n    }\n\n    if (closed && buffer$1.isEmpty()) {\n      cb(END);\n      return;\n    }\n\n    cb(buffer$1.flush());\n  }\n\n  function close() {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n    }\n\n    if (closed) {\n      return;\n    }\n\n    closed = true;\n    var arr = takers;\n    takers = [];\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      var taker = arr[i];\n      taker(END);\n    }\n  }\n\n  return {\n    take: take,\n    put: put,\n    flush: flush,\n    close: close\n  };\n}\nfunction eventChannel(subscribe, buffer) {\n  if (buffer === void 0) {\n    buffer = none();\n  }\n\n  var closed = false;\n  var unsubscribe;\n  var chan = channel(buffer);\n\n  var close = function close() {\n    if (closed) {\n      return;\n    }\n\n    closed = true;\n\n    if (func(unsubscribe)) {\n      unsubscribe();\n    }\n\n    chan.close();\n  };\n\n  unsubscribe = subscribe(function (input) {\n    if (isEnd(input)) {\n      close();\n      return;\n    }\n\n    chan.put(input);\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(unsubscribe, func, 'in eventChannel: subscribe should return a function to unsubscribe');\n  }\n\n  unsubscribe = once(unsubscribe);\n\n  if (closed) {\n    unsubscribe();\n  }\n\n  return {\n    take: chan.take,\n    flush: chan.flush,\n    close: close\n  };\n}\nfunction multicastChannel() {\n  var _ref;\n\n  var closed = false;\n  var currentTakers = [];\n  var nextTakers = currentTakers;\n\n  function checkForbiddenStates() {\n    if (closed && nextTakers.length) {\n      throw internalErr(CLOSED_CHANNEL_WITH_TAKERS);\n    }\n  }\n\n  var ensureCanMutateNextTakers = function ensureCanMutateNextTakers() {\n    if (nextTakers !== currentTakers) {\n      return;\n    }\n\n    nextTakers = currentTakers.slice();\n  };\n\n  var close = function close() {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n    }\n\n    closed = true;\n    var takers = currentTakers = nextTakers;\n    nextTakers = [];\n    takers.forEach(function (taker) {\n      taker(END);\n    });\n  };\n\n  return _ref = {}, _ref[MULTICAST] = true, _ref.put = function put(input) {\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n      check(input, notUndef, UNDEFINED_INPUT_ERROR);\n    }\n\n    if (closed) {\n      return;\n    }\n\n    if (isEnd(input)) {\n      close();\n      return;\n    }\n\n    var takers = currentTakers = nextTakers;\n\n    for (var i = 0, len = takers.length; i < len; i++) {\n      var taker = takers[i];\n\n      if (taker[MATCH](input)) {\n        taker.cancel();\n        taker(input);\n      }\n    }\n  }, _ref.take = function take(cb, matcher) {\n    if (matcher === void 0) {\n      matcher = wildcard;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkForbiddenStates();\n    }\n\n    if (closed) {\n      cb(END);\n      return;\n    }\n\n    cb[MATCH] = matcher;\n    ensureCanMutateNextTakers();\n    nextTakers.push(cb);\n    cb.cancel = once(function () {\n      ensureCanMutateNextTakers();\n      remove(nextTakers, cb);\n    });\n  }, _ref.close = close, _ref;\n}\nfunction stdChannel() {\n  var chan = multicastChannel();\n  var put = chan.put;\n\n  chan.put = function (input) {\n    if (input[SAGA_ACTION]) {\n      put(input);\n      return;\n    }\n\n    asap(function () {\n      put(input);\n    });\n  };\n\n  return chan;\n}\n\nvar RUNNING = 0;\nvar CANCELLED = 1;\nvar ABORTED = 2;\nvar DONE = 3;\n\nfunction resolvePromise(promise, cb) {\n  var cancelPromise = promise[CANCEL];\n\n  if (func(cancelPromise)) {\n    cb.cancel = cancelPromise;\n  }\n\n  promise.then(cb, function (error) {\n    cb(error, true);\n  });\n}\n\nvar current = 0;\nvar nextSagaId = (function () {\n  return ++current;\n});\n\nvar _effectRunnerMap;\n\nfunction getIteratorMetaInfo(iterator, fn) {\n  if (iterator.isSagaIterator) {\n    return {\n      name: iterator.meta.name\n    };\n  }\n\n  return getMetaInfo(fn);\n}\n\nfunction createTaskIterator(_ref) {\n  var context = _ref.context,\n      fn = _ref.fn,\n      args = _ref.args;\n\n  // catch synchronous failures; see #152 and #441\n  try {\n    var result = fn.apply(context, args); // i.e. a generator function returns an iterator\n\n    if (iterator(result)) {\n      return result;\n    }\n\n    var resolved = false;\n\n    var next = function next(arg) {\n      if (!resolved) {\n        resolved = true; // Only promises returned from fork will be interpreted. See #1573\n\n        return {\n          value: result,\n          done: !promise(result)\n        };\n      } else {\n        return {\n          value: arg,\n          done: true\n        };\n      }\n    };\n\n    return makeIterator(next);\n  } catch (err) {\n    // do not bubble up synchronous failures for detached forks\n    // instead create a failed task. See #152 and #441\n    return makeIterator(function () {\n      throw err;\n    });\n  }\n}\n\nfunction runPutEffect(env, _ref2, cb) {\n  var channel = _ref2.channel,\n      action = _ref2.action,\n      resolve = _ref2.resolve;\n\n  /**\n   Schedule the put in case another saga is holding a lock.\n   The put will be executed atomically. ie nested puts will execute after\n   this put has terminated.\n   **/\n  asap(function () {\n    var result;\n\n    try {\n      result = (channel ? channel.put : env.dispatch)(action);\n    } catch (error) {\n      cb(error, true);\n      return;\n    }\n\n    if (resolve && promise(result)) {\n      resolvePromise(result, cb);\n    } else {\n      cb(result);\n    }\n  }); // Put effects are non cancellables\n}\n\nfunction runTakeEffect(env, _ref3, cb) {\n  var _ref3$channel = _ref3.channel,\n      channel = _ref3$channel === void 0 ? env.channel : _ref3$channel,\n      pattern = _ref3.pattern,\n      maybe = _ref3.maybe;\n\n  var takeCb = function takeCb(input) {\n    if (input instanceof Error) {\n      cb(input, true);\n      return;\n    }\n\n    if (isEnd(input) && !maybe) {\n      cb(TERMINATE);\n      return;\n    }\n\n    cb(input);\n  };\n\n  try {\n    channel.take(takeCb, notUndef(pattern) ? matcher(pattern) : null);\n  } catch (err) {\n    cb(err, true);\n    return;\n  }\n\n  cb.cancel = takeCb.cancel;\n}\n\nfunction runCallEffect(env, _ref4, cb, _ref5) {\n  var context = _ref4.context,\n      fn = _ref4.fn,\n      args = _ref4.args;\n  var task = _ref5.task;\n\n  // catch synchronous failures; see #152\n  try {\n    var result = fn.apply(context, args);\n\n    if (promise(result)) {\n      resolvePromise(result, cb);\n      return;\n    }\n\n    if (iterator(result)) {\n      // resolve iterator\n      proc(env, result, task.context, current, getMetaInfo(fn),\n      /* isRoot */\n      false, cb);\n      return;\n    }\n\n    cb(result);\n  } catch (error) {\n    cb(error, true);\n  }\n}\n\nfunction runCPSEffect(env, _ref6, cb) {\n  var context = _ref6.context,\n      fn = _ref6.fn,\n      args = _ref6.args;\n\n  // CPS (ie node style functions) can define their own cancellation logic\n  // by setting cancel field on the cb\n  // catch synchronous failures; see #152\n  try {\n    var cpsCb = function cpsCb(err, res) {\n      if (undef(err)) {\n        cb(res);\n      } else {\n        cb(err, true);\n      }\n    };\n\n    fn.apply(context, args.concat(cpsCb));\n\n    if (cpsCb.cancel) {\n      cb.cancel = cpsCb.cancel;\n    }\n  } catch (error) {\n    cb(error, true);\n  }\n}\n\nfunction runForkEffect(env, _ref7, cb, _ref8) {\n  var context = _ref7.context,\n      fn = _ref7.fn,\n      args = _ref7.args,\n      detached = _ref7.detached;\n  var parent = _ref8.task;\n  var taskIterator = createTaskIterator({\n    context: context,\n    fn: fn,\n    args: args\n  });\n  var meta = getIteratorMetaInfo(taskIterator, fn);\n  immediately(function () {\n    var child = proc(env, taskIterator, parent.context, current, meta, detached, undefined);\n\n    if (detached) {\n      cb(child);\n    } else {\n      if (child.isRunning()) {\n        parent.queue.addTask(child);\n        cb(child);\n      } else if (child.isAborted()) {\n        parent.queue.abort(child.error());\n      } else {\n        cb(child);\n      }\n    }\n  }); // Fork effects are non cancellables\n}\n\nfunction runJoinEffect(env, taskOrTasks, cb, _ref9) {\n  var task = _ref9.task;\n\n  var joinSingleTask = function joinSingleTask(taskToJoin, cb) {\n    if (taskToJoin.isRunning()) {\n      var joiner = {\n        task: task,\n        cb: cb\n      };\n\n      cb.cancel = function () {\n        if (taskToJoin.isRunning()) remove(taskToJoin.joiners, joiner);\n      };\n\n      taskToJoin.joiners.push(joiner);\n    } else {\n      if (taskToJoin.isAborted()) {\n        cb(taskToJoin.error(), true);\n      } else {\n        cb(taskToJoin.result());\n      }\n    }\n  };\n\n  if (array$1(taskOrTasks)) {\n    if (taskOrTasks.length === 0) {\n      cb([]);\n      return;\n    }\n\n    var childCallbacks = createAllStyleChildCallbacks(taskOrTasks, cb);\n    taskOrTasks.forEach(function (t, i) {\n      joinSingleTask(t, childCallbacks[i]);\n    });\n  } else {\n    joinSingleTask(taskOrTasks, cb);\n  }\n}\n\nfunction cancelSingleTask(taskToCancel) {\n  if (taskToCancel.isRunning()) {\n    taskToCancel.cancel();\n  }\n}\n\nfunction runCancelEffect(env, taskOrTasks, cb, _ref10) {\n  var task = _ref10.task;\n\n  if (taskOrTasks === SELF_CANCELLATION) {\n    cancelSingleTask(task);\n  } else if (array$1(taskOrTasks)) {\n    taskOrTasks.forEach(cancelSingleTask);\n  } else {\n    cancelSingleTask(taskOrTasks);\n  }\n\n  cb(); // cancel effects are non cancellables\n}\n\nfunction runAllEffect(env, effects, cb, _ref11) {\n  var digestEffect = _ref11.digestEffect;\n  var effectId = current;\n  var keys = Object.keys(effects);\n\n  if (keys.length === 0) {\n    cb(array$1(effects) ? [] : {});\n    return;\n  }\n\n  var childCallbacks = createAllStyleChildCallbacks(effects, cb);\n  keys.forEach(function (key) {\n    digestEffect(effects[key], effectId, childCallbacks[key], key);\n  });\n}\n\nfunction runRaceEffect(env, effects, cb, _ref12) {\n  var digestEffect = _ref12.digestEffect;\n  var effectId = current;\n  var keys = Object.keys(effects);\n  var response = array$1(effects) ? createEmptyArray(keys.length) : {};\n  var childCbs = {};\n  var completed = false;\n  keys.forEach(function (key) {\n    var chCbAtKey = function chCbAtKey(res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      if (isErr || shouldComplete(res)) {\n        // Race Auto cancellation\n        cb.cancel();\n        cb(res, isErr);\n      } else {\n        cb.cancel();\n        completed = true;\n        response[key] = res;\n        cb(response);\n      }\n    };\n\n    chCbAtKey.cancel = noop;\n    childCbs[key] = chCbAtKey;\n  });\n\n  cb.cancel = function () {\n    // prevents unnecessary cancellation\n    if (!completed) {\n      completed = true;\n      keys.forEach(function (key) {\n        return childCbs[key].cancel();\n      });\n    }\n  };\n\n  keys.forEach(function (key) {\n    if (completed) {\n      return;\n    }\n\n    digestEffect(effects[key], effectId, childCbs[key], key);\n  });\n}\n\nfunction runSelectEffect(env, _ref13, cb) {\n  var selector = _ref13.selector,\n      args = _ref13.args;\n\n  try {\n    var state = selector.apply(void 0, [env.getState()].concat(args));\n    cb(state);\n  } catch (error) {\n    cb(error, true);\n  }\n}\n\nfunction runChannelEffect(env, _ref14, cb) {\n  var pattern = _ref14.pattern,\n      buffer = _ref14.buffer;\n  var chan = channel(buffer);\n  var match = matcher(pattern);\n\n  var taker = function taker(action) {\n    if (!isEnd(action)) {\n      env.channel.take(taker, match);\n    }\n\n    chan.put(action);\n  };\n\n  var close = chan.close;\n\n  chan.close = function () {\n    taker.cancel();\n    close();\n  };\n\n  env.channel.take(taker, match);\n  cb(chan);\n}\n\nfunction runCancelledEffect(env, data, cb, _ref15) {\n  var task = _ref15.task;\n  cb(task.isCancelled());\n}\n\nfunction runFlushEffect(env, channel, cb) {\n  channel.flush(cb);\n}\n\nfunction runGetContextEffect(env, prop, cb, _ref16) {\n  var task = _ref16.task;\n  cb(task.context[prop]);\n}\n\nfunction runSetContextEffect(env, props, cb, _ref17) {\n  var task = _ref17.task;\n  assignWithSymbols(task.context, props);\n  cb();\n}\n\nvar effectRunnerMap = (_effectRunnerMap = {}, _effectRunnerMap[TAKE] = runTakeEffect, _effectRunnerMap[PUT] = runPutEffect, _effectRunnerMap[ALL] = runAllEffect, _effectRunnerMap[RACE] = runRaceEffect, _effectRunnerMap[CALL] = runCallEffect, _effectRunnerMap[CPS] = runCPSEffect, _effectRunnerMap[FORK] = runForkEffect, _effectRunnerMap[JOIN] = runJoinEffect, _effectRunnerMap[CANCEL$1] = runCancelEffect, _effectRunnerMap[SELECT] = runSelectEffect, _effectRunnerMap[ACTION_CHANNEL] = runChannelEffect, _effectRunnerMap[CANCELLED$1] = runCancelledEffect, _effectRunnerMap[FLUSH] = runFlushEffect, _effectRunnerMap[GET_CONTEXT] = runGetContextEffect, _effectRunnerMap[SET_CONTEXT] = runSetContextEffect, _effectRunnerMap);\n\n/**\n Used to track a parent task and its forks\n In the fork model, forked tasks are attached by default to their parent\n We model this using the concept of Parent task && main Task\n main task is the main flow of the current Generator, the parent tasks is the\n aggregation of the main tasks + all its forked tasks.\n Thus the whole model represents an execution tree with multiple branches (vs the\n linear execution tree in sequential (non parallel) programming)\n\n A parent tasks has the following semantics\n - It completes if all its forks either complete or all cancelled\n - If it's cancelled, all forks are cancelled as well\n - It aborts if any uncaught error bubbles up from forks\n - If it completes, the return value is the one returned by the main task\n **/\n\nfunction forkQueue(mainTask, onAbort, cont) {\n  var tasks = [];\n  var result;\n  var completed = false;\n  addTask(mainTask);\n\n  var getTasks = function getTasks() {\n    return tasks;\n  };\n\n  function abort(err) {\n    onAbort();\n    cancelAll();\n    cont(err, true);\n  }\n\n  function addTask(task) {\n    tasks.push(task);\n\n    task.cont = function (res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      remove(tasks, task);\n      task.cont = noop;\n\n      if (isErr) {\n        abort(res);\n      } else {\n        if (task === mainTask) {\n          result = res;\n        }\n\n        if (!tasks.length) {\n          completed = true;\n          cont(result);\n        }\n      }\n    };\n  }\n\n  function cancelAll() {\n    if (completed) {\n      return;\n    }\n\n    completed = true;\n    tasks.forEach(function (t) {\n      t.cont = noop;\n      t.cancel();\n    });\n    tasks = [];\n  }\n\n  return {\n    addTask: addTask,\n    cancelAll: cancelAll,\n    abort: abort,\n    getTasks: getTasks\n  };\n}\n\n// there can be only a single saga error created at any given moment\n\nfunction formatLocation(fileName, lineNumber) {\n  return fileName + \"?\" + lineNumber;\n}\n\nfunction effectLocationAsString(effect) {\n  var location = getLocation(effect);\n\n  if (location) {\n    var code = location.code,\n        fileName = location.fileName,\n        lineNumber = location.lineNumber;\n    var source = code + \"  \" + formatLocation(fileName, lineNumber);\n    return source;\n  }\n\n  return '';\n}\n\nfunction sagaLocationAsString(sagaMeta) {\n  var name = sagaMeta.name,\n      location = sagaMeta.location;\n\n  if (location) {\n    return name + \"  \" + formatLocation(location.fileName, location.lineNumber);\n  }\n\n  return name;\n}\n\nfunction cancelledTasksAsString(sagaStack) {\n  var cancelledTasks = flatMap(function (i) {\n    return i.cancelledTasks;\n  }, sagaStack);\n\n  if (!cancelledTasks.length) {\n    return '';\n  }\n\n  return ['Tasks cancelled due to error:'].concat(cancelledTasks).join('\\n');\n}\n\nvar crashedEffect = null;\nvar sagaStack = [];\nvar addSagaFrame = function addSagaFrame(frame) {\n  frame.crashedEffect = crashedEffect;\n  sagaStack.push(frame);\n};\nvar clear = function clear() {\n  crashedEffect = null;\n  sagaStack.length = 0;\n}; // this sets crashed effect for the soon-to-be-reported saga frame\n// this slightly streatches the singleton nature of this module into wrong direction\n// as it's even less obvious what's the data flow here, but it is what it is for now\n\nvar setCrashedEffect = function setCrashedEffect(effect) {\n  crashedEffect = effect;\n};\n/**\n  @returns {string}\n\n  @example\n  The above error occurred in task errorInPutSaga {pathToFile}\n  when executing effect put({type: 'REDUCER_ACTION_ERROR_IN_PUT'}) {pathToFile}\n      created by fetchSaga {pathToFile}\n      created by rootSaga {pathToFile}\n*/\n\nvar toString = function toString() {\n  var firstSaga = sagaStack[0],\n      otherSagas = sagaStack.slice(1);\n  var crashedEffectLocation = firstSaga.crashedEffect ? effectLocationAsString(firstSaga.crashedEffect) : null;\n  var errorMessage = \"The above error occurred in task \" + sagaLocationAsString(firstSaga.meta) + (crashedEffectLocation ? \" \\n when executing effect \" + crashedEffectLocation : '');\n  return [errorMessage].concat(otherSagas.map(function (s) {\n    return \"    created by \" + sagaLocationAsString(s.meta);\n  }), [cancelledTasksAsString(sagaStack)]).join('\\n');\n};\n\nfunction newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont) {\n  var _task;\n\n  if (cont === void 0) {\n    cont = noop;\n  }\n\n  var status = RUNNING;\n  var taskResult;\n  var taskError;\n  var deferredEnd = null;\n  var cancelledDueToErrorTasks = [];\n  var context = Object.create(parentContext);\n  var queue = forkQueue(mainTask, function onAbort() {\n    cancelledDueToErrorTasks.push.apply(cancelledDueToErrorTasks, queue.getTasks().map(function (t) {\n      return t.meta.name;\n    }));\n  }, end);\n  /**\n   This may be called by a parent generator to trigger/propagate cancellation\n   cancel all pending tasks (including the main task), then end the current task.\n    Cancellation propagates down to the whole execution tree held by this Parent task\n   It's also propagated to all joiners of this task and their execution tree/joiners\n    Cancellation is noop for terminated/Cancelled tasks tasks\n   **/\n\n  function cancel() {\n    if (status === RUNNING) {\n      // Setting status to CANCELLED does not necessarily mean that the task/iterators are stopped\n      // effects in the iterator's finally block will still be executed\n      status = CANCELLED;\n      queue.cancelAll(); // Ending with a TASK_CANCEL will propagate the Cancellation to all joiners\n\n      end(TASK_CANCEL, false);\n    }\n  }\n\n  function end(result, isErr) {\n    if (!isErr) {\n      // The status here may be RUNNING or CANCELLED\n      // If the status is CANCELLED, then we do not need to change it here\n      if (result === TASK_CANCEL) {\n        status = CANCELLED;\n      } else if (status !== CANCELLED) {\n        status = DONE;\n      }\n\n      taskResult = result;\n      deferredEnd && deferredEnd.resolve(result);\n    } else {\n      status = ABORTED;\n      addSagaFrame({\n        meta: meta,\n        cancelledTasks: cancelledDueToErrorTasks\n      });\n\n      if (task.isRoot) {\n        var sagaStack = toString(); // we've dumped the saga stack to string and are passing it to user's code\n        // we know that it won't be needed anymore and we need to clear it\n\n        clear();\n        env.onError(result, {\n          sagaStack: sagaStack\n        });\n      }\n\n      taskError = result;\n      deferredEnd && deferredEnd.reject(result);\n    }\n\n    task.cont(result, isErr);\n    task.joiners.forEach(function (joiner) {\n      joiner.cb(result, isErr);\n    });\n    task.joiners = null;\n  }\n\n  function setContext(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(props, object, createSetContextWarning('task', props));\n    }\n\n    assignWithSymbols(context, props);\n  }\n\n  function toPromise() {\n    if (deferredEnd) {\n      return deferredEnd.promise;\n    }\n\n    deferredEnd = deferred();\n\n    if (status === ABORTED) {\n      deferredEnd.reject(taskError);\n    } else if (status !== RUNNING) {\n      deferredEnd.resolve(taskResult);\n    }\n\n    return deferredEnd.promise;\n  }\n\n  var task = (_task = {}, _task[TASK] = true, _task.id = parentEffectId, _task.meta = meta, _task.isRoot = isRoot, _task.context = context, _task.joiners = [], _task.queue = queue, _task.cancel = cancel, _task.cont = cont, _task.end = end, _task.setContext = setContext, _task.toPromise = toPromise, _task.isRunning = function isRunning() {\n    return status === RUNNING;\n  }, _task.isCancelled = function isCancelled() {\n    return status === CANCELLED || status === RUNNING && mainTask.status === CANCELLED;\n  }, _task.isAborted = function isAborted() {\n    return status === ABORTED;\n  }, _task.result = function result() {\n    return taskResult;\n  }, _task.error = function error() {\n    return taskError;\n  }, _task);\n  return task;\n}\n\nfunction proc(env, iterator$1, parentContext, parentEffectId, meta, isRoot, cont) {\n  if (process.env.NODE_ENV !== 'production' && iterator$1[asyncIteratorSymbol]) {\n    throw new Error(\"redux-saga doesn't support async generators, please use only regular ones\");\n  }\n\n  var finalRunEffect = env.finalizeRunEffect(runEffect);\n  /**\n    Tracks the current effect cancellation\n    Each time the generator progresses. calling runEffect will set a new value\n    on it. It allows propagating cancellation to child effects\n  **/\n\n  next.cancel = noop;\n  /** Creates a main task to track the main flow */\n\n  var mainTask = {\n    meta: meta,\n    cancel: cancelMain,\n    status: RUNNING\n  };\n  /**\n   Creates a new task descriptor for this generator.\n   A task is the aggregation of it's mainTask and all it's forked tasks.\n   **/\n\n  var task = newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont);\n  var executingContext = {\n    task: task,\n    digestEffect: digestEffect\n  };\n  /**\n    cancellation of the main task. We'll simply resume the Generator with a TASK_CANCEL\n  **/\n\n  function cancelMain() {\n    if (mainTask.status === RUNNING) {\n      mainTask.status = CANCELLED;\n      next(TASK_CANCEL);\n    }\n  }\n  /**\n    attaches cancellation logic to this task's continuation\n    this will permit cancellation to propagate down the call chain\n  **/\n\n\n  if (cont) {\n    cont.cancel = task.cancel;\n  } // kicks up the generator\n\n\n  next(); // then return the task descriptor to the caller\n\n  return task;\n  /**\n   * This is the generator driver\n   * It's a recursive async/continuation function which calls itself\n   * until the generator terminates or throws\n   * @param {internal commands(TASK_CANCEL | TERMINATE) | any} arg - value, generator will be resumed with.\n   * @param {boolean} isErr - the flag shows if effect finished with an error\n   *\n   * receives either (command | effect result, false) or (any thrown thing, true)\n   */\n\n  function next(arg, isErr) {\n    try {\n      var result;\n\n      if (isErr) {\n        result = iterator$1.throw(arg); // user handled the error, we can clear bookkept values\n\n        clear();\n      } else if (shouldCancel(arg)) {\n        /**\n          getting TASK_CANCEL automatically cancels the main task\n          We can get this value here\n           - By cancelling the parent task manually\n          - By joining a Cancelled task\n        **/\n        mainTask.status = CANCELLED;\n        /**\n          Cancels the current effect; this will propagate the cancellation down to any called tasks\n        **/\n\n        next.cancel();\n        /**\n          If this Generator has a `return` method then invokes it\n          This will jump to the finally block\n        **/\n\n        result = func(iterator$1.return) ? iterator$1.return(TASK_CANCEL) : {\n          done: true,\n          value: TASK_CANCEL\n        };\n      } else if (shouldTerminate(arg)) {\n        // We get TERMINATE flag, i.e. by taking from a channel that ended using `take` (and not `takem` used to trap End of channels)\n        result = func(iterator$1.return) ? iterator$1.return() : {\n          done: true\n        };\n      } else {\n        result = iterator$1.next(arg);\n      }\n\n      if (!result.done) {\n        digestEffect(result.value, parentEffectId, next);\n      } else {\n        /**\n          This Generator has ended, terminate the main task and notify the fork queue\n        **/\n        if (mainTask.status !== CANCELLED) {\n          mainTask.status = DONE;\n        }\n\n        mainTask.cont(result.value);\n      }\n    } catch (error) {\n      if (mainTask.status === CANCELLED) {\n        throw error;\n      }\n\n      mainTask.status = ABORTED;\n      mainTask.cont(error, true);\n    }\n  }\n\n  function runEffect(effect, effectId, currCb) {\n    /**\n      each effect runner must attach its own logic of cancellation to the provided callback\n      it allows this generator to propagate cancellation downward.\n       ATTENTION! effect runners must setup the cancel logic by setting cb.cancel = [cancelMethod]\n      And the setup must occur before calling the callback\n       This is a sort of inversion of control: called async functions are responsible\n      of completing the flow by calling the provided continuation; while caller functions\n      are responsible for aborting the current flow by calling the attached cancel function\n       Library users can attach their own cancellation logic to promises by defining a\n      promise[CANCEL] method in their returned promises\n      ATTENTION! calling cancel must have no effect on an already completed or cancelled effect\n    **/\n    if (promise(effect)) {\n      resolvePromise(effect, currCb);\n    } else if (iterator(effect)) {\n      // resolve iterator\n      proc(env, effect, task.context, effectId, meta,\n      /* isRoot */\n      false, currCb);\n    } else if (effect && effect[IO]) {\n      var effectRunner = effectRunnerMap[effect.type];\n      effectRunner(env, effect.payload, currCb, executingContext);\n    } else {\n      // anything else returned as is\n      currCb(effect);\n    }\n  }\n\n  function digestEffect(effect, parentEffectId, cb, label) {\n    if (label === void 0) {\n      label = '';\n    }\n\n    var effectId = nextSagaId();\n    env.sagaMonitor && env.sagaMonitor.effectTriggered({\n      effectId: effectId,\n      parentEffectId: parentEffectId,\n      label: label,\n      effect: effect\n    });\n    /**\n      completion callback and cancel callback are mutually exclusive\n      We can't cancel an already completed effect\n      And We can't complete an already cancelled effectId\n    **/\n\n    var effectSettled; // Completion callback passed to the appropriate effect runner\n\n    function currCb(res, isErr) {\n      if (effectSettled) {\n        return;\n      }\n\n      effectSettled = true;\n      cb.cancel = noop; // defensive measure\n\n      if (env.sagaMonitor) {\n        if (isErr) {\n          env.sagaMonitor.effectRejected(effectId, res);\n        } else {\n          env.sagaMonitor.effectResolved(effectId, res);\n        }\n      }\n\n      if (isErr) {\n        setCrashedEffect(effect);\n      }\n\n      cb(res, isErr);\n    } // tracks down the current cancel\n\n\n    currCb.cancel = noop; // setup cancellation logic on the parent cb\n\n    cb.cancel = function () {\n      // prevents cancelling an already completed effect\n      if (effectSettled) {\n        return;\n      }\n\n      effectSettled = true;\n      currCb.cancel(); // propagates cancel downward\n\n      currCb.cancel = noop; // defensive measure\n\n      env.sagaMonitor && env.sagaMonitor.effectCancelled(effectId);\n    };\n\n    finalRunEffect(effect, effectId, currCb);\n  }\n}\n\nvar RUN_SAGA_SIGNATURE = 'runSaga(options, saga, ...args)';\nvar NON_GENERATOR_ERR = RUN_SAGA_SIGNATURE + \": saga argument must be a Generator function!\";\nfunction runSaga(_ref, saga) {\n  var _ref$channel = _ref.channel,\n      channel = _ref$channel === void 0 ? stdChannel() : _ref$channel,\n      dispatch = _ref.dispatch,\n      getState = _ref.getState,\n      _ref$context = _ref.context,\n      context = _ref$context === void 0 ? {} : _ref$context,\n      sagaMonitor = _ref.sagaMonitor,\n      effectMiddlewares = _ref.effectMiddlewares,\n      _ref$onError = _ref.onError,\n      onError = _ref$onError === void 0 ? logError : _ref$onError;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(saga, func, NON_GENERATOR_ERR);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var iterator$1 = saga.apply(void 0, args);\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(iterator$1, iterator, NON_GENERATOR_ERR);\n  }\n\n  var effectId = nextSagaId();\n\n  if (sagaMonitor) {\n    // monitors are expected to have a certain interface, let's fill-in any missing ones\n    sagaMonitor.rootSagaStarted = sagaMonitor.rootSagaStarted || noop;\n    sagaMonitor.effectTriggered = sagaMonitor.effectTriggered || noop;\n    sagaMonitor.effectResolved = sagaMonitor.effectResolved || noop;\n    sagaMonitor.effectRejected = sagaMonitor.effectRejected || noop;\n    sagaMonitor.effectCancelled = sagaMonitor.effectCancelled || noop;\n    sagaMonitor.actionDispatched = sagaMonitor.actionDispatched || noop;\n    sagaMonitor.rootSagaStarted({\n      effectId: effectId,\n      saga: saga,\n      args: args\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (notUndef(dispatch)) {\n      check(dispatch, func, 'dispatch must be a function');\n    }\n\n    if (notUndef(getState)) {\n      check(getState, func, 'getState must be a function');\n    }\n\n    if (notUndef(effectMiddlewares)) {\n      var MIDDLEWARE_TYPE_ERROR = 'effectMiddlewares must be an array of functions';\n      check(effectMiddlewares, array$1, MIDDLEWARE_TYPE_ERROR);\n      effectMiddlewares.forEach(function (effectMiddleware) {\n        return check(effectMiddleware, func, MIDDLEWARE_TYPE_ERROR);\n      });\n    }\n\n    check(onError, func, 'onError passed to the redux-saga is not a function!');\n  }\n\n  var finalizeRunEffect;\n\n  if (effectMiddlewares) {\n    var middleware = compose.apply(void 0, effectMiddlewares);\n\n    finalizeRunEffect = function finalizeRunEffect(runEffect) {\n      return function (effect, effectId, currCb) {\n        var plainRunEffect = function plainRunEffect(eff) {\n          return runEffect(eff, effectId, currCb);\n        };\n\n        return middleware(plainRunEffect)(effect);\n      };\n    };\n  } else {\n    finalizeRunEffect = identity;\n  }\n\n  var env = {\n    channel: channel,\n    dispatch: wrapSagaDispatch(dispatch),\n    getState: getState,\n    sagaMonitor: sagaMonitor,\n    onError: onError,\n    finalizeRunEffect: finalizeRunEffect\n  };\n  return immediately(function () {\n    var task = proc(env, iterator$1, context, effectId, getMetaInfo(saga),\n    /* isRoot */\n    true, undefined);\n\n    if (sagaMonitor) {\n      sagaMonitor.effectResolved(effectId, task);\n    }\n\n    return task;\n  });\n}\n\nfunction sagaMiddlewareFactory(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$context = _ref.context,\n      context = _ref$context === void 0 ? {} : _ref$context,\n      _ref$channel = _ref.channel,\n      channel = _ref$channel === void 0 ? stdChannel() : _ref$channel,\n      sagaMonitor = _ref.sagaMonitor,\n      options = _objectWithoutPropertiesLoose(_ref, [\"context\", \"channel\", \"sagaMonitor\"]);\n\n  var boundRunSaga;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel, channel$1, 'options.channel passed to the Saga middleware is not a channel');\n  }\n\n  function sagaMiddleware(_ref2) {\n    var getState = _ref2.getState,\n        dispatch = _ref2.dispatch;\n    boundRunSaga = runSaga.bind(null, _extends({}, options, {\n      context: context,\n      channel: channel,\n      dispatch: dispatch,\n      getState: getState,\n      sagaMonitor: sagaMonitor\n    }));\n    return function (next) {\n      return function (action) {\n        if (sagaMonitor && sagaMonitor.actionDispatched) {\n          sagaMonitor.actionDispatched(action);\n        }\n\n        var result = next(action); // hit reducers\n\n        channel.put(action);\n        return result;\n      };\n    };\n  }\n\n  sagaMiddleware.run = function () {\n    if (process.env.NODE_ENV !== 'production' && !boundRunSaga) {\n      throw new Error('Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware');\n    }\n\n    return boundRunSaga.apply(void 0, arguments);\n  };\n\n  sagaMiddleware.setContext = function (props) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(props, object, createSetContextWarning('sagaMiddleware', props));\n    }\n\n    assignWithSymbols(context, props);\n  };\n\n  return sagaMiddleware;\n}\n\nexport default sagaMiddlewareFactory;\nexport { END, channel, eventChannel, isEnd, multicastChannel, runSaga, stdChannel };\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import createSagaMiddleware__default from '@redux-saga/core';\nexport * from '@redux-saga/core';\n\n\n\nexport default createSagaMiddleware__default;\n","import '@redux-saga/symbols';\nimport '@babel/runtime/helpers/esm/extends';\nimport { channel, stringableFunc, func, notUndef } from '@redux-saga/is';\nimport { q as makeIterator, K as take, L as fork, M as cancel, N as call, O as delay, Q as actionChannel, U as sliding, V as race, c as check } from './io-c3792963.js';\nexport { Q as actionChannel, _ as all, $ as apply, N as call, M as cancel, a4 as cancelled, a0 as cps, O as delay, W as effectTypes, a5 as flush, L as fork, a6 as getContext, a2 as join, Y as put, Z as putResolve, V as race, a3 as select, a7 as setContext, a1 as spawn, K as take, X as takeMaybe } from './io-c3792963.js';\nimport '@redux-saga/delay-p';\n\nvar done = function done(value) {\n  return {\n    done: true,\n    value: value\n  };\n};\n\nvar qEnd = {};\nfunction safeName(patternOrChannel) {\n  if (channel(patternOrChannel)) {\n    return 'channel';\n  }\n\n  if (stringableFunc(patternOrChannel)) {\n    return String(patternOrChannel);\n  }\n\n  if (func(patternOrChannel)) {\n    return patternOrChannel.name;\n  }\n\n  return String(patternOrChannel);\n}\nfunction fsmIterator(fsm, startState, name) {\n  var stateUpdater,\n      errorState,\n      effect,\n      nextState = startState;\n\n  function next(arg, error) {\n    if (nextState === qEnd) {\n      return done(arg);\n    }\n\n    if (error && !errorState) {\n      nextState = qEnd;\n      throw error;\n    } else {\n      stateUpdater && stateUpdater(arg);\n      var currentState = error ? fsm[errorState](error) : fsm[nextState]();\n      nextState = currentState.nextState;\n      effect = currentState.effect;\n      stateUpdater = currentState.stateUpdater;\n      errorState = currentState.errorState;\n      return nextState === qEnd ? done(arg) : effect;\n    }\n  }\n\n  return makeIterator(next, function (error) {\n    return next(null, error);\n  }, name);\n}\n\nfunction takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action,\n      setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action)\n      };\n    }\n  }, 'q1', \"takeEvery(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLatest(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yCancel = function yCancel(task) {\n    return {\n      done: false,\n      value: cancel(task)\n    };\n  };\n\n  var task, action;\n\n  var setTask = function setTask(t) {\n    return task = t;\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return task ? {\n        nextState: 'q3',\n        effect: yCancel(task)\n      } : {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    }\n  }, 'q1', \"takeLatest(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLeading(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yCall = function yCall(ac) {\n    return {\n      done: false,\n      value: call.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action;\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yCall(action)\n      };\n    }\n  }, 'q1', \"takeLeading(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction throttle(delayLength, patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, channel$1;\n\n  var yTake = function yTake() {\n    return {\n      done: false,\n      value: take(channel$1)\n    };\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setChannel = function setChannel(ch) {\n    return channel$1 = ch;\n  };\n\n  var needsChannel = !channel(patternOrChannel);\n\n  if (!needsChannel) {\n    setChannel(patternOrChannel);\n  }\n\n  return fsmIterator({\n    q1: function q1() {\n      var yActionChannel = {\n        done: false,\n        value: actionChannel(patternOrChannel, sliding(1))\n      };\n      return {\n        nextState: 'q2',\n        effect: yActionChannel,\n        stateUpdater: setChannel\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yTake(),\n        stateUpdater: setAction\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q4',\n        effect: yFork(action)\n      };\n    },\n    q4: function q4() {\n      return {\n        nextState: 'q2',\n        effect: yDelay\n      };\n    }\n  }, needsChannel ? 'q1' : 'q2', \"throttle(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction retry(maxTries, delayLength, fn) {\n  var counter = maxTries;\n\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var yCall = {\n    done: false,\n    value: call.apply(void 0, [fn].concat(args))\n  };\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yCall,\n        errorState: 'q10'\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: qEnd\n      };\n    },\n    q10: function q10(error) {\n      counter -= 1;\n\n      if (counter <= 0) {\n        throw error;\n      }\n\n      return {\n        nextState: 'q1',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"retry(\" + fn.name + \")\");\n}\n\nfunction debounceHelper(delayLength, patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, raceOutput;\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n  var yRace = {\n    done: false,\n    value: race({\n      action: take(patternOrChannel),\n      debounce: delay(delayLength)\n    })\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yNoop = function yNoop(value) {\n    return {\n      done: false,\n      value: value\n    };\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setRaceOutput = function setRaceOutput(ro) {\n    return raceOutput = ro;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yRace,\n        stateUpdater: setRaceOutput\n      };\n    },\n    q3: function q3() {\n      return raceOutput.debounce ? {\n        nextState: 'q1',\n        effect: yFork(action)\n      } : {\n        nextState: 'q2',\n        effect: yNoop(raceOutput.action),\n        stateUpdater: setAction\n      };\n    }\n  }, 'q1', \"debounce(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nvar validateTakeEffect = function validateTakeEffect(fn, patternOrChannel, worker) {\n  check(patternOrChannel, notUndef, fn.name + \" requires a pattern or channel\");\n  check(worker, notUndef, fn.name + \" requires a saga parameter\");\n};\n\nfunction takeEvery$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeEvery$1, patternOrChannel, worker);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return fork.apply(void 0, [takeEvery, patternOrChannel, worker].concat(args));\n}\nfunction takeLatest$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLatest$1, patternOrChannel, worker);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return fork.apply(void 0, [takeLatest, patternOrChannel, worker].concat(args));\n}\nfunction takeLeading$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLeading$1, patternOrChannel, worker);\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  return fork.apply(void 0, [takeLeading, patternOrChannel, worker].concat(args));\n}\nfunction throttle$1(ms, patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(patternOrChannel, notUndef, \"throttle requires a pattern or channel\");\n    check(worker, notUndef, 'throttle requires a saga parameter');\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {\n    args[_key4 - 3] = arguments[_key4];\n  }\n\n  return fork.apply(void 0, [throttle, ms, patternOrChannel, worker].concat(args));\n}\nfunction retry$1(maxTries, delayLength, worker) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n\n  return call.apply(void 0, [retry, maxTries, delayLength, worker].concat(args));\n}\nfunction debounce(delayLength, pattern, worker) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n    args[_key6 - 3] = arguments[_key6];\n  }\n\n  return fork.apply(void 0, [debounceHelper, delayLength, pattern, worker].concat(args));\n}\n\nexport { debounce, retry$1 as retry, takeEvery$1 as takeEvery, takeLatest$1 as takeLatest, takeLeading$1 as takeLeading, throttle$1 as throttle };\n","import { call, put, takeLatest } from 'redux-saga/effects'\nimport { Build } from 'webpd'\nimport buildInput, { AVAILABLE_INPUT_FORMATS } from './build-input'\nimport console from './console'\n\nexport function* watchSetLocalFile() {\n    yield takeLatest(buildInput.actions.setLocalFile.type, checkLocalFile)\n}\n\nfunction* checkLocalFile(\n    action: ReturnType<typeof buildInput.actions.setLocalFile>\n) {\n    const guessedFormat = Build.guessFormat(action.payload.filepath)\n    if (guessedFormat === null || !AVAILABLE_INPUT_FORMATS.includes(guessedFormat)) {\n        yield put(buildInput.actions.clear())\n        yield put(console.actions.setState({\n            errors: [`Invalid file input ${action.payload.filepath}`],\n            warnings: [],\n        }))\n    }\n}\n\nexport function* watchSetUrl() {\n    yield takeLatest(buildInput.actions.setUrl.type, fetchUrl)\n}\n\nfunction* fetchUrl(\n    action: ReturnType<typeof buildInput.actions.setUrl>\n) {\n    const url = action.payload\n    try {\n        const arrayBuffer: ArrayBuffer = yield call(makeRequest, url)\n        yield put(buildInput.actions.fetchUrlSuccess({ arrayBuffer, url }))\n    } catch (err: any) {\n        yield put(buildInput.actions.fetchUrlError(err.message))\n    }\n}\n\nconst makeRequest = async (url: string): Promise<ArrayBuffer> => {\n    const response = await fetch(url)\n    if (!response.ok) {\n        throw new FetchError(`Failed to load ${url}`)\n    }\n    const arrayBuffer = await response.arrayBuffer()\n    return arrayBuffer\n}\n\nclass FetchError extends Error {}\n","export interface Point {\n    x: number\n    y: number\n}\n\nexport interface Rectangle {\n    topLeft: Point,\n    bottomRight: Point,\n}\n\nexport const sumPoints = (p1: Point, p2: Point) => ({\n    x: p1.x + p2.x,\n    y: p1.y + p2.y,\n})\n\nexport const scalePoint = (p1: Point, r: number) => ({\n    x: p1.x * r,\n    y: p1.y * r,\n})\n\nexport const computePointsBoundingBox = (points: Array<Point>) => points.reduce(\n    ({ topLeft, bottomRight }, point) => {\n        return {\n            topLeft: {\n                x: Math.min(point.x, topLeft.x),\n                y: Math.min(point.y, topLeft.y),\n            },\n            bottomRight: {\n                x: Math.max(point.x, bottomRight.x),\n                y: Math.max(point.y, bottomRight.y),\n            },\n        }\n    },\n    {\n        topLeft: { x: Infinity, y: Infinity },\n        bottomRight: { x: -Infinity, y: -Infinity },\n    }\n)\n\nexport const computeRectangleDimensions = (r: Rectangle) => ({\n    x: r.bottomRight.x - r.topLeft.x,\n    y: r.bottomRight.y - r.topLeft.y,\n})\n\nexport const round = (v: number, decimals = 5) => {\n    const rounded =\n        Math.round(v * Math.pow(10, decimals)) / Math.pow(10, decimals)\n    if (rounded === 0) {\n        return 0\n    }\n    return rounded\n}","import { DspGraph, Message } from 'webpd'\nimport { PORTLET_ID } from './constants'\nimport { PatchPlayer } from './types'\n\nexport const nextTick = () => new Promise((resolve) => setTimeout(resolve, 1))\n\nexport const throttled = <P extends Array<any>>(\n    delay: number,\n    func: (...args: P) => void\n) => {\n    let timeout: number | null = null\n    return (...args: P) => {\n        if (timeout) {\n            clearTimeout(timeout)\n        }\n        timeout = setTimeout(() => func(...args), delay) as any\n    }\n}\n\nexport const sendMsgToWebPd = (\n    patchPlayer: PatchPlayer,\n    nodeId: DspGraph.NodeId,\n    msg: Message\n) => {\n    ;(patchPlayer.webpdNode as any).port.postMessage({\n        type: 'io:messageReceiver',\n        payload: {\n            nodeId,\n            portletId: PORTLET_ID,\n            message: msg,\n        },\n    })\n}\n\nexport const assertNonNullable = <T>(obj: T, errMessage?: string) => {\n    if (!obj) {\n        throw new Error(errMessage || `expected ${obj} to be defined`)\n    }\n    return obj\n}","import { Build, DspGraph } from 'webpd'\nimport { PdJson, AppGenerator } from 'webpd'\nimport { round } from './math-utils'\nimport { sendMsgToWebPd, throttled } from './misc-utils'\nimport { PatchPlayerWithSettings } from './types'\n\nexport const PORTLET_ID = '0'\n\nexport type ValueTransform = (v: number) => string | number | null\n\nexport interface ControlsValues {\n    values: { [nodeId: string]: string | number }\n    transforms: { [nodeId: string]: ValueTransform }\n}\n\nexport const createModels = (\n    pdJson: PdJson.Pd,\n    controlsValues: ControlsValues,\n) => {\n    const { controls, comments } = AppGenerator.discoverGuiControls(pdJson)\n\n    AppGenerator.traverseGuiControls(controls, (control) => {\n        let valueTransform: ValueTransform = (v) => v\n        if (control.node.type === 'bng') {\n            valueTransform = (v: any) => v.state === true ? 'bang' : null\n        } else if (control.node.type === 'msg') {\n            valueTransform = (v: any) => v === true ? 'bang' : null\n        } else if (control.node.type === 'tgl') {\n            valueTransform = (v) => +v\n        }\n        _registerControlValue(controlsValues, control, valueTransform)\n    })\n\n    // We make sure all controls are inside a container at top level for easier layout\n    const controlsModels = controls.map((control) => {\n        const controlContainer: AppGenerator.ControlContainer = {\n            type: 'container',\n            patch: control.patch,\n            node: control.node,\n            children: [control],\n        }\n        return control.type === 'control' ? controlContainer : control\n    })\n\n    return {\n        controls: controlsModels,\n        comments,\n    }\n}\n\nexport const setControlValue = (\n    patchPlayer: PatchPlayerWithSettings,\n    control: AppGenerator.Control,\n    rawValue: number\n) => {\n    const { node, patch } = control\n    const nodeId = Build.buildGraphNodeId(patch.id, node.id)\n    const valueTransform = patchPlayer.controlsValues.transforms[nodeId]\n    if (!valueTransform) {\n        throw new Error(`no value transform for ${nodeId}`)\n    }\n    const value = valueTransform(rawValue)!\n    if (value === null) {\n        return\n    }\n\n    _setControlValue(patchPlayer, nodeId, value)\n}\n\nexport const getControlValue = (\n    patchPlayer: PatchPlayerWithSettings,\n    control: AppGenerator.Control\n) => {\n    const { node, patch } = control\n    const nodeId = Build.buildGraphNodeId(patch.id, node.id)\n    return patchPlayer.controlsValues.values[nodeId]\n}\n\nexport const initializeControlValues = (\n    patchPlayer: PatchPlayerWithSettings\n) => {\n    Object.entries(patchPlayer.controlsValues.values).forEach(\n        ([nodeId, value]) => {\n            _setControlValue(patchPlayer, nodeId, value)\n        }\n    )\n}\n\nconst _registerControlValue = (\n    controlsValues: ControlsValues,\n    control: AppGenerator.Control,\n    valueTransform: ValueTransform\n) => {\n    const { node, patch } = control\n    const nodeId = Build.buildGraphNodeId(patch.id, node.id)\n    controlsValues.transforms[nodeId] = valueTransform\n}\n\nconst _setControlValue = (\n    patchPlayer: PatchPlayerWithSettings,\n    nodeId: DspGraph.NodeId,\n    value: string | number\n) => {\n    patchPlayer.controlsValues.values[nodeId] = value\n    if (patchPlayer.settings.valuesUpdatedCallback) {\n        _sendUpdatedControlValues(patchPlayer)\n    }\n    sendMsgToWebPd(patchPlayer, nodeId, [value])\n}\n\nconst _sendUpdatedControlValues = throttled(\n    300,\n    (patchPlayer: PatchPlayerWithSettings) => {\n        const values: ControlsValues['values'] = {}\n        Object.entries(patchPlayer.controlsValues.values).forEach(\n            ([nodeId, value]) => {\n                values[nodeId] =\n                    typeof value === 'number' ? round(value) : value\n            }\n        )\n        patchPlayer.settings.valuesUpdatedCallback!(values)\n    }\n)","export const PORTLET_ID = '0'","import { PdJson, AppGenerator } from 'webpd'\nimport {\n    sumPoints,\n    computePointsBoundingBox,\n    computeRectangleDimensions,\n    Point,\n    scalePoint,\n} from './math-utils'\nimport { assertNonNullable } from './misc-utils'\n\nexport const CONTAINER_EXTRA_SPACE = { x: 7, y: 12 }\nconst ATOM_HEIGHT_PD_PX = 15\nconst MSG_HEIGHT_PD_PX = 15\nconst DIGIT_WIDTH_PD_PX = 7\n\nexport interface ControlView {\n    type: 'control'\n    label: string | null\n    control: AppGenerator.Control\n    dimensions: Point\n    position: Point\n}\n\nexport interface ContainerView {\n    type: 'container'\n    label: string | null\n    control: AppGenerator.ControlContainer\n    dimensions: Point\n    children: Array<ControlTreeView>\n    position: Point\n}\n\nexport type ControlTreeView = ControlView | ContainerView\n\nexport interface CommentView {\n    type: 'comment'\n    text: string\n    position: Point\n}\n\nexport const createViews = (\n    controls: Array<AppGenerator.ControlTree>,\n    comments: Array<AppGenerator.Comment>\n): {\n    controlsViews: Array<ControlTreeView>\n    commentsViews: Array<CommentView>\n} => {\n    const [controlsViews, offset] = _moveToOrigin(\n        _createControlsViewsRecurs(controls)\n    )\n    return {\n        controlsViews,\n        commentsViews: _createCommentsViews(comments).map((v) => ({\n            ...v,\n            position: sumPoints(v.position, offset),\n        })),\n    }\n}\n\nexport const _createControlsViewsRecurs = (\n    controls: Array<AppGenerator.ControlTree>\n): Array<ControlTreeView> => {\n    const controlsViews: Array<ControlTreeView> = controls.map((control) => {\n        switch (control.type) {\n            case 'container':\n                const [nestedViews] = _moveToOrigin(\n                    _createControlsViewsRecurs(control.children)\n                )\n\n                const containerView: ContainerView = {\n                    type: 'container',\n                    label:\n                        typeof control.node.args[0] === 'string'\n                            ? control.node.args[0]\n                            : null,\n                    control,\n                    dimensions: sumPoints(\n                        CONTAINER_EXTRA_SPACE,\n                        computeRectangleDimensions(\n                            computePointsBoundingBox([\n                                ...nestedViews.map((c) => c.position!),\n                                ...nestedViews.map((c) =>\n                                    sumPoints(c.position!, c.dimensions)\n                                ),\n                            ])\n                        )\n                    ),\n                    children: nestedViews,\n                    position: {\n                        x: _quantizeSpace(_getLayout(control.node).x),\n                        y: _quantizeSpace(_getLayout(control.node).y),\n                    },\n                }\n                return containerView\n\n            case 'control':\n                const controlView: ControlView = {\n                    type: 'control',\n                    label: _getNodeLabel(control.node),\n                    control,\n                    dimensions: _getDimensionsGrid(control.node),\n                    position: {\n                        x: _quantizeSpace(_getLayout(control.node).x),\n                        y: _quantizeSpace(_getLayout(control.node).y),\n                    },\n                }\n                return controlView\n\n            default:\n                throw new Error(`unexpected control type ${(control as any).type}`)\n        }\n    })\n\n    return controlsViews\n}\n\nconst _createCommentsViews = (\n    comments: Array<AppGenerator.Comment>\n): Array<CommentView> =>\n    comments.map((comment) => ({\n        type: 'comment',\n        text: comment.text,\n        position: {\n            x: _quantizeSpace(_getLayout(comment.node).x),\n            y: _quantizeSpace(_getLayout(comment.node).y),\n        },\n    }))\n\nconst _moveToOrigin = (\n    controlViews: Array<ControlTreeView>\n): [Array<ControlTreeView>, Point] => {\n    const nestedViewsBoundingBox = computePointsBoundingBox([\n        ...controlViews.map((v) => v.position!),\n        ...controlViews.map((v) => sumPoints(v.position!, v.dimensions)),\n    ])\n\n    const offset = scalePoint(nestedViewsBoundingBox.topLeft, -1)\n\n    // Apply offset to all the points so that the top-left-most control\n    // matches with the position (0, 0).\n    return [\n        controlViews.map((v) => ({\n            ...v,\n            position: sumPoints(v.position, offset),\n        })),\n        offset,\n    ]\n}\n\nconst _getDimensionsGrid = (node: PdJson.Node) => {\n    if (node.nodeClass !== 'control') {\n        throw new Error(`Can only get dimension for control node`)\n    }\n\n    switch (node.type) {\n        case 'floatatom':\n        case 'symbolatom':\n            return {\n                x: _quantizeSpace(\n                    (_getLayout(node).widthInChars || 3) * DIGIT_WIDTH_PD_PX\n                ),\n                y: _quantizeSpace(ATOM_HEIGHT_PD_PX),\n            }\n        case 'bng':\n        case 'tgl':\n            return {\n                x: _quantizeSpace(_getLayout(node).size),\n                y: _quantizeSpace(_getLayout(node).size),\n            }\n        case 'nbx':\n            return {\n                x: _quantizeSpace(\n                    (_getLayout(node).widthInChars || 3) * DIGIT_WIDTH_PD_PX\n                ),\n                y: _quantizeSpace(_getLayout(node).height),\n            }\n        case 'vradio':\n            return {\n                x: _quantizeSpace(_getLayout(node).size),\n                y: _quantizeSpace(\n                    _assertNumber(node.args[0]) *\n                        _assertNumber(_getLayout(node).size)\n                ),\n            }\n        case 'hradio':\n            return {\n                x: _quantizeSpace(\n                    _assertNumber(node.args[0]) *\n                        _assertNumber(_getLayout(node).size)\n                ),\n                y: _quantizeSpace(_getLayout(node).size),\n            }\n        case 'vsl':\n        case 'hsl':\n            return {\n                x: _quantizeSpace(_getLayout(node).width),\n                y: _quantizeSpace(_getLayout(node).height),\n            }\n        case 'msg':\n            return {\n                x: _quantizeSpace(\n                    node.args.join(' ').length * DIGIT_WIDTH_PD_PX\n                ),\n                y: _quantizeSpace(MSG_HEIGHT_PD_PX),\n            }\n        case 'cnv':\n            return {\n                x: 0, y: 0\n            }\n        default:\n            throw new Error(`unsupported type ${node.type}`)\n    }\n}\n\nconst _getNodeLabel = (node: PdJson.Node): string | null => {\n    const layout = _getLayout(node)\n    const label = (layout as any).label as string\n    return label && label.length ? label : null\n}\n\nconst _assertNumber = (val: PdJson.NodeArg) => {\n    if (typeof val !== 'number') {\n        throw new Error(`Expected ${val} to be a number`)\n    }\n    return val\n}\n\nconst _quantizeSpace = (val?: number) => Math.round(_assertNumber(val) / 1) * 1\n\nconst _getLayout = <N extends PdJson.Node>(node: N): NonNullable<N['layout']> =>\n    assertNonNullable(node.layout, 'expected node to have a layout')\n","import { Point } from './math-utils'\nimport { assertNonNullable } from './misc-utils'\nimport { getControlValue, setControlValue } from './models'\nimport { PatchPlayerWithSettings } from './types'\nimport { CONTAINER_EXTRA_SPACE, ControlTreeView, ControlView } from './views'\n\nconst FONT_FAMILY = 'Rajdhani'\nconst GRID_SIZE_PX = 3\nconst LABEL_HEIGHT_GRID = 5\nconst SLIDER_SIZE_RATIO = 1.2\n\nconst HTML_STRUCTURE = `\n    <div id=\"splash-container\">\n        <div id=\"loading\"></div>\n        <button id=\"start\">START</button>\n    </div>\n\n    <div id=\"patch-controls\">\n        <div id=\"controls-root\"></div>\n    </div>\n\n    <div id=\"credits\">\n        <button>Credits</button>\n        <div class=\"content\">\n        <div>Sound made using <a href=\"https://github.com/sebpiq/WebPd/\" target=\"_blank\" rel=\"noopener noreferrer\" >WebPd</a>.</div>\n        <div>UI made using <a href=\"https://nexus-js.github.io/ui/\" target=\"_blank\" rel=\"noopener noreferrer\" >NexusUI</a>.</div>\n        <div>Demo source code available <a href=\"https://github.com/sebpiq/WebPd_demos/\" target=\"_blank\" rel=\"noopener noreferrer\" >here</a>.</div>\n        <div>Patch ginger2.pd by <a href=\"http://www.martin-brinkmann.de/pd-patches.html\" target=\"_blank\" rel=\"noopener noreferrer\" >Martin Brinkmann</a>.</div>\n        </div>\n    </div>\n`\n\nexport const renderStructure = (rootElem: HTMLDivElement) => {\n    rootElem.innerHTML = HTML_STRUCTURE\n    return {\n        controlsRoot: assertNonNullable(\n            rootElem.querySelector('#controls-root') as HTMLDivElement,\n            'controlsRoot not found'\n        ),\n        startButton: assertNonNullable(\n            rootElem.querySelector('#start') as HTMLButtonElement,\n            'startButton not found'\n        ),\n        loadingLabel: assertNonNullable(\n            rootElem.querySelector('#loading') as HTMLDivElement,\n            'loadingLabel not found'\n        ),\n        loadingContainer: assertNonNullable(\n            rootElem.querySelector('#splash-container') as HTMLDivElement,\n            'loadingContainer not found'\n        ),\n        creditsButton: assertNonNullable(\n            rootElem.querySelector('#credits button') as HTMLDivElement,\n            'creditsButton not found'\n        ),\n        creditsContainer: assertNonNullable(\n            rootElem.querySelector('#credits') as HTMLDivElement,\n            'creditsContainer not found'\n        ),\n    }\n}\n\nexport const renderControlViews = (\n    patchPlayer: PatchPlayerWithSettings,\n    parentElem: HTMLElement\n) => {\n    _renderControlViewsRecurs(\n        patchPlayer,\n        parentElem,\n        patchPlayer.controlsViews,\n        null\n    )\n}\n\nexport const renderCommentsViews = (\n    patchPlayer: PatchPlayerWithSettings,\n    parentElem: HTMLElement\n) => {\n    patchPlayer.commentsViews.forEach((commentView) => {\n        const div = document.createElement('div')\n        div.classList.add('comment')\n        div.innerHTML = commentView.text\n        parentElem.appendChild(div)\n        div.style.left = `${_scaleSpace(commentView.position.x)}px`\n        div.style.top = `${_scaleSpace(commentView.position.y)}px`\n    })\n}\n\nconst _renderControlViewsRecurs = (\n    patchPlayer: PatchPlayerWithSettings,\n    parentElem: HTMLElement,\n    children: Array<ControlTreeView>,\n    parent: ControlTreeView | null\n) => {\n    children.forEach((controlView) => {\n        if (controlView.type === 'container') {\n            const childrenContainerElem = _renderContainer(\n                patchPlayer,\n                parentElem,\n                controlView\n            )\n            _renderControlViewsRecurs(\n                patchPlayer,\n                childrenContainerElem,\n                controlView.children,\n                controlView\n            )\n        } else if (controlView.type === 'control') {\n            _renderControl(\n                patchPlayer,\n                parentElem,\n                controlView,\n                _getContainerPadding(parent ? _hasLabel(parent) : false)\n            )\n        }\n    })\n}\n\nconst _renderContainer = (\n    _: PatchPlayerWithSettings,\n    parent: HTMLElement,\n    controlView: ControlTreeView\n) => {\n    const div = document.createElement('div')\n    div.classList.add('controls-container')\n\n    const containerPadding = _getContainerPadding(_hasLabel(controlView))\n\n    div.style.left = `${_scaleSpace(controlView.position.x)}px`\n    div.style.top = `${_scaleSpace(controlView.position.y)}px`\n    div.style.width = `${_scaleSpace(controlView.dimensions.x)}px`\n    div.style.height = `${_scaleSpace(controlView.dimensions.y)}px`\n    div.style.paddingTop = `${_scaleSpace(containerPadding.top)}px`\n    div.style.paddingBottom = `${_scaleSpace(containerPadding.bottom)}px`\n    div.style.paddingRight = `${_scaleSpace(containerPadding.right)}px`\n    div.style.paddingLeft = `${_scaleSpace(containerPadding.left)}px`\n\n    if (_hasLabel(controlView)) {\n        _renderLabel(div, controlView.label!)\n    }\n\n    parent.appendChild(div)\n    return div\n}\n\nconst _renderControl = (\n    patchPlayer: PatchPlayerWithSettings,\n    parent: HTMLElement,\n    controlView: ControlView,\n    containerPadding: ReturnType<typeof _getContainerPadding>\n) => {\n    const { node, patch } = controlView.control\n\n    const color = patchPlayer.settings.colorScheme.next()\n\n    const div = document.createElement('div')\n    div.classList.add('control')\n    div.classList.add(node.type)\n    div.id = `control-${patch.id}-${node.id}`\n    div.style.left = `${_scaleSpace(\n        controlView.position.x + containerPadding.left\n    )}px`\n    div.style.top = `${_scaleSpace(\n        controlView.position.y + containerPadding.top\n    )}px`\n    div.style.width = `${_scaleSpace(controlView.dimensions.x)}px`\n    div.style.height = `${_scaleSpace(controlView.dimensions.y)}px`\n    parent.appendChild(div)\n\n    if (_hasLabel(controlView)) {\n        const labelDiv = _renderLabel(div, controlView.label || '')\n        labelDiv.style.color = color\n    }\n\n    const innerDiv = document.createElement('div')\n    div.appendChild(innerDiv)\n\n    const nexusDimensions: Point = {\n        x: _scaleSpace(controlView.dimensions.x),\n        y: _scaleSpace(\n            controlView.dimensions.y -\n                (_hasLabel(controlView) ? LABEL_HEIGHT_GRID : 0)\n        ),\n    }\n    const nexusElem = _renderNexus(\n        patchPlayer,\n        innerDiv,\n        controlView,\n        nexusDimensions\n    )\n\n    nexusElem.colorize('accent', color)\n    nexusElem.colorize('fill', 'black')\n    nexusElem.colorize('dark', color)\n    nexusElem.colorize('mediumDark', '#222')\n    nexusElem.colorize('mediumLight', '#333')\n    nexusElem.element.style.fontFamily = FONT_FAMILY\n\n    return div\n}\n\nconst _renderLabel = (parent: HTMLElement, label: string) => {\n    const labelDiv = document.createElement('div')\n    labelDiv.classList.add('label')\n    labelDiv.innerHTML = label\n    labelDiv.style.height = `${_scaleSpace(LABEL_HEIGHT_GRID)}px`\n    parent.appendChild(labelDiv)\n    return labelDiv\n}\n\nconst _renderNexus = (\n    patchPlayer: PatchPlayerWithSettings,\n    div: HTMLDivElement,\n    controlView: ControlView,\n    dimensions: Point\n) => {\n    let { x: width, y: height } = dimensions\n    const { node } = controlView.control\n    const storedValue = getControlValue(patchPlayer, controlView.control)\n\n    let nexusElem\n    switch (node.type) {\n        case 'hsl':\n        case 'vsl':\n            if (node.type === 'hsl') {\n                height *= SLIDER_SIZE_RATIO\n            } else {\n                width *= SLIDER_SIZE_RATIO\n            }\n            nexusElem = new Nexus.Add.Slider(div, {\n                min: node.args[0],\n                max: node.args[1],\n                value: storedValue !== undefined ? storedValue : node.args[3],\n                size: [width, height],\n            })\n            break\n\n        case 'hradio':\n        case 'vradio':\n            nexusElem = new Nexus.RadioButton(div, {\n                numberOfButtons: node.args[0],\n                active: storedValue !== undefined ? storedValue : node.args[2],\n                size: [width, height],\n            })\n            break\n\n        case 'bng':\n            nexusElem = new Nexus.Button(div, {\n                size: [height, height],\n            })\n            break\n\n        case 'msg':\n            nexusElem = new Nexus.TextButton(div, {\n                size: [width, height],\n                text: node.args.join(' '),\n            })\n            break\n\n        case 'nbx':\n        case 'floatatom':\n            nexusElem = new Nexus.Number(div, {\n                value:\n                    storedValue !== undefined\n                        ? storedValue\n                        : node.type === 'nbx'\n                        ? node.args[3]\n                        : 0,\n                size: [width, height],\n            })\n            break\n\n        case 'tgl':\n            nexusElem = new Nexus.Button(div, {\n                mode: 'toggle',\n                state: storedValue !== undefined ? storedValue : !!node.args[2],\n                size: [width, height],\n            })\n            break\n\n        case 'symbolatom':\n            nexusElem = new Nexus.TextButton(div, {\n                size: [width, height],\n                state: false,\n                text: 'SYMBOLATOM NOT SUPPORTED',\n            })\n            break\n\n        case 'cnv':\n            nexusElem = new Nexus.TextButton(div, {\n                size: [width, height],\n                state: false,\n                text: 'CNV NOT SUPPORTED',\n            })\n            break\n\n        default:\n            throw new Error(`Not supported ${node.type}`)\n    }\n\n    nexusElem.on('change', (v: number) =>\n        setControlValue(patchPlayer, controlView.control, v)\n    )\n    return nexusElem\n}\n\nconst _scaleSpace = (v: number) => v * GRID_SIZE_PX\n\nconst _getContainerPadding = (hasLabel: boolean) => ({\n    top: hasLabel\n        ? CONTAINER_EXTRA_SPACE.y - CONTAINER_EXTRA_SPACE.x / 2\n        : CONTAINER_EXTRA_SPACE.y / 2,\n    left: CONTAINER_EXTRA_SPACE.x / 2,\n    right: CONTAINER_EXTRA_SPACE.x / 2,\n    bottom: hasLabel\n        ? CONTAINER_EXTRA_SPACE.x / 2\n        : CONTAINER_EXTRA_SPACE.y / 2,\n})\n\nconst _hasLabel = (controlView: ControlTreeView) =>\n    !!(controlView.label && controlView.label.length)\n","import { ControlsValues, createModels, initializeControlValues } from './models'\nimport { createViews } from './views'\nimport {\n    renderCommentsViews,\n    renderControlViews,\n    renderStructure,\n} from './render'\nimport { assertNonNullable, nextTick } from './misc-utils'\nimport { PatchPlayer, PatchPlayerWithSettings, Settings } from './types'\nimport { Build, AppGenerator, Browser } from 'webpd'\n\nexport const create = (\n    artefacts: Build.Artefacts,\n    patchUrl: string | null\n): PatchPlayer => {\n    const dspGraph = assertNonNullable(\n        artefacts.dspGraph,\n        'artefacts.dspGraph not defined'\n    )\n\n    const controlsValues: ControlsValues = {\n        values: {},\n        transforms: {},\n    }\n\n    const { controls, comments } = createModels(dspGraph.pd, controlsValues)\n    const { controlsViews, commentsViews } = createViews(controls, comments)\n\n    const audioContext = new AudioContext()\n    audioContext.suspend()\n\n    return {\n        rootElem: null,\n        patchUrl,\n        audioContext,\n        webpdNode: null,\n        pdJson: dspGraph.pd,\n        controls,\n        controlsValues,\n        controlsViews,\n        commentsViews,\n        io: {\n            messageReceivers: AppGenerator.collectIoMessageReceiversFromGui(\n                controls,\n                dspGraph.graph\n            ),\n        },\n        settings: null,\n    }\n}\n\nexport const start = async (\n    artefacts: Build.Artefacts,\n    patchPlayerWithoutSettings: PatchPlayer,\n    settings: Settings\n) => {\n    const patchPlayer: PatchPlayerWithSettings = {\n        ...patchPlayerWithoutSettings,\n        controlsValues: {\n            ...patchPlayerWithoutSettings.controlsValues,\n            values: settings.initialValues ? { ...settings.initialValues } : {},\n        },\n        settings,\n    }\n\n    const rootElem = document.createElement('div')\n\n    patchPlayer.settings.container.appendChild(rootElem)\n    // TODO\n    // loadStateFromUrl()\n    const ELEMS = renderStructure(rootElem)\n\n    if (patchPlayer.settings.showCredits !== true) {\n        ELEMS.creditsButton.style.display = 'none'\n    }\n\n    ELEMS.creditsButton.onclick = () => {\n        if (ELEMS.creditsContainer.classList.contains('expanded')) {\n            ELEMS.creditsContainer.classList.remove('expanded')\n        } else {\n            ELEMS.creditsContainer.classList.add('expanded')\n        }\n    }\n\n    ELEMS.startButton.style.display = 'none'\n    ELEMS.startButton.onclick = () => {\n        ELEMS.loadingContainer.style.display = 'none'\n        _startSound(patchPlayer)\n    }\n\n    ELEMS.loadingLabel.innerHTML = 'loading assemblyscript compiler ...'\n    console.log('PatchPlayer START')\n    await Browser.initialize(patchPlayer.audioContext)\n\n    ELEMS.loadingLabel.innerHTML = 'generating GUI ...'\n    await nextTick()\n\n    renderControlViews(patchPlayer, ELEMS.controlsRoot)\n    renderCommentsViews(patchPlayer, ELEMS.controlsRoot)\n\n    await nextTick()\n\n    let stream: MediaStream | null = null\n    try {\n        stream = await navigator.mediaDevices.getUserMedia({ audio: true })\n    } catch (err) {\n        console.error(`Failed to get microphone stream ${err}`)\n    }\n    patchPlayer.webpdNode = await createAudioNode(\n        patchPlayer,\n        stream,\n        artefacts\n    )\n    patchPlayer.rootElem = rootElem\n\n    ELEMS.loadingLabel.style.display = 'none'\n    ELEMS.startButton.style.display = 'block'\n\n    return patchPlayer\n}\n\nexport const destroy = (patchPlayer: PatchPlayer) => {\n    if (patchPlayer.rootElem) {\n        patchPlayer.rootElem.innerHTML = ''\n        patchPlayer.rootElem.remove()\n        console.log('DESTROY PATCH PLAYER', patchPlayer.rootElem)\n    }\n    patchPlayer.webpdNode.disconnect()\n    patchPlayer.audioContext.suspend()\n}\n\nexport const createAudioNode = async (\n    patchPlayer: PatchPlayer,\n    stream: MediaStream | null,\n    artefacts: Build.Artefacts\n) => {\n    if (!artefacts.javascript && !artefacts.wasm) {\n        throw new Error(`Missing artefacts for creating the engine`)\n    }\n\n    const webpdNode = await Browser.run(\n        patchPlayer.audioContext,\n        (artefacts.javascript || artefacts.wasm)!,\n        Browser.defaultSettingsForRun(patchPlayer.patchUrl || '.')\n    )\n\n    if (stream) {\n        const sourceNode =\n            patchPlayer.audioContext.createMediaStreamSource(stream)\n        sourceNode.connect(webpdNode)\n    }\n    webpdNode.connect(patchPlayer.audioContext.destination)\n    return webpdNode\n}\n\nconst _startSound = (patchPlayer: PatchPlayerWithSettings) => {\n    // https://github.com/WebAudio/web-audio-api/issues/345\n    if (patchPlayer.audioContext.state === 'suspended') {\n        patchPlayer.audioContext.resume()\n    }\n    initializeControlValues(patchPlayer)\n}\n","import { registerWebPdWorkletNode } from '../../../WebPd_runtime/dist/WebPd_runtime/src/WebPdWorkletNode.js';\nimport '../../../WebPd_runtime/dist/WebPd_runtime/src/utils.js';\nimport '../../../WebPd_runtime/dist/WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_runtime/dist/WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * Convenience function for initializing WebPd in the browser.\n * Should be ran once (and only once) before running any patches.\n */\nvar initialize = (...args) => {\n    return registerWebPdWorkletNode(...args);\n};\n\nexport { initialize as default };\n","import WebPdWorkletNode from '../../../WebPd_runtime/dist/WebPd_runtime/src/WebPdWorkletNode.js';\nimport '../../../WebPd_runtime/dist/WebPd_runtime/src/utils.js';\nimport '../../../WebPd_runtime/dist/WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_runtime/dist/WebPd_compiler/dist/src/compile/precompile/nodes.js';\n\n/*\n * Copyright (c) 2022-2023 Sébastien Piquemal <sebpiq@protonmail.com>, Chris McCormick.\n *\n * This file is part of WebPd\n * (see https://github.com/sebpiq/WebPd).\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar run = async (audioContext, compiledPatch, settings) => {\n    const { messageHandler } = settings;\n    const webpdNode = new WebPdWorkletNode(audioContext);\n    webpdNode.port.onmessage = (msg) => messageHandler(webpdNode, msg);\n    if (typeof compiledPatch === 'string') {\n        webpdNode.port.postMessage({\n            type: 'code:JS',\n            payload: {\n                jsCode: compiledPatch,\n            },\n        });\n    }\n    else {\n        webpdNode.port.postMessage({\n            type: 'code:WASM',\n            payload: {\n                wasmBuffer: compiledPatch,\n            },\n        });\n    }\n    return webpdNode;\n};\n\nexport { run as default };\n","import '../../../WebPd_runtime/dist/WebPd_runtime/src/utils.js';\nimport index from '../../../WebPd_runtime/dist/WebPd_runtime/src/fs-web/index.js';\nimport { urlDirName } from './url-helpers.js';\nimport '../../../WebPd_compiler/dist/src/stdlib/fs.js';\nimport '../../../WebPd_compiler/dist/src/compile/precompile/nodes.js';\nimport { readMetadata as readMetadata$1 } from '../../../WebPd_compiler/dist/src/run/index.js';\n\nconst defaultSettingsForRun = (patchUrl) => {\n    const rootUrl = urlDirName(patchUrl);\n    return {\n        messageHandler: (node, message) => index(node, message, { rootUrl }),\n    };\n};\nconst readMetadata = (compiledPatch) => {\n    if (typeof compiledPatch === 'string') {\n        return readMetadata$1('javascript', compiledPatch);\n    }\n    else {\n        return readMetadata$1('assemblyscript', compiledPatch);\n    }\n};\n\nexport { defaultSettingsForRun, readMetadata };\n","import { createSelector } from '@reduxjs/toolkit'\nimport { Build } from 'webpd'\nimport { selectBuildInputFormat } from './build-input-selectors'\nimport {\n    selectBuildOutputCodeTarget,\n    selectBuildOutputFormat,\n} from './build-output-selectors'\n\nexport const selectBuildSteps = createSelector(\n    selectBuildInputFormat,\n    selectBuildOutputFormat,\n    selectBuildOutputCodeTarget,\n    (inFormat, outFormat, codeTarget) => {\n        console.log('selectBuildSteps CODE TARGET', codeTarget)\n        if (!inFormat || !outFormat) {\n            return null\n        }\n        if (outFormat === 'patchPlayer') {\n            switch (codeTarget) {\n                case 'JavaScript':\n                    outFormat = 'javascript'\n                    break\n                case 'WebAssembly':\n                    outFormat = 'wasm'\n                    break\n            }\n        }\n        if (\n            outFormat === 'wav' &&\n            ['pd', 'pdJson', 'dspGraph'].includes(inFormat)\n        ) {\n            return Build.listBuildSteps(\n                inFormat,\n                outFormat,\n                codeTarget === 'JavaScript' ? 'javascript' : 'wasm'\n            )\n        } else {\n            return Build.listBuildSteps(inFormat, outFormat)\n        }\n    }\n)","import { Build } from \"webpd\"\n\nexport const BIT_DEPTH = 64\n\nexport const CODE_TARGETS = {\n    'WebAssembly': {\n        display: 'Web Assembly',\n        info: 'Web Assembly is slower to build, but provides a higher performance when running. Good for when your patch is stable and you want to take it elsewhere.',\n    },\n    'JavaScript': {\n        display: 'JavaScript',\n        info: 'JavaScript is fast to build, but slower when running. Good if you want to test things fast.'\n    }\n}\n\nexport type BitDepth = typeof BIT_DEPTH\n\nexport type CodeTarget = keyof typeof CODE_TARGETS\n\nexport type BuildFormatWebSite = Build.BuildFormat | 'patchPlayer'","import { RootState } from '.'\n\nexport const selectAppIsInitialized = (state: RootState) =>\n    state.app.isInitialized\nexport const selectAppWillBuildOnLoad = (state: RootState) =>\n    state.app.willBuildOnLoad\nexport const selectAppDebug = (state: RootState) =>\n    state.app.debug\n","import { Browser, Build, PdJson } from \"webpd\"\n\nexport interface WorkerSafeBuildSettings {\n    audioSettings: Build.Settings['audioSettings']\n    renderAudioSettings: Build.Settings['renderAudioSettings']\n    io: Build.Settings['io']\n    rootUrl: string | null\n}\n\nexport const workerSafePerformBuildStep = async (\n    artefacts: Build.Artefacts, step: Build.BuildFormat, workerSafeBuildSettings: WorkerSafeBuildSettings\n) => {\n    const settings: Build.Settings = {\n        ...Browser.defaultSettingsForBuild(workerSafeBuildSettings.rootUrl || ''),\n        audioSettings: workerSafeBuildSettings.audioSettings,\n        renderAudioSettings: workerSafeBuildSettings.renderAudioSettings,\n        io: workerSafeBuildSettings.io,\n        abstractionLoader: workerSafeBuildSettings.rootUrl\n            ? Browser.makeUrlAbstractionLoader(workerSafeBuildSettings.rootUrl)\n            : localAbstractionLoader,\n    }\n    return Build.performBuildStep(artefacts, step, settings)\n}\n\n/** Always fails, because locally we don't load any abstractions */\nconst localAbstractionLoader = Build.makeAbstractionLoader(\n    async (nodeType: PdJson.NodeType) => {\n        throw new Build.UnknownNodeTypeError(nodeType)\n    }\n)\n","import { call, delay, put, select, takeLatest } from 'redux-saga/effects'\nimport { Browser, Build } from 'webpd'\nimport { create as createPatchPlayer } from '../PatchPlayer/main'\nimport { PatchPlayer } from '../PatchPlayer/types'\nimport artefacts from './artefacts'\nimport {\n    selectBuildInputArtefacts,\n    selectBuildInputUrl,\n} from './build-input-selectors'\nimport { selectBuildOutputFormat, selectBuildOutputPreviewDurationSeconds } from './build-output-selectors'\nimport { selectBuildSteps } from './shared-selectors'\nimport { BIT_DEPTH } from '../types'\nimport { selectAppDebug } from './app-selectors'\nimport { WorkerSafeBuildSettings, workerSafePerformBuildStep } from './artefacts-worker-safe'\nimport { RequestPayload, ResponsePayload } from '../workers/build'\n\nexport function* watchStartBuild() {\n    yield takeLatest(artefacts.actions.startBuild.type, makeBuild)\n}\n\nfunction sendBuildStepToWorker(worker: Worker, requestPayload: RequestPayload): Promise<ResponsePayload> {\n    return new Promise((resolve) => {\n        worker.onmessage = (event: MessageEvent<ResponsePayload>) => {\n            resolve(event.data)\n        }\n        worker.postMessage(requestPayload)\n    })\n}\n\nfunction* makeBuild() {\n    const worker = new Worker('js/build.worker.js')\n    const inputArtefacts: ReturnType<typeof selectBuildInputArtefacts> =\n        yield select(selectBuildInputArtefacts)\n    const buildSteps: ReturnType<typeof selectBuildSteps> = yield select(\n        selectBuildSteps\n    )\n    const outFormat: ReturnType<typeof selectBuildOutputFormat> = yield select(\n        selectBuildOutputFormat\n    )\n    const url: ReturnType<typeof selectBuildInputUrl> = yield select(\n        selectBuildInputUrl\n    )\n    const previewDurationSeconds: ReturnType<typeof selectBuildOutputPreviewDurationSeconds> = yield select(\n        selectBuildOutputPreviewDurationSeconds\n    )\n    const debug: ReturnType<typeof selectAppDebug> = yield select(\n        selectAppDebug\n    )\n\n    if (!inputArtefacts || !buildSteps) {\n        yield put(\n            artefacts.actions.buildSuccess({\n                artefacts: inputArtefacts || Build.createArtefacts(),\n                patchPlayer: null,\n            })\n        )\n        return\n    }\n\n    // To allow the UI to update and display that it's building\n    // before we start blocking operations.\n    yield delay(1)\n\n    let tempArtefacts = { ...inputArtefacts }\n    let patchPlayer: PatchPlayer | null = null\n    for (let step of buildSteps) {\n        console.log('BUILD STEP START', step, tempArtefacts)\n        yield put(artefacts.actions.startStep(step))\n        try {\n            const settings: WorkerSafeBuildSettings = {\n                audioSettings: {\n                    channelCount: { in: 2, out: 2 },\n                    bitDepth: BIT_DEPTH,\n                },\n                renderAudioSettings: {\n                    sampleRate: 44100,\n                    blockSize: 4096,\n                    previewDurationSeconds: previewDurationSeconds || 30,\n                },\n                io: patchPlayer ? patchPlayer.io : undefined,\n                rootUrl: url ? Browser.urlDirName(url): null\n            }\n            const requestPayload: RequestPayload = {\n                artefacts: tempArtefacts, step, settings\n            }\n\n            // Didn't manage to build the AssemblyScript compiler in a worker, so execute the ASC compilation\n            // in main thread, while everything else goes to worker.\n            let result: Awaited<ReturnType<typeof Build.performBuildStep>>\n            if (step === 'wasm') {\n                result = yield call(workerSafePerformBuildStep, tempArtefacts, step, settings)\n            } else {\n                const responsePayload: ResponsePayload = yield call(sendBuildStepToWorker, worker, requestPayload)\n                result = responsePayload.result\n                tempArtefacts = responsePayload.artefacts\n            }\n            \n            const errors = result.status === 1 ? result.errors : undefined\n            yield put(\n                artefacts.actions.stepComplete({\n                    status: result.status,\n                    artefacts: tempArtefacts,\n                    errors,\n                    warnings: result.warnings,\n                })\n                )\n            if (result.status === 1) {\n                return\n            }\n        } catch (err: any) {\n            yield put(\n                artefacts.actions.stepComplete({\n                    status: 1,\n                    artefacts: tempArtefacts,\n                    errors: [err.message],\n                    warnings: [],\n                })\n            )\n            if (debug) {\n                throw err\n            }\n            return\n        }\n\n        if (step === 'dspGraph' && outFormat === 'patchPlayer') {\n            patchPlayer = createPatchPlayer(tempArtefacts, url || null)\n        }\n    }\n    yield put(\n        artefacts.actions.buildSuccess({\n            artefacts: tempArtefacts,\n            patchPlayer,\n        })\n    )\n}","import { delay, put, select, take } from 'redux-saga/effects'\nimport { Build } from 'webpd'\nimport app from './app'\nimport { selectAppWillBuildOnLoad } from './app-selectors'\nimport artefacts from './artefacts'\nimport buildInput from './build-input'\nimport {\n    selectBuildInputArrayBuffer,\n    selectBuildInputUrl,\n} from './build-input-selectors'\n\nexport function* initializeApp() {\n    // Initialization of assemblyscript compiler\n    while (!window.asc) {\n        yield delay(100)\n    }\n    Build.setAsc(window.asc)\n\n    // Input from an url needs to be fetched before we continue\n    const url: ReturnType<typeof selectBuildInputUrl> = yield select(\n        selectBuildInputUrl\n    )\n    const arrayBuffer: ReturnType<typeof selectBuildInputArrayBuffer> =\n        yield select(selectBuildInputArrayBuffer)\n    if (url && !arrayBuffer) {\n        const fetchUrlAction:\n            | ReturnType<typeof buildInput.actions.fetchUrlSuccess>\n            | ReturnType<typeof buildInput.actions.fetchUrlError> = yield take([\n            buildInput.actions.fetchUrlSuccess,\n            buildInput.actions.fetchUrlError,\n        ])\n        if (fetchUrlAction.type === buildInput.actions.fetchUrlError.type) {\n            console.log('INIT FAILED ERROR')\n            return \n        }\n    }\n\n    // Finally, start a build if it was requested\n    const willBuildOnLoad: ReturnType<typeof selectAppWillBuildOnLoad> =\n        yield select(selectAppWillBuildOnLoad)\n    if (willBuildOnLoad) {\n        yield put(artefacts.actions.startBuild())\n    }\n\n    // Signal the end of initialization sequence\n    yield put(app.actions.initializationDone())\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { PatchPlayer, PatchPlayerValues } from \"../PatchPlayer/types\"\nimport artefacts from \"./artefacts\"\nimport { actionCleanBuild } from \"./shared-action\"\n\n// We need to kep these out of state\n// because these complex, non-serializable values\n// cause errors with immer and RTK.\nexport const ASSETS: {\n    patchPlayer: PatchPlayer | null\n} = {\n    patchPlayer: null\n}\n\ninterface PatchPlayerState {\n    values: PatchPlayerValues\n}\n\nconst initialState: PatchPlayerState = {\n    values: {},\n}\n\nexport default createSlice({\n    name: 'patchPlayer',\n    initialState,\n    reducers: {\n        valuesChanged: (state, action: PayloadAction<PatchPlayerValues>) => {\n            state.values = action.payload\n        },\n    },\n    extraReducers: (builder) => {\n        builder.addCase(artefacts.actions.buildSuccess, (_, action) => {\n            ASSETS.patchPlayer = action.payload.patchPlayer\n        })\n        builder.addCase(actionCleanBuild, () => {\n            ASSETS.patchPlayer = null\n            return initialState\n        })\n    },\n})","import { RootState } from '.'\nimport { ASSETS } from './patch-player'\n\nexport const selectPatchPlayerValues = (state: RootState) =>\n    state.patchPlayer.values\nexport const selectPatchPlayer = () => ASSETS.patchPlayer","import { configureStore } from '@reduxjs/toolkit'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport buildInput from './build-input'\nimport buildOutput from './build-output'\nimport console_ from './console'\nimport artefacts from './artefacts'\nimport app from './app'\nimport ReduxQuerySync from 'redux-query-sync'\nimport {\n    selectBuildOutputCodeTarget,\n    selectBuildOutputFormat,\n} from './build-output-selectors'\nimport { selectBuildInputUrl } from './build-input-selectors'\nimport createSagaMiddleware from 'redux-saga'\nimport { all } from 'redux-saga/effects'\nimport { watchSetLocalFile, watchSetUrl } from './build-input-sagas'\nimport { watchStartBuild } from './artefacts-sagas'\nimport { selectAppDebug, selectAppWillBuildOnLoad } from './app-selectors'\nimport { initializeApp } from './app-sagas'\nimport patchPlayer from './patch-player'\nimport { PatchPlayerValues } from '../PatchPlayer/types'\nimport { selectPatchPlayerValues } from './patch-player-selectors'\nconst sagaMiddleware = createSagaMiddleware()\n\nexport const store = configureStore({\n    reducer: {\n        app: app.reducer,\n        buildInput: buildInput.reducer,\n        buildOutput: buildOutput.reducer,\n        artefacts: artefacts.reducer,\n        console: console_.reducer,\n        patchPlayer: patchPlayer.reducer,\n    },\n    // Needed because we pass ArrayBuffers and other nice things\n    // in actions\n    middleware: (getDefaultMiddleware) =>\n        getDefaultMiddleware({\n            serializableCheck: false,\n        }).concat([sagaMiddleware]),\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\nexport const useAppDispatch: () => AppDispatch = useDispatch\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\n\n// Redux-sagas for side-effects.\n// Important to start this after all the other, to be sure our\n// store is initialized and synced with url state.\nsagaMiddleware.run(function* rootSaga() {\n    yield all([\n        initializeApp(),\n        watchSetUrl(),\n        watchSetLocalFile(),\n        watchStartBuild(),\n    ])\n})\n\n// Allows auto synchronization between redux state and url search params.\n// NOTE: this seems to sync the state synchronously on load of the page,\n// so no need to worry about race conditions.\nconst _stringToValueFlag = (str: string) => str === '1'\nconst _valueToStringFlag = (value: boolean) => value ? '1' : '0'\n\nReduxQuerySync({\n    store,\n    params: {\n        jsOrAs: {\n            selector: selectBuildOutputCodeTarget,\n            action: buildOutput.actions.setCodeTarget,\n            defaultValue: buildOutput.getInitialState().codeTarget,\n        },\n        target: {\n            selector: selectBuildOutputFormat,\n            action: buildOutput.actions.setFormat,\n            defaultValue: buildOutput.getInitialState().format,\n        },\n        url: {\n            selector: selectBuildInputUrl,\n            action: buildInput.actions.setUrl,\n            defaultValue: buildInput.getInitialState().url,\n        },\n        build: {\n            selector: selectAppWillBuildOnLoad,\n            action: app.actions.setWillBuildOnLoad,\n            defaultValue: app.getInitialState().willBuildOnLoad,\n            stringToValue: _stringToValueFlag,\n            valueToString: _valueToStringFlag,\n        },\n        debug: {\n            selector: selectAppDebug,\n            action: app.actions.setDebug,\n            defaultValue: app.getInitialState().debug,\n            stringToValue: _stringToValueFlag,\n            valueToString: _valueToStringFlag,\n        },\n        pp: {\n            selector: selectPatchPlayerValues,\n            action: patchPlayer.actions.valuesChanged,\n            defaultValue: patchPlayer.getInitialState().values,\n            stringToValue: (str: string) => JSON.parse(str),\n            valueToString: (value: PatchPlayerValues) => JSON.stringify(value),\n        },\n    },\n    replaceState: true,\n    initialTruth: 'location',\n})\n","import type {\r\n  Reducer,\r\n  ReducersMapObject,\r\n  Middleware,\r\n  Action,\r\n  AnyAction,\r\n  StoreEnhancer,\r\n  Store,\r\n  Dispatch,\r\n  PreloadedState,\r\n  CombinedState,\r\n} from 'redux'\r\nimport { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport type { DevToolsEnhancerOptions as DevToolsOptions } from './devtoolsExtension'\r\nimport { composeWithDevTools } from './devtoolsExtension'\r\n\r\nimport isPlainObject from './isPlainObject'\r\nimport type {\r\n  ThunkMiddlewareFor,\r\n  CurriedGetDefaultMiddleware,\r\n} from './getDefaultMiddleware'\r\nimport { curryGetDefaultMiddleware } from './getDefaultMiddleware'\r\nimport type {\r\n  NoInfer,\r\n  ExtractDispatchExtensions,\r\n  ExtractStoreExtensions,\r\n  ExtractStateExtensions,\r\n} from './tsHelpers'\r\nimport { EnhancerArray } from './utils'\r\n\r\nconst IS_PRODUCTION = process.env.NODE_ENV === 'production'\r\n\r\n/**\r\n * Callback function type, to be used in `ConfigureStoreOptions.enhancers`\r\n *\r\n * @public\r\n */\r\nexport type ConfigureEnhancersCallback<E extends Enhancers = Enhancers> = (\r\n  defaultEnhancers: EnhancerArray<[StoreEnhancer<{}, {}>]>\r\n) => E\r\n\r\n/**\r\n * Options for `configureStore()`.\r\n *\r\n * @public\r\n */\r\nexport interface ConfigureStoreOptions<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = Middlewares<S>,\r\n  E extends Enhancers = Enhancers\r\n> {\r\n  /**\r\n   * A single reducer function that will be used as the root reducer, or an\r\n   * object of slice reducers that will be passed to `combineReducers()`.\r\n   */\r\n  reducer: Reducer<S, A> | ReducersMapObject<S, A>\r\n\r\n  /**\r\n   * An array of Redux middleware to install. If not supplied, defaults to\r\n   * the set of middleware returned by `getDefaultMiddleware()`.\r\n   *\r\n   * @example `middleware: (gDM) => gDM().concat(logger, apiMiddleware, yourCustomMiddleware)`\r\n   * @see https://redux-toolkit.js.org/api/getDefaultMiddleware#intended-usage\r\n   */\r\n  middleware?: ((getDefaultMiddleware: CurriedGetDefaultMiddleware<S>) => M) | M\r\n\r\n  /**\r\n   * Whether to enable Redux DevTools integration. Defaults to `true`.\r\n   *\r\n   * Additional configuration can be done by passing Redux DevTools options\r\n   */\r\n  devTools?: boolean | DevToolsOptions\r\n\r\n  /**\r\n   * The initial state, same as Redux's createStore.\r\n   * You may optionally specify it to hydrate the state\r\n   * from the server in universal apps, or to restore a previously serialized\r\n   * user session. If you use `combineReducers()` to produce the root reducer\r\n   * function (either directly or indirectly by passing an object as `reducer`),\r\n   * this must be an object with the same shape as the reducer map keys.\r\n   */\r\n  /*\r\n  Not 100% correct but the best approximation we can get:\r\n  - if S is a `CombinedState` applying a second `CombinedState` on it does not change anything.\r\n  - if it is not, there could be two cases:\r\n    - `ReducersMapObject<S, A>` is being passed in. In this case, we will call `combineReducers` on it and `CombinedState<S>` is correct\r\n    - `Reducer<S, A>` is being passed in. In this case, actually `CombinedState<S>` is wrong and `S` would be correct.\r\n    As we cannot distinguish between those two cases without adding another generic parameter,\r\n    we just make the pragmatic assumption that the latter almost never happens.\r\n  */\r\n  preloadedState?: PreloadedState<CombinedState<NoInfer<S>>>\r\n\r\n  /**\r\n   * The store enhancers to apply. See Redux's `createStore()`.\r\n   * All enhancers will be included before the DevTools Extension enhancer.\r\n   * If you need to customize the order of enhancers, supply a callback\r\n   * function that will receive the original array (ie, `[applyMiddleware]`),\r\n   * and should return a new array (such as `[applyMiddleware, offline]`).\r\n   * If you only need to add middleware, you can use the `middleware` parameter instead.\r\n   */\r\n  enhancers?: E | ConfigureEnhancersCallback<E>\r\n}\r\n\r\ntype Middlewares<S> = ReadonlyArray<Middleware<{}, S>>\r\n\r\ntype Enhancers = ReadonlyArray<StoreEnhancer>\r\n\r\nexport interface ToolkitStore<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = Middlewares<S>\r\n> extends Store<S, A> {\r\n  /**\r\n   * The `dispatch` method of your store, enhanced by all its middlewares.\r\n   *\r\n   * @inheritdoc\r\n   */\r\n  dispatch: ExtractDispatchExtensions<M> & Dispatch<A>\r\n}\r\n\r\n/**\r\n * A Redux store returned by `configureStore()`. Supports dispatching\r\n * side-effectful _thunks_ in addition to plain actions.\r\n *\r\n * @public\r\n */\r\nexport type EnhancedStore<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = Middlewares<S>,\r\n  E extends Enhancers = Enhancers\r\n> = ToolkitStore<S & ExtractStateExtensions<E>, A, M> &\r\n  ExtractStoreExtensions<E>\r\n\r\n/**\r\n * A friendly abstraction over the standard Redux `createStore()` function.\r\n *\r\n * @param options The store configuration.\r\n * @returns A configured Redux store.\r\n *\r\n * @public\r\n */\r\nexport function configureStore<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = [ThunkMiddlewareFor<S>],\r\n  E extends Enhancers = [StoreEnhancer]\r\n>(options: ConfigureStoreOptions<S, A, M, E>): EnhancedStore<S, A, M, E> {\r\n  const curriedGetDefaultMiddleware = curryGetDefaultMiddleware<S>()\r\n\r\n  const {\r\n    reducer = undefined,\r\n    middleware = curriedGetDefaultMiddleware(),\r\n    devTools = true,\r\n    preloadedState = undefined,\r\n    enhancers = undefined,\r\n  } = options || {}\r\n\r\n  let rootReducer: Reducer<S, A>\r\n\r\n  if (typeof reducer === 'function') {\r\n    rootReducer = reducer\r\n  } else if (isPlainObject(reducer)) {\r\n    rootReducer = combineReducers(reducer) as unknown as Reducer<S, A>\r\n  } else {\r\n    throw new Error(\r\n      '\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers'\r\n    )\r\n  }\r\n\r\n  let finalMiddleware = middleware\r\n  if (typeof finalMiddleware === 'function') {\r\n    finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware)\r\n\r\n    if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n      throw new Error(\r\n        'when using a middleware builder function, an array of middleware must be returned'\r\n      )\r\n    }\r\n  }\r\n  if (\r\n    !IS_PRODUCTION &&\r\n    finalMiddleware.some((item: any) => typeof item !== 'function')\r\n  ) {\r\n    throw new Error(\r\n      'each middleware provided to configureStore must be a function'\r\n    )\r\n  }\r\n\r\n  const middlewareEnhancer: StoreEnhancer = applyMiddleware(...finalMiddleware)\r\n\r\n  let finalCompose = compose\r\n\r\n  if (devTools) {\r\n    finalCompose = composeWithDevTools({\r\n      // Enable capture of stack traces for dispatched Redux actions\r\n      trace: !IS_PRODUCTION,\r\n      ...(typeof devTools === 'object' && devTools),\r\n    })\r\n  }\r\n\r\n  const defaultEnhancers = new EnhancerArray(middlewareEnhancer)\r\n  let storeEnhancers: Enhancers = defaultEnhancers\r\n\r\n  if (Array.isArray(enhancers)) {\r\n    storeEnhancers = [middlewareEnhancer, ...enhancers]\r\n  } else if (typeof enhancers === 'function') {\r\n    storeEnhancers = enhancers(defaultEnhancers)\r\n  }\r\n\r\n  const composedEnhancer = finalCompose(...storeEnhancers) as StoreEnhancer<any>\r\n\r\n  return createStore(rootReducer, preloadedState, composedEnhancer)\r\n}\r\n","import styled from 'styled-components'\nimport { Select } from '../components'\nimport { useAppDispatch } from '../store'\nimport buildInput from '../store/build-input'\nimport { theme } from '../theme'\n\ninterface Props {}\n\nconst EXAMPLES = {\n    ginger2: {\n        display: \"Martin's Brinkmann ginger2\",\n        url: './patches/Martin-Brinkmann-ginger2.pd',\n    },\n    randomperc1: {\n        display: \"Martin's Brinkmann randomperc1\",\n        url: './patches/Martin-Brinkmann-randomperc1.pd'\n    }\n}\n\nconst Container = styled.form`\n    display: inline;\n`\n\nconst ExampleSelect = styled(Select)`\n    padding-left: 0;\n    padding-top: ${theme.spacings.space0p1};\n    text-overflow: ellipsis;\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        width: 100%;\n        background-color: transparent;\n        text-align: center;\n    }\n`\n\nconst FromExample: React.FunctionComponent<Props> = () => {\n    const dispatch = useAppDispatch()\n\n    const onChange: React.ChangeEventHandler<HTMLSelectElement> = (event) => {\n        const example = event.currentTarget.value as keyof typeof EXAMPLES\n        dispatch(buildInput.actions.setUrl(EXAMPLES[example].url))\n    }\n\n    return (\n        <Container>\n            <ExampleSelect onChange={onChange}>\n                <option value={''}>Load one of the following examples</option>\n                {Object.entries(EXAMPLES).map(([key, params]) => (\n                    <option value={key} key={key}>{params.display}</option>\n                ))}\n            </ExampleSelect>\n        </Container>\n    )\n}\n\nexport default FromExample\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export const COMMON_MIME_TYPES = new Map([\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\n    ['aac', 'audio/aac'],\n    ['abw', 'application/x-abiword'],\n    ['arc', 'application/x-freearc'],\n    ['avif', 'image/avif'],\n    ['avi', 'video/x-msvideo'],\n    ['azw', 'application/vnd.amazon.ebook'],\n    ['bin', 'application/octet-stream'],\n    ['bmp', 'image/bmp'],\n    ['bz', 'application/x-bzip'],\n    ['bz2', 'application/x-bzip2'],\n    ['cda', 'application/x-cdf'],\n    ['csh', 'application/x-csh'],\n    ['css', 'text/css'],\n    ['csv', 'text/csv'],\n    ['doc', 'application/msword'],\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\n    ['eot', 'application/vnd.ms-fontobject'],\n    ['epub', 'application/epub+zip'],\n    ['gz', 'application/gzip'],\n    ['gif', 'image/gif'],\n    ['heic', 'image/heic'],\n    ['heif', 'image/heif'],\n    ['htm', 'text/html'],\n    ['html', 'text/html'],\n    ['ico', 'image/vnd.microsoft.icon'],\n    ['ics', 'text/calendar'],\n    ['jar', 'application/java-archive'],\n    ['jpeg', 'image/jpeg'],\n    ['jpg', 'image/jpeg'],\n    ['js', 'text/javascript'],\n    ['json', 'application/json'],\n    ['jsonld', 'application/ld+json'],\n    ['mid', 'audio/midi'],\n    ['midi', 'audio/midi'],\n    ['mjs', 'text/javascript'],\n    ['mp3', 'audio/mpeg'],\n    ['mp4', 'video/mp4'],\n    ['mpeg', 'video/mpeg'],\n    ['mpkg', 'application/vnd.apple.installer+xml'],\n    ['odp', 'application/vnd.oasis.opendocument.presentation'],\n    ['ods', 'application/vnd.oasis.opendocument.spreadsheet'],\n    ['odt', 'application/vnd.oasis.opendocument.text'],\n    ['oga', 'audio/ogg'],\n    ['ogv', 'video/ogg'],\n    ['ogx', 'application/ogg'],\n    ['opus', 'audio/opus'],\n    ['otf', 'font/otf'],\n    ['png', 'image/png'],\n    ['pdf', 'application/pdf'],\n    ['php', 'application/x-httpd-php'],\n    ['ppt', 'application/vnd.ms-powerpoint'],\n    ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'],\n    ['rar', 'application/vnd.rar'],\n    ['rtf', 'application/rtf'],\n    ['sh', 'application/x-sh'],\n    ['svg', 'image/svg+xml'],\n    ['swf', 'application/x-shockwave-flash'],\n    ['tar', 'application/x-tar'],\n    ['tif', 'image/tiff'],\n    ['tiff', 'image/tiff'],\n    ['ts', 'video/mp2t'],\n    ['ttf', 'font/ttf'],\n    ['txt', 'text/plain'],\n    ['vsd', 'application/vnd.visio'],\n    ['wav', 'audio/wav'],\n    ['weba', 'audio/webm'],\n    ['webm', 'video/webm'],\n    ['webp', 'image/webp'],\n    ['woff', 'font/woff'],\n    ['woff2', 'font/woff2'],\n    ['xhtml', 'application/xhtml+xml'],\n    ['xls', 'application/vnd.ms-excel'],\n    ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\n    ['xml', 'application/xml'],\n    ['xul', 'application/vnd.mozilla.xul+xml'],\n    ['zip', 'application/zip'],\n    ['7z', 'application/x-7z-compressed'],\n\n    // Others\n    ['mkv', 'video/x-matroska'],\n    ['mov', 'video/quicktime'],\n    ['msg', 'application/vnd.ms-outlook']\n]);\n\n\nexport function toFileWithPath(file: FileWithPath, path?: string): FileWithPath {\n    const f = withMimeType(file);\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\n        const {webkitRelativePath} = file;\n        Object.defineProperty(f, 'path', {\n            value: typeof path === 'string'\n                ? path\n                // If <input webkitdirectory> is set,\n                // the File will have a {webkitRelativePath} property\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\n                    ? webkitRelativePath\n                    : file.name,\n            writable: false,\n            configurable: false,\n            enumerable: true\n        });\n    }\n\n    return f;\n}\n\nexport interface FileWithPath extends File {\n    readonly path?: string;\n}\n\nfunction withMimeType(file: FileWithPath) {\n    const {name} = file;\n    const hasExtension = name && name.lastIndexOf('.') !== -1;\n\n    if (hasExtension && !file.type) {\n        const ext = name.split('.')\n            .pop()!.toLowerCase();\n        const type = COMMON_MIME_TYPES.get(ext);\n        if (type) {\n            Object.defineProperty(file, 'type', {\n                value: type,\n                writable: false,\n                configurable: false,\n                enumerable: true\n            });\n        }\n    }\n\n    return file;\n}\n","import {FileWithPath, toFileWithPath} from './file';\n\n\nconst FILES_TO_IGNORE = [\n    // Thumbnail cache files for macOS and Windows\n    '.DS_Store', // macOs\n    'Thumbs.db'  // Windows\n];\n\n\n/**\n * Convert a DragEvent's DataTrasfer object to a list of File objects\n * NOTE: If some of the items are folders,\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\n *\n * EXPERIMENTAL: A list of https://developer.mozilla.org/en-US/docs/Web/API/FileSystemHandle objects can also be passed as an arg\n * and a list of File objects will be returned.\n *\n * @param evt\n */\nexport async function fromEvent(evt: Event | any): Promise<(FileWithPath | DataTransferItem)[]> {\n    if (isObject<DragEvent>(evt) && isDataTransfer(evt.dataTransfer)) {\n        return getDataTransferFiles(evt.dataTransfer, evt.type);\n    } else if (isChangeEvt(evt)) {\n        return getInputFiles(evt);\n    } else if (Array.isArray(evt) && evt.every(item => 'getFile' in item && typeof item.getFile === 'function')) {\n        return getFsHandleFiles(evt)\n    }\n    return [];\n}\n\nfunction isDataTransfer(value: any): value is DataTransfer {\n    return isObject(value);\n}\n\nfunction isChangeEvt(value: any): value is Event {\n    return isObject<Event>(value) && isObject(value.target);\n}\n\nfunction isObject<T>(v: any): v is T {\n    return typeof v === 'object' && v !== null\n}\n\nfunction getInputFiles(evt: Event) {\n    return fromList<FileWithPath>((evt.target as HTMLInputElement).files).map(file => toFileWithPath(file));\n}\n\n// Ee expect each handle to be https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\nasync function getFsHandleFiles(handles: any[]) {\n    const files = await Promise.all(handles.map(h => h.getFile()));\n    return files.map(file => toFileWithPath(file));\n}\n\n\nasync function getDataTransferFiles(dt: DataTransfer, type: string) {\n    // IE11 does not support dataTransfer.items\n    // See https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/items#Browser_compatibility\n    if (dt.items) {\n        const items = fromList<DataTransferItem>(dt.items)\n            .filter(item => item.kind === 'file');\n        // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\n        // only 'dragstart' and 'drop' has access to the data (source node)\n        if (type !== 'drop') {\n            return items;\n        }\n        const files = await Promise.all(items.map(toFilePromises));\n        return noIgnoredFiles(flatten<FileWithPath>(files));\n    }\n\n    return noIgnoredFiles(fromList<FileWithPath>(dt.files)\n        .map(file => toFileWithPath(file)));\n}\n\nfunction noIgnoredFiles(files: FileWithPath[]) {\n    return files.filter(file => FILES_TO_IGNORE.indexOf(file.name) === -1);\n}\n\n// IE11 does not support Array.from()\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\nfunction fromList<T>(items: DataTransferItemList | FileList | null): T[] {\n    if (items === null) {\n        return [];\n    }\n\n    const files = [];\n\n    // tslint:disable: prefer-for-of\n    for (let i = 0; i < items.length; i++) {\n        const file = items[i];\n        files.push(file);\n    }\n\n    return files as any;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\nfunction toFilePromises(item: DataTransferItem) {\n    if (typeof item.webkitGetAsEntry !== 'function') {\n        return fromDataTransferItem(item);\n    }\n\n    const entry = item.webkitGetAsEntry();\n\n    // Safari supports dropping an image node from a different window and can be retrieved using\n    // the DataTransferItem.getAsFile() API\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\n    if (entry && entry.isDirectory) {\n        return fromDirEntry(entry) as any;\n    }\n\n    return fromDataTransferItem(item);\n}\n\nfunction flatten<T>(items: any[]): T[] {\n    return items.reduce((acc, files) => [\n        ...acc,\n        ...(Array.isArray(files) ? flatten(files) : [files])\n    ], []);\n}\n\nfunction fromDataTransferItem(item: DataTransferItem) {\n    const file = item.getAsFile();\n    if (!file) {\n        return Promise.reject(`${item} is not a File`);\n    }\n    const fwp = toFileWithPath(file);\n    return Promise.resolve(fwp);\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\nasync function fromEntry(entry: any) {\n    return entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry);\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\nfunction fromDirEntry(entry: any) {\n    const reader = entry.createReader();\n\n    return new Promise<FileArray[]>((resolve, reject) => {\n        const entries: Promise<FileValue[]>[] = [];\n\n        function readEntries() {\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\n            reader.readEntries(async (batch: any[]) => {\n                if (!batch.length) {\n                    // Done reading directory\n                    try {\n                        const files = await Promise.all(entries);\n                        resolve(files);\n                    } catch (err) {\n                        reject(err);\n                    }\n                } else {\n                    const items = Promise.all(batch.map(fromEntry));\n                    entries.push(items);\n\n                    // Continue reading\n                    readEntries();\n                }\n            }, (err: any) => {\n                reject(err);\n            });\n        }\n\n        readEntries();\n    });\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\nasync function fromFileEntry(entry: any) {\n    return new Promise<FileWithPath>((resolve, reject) => {\n        entry.file((file: FileWithPath) => {\n            const fwp = toFileWithPath(file, entry.fullPath);\n            resolve(fwp);\n        }, (err: any) => {\n            reject(err);\n        });\n    });\n}\n\n// Infinite type recursion\n// https://github.com/Microsoft/TypeScript/issues/3496#issuecomment-128553540\ninterface FileArray extends Array<FileValue> {}\ntype FileValue = FileWithPath\n    | FileArray[];\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport accepts from \"attr-accept\"; // Error codes\n\nexport var FILE_INVALID_TYPE = \"file-invalid-type\";\nexport var FILE_TOO_LARGE = \"file-too-large\";\nexport var FILE_TOO_SMALL = \"file-too-small\";\nexport var TOO_MANY_FILES = \"too-many-files\";\nexport var ErrorCode = {\n  FileInvalidType: FILE_INVALID_TYPE,\n  FileTooLarge: FILE_TOO_LARGE,\n  FileTooSmall: FILE_TOO_SMALL,\n  TooManyFiles: TOO_MANY_FILES\n}; // File Errors\n\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(\", \")) : accept;\n  return {\n    code: FILE_INVALID_TYPE,\n    message: \"File type must be \".concat(messageSuffix)\n  };\n};\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\n  return {\n    code: FILE_TOO_LARGE,\n    message: \"File is larger than \".concat(maxSize, \" \").concat(maxSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\n  return {\n    code: FILE_TOO_SMALL,\n    message: \"File is smaller than \".concat(minSize, \" \").concat(minSize === 1 ? \"byte\" : \"bytes\")\n  };\n};\nexport var TOO_MANY_FILES_REJECTION = {\n  code: TOO_MANY_FILES,\n  message: \"Too many files\"\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\n\nexport function fileAccepted(file, accept) {\n  var isAcceptable = file.type === \"application/x-moz-file\" || accepts(file, accept);\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\n}\nexport function fileMatchSize(file, minSize, maxSize) {\n  if (isDefined(file.size)) {\n    if (isDefined(minSize) && isDefined(maxSize)) {\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\n  }\n\n  return [true, null];\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n/**\n *\n * @param {object} options\n * @param {File[]} options.files\n * @param {string|string[]} [options.accept]\n * @param {number} [options.minSize]\n * @param {number} [options.maxSize]\n * @param {boolean} [options.multiple]\n * @param {number} [options.maxFiles]\n * @param {(f: File) => FileError|FileError[]|null} [options.validator]\n * @returns\n */\n\n\nexport function allFilesAccepted(_ref) {\n  var files = _ref.files,\n      accept = _ref.accept,\n      minSize = _ref.minSize,\n      maxSize = _ref.maxSize,\n      multiple = _ref.multiple,\n      maxFiles = _ref.maxFiles,\n      validator = _ref.validator;\n\n  if (!multiple && files.length > 1 || multiple && maxFiles >= 1 && files.length > maxFiles) {\n    return false;\n  }\n\n  return files.every(function (file) {\n    var _fileAccepted = fileAccepted(file, accept),\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\n        accepted = _fileAccepted2[0];\n\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\n        sizeMatch = _fileMatchSize2[0];\n\n    var customErrors = validator ? validator(file) : null;\n    return accepted && sizeMatch && !customErrors;\n  });\n} // React's synthetic events has event.isPropagationStopped,\n// but to remain compatibility with other libs (Preact) fall back\n// to check event.cancelBubble\n\nexport function isPropagationStopped(event) {\n  if (typeof event.isPropagationStopped === \"function\") {\n    return event.isPropagationStopped();\n  } else if (typeof event.cancelBubble !== \"undefined\") {\n    return event.cancelBubble;\n  }\n\n  return false;\n}\nexport function isEvtWithFiles(event) {\n  if (!event.dataTransfer) {\n    return !!event.target && !!event.target.files;\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\n\n\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nexport function isKindFile(item) {\n  return _typeof(item) === \"object\" && item !== null && item.kind === \"file\";\n} // allow the entire document to be a drag target\n\nexport function onDocumentDragOver(event) {\n  event.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf(\"MSIE\") !== -1 || userAgent.indexOf(\"Trident/\") !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf(\"Edge/\") !== -1;\n}\n\nexport function isIeOrEdge() {\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\n  return isIe(userAgent) || isEdge(userAgent);\n}\n/**\n * This is intended to be used to compose event handlers\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\n * Note that the check is done on the first invoke too,\n * meaning that if propagation was stopped before invoking the fns,\n * no handlers will be executed.\n *\n * @param {Function} fns the event hanlder functions\n * @return {Function} the event handler to add to an element\n */\n\nexport function composeEventHandlers() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return fns.some(function (fn) {\n      if (!isPropagationStopped(event) && fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return isPropagationStopped(event);\n    });\n  };\n}\n/**\n * canUseFileSystemAccessAPI checks if the [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API)\n * is supported by the browser.\n * @returns {boolean}\n */\n\nexport function canUseFileSystemAccessAPI() {\n  return \"showOpenFilePicker\" in window;\n}\n/**\n * Convert the `{accept}` dropzone prop to the\n * `{types}` option for https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n *\n * @param {AcceptProp} accept\n * @returns {{accept: string[]}[]}\n */\n\nexport function pickerOptionsFromAccept(accept) {\n  if (isDefined(accept)) {\n    var acceptForPicker = Object.entries(accept).filter(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          mimeType = _ref3[0],\n          ext = _ref3[1];\n\n      var ok = true;\n\n      if (!isMIMEType(mimeType)) {\n        console.warn(\"Skipped \\\"\".concat(mimeType, \"\\\" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.\"));\n        ok = false;\n      }\n\n      if (!Array.isArray(ext) || !ext.every(isExt)) {\n        console.warn(\"Skipped \\\"\".concat(mimeType, \"\\\" because an invalid file extension was provided.\"));\n        ok = false;\n      }\n\n      return ok;\n    }).reduce(function (agg, _ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          mimeType = _ref5[0],\n          ext = _ref5[1];\n\n      return _objectSpread(_objectSpread({}, agg), {}, _defineProperty({}, mimeType, ext));\n    }, {});\n    return [{\n      // description is required due to https://crbug.com/1264708\n      description: \"Files\",\n      accept: acceptForPicker\n    }];\n  }\n\n  return accept;\n}\n/**\n * Convert the `{accept}` dropzone prop to an array of MIME types/extensions.\n * @param {AcceptProp} accept\n * @returns {string}\n */\n\nexport function acceptPropAsAcceptAttr(accept) {\n  if (isDefined(accept)) {\n    return Object.entries(accept).reduce(function (a, _ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          mimeType = _ref7[0],\n          ext = _ref7[1];\n\n      return [].concat(_toConsumableArray(a), [mimeType], _toConsumableArray(ext));\n    }, []) // Silently discard invalid entries as pickerOptionsFromAccept warns about these\n    .filter(function (v) {\n      return isMIMEType(v) || isExt(v);\n    }).join(\",\");\n  }\n\n  return undefined;\n}\n/**\n * Check if v is an exception caused by aborting a request (e.g window.showOpenFilePicker()).\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is an abort exception.\n */\n\nexport function isAbort(v) {\n  return v instanceof DOMException && (v.name === \"AbortError\" || v.code === v.ABORT_ERR);\n}\n/**\n * Check if v is a security error.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\n * @param {any} v\n * @returns {boolean} True if v is a security error.\n */\n\nexport function isSecurityError(v) {\n  return v instanceof DOMException && (v.name === \"SecurityError\" || v.code === v.SECURITY_ERR);\n}\n/**\n * Check if v is a MIME type string.\n *\n * See accepted format: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers.\n *\n * @param {string} v\n */\n\nexport function isMIMEType(v) {\n  return v === \"audio/*\" || v === \"video/*\" || v === \"image/*\" || v === \"text/*\" || /\\w+\\/[-+.\\w]+/g.test(v);\n}\n/**\n * Check if v is a file extension.\n * @param {string} v\n */\n\nexport function isExt(v) {\n  return /^.*\\.[\\w]+$/.test(v);\n}\n/**\n * @typedef {Object.<string, string[]>} AcceptProp\n */\n\n/**\n * @typedef {object} FileError\n * @property {string} message\n * @property {ErrorCode|string} code\n */\n\n/**\n * @typedef {\"file-invalid-type\"|\"file-too-large\"|\"file-too-small\"|\"too-many-files\"} ErrorCode\n */","var _excluded = [\"children\"],\n    _excluded2 = [\"open\"],\n    _excluded3 = [\"refKey\", \"role\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"],\n    _excluded4 = [\"refKey\", \"onChange\", \"onClick\"];\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint prefer-template: 0 */\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { fromEvent } from \"file-selector\";\nimport { acceptPropAsAcceptAttr, allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, canUseFileSystemAccessAPI, isAbort, isEvtWithFiles, isIeOrEdge, isPropagationStopped, isSecurityError, onDocumentDragOver, pickerOptionsFromAccept, TOO_MANY_FILES_REJECTION } from \"./utils/index\";\n/**\n * Convenience wrapper component for the `useDropzone` hook\n *\n * ```jsx\n * <Dropzone>\n *   {({getRootProps, getInputProps}) => (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag 'n' drop some files here, or click to select files</p>\n *     </div>\n *   )}\n * </Dropzone>\n * ```\n */\n\nvar Dropzone = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      params = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDropzone = useDropzone(params),\n      open = _useDropzone.open,\n      props = _objectWithoutProperties(_useDropzone, _excluded2);\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: open\n    };\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\n\n  return /*#__PURE__*/React.createElement(Fragment, null, children(_objectSpread(_objectSpread({}, props), {}, {\n    open: open\n  })));\n});\nDropzone.displayName = \"Dropzone\"; // Add default props for react-docgen\n\nvar defaultProps = {\n  disabled: false,\n  getFilesFromEvent: fromEvent,\n  maxSize: Infinity,\n  minSize: 0,\n  multiple: true,\n  maxFiles: 0,\n  preventDropOnDocument: true,\n  noClick: false,\n  noKeyboard: false,\n  noDrag: false,\n  noDragEventsBubbling: false,\n  validator: null,\n  useFsAccessApi: true,\n  autoFocus: false\n};\nDropzone.defaultProps = defaultProps;\nDropzone.propTypes = {\n  /**\n   * Render function that exposes the dropzone state and prop getter fns\n   *\n   * @param {object} params\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\n   * @param {Function} params.open Open the native file selection dialog\n   * @param {boolean} params.isFocused Dropzone area is in focus\n   * @param {boolean} params.isFileDialogActive File dialog is opened\n   * @param {boolean} params.isDragActive Active drag is in progress\n   * @param {boolean} params.isDragAccept Dragged files are accepted\n   * @param {boolean} params.isDragReject Some dragged files are rejected\n   * @param {File[]} params.acceptedFiles Accepted files\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\n   */\n  children: PropTypes.func,\n\n  /**\n   * Set accepted file types.\n   * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).\n   */\n  accept: PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),\n\n  /**\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * If true, disables click to open the native file selection dialog\n   */\n  noClick: PropTypes.bool,\n\n  /**\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\n   * Note that it also stops tracking the focus state.\n   */\n  noKeyboard: PropTypes.bool,\n\n  /**\n   * If true, disables drag 'n' drop\n   */\n  noDrag: PropTypes.bool,\n\n  /**\n   * If true, stops drag event propagation to parents\n   */\n  noDragEventsBubbling: PropTypes.bool,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Maximum accepted number of files\n   * The default value is 0 which means there is no limitation to how many files are accepted.\n   */\n  maxFiles: PropTypes.number,\n\n  /**\n   * Enable/disable the dropzone\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Use this to provide a custom file aggregator\n   *\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  getFilesFromEvent: PropTypes.func,\n\n  /**\n   * Cb for when closing the file dialog with no selection\n   */\n  onFileDialogCancel: PropTypes.func,\n\n  /**\n   * Cb for when opening the file dialog\n   */\n  onFileDialogOpen: PropTypes.func,\n\n  /**\n   * Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n   * to open the file picker instead of using an `<input type=\"file\">` click event.\n   */\n  useFsAccessApi: PropTypes.bool,\n\n  /**\n   * Set to true to focus the root element on render\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * Cb for when the `dragenter` event occurs.\n   *\n   * @param {DragEvent} event\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * Cb for when the `dragleave` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Cb for when the `dragover` event occurs\n   *\n   * @param {DragEvent} event\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n   *\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\n   * If `multiple` is set to false and additional files are dropped,\n   * all files besides the first will be rejected.\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n   *\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n   *\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n   *\n   * ```js\n   * function onDrop(acceptedFiles) {\n   *   const req = request.post('/upload')\n   *   acceptedFiles.forEach(file => {\n   *     req.attach(file.name, file)\n   *   })\n   *   req.end(callback)\n   * }\n   * ```\n   *\n   * @param {File[]} acceptedFiles\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are accepted, this callback is not invoked.\n   *\n   * @param {File[]} files\n   * @param {(DragEvent|Event)} event\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * Cb for when the `drop` event occurs.\n   * Note that if no files are rejected, this callback is not invoked.\n   *\n   * @param {FileRejection[]} fileRejections\n   * @param {(DragEvent|Event)} event\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * Cb for when there's some error from any of the promises.\n   *\n   * @param {Error} error\n   */\n  onError: PropTypes.func,\n\n  /**\n   * Custom validation function. It must return null if there's no errors.\n   * @param {File} file\n   * @returns {FileError|FileError[]|null}\n   */\n  validator: PropTypes.func\n};\nexport default Dropzone;\n/**\n * A function that is invoked for the `dragenter`,\n * `dragover` and `dragleave` events.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dragCb\n * @param {DragEvent} event\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are not files (such as link, text, etc.).\n *\n * @callback dropCb\n * @param {File[]} acceptedFiles List of accepted files\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n * It is not invoked if the items are files (such as link, text, etc.).\n *\n * @callback dropAcceptedCb\n * @param {File[]} files List of accepted files that meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is invoked for the `drop` or input change event.\n *\n * @callback dropRejectedCb\n * @param {File[]} files List of rejected files that do not meet the given criteria\n * (`accept`, `multiple`, `minSize`, `maxSize`)\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n */\n\n/**\n * A function that is used aggregate files,\n * in a asynchronous fashion, from drag or input change events.\n *\n * @callback getFilesFromEvent\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\n * @returns {(File[]|Promise<File[]>)}\n */\n\n/**\n * An object with the current dropzone state.\n *\n * @typedef {object} DropzoneState\n * @property {boolean} isFocused Dropzone area is in focus\n * @property {boolean} isFileDialogActive File dialog is opened\n * @property {boolean} isDragActive Active drag is in progress\n * @property {boolean} isDragAccept Dragged files are accepted\n * @property {boolean} isDragReject Some dragged files are rejected\n * @property {File[]} acceptedFiles Accepted files\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\n */\n\n/**\n * An object with the dropzone methods.\n *\n * @typedef {object} DropzoneMethods\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\n * @property {Function} open Open the native file selection dialog\n */\n\nvar initialState = {\n  isFocused: false,\n  isFileDialogActive: false,\n  isDragActive: false,\n  isDragAccept: false,\n  isDragReject: false,\n  acceptedFiles: [],\n  fileRejections: []\n};\n/**\n * A React hook that creates a drag 'n' drop area.\n *\n * ```jsx\n * function MyDropzone(props) {\n *   const {getRootProps, getInputProps} = useDropzone({\n *     onDrop: acceptedFiles => {\n *       // do something with the File objects, e.g. upload to some server\n *     }\n *   });\n *   return (\n *     <div {...getRootProps()}>\n *       <input {...getInputProps()} />\n *       <p>Drag and drop some files here, or click to select files</p>\n *     </div>\n *   )\n * }\n * ```\n *\n * @function useDropzone\n *\n * @param {object} props\n * @param {import(\"./utils\").AcceptProp} [props.accept] Set accepted file types.\n * Checkout https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker types option for more information.\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n * Windows. In some cases there might not be a mime type set at all (https://github.com/react-dropzone/react-dropzone/issues/276).\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\n * Note that it also stops tracking the focus state.\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\n * @param {boolean} [props.useFsAccessApi] Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\n * to open the file picker instead of using an `<input type=\"file\">` click event.\n * @param {boolean} autoFocus Set to true to auto focus the root element.\n * @param {Function} [props.onFileDialogOpen] Cb for when opening the file dialog\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\n *\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\n * `accept` must be an object with keys as a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) and the value an array of file extensions (optional).\n * If `multiple` is set to false and additional files are dropped,\n * all files besides the first will be rejected.\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\n *\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\n *\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\n *\n * ```js\n * function onDrop(acceptedFiles) {\n *   const req = request.post('/upload')\n *   acceptedFiles.forEach(file => {\n *     req.attach(file.name, file)\n *   })\n *   req.end(callback)\n * }\n * ```\n * @param {dropAcceptedCb} [props.onDropAccepted]\n * @param {dropRejectedCb} [props.onDropRejected]\n * @param {(error: Error) => void} [props.onError]\n *\n * @returns {DropzoneState & DropzoneMethods}\n */\n\nexport function useDropzone() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n      accept = _defaultProps$props.accept,\n      disabled = _defaultProps$props.disabled,\n      getFilesFromEvent = _defaultProps$props.getFilesFromEvent,\n      maxSize = _defaultProps$props.maxSize,\n      minSize = _defaultProps$props.minSize,\n      multiple = _defaultProps$props.multiple,\n      maxFiles = _defaultProps$props.maxFiles,\n      onDragEnter = _defaultProps$props.onDragEnter,\n      onDragLeave = _defaultProps$props.onDragLeave,\n      onDragOver = _defaultProps$props.onDragOver,\n      onDrop = _defaultProps$props.onDrop,\n      onDropAccepted = _defaultProps$props.onDropAccepted,\n      onDropRejected = _defaultProps$props.onDropRejected,\n      onFileDialogCancel = _defaultProps$props.onFileDialogCancel,\n      onFileDialogOpen = _defaultProps$props.onFileDialogOpen,\n      useFsAccessApi = _defaultProps$props.useFsAccessApi,\n      autoFocus = _defaultProps$props.autoFocus,\n      preventDropOnDocument = _defaultProps$props.preventDropOnDocument,\n      noClick = _defaultProps$props.noClick,\n      noKeyboard = _defaultProps$props.noKeyboard,\n      noDrag = _defaultProps$props.noDrag,\n      noDragEventsBubbling = _defaultProps$props.noDragEventsBubbling,\n      onError = _defaultProps$props.onError,\n      validator = _defaultProps$props.validator;\n\n  var acceptAttr = useMemo(function () {\n    return acceptPropAsAcceptAttr(accept);\n  }, [accept]);\n  var pickerTypes = useMemo(function () {\n    return pickerOptionsFromAccept(accept);\n  }, [accept]);\n  var onFileDialogOpenCb = useMemo(function () {\n    return typeof onFileDialogOpen === \"function\" ? onFileDialogOpen : noop;\n  }, [onFileDialogOpen]);\n  var onFileDialogCancelCb = useMemo(function () {\n    return typeof onFileDialogCancel === \"function\" ? onFileDialogCancel : noop;\n  }, [onFileDialogCancel]);\n  /**\n   * @constant\n   * @type {React.MutableRefObject<HTMLElement>}\n   */\n\n  var rootRef = useRef(null);\n  var inputRef = useRef(null);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var isFocused = state.isFocused,\n      isFileDialogActive = state.isFileDialogActive;\n  var fsAccessApiWorksRef = useRef(typeof window !== \"undefined\" && window.isSecureContext && useFsAccessApi && canUseFileSystemAccessAPI()); // Update file dialog active state when the window is focused on\n\n  var onWindowFocus = function onWindowFocus() {\n    // Execute the timeout only if the file dialog is opened in the browser\n    if (!fsAccessApiWorksRef.current && isFileDialogActive) {\n      setTimeout(function () {\n        if (inputRef.current) {\n          var files = inputRef.current.files;\n\n          if (!files.length) {\n            dispatch({\n              type: \"closeDialog\"\n            });\n            onFileDialogCancelCb();\n          }\n        }\n      }, 300);\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener(\"focus\", onWindowFocus, false);\n    return function () {\n      window.removeEventListener(\"focus\", onWindowFocus, false);\n    };\n  }, [inputRef, isFileDialogActive, onFileDialogCancelCb, fsAccessApiWorksRef]);\n  var dragTargetsRef = useRef([]);\n\n  var onDocumentDrop = function onDocumentDrop(event) {\n    if (rootRef.current && rootRef.current.contains(event.target)) {\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n\n    event.preventDefault();\n    dragTargetsRef.current = [];\n  };\n\n  useEffect(function () {\n    if (preventDropOnDocument) {\n      document.addEventListener(\"dragover\", onDocumentDragOver, false);\n      document.addEventListener(\"drop\", onDocumentDrop, false);\n    }\n\n    return function () {\n      if (preventDropOnDocument) {\n        document.removeEventListener(\"dragover\", onDocumentDragOver);\n        document.removeEventListener(\"drop\", onDocumentDrop);\n      }\n    };\n  }, [rootRef, preventDropOnDocument]); // Auto focus the root when autoFocus is true\n\n  useEffect(function () {\n    if (!disabled && autoFocus && rootRef.current) {\n      rootRef.current.focus();\n    }\n\n    return function () {};\n  }, [rootRef, autoFocus, disabled]);\n  var onErrCb = useCallback(function (e) {\n    if (onError) {\n      onError(e);\n    } else {\n      // Let the user know something's gone wrong if they haven't provided the onError cb.\n      console.error(e);\n    }\n  }, [onError]);\n  var onDragEnterCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        var fileCount = files.length;\n        var isDragAccept = fileCount > 0 && allFilesAccepted({\n          files: files,\n          accept: acceptAttr,\n          minSize: minSize,\n          maxSize: maxSize,\n          multiple: multiple,\n          maxFiles: maxFiles,\n          validator: validator\n        });\n        var isDragReject = fileCount > 0 && !isDragAccept;\n        dispatch({\n          isDragAccept: isDragAccept,\n          isDragReject: isDragReject,\n          isDragActive: true,\n          type: \"setDraggedFiles\"\n        });\n\n        if (onDragEnter) {\n          onDragEnter(event);\n        }\n      }).catch(function (e) {\n        return onErrCb(e);\n      });\n    }\n  }, [getFilesFromEvent, onDragEnter, onErrCb, noDragEventsBubbling, acceptAttr, minSize, maxSize, multiple, maxFiles, validator]);\n  var onDragOverCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event);\n    var hasFiles = isEvtWithFiles(event);\n\n    if (hasFiles && event.dataTransfer) {\n      try {\n        event.dataTransfer.dropEffect = \"copy\";\n      } catch (_unused) {}\n      /* eslint-disable-line no-empty */\n\n    }\n\n    if (hasFiles && onDragOver) {\n      onDragOver(event);\n    }\n\n    return false;\n  }, [onDragOver, noDragEventsBubbling]);\n  var onDragLeaveCb = useCallback(function (event) {\n    event.preventDefault();\n    event.persist();\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\n\n    var targets = dragTargetsRef.current.filter(function (target) {\n      return rootRef.current && rootRef.current.contains(target);\n    }); // Make sure to remove a target present multiple times only once\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\n\n    var targetIdx = targets.indexOf(event.target);\n\n    if (targetIdx !== -1) {\n      targets.splice(targetIdx, 1);\n    }\n\n    dragTargetsRef.current = targets;\n\n    if (targets.length > 0) {\n      return;\n    }\n\n    dispatch({\n      type: \"setDraggedFiles\",\n      isDragActive: false,\n      isDragAccept: false,\n      isDragReject: false\n    });\n\n    if (isEvtWithFiles(event) && onDragLeave) {\n      onDragLeave(event);\n    }\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\n  var setFiles = useCallback(function (files, event) {\n    var acceptedFiles = [];\n    var fileRejections = [];\n    files.forEach(function (file) {\n      var _fileAccepted = fileAccepted(file, acceptAttr),\n          _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\n          accepted = _fileAccepted2[0],\n          acceptError = _fileAccepted2[1];\n\n      var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\n          _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\n          sizeMatch = _fileMatchSize2[0],\n          sizeError = _fileMatchSize2[1];\n\n      var customErrors = validator ? validator(file) : null;\n\n      if (accepted && sizeMatch && !customErrors) {\n        acceptedFiles.push(file);\n      } else {\n        var errors = [acceptError, sizeError];\n\n        if (customErrors) {\n          errors = errors.concat(customErrors);\n        }\n\n        fileRejections.push({\n          file: file,\n          errors: errors.filter(function (e) {\n            return e;\n          })\n        });\n      }\n    });\n\n    if (!multiple && acceptedFiles.length > 1 || multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles) {\n      // Reject everything and empty accepted files\n      acceptedFiles.forEach(function (file) {\n        fileRejections.push({\n          file: file,\n          errors: [TOO_MANY_FILES_REJECTION]\n        });\n      });\n      acceptedFiles.splice(0);\n    }\n\n    dispatch({\n      acceptedFiles: acceptedFiles,\n      fileRejections: fileRejections,\n      type: \"setFiles\"\n    });\n\n    if (onDrop) {\n      onDrop(acceptedFiles, fileRejections, event);\n    }\n\n    if (fileRejections.length > 0 && onDropRejected) {\n      onDropRejected(fileRejections, event);\n    }\n\n    if (acceptedFiles.length > 0 && onDropAccepted) {\n      onDropAccepted(acceptedFiles, event);\n    }\n  }, [dispatch, multiple, acceptAttr, minSize, maxSize, maxFiles, onDrop, onDropAccepted, onDropRejected, validator]);\n  var onDropCb = useCallback(function (event) {\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\n\n    event.persist();\n    stopPropagation(event);\n    dragTargetsRef.current = [];\n\n    if (isEvtWithFiles(event)) {\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\n          return;\n        }\n\n        setFiles(files, event);\n      }).catch(function (e) {\n        return onErrCb(e);\n      });\n    }\n\n    dispatch({\n      type: \"reset\"\n    });\n  }, [getFilesFromEvent, setFiles, onErrCb, noDragEventsBubbling]); // Fn for opening the file dialog programmatically\n\n  var openFileDialog = useCallback(function () {\n    // No point to use FS access APIs if context is not secure\n    // https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts#feature_detection\n    if (fsAccessApiWorksRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb(); // https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\n\n      var opts = {\n        multiple: multiple,\n        types: pickerTypes\n      };\n      window.showOpenFilePicker(opts).then(function (handles) {\n        return getFilesFromEvent(handles);\n      }).then(function (files) {\n        setFiles(files, null);\n        dispatch({\n          type: \"closeDialog\"\n        });\n      }).catch(function (e) {\n        // AbortError means the user canceled\n        if (isAbort(e)) {\n          onFileDialogCancelCb(e);\n          dispatch({\n            type: \"closeDialog\"\n          });\n        } else if (isSecurityError(e)) {\n          fsAccessApiWorksRef.current = false; // CORS, so cannot use this API\n          // Try using the input\n\n          if (inputRef.current) {\n            inputRef.current.value = null;\n            inputRef.current.click();\n          } else {\n            onErrCb(new Error(\"Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.\"));\n          }\n        } else {\n          onErrCb(e);\n        }\n      });\n      return;\n    }\n\n    if (inputRef.current) {\n      dispatch({\n        type: \"openDialog\"\n      });\n      onFileDialogOpenCb();\n      inputRef.current.value = null;\n      inputRef.current.click();\n    }\n  }, [dispatch, onFileDialogOpenCb, onFileDialogCancelCb, useFsAccessApi, setFiles, onErrCb, pickerTypes, multiple]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\n\n  var onKeyDownCb = useCallback(function (event) {\n    // Ignore keyboard events bubbling up the DOM tree\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\n      return;\n    }\n\n    if (event.key === \" \" || event.key === \"Enter\" || event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      openFileDialog();\n    }\n  }, [rootRef, openFileDialog]); // Update focus state for the dropzone\n\n  var onFocusCb = useCallback(function () {\n    dispatch({\n      type: \"focus\"\n    });\n  }, []);\n  var onBlurCb = useCallback(function () {\n    dispatch({\n      type: \"blur\"\n    });\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\n\n  var onClickCb = useCallback(function () {\n    if (noClick) {\n      return;\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\n    // to ensure React can handle state changes\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n    if (isIeOrEdge()) {\n      setTimeout(openFileDialog, 0);\n    } else {\n      openFileDialog();\n    }\n  }, [noClick, openFileDialog]);\n\n  var composeHandler = function composeHandler(fn) {\n    return disabled ? null : fn;\n  };\n\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\n    return noKeyboard ? null : composeHandler(fn);\n  };\n\n  var composeDragHandler = function composeDragHandler(fn) {\n    return noDrag ? null : composeHandler(fn);\n  };\n\n  var stopPropagation = function stopPropagation(event) {\n    if (noDragEventsBubbling) {\n      event.stopPropagation();\n    }\n  };\n\n  var getRootProps = useMemo(function () {\n    return function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? \"ref\" : _ref2$refKey,\n          role = _ref2.role,\n          onKeyDown = _ref2.onKeyDown,\n          onFocus = _ref2.onFocus,\n          onBlur = _ref2.onBlur,\n          onClick = _ref2.onClick,\n          onDragEnter = _ref2.onDragEnter,\n          onDragOver = _ref2.onDragOver,\n          onDragLeave = _ref2.onDragLeave,\n          onDrop = _ref2.onDrop,\n          rest = _objectWithoutProperties(_ref2, _excluded3);\n\n      return _objectSpread(_objectSpread(_defineProperty({\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb)),\n        role: typeof role === \"string\" && role !== \"\" ? role : \"presentation\"\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\n        tabIndex: 0\n      } : {}), rest);\n    };\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\n  var onInputElementClick = useCallback(function (event) {\n    event.stopPropagation();\n  }, []);\n  var getInputProps = useMemo(function () {\n    return function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey,\n          onChange = _ref3.onChange,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutProperties(_ref3, _excluded4);\n\n      var inputProps = _defineProperty({\n        accept: acceptAttr,\n        multiple: multiple,\n        type: \"file\",\n        style: {\n          display: \"none\"\n        },\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\n        tabIndex: -1\n      }, refKey, inputRef);\n\n      return _objectSpread(_objectSpread({}, inputProps), rest);\n    };\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\n  return _objectSpread(_objectSpread({}, state), {}, {\n    isFocused: isFocused && !disabled,\n    getRootProps: getRootProps,\n    getInputProps: getInputProps,\n    rootRef: rootRef,\n    inputRef: inputRef,\n    open: composeHandler(openFileDialog)\n  });\n}\n/**\n * @param {DropzoneState} state\n * @param {{type: string} & DropzoneState} action\n * @returns {DropzoneState}\n */\n\nfunction reducer(state, action) {\n  /* istanbul ignore next */\n  switch (action.type) {\n    case \"focus\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: true\n      });\n\n    case \"blur\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFocused: false\n      });\n\n    case \"openDialog\":\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        isFileDialogActive: true\n      });\n\n    case \"closeDialog\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isFileDialogActive: false\n      });\n\n    case \"setDraggedFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isDragActive: action.isDragActive,\n        isDragAccept: action.isDragAccept,\n        isDragReject: action.isDragReject\n      });\n\n    case \"setFiles\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        acceptedFiles: action.acceptedFiles,\n        fileRejections: action.fileRejections\n      });\n\n    case \"reset\":\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nfunction noop() {}\n\nexport { ErrorCode } from \"./utils\";","import { useCallback } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport styled from 'styled-components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport buildInput from '../store/build-input'\nimport { selectBuildInputFilepath } from '../store/build-input-selectors'\nimport { theme } from '../theme'\n\ninterface Props {}\n\nconst Container = styled.span`\n    padding: ${theme.spacings.space0p1} 0;\n    cursor: pointer;\n`\n\nconst Span = styled.span`\n    color: ${theme.colors.fg1};\n`\n\nconst FromLocalFile: React.FunctionComponent<Props> = () => {\n    const filepath = useAppSelector(selectBuildInputFilepath)\n    const dispatch = useAppDispatch()\n\n    const onDrop = useCallback((files: Array<File>) => {\n        const file = files[0]!\n        const reader = new FileReader()\n        reader.onabort = () => console.log('file reading was aborted')\n        reader.onerror = () => console.log('file reading has failed')\n        reader.onload = () => {\n            dispatch(\n                buildInput.actions.setLocalFile({\n                    arrayBuffer: reader.result as ArrayBuffer,\n                    filepath: file.name,\n                })\n            )\n        }\n        reader.readAsArrayBuffer(file)\n    }, [])\n\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\n        onDrop,\n    })\n\n    return (\n        <Container {...getRootProps()}>\n            <input {...getInputProps()} />\n            {isDragActive ? (\n                <Span>Drop the file here ...</Span>\n            ) : (\n                <Span>{filepath ? 'Choose a different file': 'Upload a file from your device'}</Span>\n            )}\n        </Container>\n    )\n}\n\nexport default FromLocalFile\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Button } from '../components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport buildInput from '../store/build-input'\nimport { selectBuildInputUrl } from '../store/build-input-selectors'\nimport { theme } from '../theme'\n\ninterface Props {}\n\nconst Container = styled.form`\n    display: inline;\n`\n\nconst Input = styled.input`\n    padding: ${theme.spacings.space0p1} 0;\n    color: ${theme.colors.fg1};\n    ::placeholder,\n    ::-webkit-input-placeholder {\n        color: ${theme.colors.fg1};\n        opacity: 1;\n    }\n    :-ms-input-placeholder {\n        color: ${theme.colors.fg1};\n        opacity: 1;\n    }\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        background-color: transparent;\n        text-align: center;\n    }\n`\n\nconst OkButton = styled(Button)`\n    margin-left: ${theme.spacings.space1};\n`\n\nconst FromUrl: React.FunctionComponent<Props> = () => {\n    const dispatch = useAppDispatch()\n    const url = useAppSelector(selectBuildInputUrl)\n    const [tempUrl, setTempUrl] = useState(url || '')\n\n    const onChange: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n        setTempUrl(event.target.value)\n        dispatch(buildInput.actions.setFocusOn('url'))\n    }\n\n    const onSubmit: React.FormEventHandler<HTMLFormElement> = (event) => {\n        event.preventDefault()\n        dispatch(buildInput.actions.setUrl(tempUrl))\n    }\n\n    return (\n        <Container onSubmit={onSubmit}>\n            <Input\n                value={tempUrl}\n                onChange={onChange}\n                placeholder=\"Load a file from a URL\"\n            />\n            {tempUrl.length ? <OkButton>Load</OkButton> : null}\n        </Container>\n    )\n}\n\nexport default FromUrl\n","import styled from 'styled-components'\nimport ArtefactViewer from '../Artefacts/ArtefactViewer'\nimport { Button, CompilationBox, CompilationBoxLeft, CompilationBoxRight, H3, Or } from '../components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport buildInput from '../store/build-input'\nimport {\n    selectBuildInputArtefacts,\n    selectBuildInputFilepath,\n    selectBuildInputFormat,\n    selectBuildInputUrl,\n} from '../store/build-input-selectors'\nimport { theme } from '../theme'\nimport FromExample from './FromExample'\nimport FromLocalFile from './FromLocalFile'\nimport FromUrl from './FromUrl'\n\nconst Container = styled(CompilationBox)`\n    position: relative;\n`\n\nconst InputContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    flex: auto;\n    & > * {\n        display: inline-block;\n        @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n            /* Match all objects except Or */\n            &:nth-child(2n+1) {\n                width: 100%;\n                text-align: center;\n                background-color: ${theme.colors.bg1};\n            }\n        }\n    }\n`\n\nconst Input = () => {\n    const dispatch = useAppDispatch()\n    const filepath = useAppSelector(selectBuildInputFilepath)\n    const url = useAppSelector(selectBuildInputUrl)\n    const inFormat = useAppSelector(selectBuildInputFormat)\n    const artefacts = useAppSelector(selectBuildInputArtefacts)\n    const onClear = () => {\n        dispatch(buildInput.actions.clear())\n    }\n\n    return (\n        <Container>\n            <CompilationBoxLeft>\n                <H3>→ input</H3>\n            </CompilationBoxLeft>\n            <CompilationBoxRight>\n                {inFormat && artefacts ? (\n                    <>\n                    <ArtefactViewer\n                        format={inFormat}\n                        artefacts={artefacts}\n                        filename={filepath || url || undefined}\n                        extraButtons={[<Button key=\"clear\" onClick={onClear}>clear</Button>]}\n                    />\n                    </>\n                ) : (\n                    <InputContainer>\n                        <FromLocalFile /> <Or>OR</Or> <FromUrl /> <Or>OR</Or> <FromExample />\n                    </InputContainer>\n                )}\n            </CompilationBoxRight>\n        </Container>\n    )\n}\n\nexport default Input\n","import styled from 'styled-components/macro'\nimport { Build } from 'webpd'\nimport { Button, Or, Hint } from '../components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport buildOutput from '../store/build-output'\nimport {\n    selectBuildOutputFormat,\n    selectBuildOutputFormatsAvailable,\n} from '../store/build-output-selectors'\nimport { theme } from '../theme'\n\nconst BUILD_WEBSITE_FORMATS = {\n    ...Build.BUILD_FORMATS,\n    patchPlayer: { description: 'Patch player' },\n}\n\nconst BUILD_WEBSITE_FORMATS_INFO: {\n    [Property in keyof typeof BUILD_WEBSITE_FORMATS]: { info: string }\n} = {\n    pd: { info: 'A Pure Data file (.pd) in text format.' },\n    pdJson: { info: 'Will compile a JSON representation of a pure data file.' },\n    dspGraph: {\n        info: 'Will compile a DSP graph that is used internally by the WebPd compiler to generate the audio output.',\n    },\n    javascript: {\n        info: 'Will compile a JavaScript function for generating audio.',\n    },\n    assemblyscript: {\n        info: 'Will compile an AssemblyScript function which can then be compiled to Web Assembly.',\n    },\n    wasm: { info: 'Will generate a Web Assembly module from your patch. This module can be loaded again here at a later time to play your patch.' },\n    wav: { info: 'Will generate an audio preview of your patch.' },\n    patchPlayer: {\n        info: 'Will render a interactive interface allowing to play your patch online.',\n    },\n    app: {\n        info: 'Will generate a bare bones web page embedding your patch. A good starter to build an audio web site of your own.'\n    }\n}\n\nconst Container = styled.div``\n\nconst FormatSelector = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        flex-direction: column;\n        align-items: initial;\n        ${Or} {\n            text-align: center;\n        }\n    }\n`\n\nconst FormatHint = styled(Hint)`\n    margin-top: ${theme.spacings.space0p1};\n`\n\nconst ButtonInit = styled(Button)`\n`\n\nconst ButtonActive = styled(Button)`\n    color: ${theme.colors.colorScheme.next()};\n    background-color: ${theme.colors.bg1p5};\n`\n\nconst ButtonInactive = styled(Button)`\n    color: ${theme.colors.fg1};\n    background-color: ${theme.colors.bg1p5};\n`\n\nconst OutputSelector = () => {\n    const dispatch = useAppDispatch()\n    const outFormat = useAppSelector(selectBuildOutputFormat)\n    const outFormats = Array.from(\n        useAppSelector(selectBuildOutputFormatsAvailable)\n    )\n\n    return (\n        <Container>\n            <FormatSelector>\n                {outFormats.flatMap((outFormatOption, i) => {\n                    const ButtonComponent =\n                        outFormatOption === outFormat\n                            ? ButtonActive\n                            : !!outFormat\n                            ? ButtonInactive\n                            : ButtonInit\n                    return [\n                        <ButtonComponent\n                            key={outFormatOption}\n                            onClick={() =>\n                                dispatch(\n                                    buildOutput.actions.setFormat(\n                                        outFormatOption\n                                    )\n                                )\n                            }\n                        >\n                            {BUILD_WEBSITE_FORMATS[outFormatOption].description}\n                        </ButtonComponent>,\n                        i < outFormats.length - 1 ? (\n                            <Or key={outFormatOption + 'OR'}>OR</Or>\n                        ) : null,\n                    ]\n                })}\n            </FormatSelector>\n            {outFormat ? (\n                <FormatHint>\n                    {BUILD_WEBSITE_FORMATS_INFO[outFormat].info}\n                </FormatHint>\n            ) : null}\n        </Container>\n    )\n}\n\nexport default OutputSelector\n","import styled from 'styled-components'\nimport { Hint, Select } from '../components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport buildOutput from '../store/build-output'\nimport { selectBuildOutputCodeTarget } from '../store/build-output-selectors'\nimport { theme } from '../theme'\nimport { CodeTarget, CODE_TARGETS } from '../types'\n\ninterface Props {}\n\nconst Container = styled.div`\n    margin-top: ${theme.spacings.space2};\n`\n\nconst CodeTargetSelect = styled(Select)`\n    min-width: 8em;\n    margin-left: ${theme.spacings.space0p1};\n`\n\nconst CodeTargetHint = styled(Hint)`\n    margin-top: ${theme.spacings.space0p1};\n`\n\nconst OptionsCodeTarget: React.FunctionComponent<Props> = () => {\n    const codeTarget = useAppSelector(selectBuildOutputCodeTarget)\n    const dispatch = useAppDispatch()\n\n    const onTargetChange: React.ChangeEventHandler<HTMLSelectElement> = (\n        event\n    ) =>\n        dispatch(\n            buildOutput.actions.setCodeTarget(\n                event.currentTarget.value as CodeTarget\n            )\n        )\n\n    return (\n        <Container>\n            <label>Compilation target</label>\n            <CodeTargetSelect value={codeTarget} onChange={onTargetChange}>\n                {Object.entries(CODE_TARGETS).map(\n                    ([target, { display }]) => (\n                        <option value={target} key={target}>\n                            {display}\n                        </option>\n                    )\n                )}\n            </CodeTargetSelect>\n            <CodeTargetHint>\n                {CODE_TARGETS[codeTarget].info}\n            </CodeTargetHint>\n        </Container>\n    )\n}\n\nexport default OptionsCodeTarget\n","import { RootState } from '.'\nimport { ASSETS } from './artefacts'\n\nexport const selectArtefacts = () => ASSETS.artefacts\nexport const selectArtefactsBuildStatus = (state: RootState) => state.artefacts.buildStatus\nexport const selectArtefactsStep = (state: RootState) => state.artefacts.step","import { RootState } from '.'\n\nexport const selectConsoleErrors = (state: RootState) => state.console.errors\nexport const selectConsoleWarnings = (state: RootState) =>\n    state.console.warnings\n","import React from 'react'\nimport { useEffect, useRef } from 'react'\nimport styled from 'styled-components'\nimport { Build } from 'webpd'\nimport { Button } from '../components'\nimport { destroy, start } from '../PatchPlayer/main'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport { theme } from '../theme'\nimport patchPlayerSlice from '../store/patch-player'\nimport { selectPatchPlayer, selectPatchPlayerValues } from '../store/patch-player-selectors'\nimport { actionCleanBuild } from '../store/shared-action'\n\ninterface Props {\n    artefacts: Build.Artefacts\n}\n\nconst Container = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    background-color: ${theme.colors.bg1};\n`\n\nconst CloseButton = styled(Button)`\n    position: fixed;\n    right: ${theme.spacings.space1};\n    top: ${theme.spacings.space1};\n    z-index: ${theme.zIndexes.closeButton};\n`\n\nconst PatchPlayerContainer: React.FunctionComponent<Props> = ({\n    artefacts,\n}) => {\n    const rootElem = useRef<HTMLDivElement>(null)\n    const dispatch = useAppDispatch()\n    const patchPlayer = useAppSelector(selectPatchPlayer)\n    const patchPlayerValues = useAppSelector(selectPatchPlayerValues)\n\n    useEffect(() => {\n        if (!patchPlayer) {\n            return\n        }\n        const patchPlayerPromise = start(\n            artefacts,\n            patchPlayer,\n            {\n                container: rootElem.current!, \n                colorScheme: theme.colors.colorScheme,\n                showCredits: false,\n                initialValues: patchPlayerValues,\n                valuesUpdatedCallback: (values) => {\n                    dispatch(patchPlayerSlice.actions.valuesChanged(values))\n                }\n            },\n        )\n        return () => {\n            console.log('DESTROY')\n            patchPlayerPromise.then((startedPatchPlayer) => destroy(startedPatchPlayer))\n        }\n    }, [artefacts, patchPlayer])\n\n    const onClose = () => {\n        dispatch(actionCleanBuild())\n    }\n\n    return (\n        <Container id=\"PatchPlayer\" ref={rootElem}>\n            <CloseButton onClick={onClose}>Close</CloseButton>\n        </Container>\n    )\n}\n\nexport default PatchPlayerContainer\n","import styled from 'styled-components'\nimport { Button, H3 } from '../components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport { BUILD_STATUS } from '../store/artefacts'\nimport {\n    selectArtefacts,\n    selectArtefactsBuildStatus,\n    selectArtefactsStep,\n} from '../store/artefacts-selectors'\nimport buildOutput from '../store/build-output'\nimport { selectBuildOutputFormat } from '../store/build-output-selectors'\nimport { selectConsoleErrors } from '../store/console-selectors'\nimport ArtefactViewer from './ArtefactViewer'\nimport PatchPlayerContainer from './PatchPlayerContainer'\n\nconst Container = styled.div``\n\nconst Artefacts = () => {\n    const dispatch = useAppDispatch()\n    const outFormat = useAppSelector(selectBuildOutputFormat)\n    const artefacts = useAppSelector(selectArtefacts)\n    const errors = useAppSelector(selectConsoleErrors)\n    const buildStep = useAppSelector(selectArtefactsStep)\n    const buildStatus = useAppSelector(selectArtefactsBuildStatus)\n    const onClear = () => {\n        dispatch(buildOutput.actions.clear())\n    }\n\n    if (!outFormat || errors || buildStatus !== BUILD_STATUS.SUCCESS) {\n        return null\n    }\n\n    return (\n        <Container>\n            {buildStatus === BUILD_STATUS.IN_PROGRESS && (\n                <H3>Building {buildStep} ...</H3>\n            )}\n            {buildStatus === BUILD_STATUS.SUCCESS ? (\n                outFormat !== 'patchPlayer' ? (\n                    <ArtefactViewer\n                        artefacts={artefacts}\n                        format={outFormat}\n                        filename={'output.' + outFormat}\n                        showDownloadButton={true}\n                        extraButtons={[<Button key=\"clear\" onClick={onClear}>clear</Button>]}\n                    />\n                ) : (\n                    <PatchPlayerContainer artefacts={artefacts} />\n                )\n            ) : null}\n        </Container>\n    )\n}\n\nexport default Artefacts\n","import styled from 'styled-components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport buildOutput from '../store/build-output'\nimport { selectBuildOutputPreviewDurationSeconds } from '../store/build-output-selectors'\nimport { theme } from '../theme'\n\ninterface Props {}\n\nconst Container = styled.div`\n    margin-top: ${theme.spacings.space2};\n`\n\nconst DurationInput = styled.input`\n    margin-left: ${theme.spacings.space0p1};\n    background-color: ${theme.colors.bg1p5};\n    width: 2em;\n`\n\nconst OptionsWavLength: React.FunctionComponent<Props> = () => {\n    const previewDurationSeconds = useAppSelector(\n        selectBuildOutputPreviewDurationSeconds\n    )\n    const dispatch = useAppDispatch()\n\n    const onDurationChange: React.ChangeEventHandler<HTMLInputElement> = (\n        event\n    ) => {\n        if (event.currentTarget.value === '') {\n            dispatch(buildOutput.actions.setPreviewDurationSeconds(null))\n            return\n        }\n\n        const duration = Number.parseInt(event.currentTarget.value)\n        if (isNaN(duration)) {\n            return\n        }\n        dispatch(buildOutput.actions.setPreviewDurationSeconds(duration))\n    }\n\n    return (\n        <Container>\n            <label>Duration of preview in seconds</label>\n            <DurationInput\n                value={previewDurationSeconds || ''}\n                onChange={onDurationChange}\n            />\n        </Container>\n    )\n}\n\nexport default OptionsWavLength\n","import styled from 'styled-components'\nimport OutputSelector from './OutputSelector'\nimport OptionsCodeTarget from './OptionsCodeTarget'\nimport {\n    ButtonActive,\n    CompilationBox,\n    CompilationBoxLeft,\n    CompilationBoxRight,\n    H3,\n    Hint,\n} from '../components'\nimport { useAppDispatch, useAppSelector } from '../store'\nimport {\n    selectBuildInputArtefacts,\n    selectBuildInputFormat,\n} from '../store/build-input-selectors'\nimport { selectBuildOutputFormat } from '../store/build-output-selectors'\nimport artefacts, { BUILD_STATUS } from '../store/artefacts'\nimport { theme } from '../theme'\nimport { selectArtefactsBuildStatus } from '../store/artefacts-selectors'\nimport { Artefacts } from '../Artefacts'\nimport { selectConsoleErrors } from '../store/console-selectors'\nimport OptionsWavLength from './OptionsWavLength'\n\nconst Container = styled(CompilationBox)``\n\nconst MoreOptionsContainer = styled(Hint)`\n    margin-top: ${theme.spacings.space2};\n`\n\nconst ButtonContainer = styled.div`\n    margin-top: ${theme.spacings.space2};\n`\n\nconst ButtonGo = styled(ButtonActive)`\n    font-size: 150%;\n    padding: 0.1em 0.5em;\n`\n\nconst BuildConfig = () => {\n    const dispatch = useAppDispatch()\n    const inputArtefacts = useAppSelector(selectBuildInputArtefacts)\n    const inFormat = useAppSelector(selectBuildInputFormat)\n    const outFormat = useAppSelector(selectBuildOutputFormat)\n    const buildStatus = useAppSelector(selectArtefactsBuildStatus)\n    const hasCodeTargetOptions =\n        inFormat &&\n        outFormat &&\n        ['pd', 'pdJson', 'dspGraph'].includes(inFormat) &&\n        ['wav', 'patchPlayer'].includes(outFormat)\n    const errors = useAppSelector(selectConsoleErrors)\n\n    const onGo = () => {\n        dispatch(artefacts.actions.startBuild())\n    }\n\n    if (!inputArtefacts) {\n        return null\n    }\n\n    return (\n        <Container>\n            <CompilationBoxLeft>\n                <H3>← output</H3>\n            </CompilationBoxLeft>\n            <CompilationBoxRight>\n                {outFormat &&\n                !errors &&\n                buildStatus === BUILD_STATUS.SUCCESS ? (\n                    <Artefacts />\n                ) : (\n                    <>\n                        <OutputSelector />\n                        {outFormat && hasCodeTargetOptions ? (\n                            <OptionsCodeTarget />\n                        ) : null}\n                        {outFormat === 'wav' ? <OptionsWavLength /> : null}\n                        {outFormat ? (\n                            <ButtonContainer>\n                                <ButtonGo onClick={onGo}>Go !</ButtonGo>\n                            </ButtonContainer>\n                        ) : null}\n                        <MoreOptionsContainer>\n                            For more compilation options{' '}\n                            <a\n                                href=\"https://github.com/sebpiq/WebPd/#using-the-cli\"\n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                            >\n                                you can use the CLI\n                            </a>\n                            .\n                        </MoreOptionsContainer>\n                    </>\n                )}\n            </CompilationBoxRight>\n        </Container>\n    )\n}\n\nexport default BuildConfig\n","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"./webpd.png\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<p align=\\\"center\\\">\\n  <img src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" />\\n</p>\\n\\n<!-- intro start -->\\n\\n<p><strong>WebPd</strong> is a compiler for the <a href=\\\"https://puredata.info/\\\">Pure Data</a> audio programming language allowing to run <strong>.pd</strong> patches in web pages.</p>\\n<p><strong>WebPd is highly modular and takes a white-box approach to audio programming</strong>. It converts the audio graph and processing objects from a patch into plain human-readable JavaScript or <a href=\\\"https://www.assemblyscript.org/\\\">AssemblyScript</a> (*). The pure audio generated code can be then integrated directly in any web application without using WebPd or Pure Data ever again 🌈.</p>\\n<!-- intro end -->\\n\\n<p><a href=\\\"https://github.com/sponsors/sebpiq\\\"><img src=\\\"https://img.shields.io/static/v1?label=Sponsor&message=%E2%9D%A4&logo=GitHub&color=%23ed00d9\\\" alt=\\\"\\\"></a></p>\\n<p><em>(*) AssemblyScript is a TypeScript-style language which compiles to WebAssembly.</em></p>\\n<h2 id=\\\"usecase-examples\\\">Usecase examples</h2>\\n<ul>\\n<li>Publish generative musical works on the web</li>\\n<li>Execute, tweak and share patches collectively on any machine</li>\\n<li>Produce, filter and playback sound and music data in realtime from web based applications and games</li>\\n</ul>\\n<h2 id=\\\"integration-and-scope\\\">Integration and scope</h2>\\n<p>There are plenty of good JavaScript libraries to build interactive visual interfaces such as <a href=\\\"https://threejs.org/\\\">Three.js</a>, <a href=\\\"https://p5js.org/\\\">p5.js</a>, good old JavaScript / HTML / CSS, etc. Integrating them with a WebPd patch should be fairly easy. An example of such integration is the <em>patch player</em> demo, available through <a href=\\\"#using-the-web-compiler\\\">the web compiler</a>.</p>\\n<p>WebPd is <strong>not</strong>, in itself, a complete editor and a live performance platform like Pure Data. The Pure Data graphical interface, as well as GEM, are out of the scope of WebPd. WebPd isn&#39;t either a simple executor like libpd. It is rather a lean audio compiler, which generates high-performance, human-readable and easily integrable audio code with no bloat.</p>\\n<h2 id=\\\"usage\\\">Usage</h2>\\n<p><span id=\\\"using-the-web-compiler\\\"><span></p>\\n<h3 id=\\\"web-compiler-and-player\\\">Web compiler and player</h3>\\n<p><strong>The web compiler and a patch player are live at the following address: <a href=\\\"https://sebpiq.github.io/WebPd_website\\\">https://sebpiq.github.io/WebPd_website</a></strong></p>\\n<p>Just upload or give a URL(*) of a patch, compile it just in time and generate an interface allowing to play that patch in realtime in your browser. Once the compilation succeeds, you can copy and share with others the resulting URL from the player(**). This URL contains all the modified parameters of the patch you have played with, so that it is shared completely in its <em>current</em> state.</p>\\n<p><em>(*)You can use any public URL of a patch found in the wild (on github, Pure Data forums, etc.).</em></p>\\n<p><em>(**)Sharing a compiled patch doesn&#39;t work if you used local files for compilation.</em></p>\\n<p><span id=\\\"using-the-cli\\\"><span></p>\\n<h3 id=\\\"command-line-interface\\\">Command line interface</h3>\\n<p><em>NOTE : Running the CLI requires node.js version 18 or higher.</em></p>\\n<p>The command-line interface (CLI) offers more customization options, including the ability to generate a fully-functional (but bare bones) web page embedding your patch.</p>\\n<p>Open a terminal and install the CLI with <a href=\\\"https://nodejs.org/\\\">node / npm</a> by running the following command:</p>\\n<pre><code>npm install -g webpd\\n</code></pre>\\n<p>Verify that installation worked by running:</p>\\n<pre><code>webpd --help\\n</code></pre>\\n<p>This should output help for the CLI and will hopefully get you started.</p>\\n<h3 id=\\\"getting-help\\\">Getting help</h3>\\n<p>If you feel stuck, there&#39;s <a href=\\\"https://puredata.info/community\\\">plenty of places</a> where you can ask for help. I recommend in particular <a href=\\\"https://discord.gg/AZ43djV\\\">the discord server</a> where you can get help quickly and find support from the community.</p>\\n<p>If you feel you might have stumbled upon a bug, please report it following <a href=\\\"#reporting-a-bug\\\">these simple guidelines</a>.</p>\\n<h3 id=\\\"you-are-using-webpd\\\">You are using WebPd?</h3>\\n<p>Great 🌱 ! It helps a lot with motivation to hear that people are using it. Don&#39;t hesitate to let me know by pinging me on twitter <a href=\\\"https://twitter.com/sebpiq\\\">@sebpiq</a>, or <a href=\\\"https://second-hander.com/\\\">writing me directly by email</a>.</p>\\n<p>If you can afford it, you can also <a href=\\\"https://opencollective.com/webpd\\\">donate</a> to help move development forward.</p>\\n<h2 id=\\\"development\\\">Development</h2>\\n<h3 id=\\\"status--roadmap\\\">Status &amp; roadmap</h3>\\n<p>WebPd is currently under heavy development, but it is still a work in progress. A list of implemented objects, features and the roadmap are <a href=\\\"https://github.com/sebpiq/WebPd/blob/main/ROADMAP.md\\\">here</a>.</p>\\n<p>The project is currently in <em>alpha release state</em> which means that many of your patches will <em>not</em> work out of the box. Many objects and features are indeed still missing. If you feel there is a bug, thanks for reporting it following <a href=\\\"#reporting-a-bug\\\">these simple guidelines</a>. If you feel you could develop an object that is missing in WebPd to play a specific patch, see <a href=\\\"#contributing\\\">contributing</a>.</p>\\n<p><span id=\\\"reporting-a-bug\\\"><span></p>\\n<h3 id=\\\"reporting-a-bug\\\">Reporting a bug</h3>\\n<p>If you wish to report a bug:</p>\\n<ul>\\n<li>First narrow it down. Remove all objects in your patch that are not related with the bug. Try to find the simplest patch with which this bug can be reproduced.</li>\\n<li>Then submit a bug report <a href=\\\"https://github.com/sebpiq/WebPd/issues\\\">in github</a> with the following template :</li>\\n</ul>\\n<pre><code>Patch and description -&gt; Upload your minimal patch\\n\\nCurrent behavior -&gt; Describe shortly how it is working at the moment\\n\\nExpected behavior -&gt; Describe shortly how it should work instead\\n</code></pre>\\n<p><span id=\\\"contributing\\\"><span></p>\\n<h3 id=\\\"contributing\\\">Contributing</h3>\\n<p>One-time contributions or regular work on the library are more than welcome! Contribution guidelines are coming, meanwhile if you have time and would really like to get involved please get in touch on the issue tracker on GitHub. I would be pleased to help you getting started for contributing.</p>\\n<p>In case you would like to try developping a new object, here are some good examples to start with:</p>\\n<ul>\\n<li><a href=\\\"https://github.com/sebpiq/WebPd/blob/develop/src/nodes/nodes/clip.ts\\\">clip.ts</a></li>\\n<li><a href=\\\"https://github.com/sebpiq/WebPd/blob/develop/src/nodes/nodes/clip~.ts\\\">clip~.ts</a></li>\\n</ul>\\n<p>If you want to dig deeper into the code, WebPd is built in several sub-packages in addition to this one which combines them all : </p>\\n<ul>\\n<li>Pd file parser : <a href=\\\"https://github.com/sebpiq/WebPd_pd-parser\\\">https://github.com/sebpiq/WebPd_pd-parser</a></li>\\n<li>WebPd compiler : <a href=\\\"https://github.com/sebpiq/WebPd_compiler\\\">https://github.com/sebpiq/WebPd_compiler</a></li>\\n<li>WebPd runtime : <a href=\\\"https://github.com/sebpiq/WebPd_runtime\\\">https://github.com/sebpiq/WebPd_runtime</a></li>\\n</ul>\\n<h2 id=\\\"license\\\">License</h2>\\n<p>WebPd is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License version 3 as published by the Free Software Foundation.</p>\\n<p>WebPd is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\nGNU Lesser General Public License or read the <a href=\\\"https://github.com/sebpiq/WebPd/blob/main/COPYING.LESSER\\\">COPYING.LESSER</a> file for more details.</p>\\n<h2 id=\\\"authors\\\">Authors</h2>\\n<ul>\\n<li>Sébastien Piquemal <a href=\\\"mailto:&#115;&#x65;&#98;&#112;&#105;&#113;&#x40;&#112;&#114;&#111;&#116;&#x6f;&#x6e;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;\\\">&#115;&#x65;&#98;&#112;&#105;&#113;&#x40;&#112;&#114;&#111;&#116;&#x6f;&#x6e;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;</a></li>\\n<li>Chris McCormick</li>\\n<li>Brandon James</li>\\n<li>mgsx-dev</li>\\n<li>Atul Varma</li>\\n<li>Ulric Wilfred</li>\\n<li>Paul Money</li>\\n</ul>\\n<h2 id=\\\"acknowledgment-and-sponsors\\\">Acknowledgment and sponsors</h2>\\n<p>This project has been sponsored by the <a href=\\\"https://dafneplus.eu/\\\">DAFNE+</a> european research project funded by the European Union within the &quot;Horizon Europe&quot; program (Grant Agreement 101061548) and <a href=\\\"https://www.ircam.fr\\\">IRCAM</a> within the WAM team from december 2022 to march 2023.</p>\\n\";\n// Exports\nexport default code;","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgGithubMark(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 98,\n    height: 96,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z\",\n    fill: \"#24292f\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithubMark);\nexport default __webpack_public_path__ + \"static/media/github-mark.6fa18895f6e6c7772cab7049f7e05f59.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgHeart(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 700,\n    height: 736,\n    viewBox: \"0 0 525 552\",\n    id: \"svg2647\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 110.52407,0.01240603 V 27.644204 H 55.25943 V 55.276003 L 27.631798,55.27194 V 82.903738 H 0 V 193.433 h 27.631798 v 55.26464 l 27.627632,-0.008 v 27.6318 h 27.631798 v 27.6318 h 27.631802 v 27.63179 h 27.63179 v 27.6318 h 27.6318 v 27.6318 h 27.6318 v 55.26464 h 27.6318 v 55.26464 h 27.6318 v 55.26463 h 27.6318 v -55.26463 h 27.63179 v -55.26464 h 27.6318 V 386.8483 h 27.6318 v -27.6318 h 27.6318 v -27.6318 h 27.6318 v -27.63179 h 27.6318 v -27.6318 h 27.63179 v -27.6318 h 27.6318 V 193.42467 H 525 V 82.895395 H 497.3682 V 55.263596 H 469.7364 V 27.631798 H 414.47177 V 0 h -55.26464 v 27.631798 h -55.26464 v 27.631798 h -27.6318 v 27.631799 h -27.6318 V 55.263596 h -27.6318 V 27.631798 l -27.63596,0.01221 h -27.6318 V 0.01220812 Z\",\n    id: \"path2645\",\n    style: {\n      strokeWidth: 1.04165\n    }\n  }));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgHeart);\nexport default __webpack_public_path__ + \"static/media/heart.ca5c23b949cde1f26df65718884863d5.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components'\nimport { Box } from './components'\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport README from '!!html-loader?{\"minimize\":false}!markdown-loader?modules!webpd/README.md'\nimport { theme } from './theme'\nimport { ReactComponent as GitHubLogoSvg } from './images/github-mark.svg'\nimport { ReactComponent as HeartSvg } from './images/heart.svg'\n\nconst INTRO_START = '<!-- intro start -->'\nconst INTRO_END = '<!-- intro end -->'\nconst README_INTRO = README.slice(\n    README.indexOf(INTRO_START) + INTRO_START.length,\n    README.indexOf(INTRO_END)\n)\n\nconst Container = styled(Box)`\n    background: linear-gradient(\n        180deg,\n        rgba(0, 0, 0, 0) 10%,\n        ${theme.colors.bg2} 50%,\n        ${theme.colors.bg2} 67%\n    );\n`\n\nconst H1 = styled.h1`\n    position: relative;\n    bottom: 0.15em;\n    font-size: 600%;\n    font-family: ${theme.fonts.title};\n    color: ${theme.colors.colorScheme.next()};\n    margin: 0;\n    padding: 0;\n    margin-bottom: ${theme.spacings.space2};\n    line-height: 100%;\n    letter-spacing: 0.3em;\n    text-align: center;\n    @media (max-width: 700px) {\n        font-size: 450%;\n    }\n    @media (max-width: 400px) {\n        font-size: 350%;\n    }\n`\n\nconst RenderedMarkdownContainer = styled.div`\n    & > *:last-child {\n        margin-bottom: 0;\n    }\n`\n\nconst ButtonsContainer = styled.div`\n    margin-top: ${theme.spacings.space1};\n    display: flex;\n    flex-direction: row;\n`\n\nconst buttonMixin = `\n    font-family: ${theme.fonts.title};\n    font-size: 85%;\n    text-decoration: underline;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fit-content;\n\n    svg {\n        height: 1em;\n        width: 1em;\n        display: inline;\n        margin-left: 0.5em;\n        path {\n            fill: ${theme.colors.fg1};\n        }\n    }\n`\n\nconst GitHubButton = styled.a`\n    ${buttonMixin}\n`\n\nconst OpenCollectiveButton = styled.a`\n    ${buttonMixin}\n    margin-left: ${theme.spacings.space1};\n`\n\nconst Introduction = () => (\n    <Container>\n        <H1>WebPd</H1>\n        <RenderedMarkdownContainer\n            dangerouslySetInnerHTML={{ __html: README_INTRO }}\n        />\n        <ButtonsContainer>\n            <GitHubButton\n                href=\"https://github.com/sebpiq/WebPd\"\n                target=\"_blank\"\n                rel=\"noopener\"\n            >\n                Read more\n                <GitHubLogoSvg viewBox=\"0 0 97.627 96\" />\n            </GitHubButton>\n            <OpenCollectiveButton\n                href=\"https://opencollective.com/webpd\"\n                target=\"_blank\"\n                rel=\"noopener\"\n            >\n                Donate\n                <HeartSvg />\n            </OpenCollectiveButton>\n        </ButtonsContainer>\n    </Container>\n)\n\nexport default Introduction\n","import styled from 'styled-components'\nimport { Box, H3, Hint } from './components'\nimport { useAppSelector } from './store'\nimport {\n    selectConsoleErrors,\n    selectConsoleWarnings,\n} from './store/console-selectors'\nimport { theme } from './theme'\n\nconst Container = styled(Box)``\n\nconst WarningContainer = styled.pre`\n    overflow: auto;\n    margin: 0;\n`\n\nconst ErrorContainer = styled.pre`\n    overflow: auto;\n    margin: 0;\n    color: ${theme.colors.colorScheme.next()};\n`\n\nconst MessagesContainer = styled.div`\n    margin-top: ${theme.spacings.space1};\n`\n\nconst MoreOptionsContainer = styled(Hint)`\n    margin-top: ${theme.spacings.space2};\n`\n\nconst Console: React.FunctionComponent = () => {\n    const errors = useAppSelector(selectConsoleErrors)\n    const warnings = useAppSelector(selectConsoleWarnings)\n    const hasErrors = errors && errors.length\n    const hasWarnings = warnings && warnings.length\n    if (!hasErrors && !hasWarnings) {\n        return null\n    }\n\n    const compilationWarningsOrErrors = (\n        <>\n            WebPd is still in alpha release and many patches will likely not\n            work (for now). You can find the list of implemented objects <a\n                href=\"https://github.com/sebpiq/WebPd/blob/main/ROADMAP.md\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                here\n            </a>. \n            If failure was caused by a missing feature, you can\n            either{' '}\n            <a\n                href=\"https://opencollective.com/webpd\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                donate\n            </a>{' '}\n            to speed up its implementation, or you can directly{' '}\n            <a\n                href=\"https://github.com/sebpiq/WebPd/#contributing\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                contribute to development\n            </a>\n            . If, on the other hand, this looks like a bug, thanks for{' '}\n            <a\n                href=\"https://github.com/sebpiq/WebPd/#reporting-a-bug\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                reporting it here.\n            </a>\n        </>\n    )\n\n    return (\n        <Container>\n            <H3>Compilation output :</H3>\n            <MessagesContainer>\n                {hasWarnings\n                    ? warnings.map((warning, i) => (\n                          <WarningContainer key={i}>\n                              WARNING : {warning}\n                          </WarningContainer>\n                      ))\n                    : null}\n                {hasErrors\n                    ? errors.map((error, i) => (\n                          <ErrorContainer key={i}>\n                              ERROR : {error}\n                          </ErrorContainer>\n                      ))\n                    : null}\n            </MessagesContainer>\n            {hasErrors || hasWarnings ? (\n                <MoreOptionsContainer>\n                    {hasErrors ? 'It seems like your compilation failed 😢.': 'It seems like your compilation succeeded but with warnings 😅.'}\n                    <br />\n                    {compilationWarningsOrErrors}\n                </MoreOptionsContainer>\n            ) : null}\n        </Container>\n    )\n}\n\nexport default Console\n","import styled from 'styled-components'\nimport { Box, H2 } from './components'\n\nconst Container = styled(Box)`\n    text-align: center;\n`\n\nconst CompilerTitle = () => {\n    return (\n        <Container>\n            <H2>↓ Online compiler ↓</H2>\n        </Container>\n    )\n}\n\nexport default CompilerTitle\n","import styled from 'styled-components'\nimport { Box } from './components'\nimport { theme } from './theme'\nimport { ReactComponent as GitHubLogoSvg } from './images/github-mark.svg'\nimport { ReactComponent as HeartSvg } from './images/heart.svg'\n\nconst Container = styled(Box)`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    & * {\n        font-size: 90%;\n    }\n    background: linear-gradient(\n        180deg,\n        ${theme.colors.bg2} 33%,\n        ${theme.colors.bg2} 60%,\n        rgba(0, 0, 0, 0) 100%\n    );\n    padding-bottom: calc(${theme.spacings.space2} * 2);\n`\n\nconst InfoContainer = styled.div`\n    color: ${theme.colors.fg2};\n    margin-right: 1em;\n`\n\nconst ButtonsContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    @media (min-width: ${theme.devices.mobile.maxWidth}px) {\n        min-width: 10em;\n    }\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        flex-direction: column;\n        min-width: 5em;\n    }\n`\n\nconst Link = styled.a`\n    text-align: right;\n    color: ${theme.colors.fg2};\n\n    svg {\n        height: 1em;\n        width: 1em;\n        display: inline;\n        position: relative;\n        top: 0.2em;\n        margin-left: 0.5em;\n        path {\n            fill: ${theme.colors.fg2};\n        }\n    }\n\n    @media (min-width: ${theme.devices.mobile.maxWidth}px) {\n        width: 10em;\n    }\n\n    @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n        margin-bottom: ${theme.spacings.space1};\n        &:last-child {\n            margin-bottom: 0;\n        }\n    }\n`\n\nconst Footer = () => {\n    return (\n        <Container>\n            <InfoContainer>\n                WebPd is an open-source project released under the LGPL v3.0.\n                Files uploaded on this web site are not stored on any server.\n            </InfoContainer>\n            <ButtonsContainer>\n                <Link\n                    href=\"https://github.com/sebpiq/WebPd\"\n                    target=\"_blank\"\n                    rel=\"noopener\"\n                >\n                    GitHub\n                    <GitHubLogoSvg viewBox=\"0 0 97.627 96\" />\n                </Link>\n                <Link\n                    href=\"https://opencollective.com/webpd\"\n                    target=\"_blank\"\n                    rel=\"noopener\"\n                >\n                    Donate\n                    <HeartSvg />\n                </Link>\n            </ButtonsContainer>\n        </Container>\n    )\n}\n\nexport default Footer\n","import styled from 'styled-components'\nimport { Box, Button, H2, H3 } from './components'\nimport { useAppSelector } from './store'\nimport { selectArtefacts } from './store/artefacts-selectors'\nimport { download } from './utils'\n\nconst Container = styled(Box)``\n\nconst ArtefactContainer = styled.pre`\n    max-height: 25vh;\n    overflow: auto;\n`\n\nconst Debug = () => {\n    const artefacts = useAppSelector(selectArtefacts)\n\n    const onDowloadPdJson = () => {\n        download(\n            'debug.pd.json',\n            JSON.stringify(artefacts.pdJson, null, 2),\n            'application/json'\n        )\n    }\n\n    const onDowloadDspGraph = () => {\n        download(\n            'debug.dsp-graph.json',\n            JSON.stringify(artefacts.dspGraph, null, 2),\n            'application/json'\n        )\n    }\n\n    const onDowloadJavascriptCode = () => {\n        download(\n            'debug.code.js',\n            artefacts.javascript!,\n            'application/javascript'\n        )\n    }\n\n    const onDowloadAssemblyscriptCode = () => {\n        download(\n            'debug.code.asc',\n            artefacts.assemblyscript!,\n            'application/assemblyscript'\n        )\n    }\n\n    return (\n        <Container>\n            <H2>Debugging</H2>\n\n            {artefacts.pdJson ? (\n                <>\n                    <H3>\n                        Pd JSON{' '}\n                        <Button onClick={onDowloadPdJson}>Download</Button>\n                    </H3>\n                    <ArtefactContainer>\n                        {JSON.stringify(artefacts.pdJson, null, 2)}\n                    </ArtefactContainer>\n                </>\n            ) : null}\n\n            {artefacts.dspGraph ? (\n                <>\n                    <H3>\n                        DSP Graph{' '}\n                        <Button onClick={onDowloadDspGraph}>Download</Button>\n                    </H3>\n                    <ArtefactContainer>\n                        {JSON.stringify(artefacts.dspGraph, null, 2)}\n                    </ArtefactContainer>\n                </>\n            ) : null}\n\n            {artefacts.javascript ? (\n                <>\n                    <H3>\n                        Compiled JS{' '}\n                        <Button onClick={onDowloadJavascriptCode}>Download</Button>\n                    </H3>\n                    <ArtefactContainer>\n                        {artefacts.javascript}\n                    </ArtefactContainer>\n                </>\n            ) : null}\n\n            {artefacts.assemblyscript ? (\n                <>\n                    <H3>\n                        Compiled ASC{' '}\n                        <Button onClick={onDowloadAssemblyscriptCode}>Download</Button>\n                    </H3>\n                    <ArtefactContainer>\n                        {artefacts.assemblyscript}\n                    </ArtefactContainer>\n                </>\n            ) : null}\n        </Container>\n    )\n}\n\nexport default Debug\n","import styled, { createGlobalStyle } from 'styled-components'\nimport Input from './Input'\nimport { theme } from './theme'\nimport Output from './Output'\nimport { Provider } from 'react-redux'\nimport { store, useAppSelector } from './store'\nimport { selectAppDebug, selectAppIsInitialized } from './store/app-selectors'\nimport Introduction from './Introduction'\nimport Console from './Console'\nimport { Spinner } from './components'\nimport CompilerTitle from './CompilerTitle'\nimport { selectArtefactsBuildStatus } from './store/artefacts-selectors'\nimport { BUILD_STATUS } from './store/artefacts'\nimport Footer from './Footer'\nimport Debug from './Debug'\n\nconst GlobalStyle = createGlobalStyle`\n    @font-face {\n        font-family: 'Rajdhani';\n        src: local('Rajdhani'),\n            url('./fonts/Rajdhani/Rajdhani-Medium.ttf') format('woff');\n    }\n\n    @font-face {\n        font-family: 'Silkscreen';\n        src: local('Silkscreen'),\n            url('./fonts/Silkscreen/Silkscreen-Regular.ttf') format('woff');\n    }\n\n    body, html {\n        padding: 0;\n        margin: 0;\n        background-color: ${theme.colors.bg1};\n    }\n\n    * { \n        box-sizing: border-box;\n        /* To enable flex items shrink : https://stackoverflow.com/questions/36247140/why-dont-flex-items-shrink-past-content-size */\n        min-width: 0; \n        min-height: 0;\n        font-size: ${theme.devices.desktop.fontSize}px;\n        @media (max-width: ${theme.devices.mobile.maxWidth}px) {\n            font-size: ${theme.devices.mobile.fontSize}px;\n        }\n        font-family: ${theme.fonts.default};\n        color: ${theme.colors.fg1};\n        scrollbar-width: thin;\n        &::-webkit-scrollbar {\n            width: calc(${theme.spacings.space1} / 4);\n            height: calc(${theme.spacings.space1} / 4);\n        }\n        &::-webkit-scrollbar-track {\n            background: transparent;\n        }\n        &::-webkit-scrollbar-thumb {\n            background-color: ${theme.colors.fg2};\n            border-radius: 20px;\n        }\n    }\n\n    input {\n        background-color: ${theme.colors.bg2};\n        border: none;\n        font-size: 100%;\n    }\n\n    textarea:focus, input:focus{\n        outline: ${theme.colors.fg2} solid 1px;\n    }\n`\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n    & > *:last-child {\n        flex: auto;\n    }\n`\n\nconst CompilerContainer = styled.div`\n    position: relative;\n`\n\nconst SpinnerContainer = styled.div`\n    margin: auto;\n    width: 100%;\n    position: absolute;\n    height: 100%;\n    z-index: 3;\n`\n\nconst AppSpinner = styled(Spinner)`\n    max-width: ${theme.dimensions.maxContentWidth};\n    width: 100%;\n    margin: 0 auto;\n    height: 100%;\n    z-index: ${theme.zIndexes.spinner};\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ${theme.colors.bg2}ee;\n    font-size: 200%;\n`\n\nconst AppInner = () => {\n    const isAppInitialized = useAppSelector(selectAppIsInitialized)\n    const isBuilding =\n        useAppSelector(selectArtefactsBuildStatus) === BUILD_STATUS.IN_PROGRESS\n    const debug = useAppSelector(selectAppDebug)\n    if (!isAppInitialized) {\n        return (\n            <>\n                <Introduction />\n            </>\n        )\n    }\n\n    return (\n        <Container>\n            <Introduction />\n            <CompilerTitle />\n            <CompilerContainer>\n                {isBuilding ? (\n                    <SpinnerContainer>\n                        <AppSpinner text=\"building...\" />\n                    </SpinnerContainer>\n                ) : null}\n                <Input />\n                <Output />\n                {debug ? <Debug />: null}\n                <Console />\n            </CompilerContainer>\n            <Footer />\n        </Container>\n    )\n}\n\nconst App = () => {\n    return (\n        <Provider store={store}>\n            <GlobalStyle />\n            <AppInner />\n        </Provider>\n    )\n}\n\nexport default App\n","// @flow\nimport React, { useContext, useLayoutEffect, useRef } from 'react';\nimport { STATIC_EXECUTION_CONTEXT } from '../constants';\nimport GlobalStyle from '../models/GlobalStyle';\nimport { useStyleSheet, useStylis } from '../models/StyleSheetManager';\nimport { ThemeContext } from '../models/ThemeProvider';\nimport type { Interpolation } from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport determineTheme from '../utils/determineTheme';\nimport generateComponentId from '../utils/generateComponentId';\nimport css from './css';\n\ndeclare var __SERVER__: boolean;\n\ntype GlobalStyleComponentPropsType = Object;\n\nexport default function createGlobalStyle(\n  strings: Array<string>,\n  ...interpolations: Array<Interpolation>\n) {\n  const rules = css(strings, ...interpolations);\n  const styledComponentId = `sc-global-${generateComponentId(JSON.stringify(rules))}`;\n  const globalStyle = new GlobalStyle(rules, styledComponentId);\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(styledComponentId);\n  }\n\n  function GlobalStyleComponent(props: GlobalStyleComponentPropsType) {\n    const styleSheet = useStyleSheet();\n    const stylis = useStylis();\n    const theme = useContext(ThemeContext);\n    const instanceRef = useRef(styleSheet.allocateGSInstance(styledComponentId));\n\n    const instance = instanceRef.current;\n\n    if (process.env.NODE_ENV !== 'production' && React.Children.count(props.children)) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `The global style component ${styledComponentId} was given child JSX. createGlobalStyle does not render children.`\n      );\n    }\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      rules.some(rule => typeof rule === 'string' && rule.indexOf('@import') !== -1)\n    ) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app.`\n      );\n    }\n\n    if (styleSheet.server) {\n      renderStyles(instance, props, styleSheet, theme, stylis);\n    }\n\n    if (!__SERVER__) {\n      // this conditional is fine because it is compiled away for the relevant builds during minification,\n      // resulting in a single unguarded hook call\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useLayoutEffect(() => {\n        if (!styleSheet.server) {\n          renderStyles(instance, props, styleSheet, theme, stylis);\n          return () => globalStyle.removeStyles(instance, styleSheet);\n        }\n      }, [instance, props, styleSheet, theme, stylis]);\n    }\n\n    return null;\n  }\n\n  function renderStyles(instance, props, styleSheet, theme, stylis) {\n    if (globalStyle.isStatic) {\n      globalStyle.renderStyles(instance, STATIC_EXECUTION_CONTEXT, styleSheet, stylis);\n    } else {\n      const context = {\n        ...props,\n        theme: determineTheme(props, theme, GlobalStyleComponent.defaultProps),\n      };\n\n      globalStyle.renderStyles(instance, context, styleSheet, stylis);\n    }\n  }\n\n  // $FlowFixMe\n  return React.memo(GlobalStyleComponent);\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry)\n                getFID(onPerfEntry)\n                getFCP(onPerfEntry)\n                getLCP(onPerfEntry)\n                getTTFB(onPerfEntry)\n            }\n        )\n    }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement)\nroot.render(\n    // <React.StrictMode>\n        <App />\n    // </React.StrictMode>\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"names":["self","URLSearchParams","plus","get","q","toString","Object","String","isArray","create","defineProperty","find","findPercentSign","replace","proto","append","key","value","appendTo","this","_ungap","delete","has","getAll","slice","set","forEach","callback","thisArg","invoke","call","toJSON","query","encoded","encode","i","length","push","join","prototype","configurable","writable","dict","charAt","pairs","split","index","indexOf","decode","addEach","res","str","decodeURIComponent","encodeURIComponent","replacer","match","Array","URLSearchParamsProto","iterable","Symbol","iterator","o_O","items","next","shift","done","undefined","names","name","keys","values","entries","sort","entry","dP","gOPD","getOwnPropertyDescriptor","updateSearchParams","sp","_usp","search","verifySearchParams","obj","Class","TypeError","upgradeClass","createSearchParams","polluteSearchParams","ClassProto","searchParams","href","del","createSearchParamsPollute","defineProperties","_searchParams","HTMLAnchorElement","test","URL","meh","exports","file","acceptedFiles","acceptedFilesArray","fileName","mimeType","type","toLowerCase","baseMimeType","some","validType","trim","endsWith","isAbsolute","pathname","spliceOne","list","k","n","pop","to","from","hasTrailingSlash","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","last","up","part","unshift","result","substr","valueOf","valueEqual","a","b","every","item","aValue","bValue","assign","isProduction","process","prefix","invariant","condition","message","Error","provided","addLeadingSlash","path","stripLeadingSlash","stripBasename","hasBasename","stripTrailingSlash","parsePath","hash","hashIndex","searchIndex","createPath","location","createLocation","state","currentLocation","_extends","decodeURI","e","URIError","resolvePathname","locationsAreEqual","createTransitionManager","prompt","listeners","setPrompt","nextPrompt","confirmTransitionTo","action","getUserConfirmation","appendListener","fn","isActive","listener","apply","arguments","filter","notifyListeners","_len","args","_key","canUseDOM","window","document","createElement","getConfirmation","confirm","PopStateEvent","HashChangeEvent","getHistoryState","history","createBrowserHistory","props","globalHistory","canUseHistory","ua","navigator","userAgent","supportsHistory","needsHashChangeListener","_props","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createKey","Math","random","transitionManager","setState","nextState","handlePopState","event","isExtraneousPopstateEvent","handlePop","handleHashChange","forceNextPop","ok","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","revertPop","initialLocation","createHref","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","stripHash","url","getHashPath","substring","replaceHashPath","createHashHistory","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","querySelector","getAttribute","pushHashPath","nextPaths","clamp","lowerBound","upperBound","min","max","createMemoryHistory","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","map","nextIndex","nextEntries","splice","canGo","reactIs","require","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","objectPrototype","module","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","for","c","d","f","g","h","l","m","p","r","t","v","w","x","y","z","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","options","__esModule","default","maybeNeedQuotes","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","aa","ca","da","Set","ea","fa","ha","add","ia","ja","hasOwnProperty","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","ra","sa","toUpperCase","ta","pa","isNaN","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","stack","Na","Oa","prepareStackTrace","Reflect","construct","includes","Pa","tag","Qa","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","constructor","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","setProperty","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","B","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","C","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","id","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","fromCharCode","code","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","password","range","tel","text","time","week","me","ne","oe","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","D","of","pf","qf","rf","sf","bind","capture","passive","J","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","setTimeout","Gf","clearTimeout","Hf","Promise","Jf","queueMicrotask","resolve","then","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","E","G","Vf","H","Wf","Xf","Yf","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","_currentValue","Sg","childLanes","Tg","dependencies","firstContext","lanes","Ug","Vg","context","memoizedValue","Wg","Xg","Yg","interleaved","Zg","$g","ah","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","bh","ch","eventTime","lane","payload","dh","K","eh","fh","gh","hh","ih","jh","Component","refs","kh","nh","isMounted","_reactInternals","enqueueSetState","L","lh","mh","enqueueReplaceState","enqueueForceUpdate","oh","shouldComponentUpdate","isPureReactComponent","ph","updater","qh","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","rh","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","sh","ref","_owner","_stringRef","th","uh","vh","wh","xh","yh","implementation","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","tagName","Jh","Kh","Lh","M","Mh","revealOrder","Nh","Oh","_workInProgressVersionPrimary","Ph","ReactCurrentDispatcher","Qh","Rh","N","O","P","Sh","Th","Uh","Vh","Q","Wh","Xh","Yh","Zh","$h","ai","bi","ci","baseQueue","queue","di","ei","fi","lastRenderedReducer","hasEagerState","eagerState","lastRenderedState","dispatch","gi","hi","ii","ji","ki","getSnapshot","li","mi","R","ni","lastEffect","stores","oi","pi","qi","ri","destroy","deps","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ki","digest","Li","Mi","console","error","Ni","WeakMap","Oi","Pi","Qi","Ri","componentDidCatch","Si","componentStack","Ti","pingCache","Ui","Vi","Wi","Xi","ReactCurrentOwner","Yi","Zi","$i","aj","bj","cj","dj","ej","baseLanes","cachePool","transitions","fj","gj","hj","ij","jj","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","kj","lj","pendingContext","mj","Aj","Bj","Cj","Dj","nj","oj","pj","fallback","qj","rj","tj","dataset","dgst","uj","vj","_reactRetry","sj","subtreeFlags","wj","xj","isBackwards","rendering","renderingStartTime","tail","tailMode","yj","Ej","S","Fj","Gj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","T","Hj","Ij","Jj","Kj","U","Lj","WeakSet","V","Mj","W","Nj","Oj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","insertBefore","_reactRootContainer","Xj","X","Yj","Zj","ak","onCommitFiberUnmount","componentWillUnmount","bk","ck","dk","ek","fk","isHidden","gk","hk","display","ik","jk","kk","lk","__reactInternalSnapshotBeforeUpdate","src","Wk","mk","ceil","nk","pk","Y","Z","qk","rk","sk","tk","uk","Infinity","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","finishedWork","finishedLanes","Qk","timeoutHandle","Rk","Sk","Tk","Uk","Vk","mutableReadLanes","Bc","Pj","onCommitFiberRoot","mc","onRecoverableError","Xk","onPostCommitFiberRoot","Yk","Zk","al","isReactComponent","pendingChildren","bl","mutableSourceEagerHydrationData","cl","cache","pendingSuspenseBoundaries","el","fl","gl","hl","il","jl","zj","$k","ll","reportError","ml","_internalRoot","nl","ol","pl","ql","sl","rl","unmount","unstable_scheduleHydration","querySelectorAll","JSON","stringify","form","tl","usingClientEntryPoint","Events","ul","findFiberByHostInstance","bundleType","version","rendererPackageName","vl","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","wl","isDisabled","supportsFiber","inject","createPortal","dl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","getModuleId","__self","__source","jsx","jsxs","forceUpdate","escape","_status","_result","Children","count","toArray","only","PureComponent","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","_history","_urlSearchParams","ownKeys","enumerableOnly","symbols","sym","_defineProperty","ReduxQuerySync","lastQueryValues","store","params","initialTruth","_ref$history","ignoreLocationUpdate","ignoreStateUpdate","getLocation","getCurrentLocation","getQueryValues","locationParams","queryValues","_params$param","_params$param$stringT","stringToValue","s","valueString","handleLocationUpdate","getState","actionsToDispatch","_params$param2","selector","handleStateUpdate","_ref2","_params$param3","_params$param3$valueT","valueToString","newLocationSearchString","newLocation","unsubscribeFromLocation","unsubscribeFromStore","subscribe","enhancer","config","storeCreator","reducer","initialState","getOwnPropertyDescriptors","_objectSpread","_default","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","objA","objB","compareContext","ret","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","inst","useSyncExternalStoreWithSelector","hasValue","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","o","chunkId","all","reduce","promises","miniCssF","globalThis","Function","prop","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","head","toStringTag","baseURI","installedChunks","j","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","_taggedTemplateLiteral","strings","raw","freeze","charCodeAt","use","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","WebkitLineClamp","memoize","arg","reactPropsRegex","isPropValid","_","styledComponentId","REACT_APP_SC_ATTR","SC_ATTR","Boolean","SC_DISABLE_SPEEDY","REACT_APP_SC_DISABLE_SPEEDY","groupSizes","Uint32Array","indexOfGroup","insertRules","insertRule","clearGroup","deleteRule","getGroup","getRule","RegExp","registerName","parseInt","getTag","__webpack_nonce__","childNodes","hasAttribute","sheet","styleSheets","ownerNode","cssRules","cssText","$","nodes","rules","isServer","useCSSOMInjection","gs","server","registerId","reconstructWithOptions","allocateGSInstance","hasNameForId","clearNames","clear","clearRules","clearTag","abs","staticRulesId","isStatic","componentId","baseHash","baseStyle","generateAndInjectStyles","_e","plugins","stylisPlugins","disableCSSOMInjection","disableVendorPrefixes","getName","isCss","startsWith","theme","attrs","parentComponentId","shouldForwardProp","componentStyle","foldedComponentIds","$as","as","className","withComponent","_foldedDefaultProps","withConfig","createStyles","removeStyles","renderStyles","_emitSheetCSS","getStyleTags","sealed","getStyleElement","nonce","seal","collectStyles","interleaveWithNodeStream","COLOR_SCHEME","seed","colors","colorCount","round","counter","generateColorScheme","devices","desktop","fontSize","mobile","maxWidth","dimensions","maxContentWidth","fonts","title","fontSizes","h1","h2","bg1","bg1p5","bg2","bg3","fg1","fg1p5","fg2","colorScheme","spacings","controls","gridSize","zIndexes","closeButton","spinner","H2","styled","_templateObject","H3","h3","_templateObject2","Box","div","_templateObject3","space1","buttonMixin","buttonActiveMixin","Button","_templateObject4","ButtonActive","_templateObject5","Select","select","_templateObject6","FilenameContainer","span","_templateObject7","space0p1","Filename","filename","_jsx","Filesize","_templateObject8","fileViewportMixin","Or","_templateObject9","Hint","_templateObject10","CompilationBox","_templateObject11","CompilationBoxLeft","_templateObject12","CompilationBoxRight","_templateObject13","SpinnerContainer","_templateObject14","ArtefactButtonsContainer","_templateObject15","Container","Pre","pre","ButtonsContainer","extraButtons","_jsxs","download","mimetype","blob","Blob","msSaveOrOpenBlob","msSaveBlob","elem","createObjectURL","click","ARRAY","BIT","BITS","BYTE","BYTES","EMPTY","EXPONENT","FUNCTION","IEC","INVALID_NUMBER","INVALID_ROUND","JEDEC","OBJECT","PERIOD","ROUND","SI","SI_KBIT","SI_KBYTE","SPACE","STRING","ZERO","STRINGS","iec","bits","bytes","jedec","fullform","filesize","pad","localeOptions","separator","spacer","standard","output","fullforms","exponent","roundingMethod","precision","num","Number","val","full","neg","roundingFunc","pow","toPrecision","toLocaleString","isInteger","tmp","padEnd","unit","CHAR_MAP","BinaryContainer","wasm","showDownloadButton","showFileSize","onDownload","Uint8Array","fileSizeStr","byteLength","formatTime","timeSeconds","intPart","dec","padStart","Time","Player","PlayPauseButton","VolumeContainer","VolumeButton","ArtefactButtonsContainerBase","wav","isPlaying","setIsPlaying","setCurrentTime","audio","Audio","onplay","onPlay","onpause","onPause","onended","onEnded","interval","setInterval","currentTime","clearInterval","onClickPause","paused","pause","onClickPlay","play","duration","onVolumeDown","volume","onVolumeUp","format","artefacts","PdFile","Wasm","Wav","nn","rn","isFrozen","tn","en","on","Proxy","revocable","revoke","proxy","deleteProperty","setPrototypeOf","un","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","op","an","_typeof","toPropertyKey","toPrimitive","_objectSpread2","formatProdErrorMessage","$$observable","observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","createStore","preloadedState","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","isSubscribed","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","_i","previousStateForKey","nextStateForKey","compose","funcs","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","middleware","createThunkMiddleware","extraArgument","thunk","withExtraArgument","composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","baseProto","createAction","prepareAction","actionCreator","prepared","__spreadValues","MiddlewareArray","_super","_this","__extends","species","arr","prepend","__spreadArray","EnhancerArray","freezeDraftable","isDraftable","createNextState","curryGetDefaultMiddleware","_c","middlewareArray","immutableCheck","serializableCheck","actionCreatorCheck","isBoolean","thunkMiddleware","getDefaultMiddleware","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","createSlice","_reducer","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","buildReducer","extraReducers","_d","_f","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","isStateFunction","frozenInitialState_1","caseReducers","cr","previousState","caseReducer","isDraft2","isDraftable2","createNextState2","draft","createReducer","actionMatchers_1","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","nanoid","commonProperties","RejectWithValue","FulfillWithMeta","miniSerializeError","simpleError","commonProperties_1","property","createAsyncThunk2","typePrefix","payloadCreator","fulfilled","requestId","__spreadProps","requestStatus","rejected","serializeError","rejectedWithValue","aborted","AC","AbortController","class_1","signal","onabort","reason","throwIfAborted","abort","extra","abortReason","idGenerator","abortController","promise2","__async","conditionResult","_a","sent","abortedPromise","_b","getPendingMeta","race","rejectWithValue","fulfillWithValue","finalAction","err_1","dispatchConditionRejection","unwrap","unwrapResult","withTypes","alm","global","createQueueWithTimer","notify","requestAnimationFrame","enableES5","batch","getBatch","ContextKey","gT","getContext","_gT$ContextKey","React","contextMap","realContext","ReactReduxContext","createReduxContextHook","useReduxContext","notInitialized","refEquality","createSelectorHook","useDefaultReduxContext","equalityFnOrOptions","equalityFn","stabilityCheck","noopCheck","subscription","getServerState","globalStabilityCheck","globalNoopCheck","wrappedSelector","selectedState","addNestedSub","useSelector","nullListeners","createSubscription","parentSub","subscriptionsAmount","selfSubscribed","handleChangeWrapper","onStateChange","trySubscribe","first","createListenerCollection","tryUnsubscribe","cleanupListener","removed","notifyNestedSubs","getListeners","useIsomorphicLayoutEffect","serverState","contextValue","Context","createStoreHook","useStore","createDispatchHook","useDefaultStore","useDispatch","newBatch","initializeUseSelector","initializeConnect","AVAILABLE_INPUT_FORMATS","filepath","arrayBuffer","focusOn","setUrl","fetchUrlError","__","fetchUrlSuccess","setLocalFile","setFocusOn","AVAILABLE_OUTPUT_FORMATS","codeTarget","previewDurationSeconds","setFormat","setCodeTarget","setPreviewDurationSeconds","buildInput","ASC","ESCAPED_DOLLAR_VAR_RE_GLOB","ESCAPED_COMMA_VAR_RE_GLOB","ESCAPED_SEMICOLON_VAR_RE_GLOB","parseArg","rawArg","parseFloatToken","ValueError","parseStringToken","isNumber","isString","parsed","parseIntToken","token","parseBoolToken","emptyValue","matched","exec","isFinite","hydrateArray","tokens","arrayName","arraySize","optionsFlag","layout","drawAs","hydrateNodePatch","canvasType","patchId","nodeClass","hydrateNodeArray","_ref3","arrayId","hydrateNodeBase","hydrateConnection","_ref4","nodeId","portletId","sink","hydrateNodeGeneric","nodeBase","hydrateNodeControl","widthInChars","labelPos","label","hold","interrupt","labelX","labelY","labelFont","labelFontSize","bgColor","fgColor","labelColor","logHeight","steadyOnClick","minValue","maxValue","isLogScale","pixValue","pixSize","initValue","exp","hydrateLineAfterComma","lineAfterComma","afterCommaTokens","TOKENS_RE","AFTER_COMMA_RE","LINES_RE","_reverseString","reverse","tokenizeLine","line","matches","matchAll","tokenStart","tokenEnd","lastMatch","CONTROL_TYPE","floatatom","symbolatom","listbox","bng","tgl","nbx","vsl","hsl","vradio","hradio","vu","cnv","msg","NODES","nextPatchId","nextArrayId","_tokensMatch","parse","pdString","tokenizedLines","lastIndex","lineMatch","lineParts","lineIndex","tokenize","rootPatchId","patches","arrays","errors","warnings","patchTokenizedLinesMap","_parsePatches","_parseArrays","_parseNodesAndConnections","_computePatchPortlets","status","isPatchRoot","patchTokenizedLines","patchCanvasTokens","patchCoordsTokens","iterCounter","continueIteration","firstLineIndex","_catchParsingErrors","tableTokens","hydratePatch","isRoot","canvasTokenizedLine","coordsTokenizedLine","canvasTokens","coordsTokens","windowX","windowY","windowWidth","windowHeight","openOnLoad","graphOnParentRaw","graphOnParent","hideObjectNameAndArguments","viewportX","viewportY","viewportWidth","viewportHeight","connections","inlets","outlets","patch","_comparePortletsId","node1","node2","parseFloat","_comparePortletsLayout","inletNodes","inletsSortFunction","outletNodes","outletsSortFunction","remainingTokenizedLines","currentArray","currentData","indexOffset","rawVal","idCounter","nextId","tokenizedLine","makeAbstractionLoader","pdFileLoader","async","UnknownNodeTypeError","unknownNodeType","parseResult","parsingWarnings","parsingErrors","getArtefact","outFormat","artefact","stringifyArrayBuffer","buffer","TextDecoder","countTo","results","mapObject","dest","srcValue","mapArray","destValue","renderSwitch","routes","matchedRoute","getNode","graph","getInlet","inletId","inlet","getOutlet","outletId","outlet","getSinks","sinks","getSources","sources","toNodes","traversal","signalNodes","nodesPullingSignal","shouldContinue","_signalNodesBreadthFirstRecursive","currentPath","nextPath","sourceNode","messageNodes","nodesPushingMessages","_messageNodesDepthFirstRecursive","removeDeadSinks","graphTraversal","filteredSinks","_ref5","outletSinks","filteredOutletSinks","_ref6","sinkNodeId","removeDeadSources","filteredSources","_ref7","inletSources","filteredInletSources","_ref8","sourceNodeId","packageInfo","macros","Var","declaration","renderedValue","ConstVar","Func","renderedArgsValues","renderedBody","returnType","members","varDeclaration","getMacros","javascript","assemblyscript","macros$1","getNodeImplementation","nodeImplementations","nodeImplementation","buildMetadata","compilation","settings","audioSettings","io","variableNamesIndex","libVersion","sampleRate","blockSize","isGlobalDefinitionWithSettings","globalCodeDefinition","typeName","_preventToString","astType","_prepareVarValue","content","ast","AnonFunc","_len2","_key2","Sequence","_processRawContent","_intersperse","_len3","_key3","flattenedAndFiltered","flatMap","combinedContent","remainingString","currentString","array1","array2","generateGlobs","globs","iterFrame","frame","nullSignal","nullMessageReceiver","generateEmbeddedArrays","generateNodeInitializations","precompilation","traversals","initialization","generateIoMessageReceivers","messageReceivers","spec","portletIds","generateIoMessageSenders","generateIoMessageSender","messageSenders","listenerVariableName","generatePortletsDeclarations","debug","graphTraversalNodes","precompiledNode","signalOuts","outName","_ref9","astFunc","_ref10","messageSenderName","sndName","messageReceiverNames","rcvNames","rcvName","generateLoop","loop","generateImportsExports","_ref11","generateImport","generateExport","imports","createNamespace","namespace","_trimDollarKey","newValue","nodeNamespaceLabel","namespaceName","generateVariableNamesGlobs","attachNodePortlet","nsKey","nodeVariableNames","sinkNode","_namePrefix","_v","namePart","VALID_NAME_PART_REGEXP","sked","commonsCore","codeGenerator","commonsArrays","commonsWaitEngineConfigure","commonsWaitFrame","core","bitDepth","Float","FloatArray","getFloat","setFloat","declareFuncs","toInt","toFloat","createFloatArray","setFloatDataView","getFloatDataView","targets","bufCore","bufPushPull","bufWriteRead","msg_create","msg_writeStringToken","msg_writeFloatToken","msg_readStringToken","msg_readFloatToken","msg_getLength","msg_getTokenType","msg_isStringToken","msg_isFloatToken","msg_isMatching","msg_floats","msg_strings","msg_display","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","_templateObject21","_templateObject22","_templateObject23","_templateObject24","_templateObject25","_templateObject26","_templateObject27","_templateObject28","_templateObject29","_templateObject30","_templateObject31","_templateObject32","_templateObject33","_templateObject34","fsCore","fsReadSoundFile","fsWriteSoundFile","fsSoundStreamCore","fsReadSoundStream","fsWriteSoundStream","instantiateAndDedupeDependencies","_getGlobalCodeGeneratorContext","codeDefinition","astElements","astElement","otherElement","_deepEqual","engineMinimalDependencies","collectAndDedupeExports","xprt","otherExport","collectAndDedupeImports","imprt","otherImport","flattenDependencies","_collectDependenciesFromTraversal","graphTraversalAll","definitions","ast1","ast2","_printFuncSignature","MESSAGE_RECEIVER_SIGNATURE","precompileMessageReceivers","snds","generationContext","implementedFunc","assertFuncSignatureEqual","actual","expected","targetFunc","isInlinableNode","sinkList","getInlinableNodeSinkList","inlineLoop","_getMessageInletTotalSourceCount","ioReceiversPortletIds","_getPortletIdsFromMsgIo","_getMessageOutletTotalSinkCount","ioSendersPortletIds","specs","precompile","attachIoMessages","precompileDependencies","precompileSignalInlet","signalIns","precompileMessageInlet","messageReceiverName","precompileSignalOutlet","signalOutName","precompileMessageOutlet","totalSinkCount","hasIoSender","precompileInitialization","graphTraversalSignal","isPullingSignal","buildGraphTraversalSignal","_isInlinableLeafNode","inlineNodeTraversal","precompileInlineLoop","leafNode","inlinedNodes","ins","inlinedInputs","inlined","precompileLoop","outs","baseContext","initializePrecompilation","compilationSettings","validateSettings","generateVariableNamesIndex","buildGraphTraversalAll","isPushingMessages","trimmedGraph","trimGraph","metadata","variableName","compileToJavascript","channelCount","in","out","compileToAssemblyscript","InvalidSettingsError","WEBPD_RUNTIME_FILENAME","bareBonesApp","compiledPatchFilename","generatedApp","dspGraph","_metadata","group","position","discoverGuiControls","pdJson","rootPatch","_discoverGuiControlsRecursive","comments","viewport","topLeft","bottomRight","subpatch","nodeLayout","_assertNodeLayout","subpatchLayout","_assertPatchLayout","toSubpatchCoords","makeTranslationTransform","parentViewport","subpatchViewport","sumPoints","visibleSubpatchViewport","computeRectanglesIntersection","control","isPointInsideRectangle","traverseGuiControls","fromPoint","toPoint","xOffset","yOffset","p1","p2","r1","r2","DOLLAR_VAR_REGEXP","resolvePatch","resolvePdNode","pdNode","resolveNodeType","nodeBuilders","nodeBuilder","aliasTo","resolveDollarArg","patchIdInt","patchArgs","dollarVarRegex","matchDollar","isWithinRange","resolveArrayDollarArgs","resolvePdNodeDollarArgs","_instantiateAbstractionsRecurs","namemap","abstractionLoader","_resolveIdNamemap","resolutionResult","_resolveAbstraction","abstractionErrors","newNamemap","abstractionInstance","_reassignUniquePdGlobalIds","newRootPatch","_resolveRootPatch","abstractions","objectId","newObjectId","pdToMergeInto","pdToReassign","pdWithReassignedIds","patchesIds","arraysIds","patchesIdCounter","arraysIdCounter","oldId","newId","emptyBuilder","translateArgs","build","assertNumber","ValidationError","assertString","assertOptionalNumber","assertOptionalString","nodeArgs","channel","coldFloatInlet","storageName","coldFloatInletWithSetter","setterName","generateVariableNamesNodeType","functionNames","stateClass","variableNames","$0","$1","addNode","connect","otherSources","otherSinks","otherSink","endpointsEqual","a2","a1","_ensureConnectionEndpointArray","disconnectNodes","portletMap","IMPLICIT_NODE_TYPES","IdNamespaces","buildGraphNodeId","nodeLocalId","PD","buildGraphPortletId","pdPortletId","buildImplicitGraphNodeId","replaceAll","IMPLICIT_NODE","toDspGraph","nodeBuilders$1","abstractionsResult","instantiateAbstractions","hasWarnings","abstractionsLoadingErrors","abstractionsLoadingWarnings","pdWithResolvedAbstractions","_traversePatches","_buildNodes","_buildConnections","deleteNode","Float32Array","patchPath","_currentPatch","_rootPatch","_buildNode","nodeTypeResolution","isNoop","skipDollarArgsResolution","partialNode","rootPatchPath","pdConnections","_resolveSubpatches","groupedGraphConnections","_groupAndResolveGraphConnections","graphSink","graphSources","signalSources","messageSources","sinkNodeBuilder","messageToSignalConfig","configureMessageToSignalConnection","_buildConnectionToSignalSink","_buildConnectionToMessageSink","implicitSigNode","mixerNodeArgs","implicitMixerNode","sigNodeArgs","initialSignalValue","builder$1","routeMsgArgs","implicitRouteMsgNode","builder$2","isMsgSortNodeConnected","reroutedMessageInletId","graphMessageSource","connection","pdGlobSink","pdSink","graphNodeId","graphPortletId","pdGlobSources","pdGlobSource","otherPdGlobSink","_arePdGlobEndpointsEqual","graphSignalSources","graphMessageSources","sourcePatchPath","pdSource","sourcePatch","graphSource","resolvedSources","_resolveSource","resolvedSinks","_resolveSink","pdGSource","pdGSink","otherPdGSource","otherPdGSink","pdSourceNode","parentPatch","_parentPatch","subpatchNode","_resolveSubpatchNode","subpatchNodePortletId","_resolveSubpatchPortletId","outletPdNodeId","_resolveSubpatchPortletNode","pdSinkNode","inletPdNodeId","_ref12","_ref13","firstRootPatch","portletNodeIds","pdNodeId","findIndex","_ref14","_ref15","pp1","ep1","pp2","ep2","EMPTY_BUS_NAME","controlsCoreVariableNames","controlsCore","setReceiveBusName","setSendReceiveFromMessage","defaultMessageHandler","signalBuses","messageBuses","bangUtils","msgUtils","stringMsgUtils","builderWithInit","init","receive","send","sendBusName","receiveBusName","outputOnLoad","builderWithoutMin","makeNodeImplementation","prepareStoreValue","prepareStoreValueBang","receiveMessage","valueCode","builders","FLOAT_CONTROL_TYPES","collectIoMessageReceiversFromSendNodes","busName","collectIoMessageReceiversFromGui","getFloatArrayType","Float64Array","createModule","rawModule","bindings","bindingSpec","liftString","wasmExports","pointer","memory","memoryU16","Uint16Array","subarray","lowerString","__new","readTypedArray","memoryU32","BYTES_PER_ELEMENT","lowerFloatArray","arrayType","arrayPointer","lowerListOfFloatArrays","arraysPointer","x_core_createListOfArrays","x_core_pushToListOfArrays","readListOfFloatArrays","listOfArraysPointer","listLength","x_core_getListOfArraysLength","x_core_getListOfArraysElem","liftMessage","messagePointer","messageTokenTypesPointer","x_msg_getTokenTypes","messageTokenTypes","Int32Array","tokenType","tokenIndex","MSG_FLOAT_TOKEN","MSG_STRING_TOKEN","stringPointer","instantiateWasmModule","wasmBuffer","wasmImports","instanceAndModule","WebAssembly","instantiate","env","lineNumber","columnNumber","textPointer","updateWasmInOuts","engineData","wasmOutput","getOutput","wasmInput","getInput","createEngineLifecycleBindings","configure","createIoMessageReceiversBindings","lowerMessage","template","templateArrayPointer","x_msg_createTemplate","x_msg_create","createIoMessageSendersBindings","onMessage","ioMsgSendersImports","forwardReferences","listenerName","modules","readMetadata","inputImports","Module","kind","metadataJSON","createFsImports","i_fs_readSoundFile","operationId","urlPointer","infoPointer","info","fs","onReadSoundFile","i_fs_writeSoundFile","soundPointer","sound","onWriteSoundFile","i_fs_openSoundReadStream","onOpenSoundReadStream","i_fs_openSoundWriteStream","onOpenSoundWriteStream","i_fs_sendSoundStreamData","blockPointer","onSoundStreamData","i_fs_closeSoundStream","onCloseSoundStream","createRawModule","createBindings","commons","createCommonsBindings","getArray","arrayNamePointer","commons_getArray","setArray","commons_setArray","createFsBindings","sendReadSoundFileResponse","x_fs_onReadSoundFileResponse","sendWriteSoundFileResponse","x_fs_onWriteSoundFileResponse","sendSoundStreamData","writtenFrameCount","x_fs_onSoundStreamData","closeSoundStream","x_fs_onCloseSoundStream","createEngine","createFsModule","createCommonsModule","floatArrayType","chars","changeBitDepth","samples","bithDepth","newSamples","targetBitDepth","validateBitDepth_","toFunction","original","floatToInt_","intToFloat_","intToInt_","getBitDepthFunction_","oldMin","newMin","oldMax","newMax","sign8Bit_","len","sample","sign","factor","INDEX_TABLE","STEP_TABLE","encodeBlock","adpcmSamples","encodeSample_","blockHead_","sample2","decodeBlock","predicted","step","original_sample","second_sample","first_sample","decodeSample_","diff","updateEncoder_","nibble","difference","updateDecoder_","LOG_TABLE","encodeSample","compandedValue","decodeSample","aLawSample","decoded","BIAS","CLIP","encodeTable","decodeTable","mantissa","muLawSample","endianness","swap_","theByte","pack","codePoint","codePointAt","IntParser","signed","unpack","unpack_","unpackSigned_","clamp_","sign_","FloatParser","ebits","fbits","bias","biasP2","ebitsFbits","fbias","fraction","roundToEven","packFloatBits_","significand","eMax","leftBits","NaN","unpackString","lowerBoundary","upperBoundary","unpack$1","packString","pack$1","packStringTo","packArrayTo","theType","packer","getParser_","fp","valuesLen","unpackArrayTo","parser","getUnpackLen_","readBuffer","copyBuffer_","packTo","RIFFFile","container","chunkSize","signature","uInt32","supported_containers","setSignature","readString","readUInt32","subChunks","getSubChunksIndex_","findChunk","chunks","chunk","maxSize","getSubChunkIndex_","getChunkId_","getChunkSize_","realChunkSize","chunkData","WaveFileReader","super","fmt","audioFormat","numChannels","byteRate","blockAlign","bitsPerSample","cbSize","validBitsPerSample","dwChannelMask","subformat","fact","dwSampleLength","cue","dwCuePoints","points","smpl","dwManufacturer","dwProduct","dwSamplePeriod","dwMIDIUnityNote","dwMIDIPitchFraction","dwSMPTEFormat","dwSMPTEOffset","dwNumSampleLoops","dwSamplerData","loops","bext","description","originator","originatorReference","originationDate","originationTime","timeReference","UMID","loudnessValue","loudnessRange","maxTruePeakLevel","maxMomentaryLoudness","maxShortTermLoudness","reserved","codingHistory","iXML","ds64","riffSizeHigh","riffSizeLow","dataSizeHigh","dataSizeLow","sampleCountHigh","sampleCountLow","LIST","junk","_PMX","uInt16","fromBuffer","wavBuffer","clearHeaders","readDs64Chunk_","readFmtChunk_","readFactChunk_","readBextChunk_","readiXMLChunk_","readCueChunk_","readSmplChunk_","readDataChunk_","readJunkChunk_","readLISTChunk_","read_PMXChunk_","tmpWav","readUInt16_","readFmtExtension_","dwName","dwPosition","fccChunk","dwChunkStart","dwBlockStart","dwSampleOffset","dwType","dwStart","dwEnd","dwFraction","dwPlayCount","listChunks","subChunk","readLISTSubChunks_","readLISTadtlSubChunks_","readLISTINFOSubChunks_","dwPurposeID","dwCountry","dwLanguage","dwDialect","dwCodePage","readZSTR_","writeString","packedString","WaveFileParser","toBuffer","fileBody","getJunkBytes_","getDs64Bytes_","getBextBytes_","getiXMLBytes_","getFmtBytes_","getFactBytes_","getCueBytes_","getSmplBytes_","getLISTBytes_","get_PMXBytes_","fileBodyLength","enforceBext_","enforceByteLen_","iXMLPackedValue","cuePointsBytes","getCuePointsBytes_","smplLoopsBytes","getSmplLoopsBytes_","fmtBytes","getFmtExtensionBytes_","extension","subChunksBytes","getLISTSubChunksBytes_","getLISTINFOSubChunksBytes_","getLISTadtlSubChunksBytes_","LISTsubChunkValue","getLtxtChunkBytes_","ltxt","_PMXPackedValue","validateSampleRate","channels","WaveFileCreator","dataType","WAV_AUDIO_FORMATS","fromScratch","bitDepthCode","newWavFile_","bitDepthFromFmt_","updateDataType_","validateWavHeader_","getSamples","OutputObject","finalSamples","deInterleave","getSample","setSample","getiXML","setiXML","iXMLValue","get_PMX","set_PMX","_PMXValue","subLen","interleave","numBytes","makeWavHeader_","samplesLength","createADPCMHeader_","createALawMulawHeader_","createExtensibleHeader_","createPCMHeader_","mask","dwChannelMask_","WaveFileTagEditor","getTagIndex_","TAG","setTag","fixRIFFTag_","deleteTag","listTags","getLISTIndex","tags","listType","WaveFileCueEditor","listCuePoints","getCuePoints_","setCuePoint","pointData","existingPoints","clearLISTadtl_","setCuePoint_","setCuePointInOrder_","deleteCuePoint","updateLabel","pointIndex","cIndex","getDataForCuePoint_","pointDwName","LISTindex","getCueDataFromLIST_","setLabl_","hasSet","adtlIndex","setLabelText_","setLtxtChunk_","Interpolator","scaleFrom","scaleTo","details","length_","scaleFactor_","interpolate","sinc","method","point","linear","cubic","tangentFactor_","tension","sincFilterSize_","sincFilterSize","kernel_","sin","PI","sinc_","sincKernel_","sincWindow","window_","getClippedInput_","getTangent_","t2","t3","ref1","sum","DEFAULT_LPF_USE","DEFAULT_LPF_ORDER","DEFAULT_LPF","cutOff","filters","getCoeffs_","Fs","stages","b0","b1","b2","runStage_","coeffs","preCalc_","cw","a0","alpha","cos","temp","reset","omega","initZ_","buf","resample","oldSampleRate","rate","interpolator","clip","LPF","LPFType","upsample_","LPForder","resample_","downsample_","WaveFileConverter","toRIFF","outputSize_","fromExisting_","toRIFX","toIMAADPCM","assure16Bit_","Int16Array","fileIndex","blockCount","correctContainer_","fromIMAADPCM","toBitDepth","toALaw","aLawSamples","encode$1","fromALaw","pcmSamples","decode$1","toMuLaw","muLawSamples","encode$2","fromMuLaw","decode$2","newBitDepth","changeResolution","thisBitDepth","assureUncompressed_","toSampleRate","validateResample_","byteLen","byteOffset","outputSize","WaveFile","fromBase64","base64String","base64","lookup","bufferLength","encoded1","encoded2","encoded3","encoded4","toBase64","toDataURI","fromDataURI","dataURI","audioDataToWav","audioData","channelData","createEngine$2","engineBindings","createEngine$1","renderAudioData","engine","durationSeconds","durationSamples","blockInput","_makeBlock","blockOutput","inOrOut","defaultBlockSize","BUILD_FORMATS","extensions","app","BUILD_TREE","guessFormat","formats","listBuildSteps","inFormat","intermediateStep","paths","_findBuildPaths","branch","parentPath","_traverseBuildTree","channelMapping","dacInletIds","maxInlet","destination","adcOutletIds","maxOutlet","frequency","coeff","generateOperation","setPhase","nodeCore","phase","linesUtils","computeUnitInSamples","setNextDelay","setNextDuration","setNewLine","defaultLine","stop","timeGrainMsec","setGrain","tick","stopCurrentLine","incrementTime","scheduleNextTick","setNextSamp","MAX_MIDI_FREQ","mtof","ftom","translateArgsTabBase","variableNamesTabBase","nodeCoreTabBase","emptyArray","createState","setArrayName","prepareIndex","setArrayNameFinalize","setWritePosition","parseSoundFileOpenOpts","parseReadWriteFsOpts","openStream","BLOCK_SIZE","flushBlock","updateCoefs","setFrequency","setQ","builderThrow","builderReceive","builderSend","builderCatch","setBusName","unitAmount","setRate","setDelay","scheduleDelay","messageMatch","roundFloatAsPdInt","setValueInt","setValueFloat","setValueVariableName","float","int","operationCode","makeBuilder","delayBuffers","delayName","initDelayMsec","setDelayName","maxDurationMsec","lastOutput","lastInput","initCoeffRe","initCoeffIm","generateOperationRe","generateOperationIm","$2","$3","inputRe","coeffRe","coeffIm","lastOutputRe","lastOutputIm","inputIm","___","lastInputRe","lastInputIm","setFreq","transferCodes","templates","buildMsgTransferCode","inMessageUsed","outMessageCode","outTemplate","outMessage","operations","buildMessageTransferOperations","outTemplateCode","stringMemCount","operation","outIndex","inIndex","variables","placeholder","hasStringTemplate","templateElem","DOLLAR_VAR_RE","DOLLAR_VAR_RE_GLOB","operationArgs","inletCount","outletCount","prepareInMessage","setSplitPoint","appendPrependOutMessageCode","Operation","buildMessage1","TYPE_ARGUMENTS","resolveTypeArgumentAlias","assertTypeArgument","renderMessageTransfer","typeArgument","msgVariableName","messageTokenToFloat","messageTokenToString","typeArguments","typeArg","threshold","isClosed","setIsClosed","setMaxValue","sendMessages","prepareMessageScheduling","iReverse","ScheduledMessage","dummyScheduledMessage","reversedI","builderExpr","tokenizedExpressions","preprocessExpression","tokenizeExpression","validateAndListInputsExpr","builderExprTilde","validateAndListInputsExprTilde","inputs","hasInput0","renderTokenizedExpression","TOKENIZE_REGEXP","expression","listInputs","tokenizedExpression","i1","i2","inputsMap","funcName","expr","variableNamesBinopBase","operationName","prepareLeftOp","prepareRightOp","setLeft","setRight","mod","NODE_BUILDERS","builders$1","builders$2","builders$3","builders$4","builders$5","builders$6","builders$7","builders$8","builder$3","builder$4","builder$6","builder$7","builder$8","builder$a","builder$b","builder$c","builder$d","builder$e","builder$f","builder$g","builder$h","builders$9","builders$a","builders$b","builders$c","builders$d","builders$e","bang","builder$i","builder$j","builder$k","loadbang","print","trigger","builder$n","change","builder$o","builder$p","pipe","builder$q","moses","builder$r","builder$s","builder$t","spigot","builder$u","until","builder$w","route","builder$x","sel","metro","builder$z","timer","builder$A","builder$B","builder$C","soundfiler","tabread","builder$E","tabwrite","builder$F","builder$G","builder$H","table","openpanel","NODE_IMPLEMENTATIONS","nodeImplementations$1","nodeImplementations$2","nodeImplementations$3","nodeImplementations$4","nodeImplementations$5","nodeImplementations$6","nodeImplementations$7","nodeImplementations$8","nodeImplementation$1","nodeImplementation$2","nodeImplementation$3","nodeImplementation$4","nodeImplementation$5","nodeImplementation$6","nodeImplementation$7","nodeImplementation$8","nodeImplementation$9","nodeImplementation$a","nodeImplementation$b","nodeImplementation$c","nodeImplementation$d","nodeImplementation$e","nodeImplementation$f","nodeImplementation$g","nodeImplementation$h","nodeImplementations$9","nodeImplementations$a","nodeImplementations$b","nodeImplementations$c","nodeImplementations$d","nodeImplementations$e","nodeImplementation$i","nodeImplementation$j","nodeImplementation$k","nodeImplementation$l","nodeImplementation$m","nodeImplementation$n","nodeImplementation$o","nodeImplementation$p","nodeImplementation$q","nodeImplementation$r","nodeImplementation$s","nodeImplementation$t","nodeImplementation$u","nodeImplementation$v","nodeImplementation$w","nodeImplementation$x","nodeImplementation$y","nodeImplementation$z","nodeImplementation$A","nodeImplementation$B","nodeImplementation$C","nodeImplementation$D","nodeImplementation$E","nodeImplementation$F","nodeImplementation$G","nodeImplementation$H","alwaysFailingAbstractionLoader","createArtefacts","performBuildStep","renderAudioSettings","_makeParseErrorMessages","toDspGraphResult","unknownNodeTypes","_makeUnknownNodeTypeMessage","compileCodeResult","compileOptions","optimizeLevel","exportRuntime","sourceMap","binary","stderr","compileString","compileAssemblyscript","renderWav","appGenerator","nodeTypeSet","errorOrWarnings","isPositiveInteger","ArgumentError","fetchRetry","fetch","defaults","retries","retryDelay","retryOn","wrappedFetch","attempt","_input","Request","clone","response","retryOnResponse","retry","fetchRetry$1","fixSoundChannelCount","targetChannelCount","frameCount","fixedSound","resolveRelativeUrl","rootUrl","relativeUrl","FileError","WebPdWorkletNode","AudioWorkletNode","numberOfOutputs","outputChannelCount","port","registerWebPdWorkletNode","processorCode","workletProcessorUrl","audioWorklet","addModule","AssemblyScriptWasmBindingsCode","makeUrlAbstractionLoader","FILES","STREAMS","FakeStream","readPosition","read","responseText","fetchFile","readSound","fakeFile","audioBuffer","numberOfChannels","getChannelData","audioBufferToArray","decodeAudioData","getStream","killStream","pullBlock","stream","pushBlock","concatenated","fakeFs","emptySound","BUFFER_HIGH","readSoundStream","functionName","absoluteUrl","streamLoop","returned","framesAvailableInEngine","secondsToThreshold","framesToSend","writeSoundStream","messageEvent","operationStatus","readSoundFile","writeSoundFile","urlDirName","isExternalUrl","urlString","origin","actionCleanBuild","BUILD_STATUS","ASSETS","Build","buildStatus","startBuild","buildSuccess","startStep","stepComplete","buildOutput","isInitialized","willBuildOnLoad","setWillBuildOnLoad","initializationDone","setDebug","pointerUp","NOT_FOUND","defaultEqualityCheck","defaultMemoize","equalityCheckOrOptions","providedOptions","equalityCheck","_providedOptions$equa","_providedOptions$maxS","resultEqualityCheck","comparator","createCacheKeyComparator","equals","put","getEntries","createSingletonCache","cacheIndex","createLruCache","memoized","matchingEntry","clearCache","createSelectorCreator","memoizeOptionsFromArgs","_lastResult","_recomputations","directlyPassedOptions","memoizeOptions","resultFunc","_directlyPassedOption2","finalMemoizeOptions","dep","dependencyTypes","getDependencies","memoizedResultFunc","lastResult","recomputations","resetRecomputations","createSelector","selectBuildInputUrl","selectBuildInputFilepath","selectBuildInputArrayBuffer","selectBuildInputFormat","filepathOrUrl","selectBuildInputArtefacts","loadArtefact","artefactBuffer","artefactFormat","selectBuildOutputFormat","selectBuildOutputCodeTarget","selectBuildOutputPreviewDurationSeconds","selectBuildOutputFormatsAvailable","outputFormats","flat","createSymbol","CANCEL","CHANNEL_END_TYPE","IO","MATCH","MULTICAST","SAGA_ACTION","SELF_CANCELLATION","TASK","TASK_CANCEL","TERMINATE","SAGA_LOCATION","undef","notUndef","it","throw","pattern","pat","take","close","stringableFunc","multicast","ms","timeoutId","konst","kTrue","noop","identity","asyncIterator","assignWithSymbols","remove","kThrow","kReturn","makeIterator","thro","isSagaIterator","logError","sagaStack","createEmptyArray","wrapSagaDispatch","shouldTerminate","shouldCancel","shouldComplete","createAllStyleChildCallbacks","parentCallback","totalCount","completed","completedCount","childCallbacks","chCbAtKey","isErr","cancel","getMetaInfo","instrumented","ringBuffer","limit","overflowAction","pushIndex","popIndex","flush","isEmpty","doubledLimit","expanding","initialSize","TAKE","PUT","ALL","RACE","CALL","CPS","FORK","JOIN","SELECT","ACTION_CHANNEL","CANCELLED","FLUSH","GET_CONTEXT","SET_CONTEXT","makeEffect","combinator","patternOrChannel","multicastPattern","warn","channel$1","getFnCallDescriptor","fnDescriptor","fork","_len5","_key5","delayP","deferred","def","semaphore","task","suspend","release","asap","immediately","patterns","predicate","_predicate","wildcard","matcherCreator","string$1","array$1","symbol$1","END","isEnd","buffer$1","closed","takers","taker","stdChannel","chan","currentTakers","nextTakers","ensureCanMutateNextTakers","called","once","multicastChannel","RUNNING","ABORTED","DONE","resolvePromise","cancelPromise","_effectRunnerMap","nextSagaId","cancelSingleTask","taskToCancel","isRunning","effectRunnerMap","_ref3$channel","maybe","takeCb","digestEffect","effectId","childCbs","proc","cpsCb","detached","parent","taskIterator","resolved","createTaskIterator","getIteratorMetaInfo","addTask","isAborted","taskOrTasks","joinSingleTask","taskToJoin","joiner","joiners","CANCEL$1","CANCELLED$1","isCancelled","_ref16","_ref17","formatLocation","sagaLocationAsString","sagaMeta","cancelledTasksAsString","cancelledTasks","mapper","crashedEffect","addSagaFrame","setCrashedEffect","effect","firstSaga","otherSagas","crashedEffectLocation","effectLocationAsString","newTask","mainTask","parentContext","parentEffectId","cont","_task","taskResult","taskError","deferredEnd","cancelledDueToErrorTasks","onAbort","tasks","cancelAll","getTasks","forkQueue","setContext","toPromise","iterator$1","finalRunEffect","finalizeRunEffect","currCb","effectRunner","executingContext","effectSettled","sagaMonitor","effectRejected","effectResolved","effectTriggered","effectCancelled","runSaga","saga","_ref$channel","_ref$context","effectMiddlewares","_ref$onError","rootSagaStarted","actionDispatched","runEffect","eff","_temp","boundRunSaga","excluded","sourceKeys","_objectWithoutPropertiesLoose","sagaMiddleware","run","qEnd","safeName","fsmIterator","fsm","startState","stateUpdater","errorState","takeLatest","worker","yTake","yFork","yCancel","setTask","setAction","q1","q2","q3","takeLatest$1","watchSetLocalFile","checkLocalFile","guessedFormat","watchSetUrl","fetchUrl","makeRequest","FetchError","computePointsBoundingBox","computeRectangleDimensions","nextTick","assertNonNullable","errMessage","_registerControlValue","controlsValues","valueTransform","transforms","_setControlValue","patchPlayer","valuesUpdatedCallback","_sendUpdatedControlValues","sendMsgToWebPd","webpdNode","throttled","decimals","rounded","CONTAINER_EXTRA_SPACE","_createControlsViewsRecurs","controlsViews","nestedViews","_moveToOrigin","containerView","_quantizeSpace","_getLayout","_getNodeLabel","_getDimensionsGrid","_createCommentsViews","comment","controlViews","nestedViewsBoundingBox","scalePoint","_assertNumber","_renderControlViewsRecurs","parentElem","controlView","childrenContainerElem","_renderContainer","_renderControl","_getContainerPadding","_hasLabel","classList","containerPadding","_scaleSpace","paddingTop","paddingBottom","bottom","paddingRight","right","paddingLeft","_renderLabel","innerDiv","nexusDimensions","nexusElem","_renderNexus","colorize","fontFamily","labelDiv","storedValue","getControlValue","Nexus","Add","Slider","RadioButton","numberOfButtons","active","TextButton","setControlValue","rawValue","hasLabel","patchUrl","createModels","AppGenerator","controlContainer","commentsViews","createViews","audioContext","AudioContext","rootElem","patchPlayerWithoutSettings","initialValues","ELEMS","controlsRoot","startButton","loadingLabel","loadingContainer","creditsButton","creditsContainer","renderStructure","showCredits","_startSound","Browser","renderControlViews","renderCommentsViews","commentView","mediaDevices","getUserMedia","createAudioNode","compiledPatch","messageHandler","jsCode","createMediaStreamSource","resume","initializeControlValues","selectBuildSteps","BIT_DEPTH","CODE_TARGETS","selectAppIsInitialized","selectAppWillBuildOnLoad","selectAppDebug","workerSafePerformBuildStep","workerSafeBuildSettings","localAbstractionLoader","watchStartBuild","makeBuild","sendBuildStepToWorker","requestPayload","Worker","inputArtefacts","buildSteps","tempArtefacts","responsePayload","createPatchPlayer","initializeApp","asc","valuesChanged","selectPatchPlayerValues","selectPatchPlayer","createSagaMiddleware","rootReducer","curriedGetDefaultMiddleware","devTools","_g","_h","enhancers","finalMiddleware","middlewareEnhancer","finalCompose","compose2","trace","defaultEnhancers","storeEnhancers","configureStore","console_","useAppDispatch","useAppSelector","_stringToValueFlag","_valueToStringFlag","jsOrAs","pp","EXAMPLES","ginger2","randomperc1","ExampleSelect","FromExample","onChange","example","__awaiter","_arguments","generator","__generator","trys","ops","verb","__read","ar","SuppressedError","COMMON_MIME_TYPES","toFileWithPath","ext","withMimeType","webkitRelativePath","FILES_TO_IGNORE","isObject","getInputFiles","evt","fromList","files","getFsHandleFiles","handles","getFile","getDataTransferFiles","dt","toFilePromises","noIgnoredFiles","flatten","webkitGetAsEntry","fromDataTransferItem","isDirectory","fromDirEntry","acc","getAsFile","fwp","fromEntry","fromFileEntry","reader","createReader","readEntries","fullPath","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_s","_arr","_n","_iterableToArrayLimit","_nonIterableRest","minLen","arr2","FILE_INVALID_TYPE","FILE_TOO_LARGE","FILE_TOO_SMALL","TOO_MANY_FILES","getInvalidTypeRejectionErr","accept","messageSuffix","getTooLargeRejectionErr","getTooSmallRejectionErr","minSize","TOO_MANY_FILES_REJECTION","fileAccepted","isAcceptable","accepts","fileMatchSize","isDefined","isEvtWithFiles","types","onDocumentDragOver","composeEventHandlers","fns","isMIMEType","isExt","_excluded","_excluded2","_excluded3","_excluded4","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","Dropzone","_useDropzone","useDropzone","open","getFilesFromEvent","isChangeEvt","maxFiles","preventDropOnDocument","noClick","noKeyboard","noDrag","noDragEventsBubbling","validator","useFsAccessApi","onFileDialogCancel","onFileDialogOpen","onDragEnter","onDragLeave","onDragOver","onDrop","onDropAccepted","onDropRejected","isFocused","isFileDialogActive","isDragActive","isDragAccept","isDragReject","fileRejections","_defaultProps$props","acceptAttr","acceptPropAsAcceptAttr","pickerTypes","agg","pickerOptionsFromAccept","onFileDialogOpenCb","onFileDialogCancelCb","rootRef","inputRef","_useReducer2","fsAccessApiWorksRef","isSecureContext","onWindowFocus","dragTargetsRef","onDocumentDrop","onErrCb","onDragEnterCb","fileCount","accepted","sizeMatch","customErrors","allFilesAccepted","onDragOverCb","hasFiles","dropEffect","_unused","onDragLeaveCb","targetIdx","setFiles","_fileAccepted2","acceptError","_fileMatchSize2","sizeError","onDropCb","openFileDialog","opts","showOpenFilePicker","DOMException","ABORT_ERR","isAbort","SECURITY_ERR","isSecurityError","onKeyDownCb","isEqualNode","onFocusCb","onBlurCb","onClickCb","isIe","isEdge","isIeOrEdge","composeHandler","composeKeyboardHandler","composeDragHandler","getRootProps","_ref2$refKey","refKey","role","onKeyDown","onFocus","onBlur","rest","tabIndex","onInputElementClick","getInputProps","_ref3$refKey","Span","FromLocalFile","FileReader","readAsArrayBuffer","Input","OkButton","FromUrl","tempUrl","setTempUrl","onSubmit","InputContainer","_Fragment","ArtefactViewer","onClear","BUILD_WEBSITE_FORMATS","BUILD_WEBSITE_FORMATS_INFO","FormatSelector","FormatHint","ButtonInit","ButtonInactive","OutputSelector","outFormats","outFormatOption","ButtonComponent","space2","CodeTargetSelect","CodeTargetHint","OptionsCodeTarget","selectArtefacts","selectArtefactsBuildStatus","selectArtefactsStep","selectConsoleErrors","selectConsoleWarnings","CloseButton","patchPlayerValues","patchPlayerPromise","patchPlayerSlice","startedPatchPlayer","disconnect","onClose","Artefacts","buildStep","PatchPlayerContainer","DurationInput","OptionsWavLength","MoreOptionsContainer","ButtonContainer","ButtonGo","BuildConfig","hasCodeTargetOptions","onGo","rel","___HTML_LOADER_IMPORT_0___","_path","SvgGithubMark","svgRef","titleId","xmlns","fillRule","clipRule","fill","SvgHeart","viewBox","INTRO_START","README_INTRO","README","H1","RenderedMarkdownContainer","GitHubButton","OpenCollectiveButton","Introduction","GitHubLogoSvg","HeartSvg","WarningContainer","ErrorContainer","MessagesContainer","Console","hasErrors","compilationWarningsOrErrors","warning","CompilerTitle","InfoContainer","Link","Footer","ArtefactContainer","Debug","onDowloadPdJson","onDowloadDspGraph","onDowloadJavascriptCode","onDowloadAssemblyscriptCode","GlobalStyle","createGlobalStyle","CompilerContainer","AppSpinner","AppInner","isAppInitialized","isBuilding","Output","App","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","reportWebVitals"],"sourceRoot":""}