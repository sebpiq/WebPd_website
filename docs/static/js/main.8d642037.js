/*! For license information please see main.8d642037.js.LICENSE.txt */
!function(){var e={936:function(e,n,t){"use strict";t.r(n);var r={};try{!function(e,n){if(new e("q=%2B").get("q")!==n||new e({q:n}).get("q")!==n||new e([["q",n]]).get("q")!==n||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString()||"q=%25zx"!==new e({q:"%zx"}).toString())throw e;r.URLSearchParams=e}(URLSearchParams,"+")}catch(URLSearchParams){!function(e,n,t){var a=e.create,o=e.defineProperty,i=/[!'\(\)~]|%20|%00/g,s=/%(?![0-9a-fA-F]{2})/g,c=/\+/g,u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},l={append:function(e,n){h(this._ungap,e,n)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,t){this._ungap[e]=[n(t)]},forEach:function(e,t){var r=this;for(var a in r._ungap)r._ungap[a].forEach(o,a);function o(o){e.call(t,o,n(a),r)}},toJSON:function(){return{}},toString:function(){var e=[];for(var n in this._ungap)for(var t=g(n),r=0,a=this._ungap[n];r<a.length;r++)e.push(t+"="+g(a[r]));return e.join("&")}};for(var f in l)o(d.prototype,f,{configurable:!0,writable:!0,value:l[f]});function d(e){var n=a(null);switch(o(this,"_ungap",{value:n}),!0){case!e:break;case"string"===typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var r=e.split("&"),i=0,s=r.length;i<s;i++){var c=(u=r[i]).indexOf("=");-1<c?h(n,m(u.slice(0,c)),m(u.slice(c+1))):u.length&&h(n,m(u),"")}break;case t(e):for(i=0,s=e.length;i<s;i++){var u;h(n,(u=e[i])[0],u[1])}break;case"forEach"in e:e.forEach(p,n);break;default:for(var l in e)h(n,l,e[l])}}function p(e,n){h(this,n,e)}function h(e,n,r){var a=t(r)?r.join(","):r;n in e?e[n].push(a):e[n]=[a]}function m(e){return decodeURIComponent(e.replace(s,"%25").replace(c," "))}function g(e){return encodeURIComponent(e).replace(i,v)}function v(e){return u[e]}r.URLSearchParams=d}(Object,String,Array.isArray)}!function(e){var n=!1;try{n=!!Symbol.iterator}catch(r){}function t(e,t){var r=[];return e.forEach(t,r),n?r[Symbol.iterator]():{next:function(){var e=r.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,n){var t=this,r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(a){a.length&&!(a in r)&&(r[a]=t.getAll(a)).forEach((function(r){e.call(n,r,a,t)}))}))}),"keys"in e||(e.keys=function(){return t(this,(function(e,n){this.push(n)}))}),"values"in e||(e.values=function(){return t(this,(function(e,n){this.push(e)}))}),"entries"in e||(e.entries=function(){return t(this,(function(e,n){this.push([n,e])}))}),n&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,n,t,r=this.entries(),a=r.next(),o=a.done,i=[],s=Object.create(null);!o;)n=(t=a.value)[0],i.push(n),n in s||(s[n]=[]),s[n].push(t[1]),o=(a=r.next()).done;for(i.sort(),e=0;e<i.length;e++)this.delete(i[e]);for(e=0;e<i.length;e++)n=i[e],this.append(n,s[n].shift())}),function(n){var t=n.defineProperty,r=n.getOwnPropertyDescriptor,a=function(n){var t=n.append;n.append=e.append,URLSearchParams.call(n,n._usp.search.slice(1)),n.append=t},o=function(e,n){if(!(e instanceof n))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+n.name)},i=function(i){var s,c,u=i.prototype,l=r(u,"searchParams"),f=r(u,"href"),d=r(u,"search");!l&&d&&d.set&&(c=function(n){function r(t,r){e.append.call(this,t,r),t=this.toString(),n.set.call(this._usp,t?"?"+t:"")}function a(t){e.delete.call(this,t),t=this.toString(),n.set.call(this._usp,t?"?"+t:"")}function o(t,r){e.set.call(this,t,r),t=this.toString(),n.set.call(this._usp,t?"?"+t:"")}return function(e,n){return e.append=r,e.delete=a,e.set=o,t(e,"_usp",{configurable:!0,writable:!0,value:n})}}(d),s=function(e,n){return t(e,"_searchParams",{configurable:!0,writable:!0,value:c(n,e)}),n},n.defineProperties(u,{href:{get:function(){return f.get.call(this)},set:function(e){var n=this._searchParams;f.set.call(this,e),n&&a(n)}},search:{get:function(){return d.get.call(this)},set:function(e){var n=this._searchParams;d.set.call(this,e),n&&a(n)}},searchParams:{get:function(){return o(this,i),this._searchParams||s(this,new URLSearchParams(this.search.slice(1)))},set:function(e){o(this,i),s(this,e)}}}))};try{i(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&i(URL)}catch(s){}}(Object)}(r.URLSearchParams.prototype),n.default=r.URLSearchParams},998:function(e,n){"use strict";n.Z=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return t.some((function(e){var n=e.trim().toLowerCase();return"."===n.charAt(0)?r.toLowerCase().endsWith(n):n.endsWith("/*")?o===n.replace(/\/.*$/,""):a===n}))}return!0}},588:function(e,n,t){"use strict";t.r(n),t.d(n,{createBrowserHistory:function(){return E},createHashHistory:function(){return M},createLocation:function(){return y},createMemoryHistory:function(){return P},createPath:function(){return v},locationsAreEqual:function(){return b},parsePath:function(){return g}});var r=t(462);function a(e){return"/"===e.charAt(0)}function o(e,n){for(var t=n,r=t+1,a=e.length;r<a;t+=1,r+=1)e[t]=e[r];e.pop()}var i=function(e,n){void 0===n&&(n="");var t,r=e&&e.split("/")||[],i=n&&n.split("/")||[],s=e&&a(e),c=n&&a(n),u=s||c;if(e&&a(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];t="."===l||".."===l||""===l}else t=!1;for(var f=0,d=i.length;d>=0;d--){var p=i[d];"."===p?o(i,d):".."===p?(o(i,d),f++):f&&(o(i,d),f--)}if(!u)for(;f--;f)i.unshift("..");!u||""===i[0]||i[0]&&a(i[0])||i.unshift("");var h=i.join("/");return t&&"/"!==h.substr(-1)&&(h+="/"),h};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(n,t){if(n===t)return!0;if(null==n||null==t)return!1;if(Array.isArray(n))return Array.isArray(t)&&n.length===t.length&&n.every((function(n,r){return e(n,t[r])}));if("object"===typeof n||"object"===typeof t){var r=s(n),a=s(t);return r!==n||a!==t?e(r,a):Object.keys(Object.assign({},n,t)).every((function(r){return e(n[r],t[r])}))}return!1},u=!0,l="Invariant failed";function f(e,n){if(!e){if(u)throw new Error(l);var t="function"===typeof n?n():n,r=t?"".concat(l,": ").concat(t):l;throw new Error(r)}}function d(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,n){return function(e,n){return 0===e.toLowerCase().indexOf(n.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(n.length))}(e,n)?e.substr(n.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var n=e||"/",t="",r="",a=n.indexOf("#");-1!==a&&(r=n.substr(a),n=n.substr(0,a));var o=n.indexOf("?");return-1!==o&&(t=n.substr(o),n=n.substr(0,o)),{pathname:n,search:"?"===t?"":t,hash:"#"===r?"":r}}function v(e){var n=e.pathname,t=e.search,r=e.hash,a=n||"/";return t&&"?"!==t&&(a+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function y(e,n,t,a){var o;"string"===typeof e?(o=g(e)).state=n:(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==n&&void 0===o.state&&(o.state=n));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return t&&(o.key=t),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=i(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function b(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&c(e.state,n.state)}function S(){var e=null;var n=[];return{setPrompt:function(n){return e=n,function(){e===n&&(e=null)}},confirmTransitionTo:function(n,t,r,a){if(null!=e){var o="function"===typeof e?e(n,t):e;"string"===typeof o?"function"===typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}}}var w=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(e,n){n(window.confirm(e))}var k="popstate",x="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),w||f(!1);var n=window.history,t=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),a=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,i=o.forceRefresh,s=void 0!==i&&i,c=o.getUserConfirmation,u=void 0===c?_:c,l=o.keyLength,p=void 0===l?6:l,g=e.basename?m(d(e.basename)):"";function b(e){var n=e||{},t=n.key,r=n.state,a=window.location,o=a.pathname+a.search+a.hash;return g&&(o=h(o,g)),y(o,r,t)}function E(){return Math.random().toString(36).substr(2,p)}var O=S();function T(e){(0,r.Z)(B,e),B.length=n.length,O.notifyListeners(B.location,B.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(b(e.state))}function A(){M(b(I()))}var F=!1;function M(e){if(F)F=!1,T();else{O.confirmTransitionTo(e,"POP",u,(function(n){n?T({action:"POP",location:e}):function(e){var n=B.location,t=P.indexOf(n.key);-1===t&&(t=0);var r=P.indexOf(e.key);-1===r&&(r=0);var a=t-r;a&&(F=!0,R(a))}(e)}))}}var L=b(I()),P=[L.key];function N(e){return g+v(e)}function R(e){n.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?(window.addEventListener(k,C),a&&window.addEventListener(x,A)):0===D&&(window.removeEventListener(k,C),a&&window.removeEventListener(x,A))}var z=!1;var B={length:n.length,action:"POP",location:L,createHref:N,push:function(e,r){var a="PUSH",o=y(e,r,E(),B.location);O.confirmTransitionTo(o,a,u,(function(e){if(e){var r=N(o),i=o.key,c=o.state;if(t)if(n.pushState({key:i,state:c},null,r),s)window.location.href=r;else{var u=P.indexOf(B.location.key),l=P.slice(0,u+1);l.push(o.key),P=l,T({action:a,location:o})}else window.location.href=r}}))},replace:function(e,r){var a="REPLACE",o=y(e,r,E(),B.location);O.confirmTransitionTo(o,a,u,(function(e){if(e){var r=N(o),i=o.key,c=o.state;if(t)if(n.replaceState({key:i,state:c},null,r),s)window.location.replace(r);else{var u=P.indexOf(B.location.key);-1!==u&&(P[u]=o.key),T({action:a,location:o})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var n=O.setPrompt(e);return z||(j(1),z=!0),function(){return z&&(z=!1,j(-1)),n()}},listen:function(e){var n=O.appendListener(e);return j(1),function(){j(-1),n()}}};return B}var O="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:d},slash:{encodePath:d,decodePath:d}};function C(e){var n=e.indexOf("#");return-1===n?e:e.slice(0,n)}function A(){var e=window.location.href,n=e.indexOf("#");return-1===n?"":e.substring(n+1)}function F(e){window.location.replace(C(window.location.href)+"#"+e)}function M(e){void 0===e&&(e={}),w||f(!1);var n=window.history,t=(window.navigator.userAgent.indexOf("Firefox"),e),a=t.getUserConfirmation,o=void 0===a?_:a,i=t.hashType,s=void 0===i?"slash":i,c=e.basename?m(d(e.basename)):"",u=T[s],l=u.encodePath,p=u.decodePath;function g(){var e=p(A());return c&&(e=h(e,c)),y(e)}var b=S();function k(e){(0,r.Z)(B,e),B.length=n.length,b.notifyListeners(B.location,B.action)}var x=!1,I=null;function E(){var e,n,t=A(),r=l(t);if(t!==r)F(r);else{var a=g(),i=B.location;if(!x&&(n=a,(e=i).pathname===n.pathname&&e.search===n.search&&e.hash===n.hash))return;if(I===v(a))return;I=null,function(e){if(x)x=!1,k();else{var n="POP";b.confirmTransitionTo(e,n,o,(function(t){t?k({action:n,location:e}):function(e){var n=B.location,t=N.lastIndexOf(v(n));-1===t&&(t=0);var r=N.lastIndexOf(v(e));-1===r&&(r=0);var a=t-r;a&&(x=!0,R(a))}(e)}))}}(a)}}var M=A(),L=l(M);M!==L&&F(L);var P=g(),N=[v(P)];function R(e){n.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?window.addEventListener(O,E):0===D&&window.removeEventListener(O,E)}var z=!1;var B={length:n.length,action:"POP",location:P,createHref:function(e){var n=document.querySelector("base"),t="";return n&&n.getAttribute("href")&&(t=C(window.location.href)),t+"#"+l(c+v(e))},push:function(e,n){var t="PUSH",r=y(e,void 0,void 0,B.location);b.confirmTransitionTo(r,t,o,(function(e){if(e){var n=v(r),a=l(c+n);if(A()!==a){I=n,function(e){window.location.hash=e}(a);var o=N.lastIndexOf(v(B.location)),i=N.slice(0,o+1);i.push(n),N=i,k({action:t,location:r})}else k()}}))},replace:function(e,n){var t="REPLACE",r=y(e,void 0,void 0,B.location);b.confirmTransitionTo(r,t,o,(function(e){if(e){var n=v(r),a=l(c+n);A()!==a&&(I=n,F(a));var o=N.indexOf(v(B.location));-1!==o&&(N[o]=n),k({action:t,location:r})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var n=b.setPrompt(e);return z||(j(1),z=!0),function(){return z&&(z=!1,j(-1)),n()}},listen:function(e){var n=b.appendListener(e);return j(1),function(){j(-1),n()}}};return B}function L(e,n,t){return Math.min(Math.max(e,n),t)}function P(e){void 0===e&&(e={});var n=e,t=n.getUserConfirmation,a=n.initialEntries,o=void 0===a?["/"]:a,i=n.initialIndex,s=void 0===i?0:i,c=n.keyLength,u=void 0===c?6:c,l=S();function f(e){(0,r.Z)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,u)}var p=L(s,0,o.length-1),h=o.map((function(e){return y(e,void 0,"string"===typeof e?d():e.key||d())})),m=v;function g(e){var n=L(b.index+e,0,b.entries.length-1),r=b.entries[n];l.confirmTransitionTo(r,"POP",t,(function(e){e?f({action:"POP",location:r,index:n}):f()}))}var b={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:m,push:function(e,n){var r="PUSH",a=y(e,n,d(),b.location);l.confirmTransitionTo(a,r,t,(function(e){if(e){var n=b.index+1,t=b.entries.slice(0);t.length>n?t.splice(n,t.length-n,a):t.push(a),f({action:r,location:a,index:n,entries:t})}}))},replace:function(e,n){var r="REPLACE",a=y(e,n,d(),b.location);l.confirmTransitionTo(a,r,t,(function(e){e&&(b.entries[b.index]=a,f({action:r,location:a}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var n=b.index+e;return n>=0&&n<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}},110:function(e,n,t){"use strict";var r=t(309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(n,t,r){if("string"!==typeof t){if(h){var a=p(t);a&&a!==h&&e(n,a,r)}var i=l(t);f&&(i=i.concat(f(t)));for(var s=c(n),m=c(t),g=0;g<i.length;++g){var v=i[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=d(t,v);try{u(n,v,y)}catch(b){}}}}return n}},746:function(e,n){"use strict";var t="function"===typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case l:case f:case o:case s:case i:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case c:return e;default:return n}}case a:return n}}}function _(e){return w(e)===f}n.AsyncMode=l,n.ConcurrentMode=f,n.ContextConsumer=u,n.ContextProvider=c,n.Element=r,n.ForwardRef=d,n.Fragment=o,n.Lazy=g,n.Memo=m,n.Portal=a,n.Profiler=s,n.StrictMode=i,n.Suspense=p,n.isAsyncMode=function(e){return _(e)||w(e)===l},n.isConcurrentMode=_,n.isContextConsumer=function(e){return w(e)===u},n.isContextProvider=function(e){return w(e)===c},n.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},n.isForwardRef=function(e){return w(e)===d},n.isFragment=function(e){return w(e)===o},n.isLazy=function(e){return w(e)===g},n.isMemo=function(e){return w(e)===m},n.isPortal=function(e){return w(e)===a},n.isProfiler=function(e){return w(e)===s},n.isStrictMode=function(e){return w(e)===i},n.isSuspense=function(e){return w(e)===p},n.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===i||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===S||e.$$typeof===v)},n.typeOf=w},309:function(e,n,t){"use strict";e.exports=t(746)},888:function(e,n,t){"use strict";var r=t(47);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,n,t,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:a};return t.PropTypes=t,t}},7:function(e,n,t){e.exports=t(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,n,t){"use strict";var r=t(791),a=t(296);function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function c(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(s[e]=n,e=0;e<n.length;e++)i.add(n[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,n,t,r,a,o,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];g[n]=new m(n,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,n,t,r){var a=g.hasOwnProperty(n)?g[n]:null;(null!==a?0!==a.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null===n||"undefined"===typeof n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,a,r)&&(t=null),r||null===a?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(n=a.attributeName,r=a.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(v,y);g[n]=new m(n,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(v,y);g[n]=new m(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(v,y);g[n]=new m(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var R,D=Object.assign;function j(e){if(void 0===R)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return"\n"+R+e}var z=!1;function B(e,n){if(!e||z)return"";z=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var r=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){r=u}e.call(n.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var c="\n"+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case I:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(n=e.displayName||null)?n:V(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return V(e(n))}catch(t){}}return null}function W(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(n);case 8:return n===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function $(e){e._valueTracker||(e._valueTracker=function(e){var n=K(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var a=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function q(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function X(e,n){var t=n.checked;return D({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Y(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=G(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function Q(e,n){null!=(n=n.checked)&&b(e,"checked",n,!1)}function J(e,n){Q(e,n);var t=G(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,G(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Z(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&H(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var a=0;a<t.length;a++)n["$"+t[a]]=!0;for(t=0;t<e.length;t++)a=n.hasOwnProperty("$"+e[t].value),e[t].selected!==a&&(e[t].selected=a),a&&r&&(e[t].defaultSelected=!0)}else{for(t=""+G(t),n=null,a=0;a<e.length;a++){if(e[a].value===t)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==n||e[a].disabled||(n=e[a])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(o(91));return D({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(o(92));if(ne(t)){if(1<t.length)throw Error(o(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:G(t)}}function oe(e,n){var t=G(n.value),r=G(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ue,le,fe=(le=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction((function(){return le(e,n)}))}:le);function de(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||pe.hasOwnProperty(e)&&pe[e]?(""+n).trim():n+"px"}function ge(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),a=me(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,a):e[t]=a}}Object.keys(pe).forEach((function(e){he.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),pe[n]=pe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,n){if(n){if(ve[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(o(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(o(62))}}function be(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,xe=null;function Ie(e){if(e=ba(e)){if("function"!==typeof _e)throw Error(o(280));var n=e.stateNode;n&&(n=wa(n),_e(e.stateNode,e.type,n))}}function Ee(e){ke?xe?xe.push(e):xe=[e]:ke=e}function Oe(){if(ke){var e=ke,n=xe;if(xe=ke=null,Ie(e),n)for(e=0;e<n.length;e++)Ie(n[e])}}function Te(e,n){return e(n)}function Ce(){}var Ae=!1;function Fe(e,n,t){if(Ae)return e(n,t);Ae=!0;try{return Te(e,n,t)}finally{Ae=!1,(null!==ke||null!==xe)&&(Ce(),Oe())}}function Me(e,n){var t=e.stateNode;if(null===t)return null;var r=wa(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(o(231,n,typeof t));return t}var Le=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Le=!1}function Ne(e,n,t,r,a,o,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{n.apply(t,u)}catch(l){this.onError(l)}}var Re=!1,De=null,je=!1,ze=null,Be={onError:function(e){Re=!0,De=e}};function Ue(e,n,t,r,a,o,i,s,c){Re=!1,De=null,Ne.apply(Be,arguments)}function Ve(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function We(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ve(e)))throw Error(o(188));return n!==e?null:e}for(var t=e,r=n;;){var a=t.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){t=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===t)return Ge(a),e;if(i===r)return Ge(a),n;i=i.sibling}throw Error(o(188))}if(t.return!==r.return)t=a,r=i;else{for(var s=!1,c=a.child;c;){if(c===t){s=!0,t=a,r=i;break}if(c===r){s=!0,r=a,t=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===t){s=!0,t=i,r=a;break}if(c===r){s=!0,r=i,t=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(t.alternate!==r)throw Error(o(190))}if(3!==t.tag)throw Error(o(188));return t.stateNode.current===t?e:n}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=$e(e);if(null!==n)return n;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,He=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,en=a.unstable_UserBlockingPriority,nn=a.unstable_NormalPriority,tn=a.unstable_LowPriority,rn=a.unstable_IdlePriority,an=null,on=null;var sn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(cn(e)/un|0)|0},cn=Math.log,un=Math.LN2;var ln=64,fn=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&t;if(0!==i){var s=i&~a;0!==s?r=dn(s):0!==(o&=i)&&(r=dn(o))}else 0!==(i=t&~a)?r=dn(i):0!==o&&(r=dn(o));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(o=n&-n)||16===a&&0!==(4194240&o)))return n;if(0!==(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)a=1<<(t=31-sn(n)),r|=e[t],n&=~a;return r}function hn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function mn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=ln;return 0===(4194240&(ln<<=1))&&(ln=64),e}function vn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function yn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-sn(n)]=t}function bn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-sn(t),a=1<<r;a&n|e[r]&n&&(e[r]|=n),t&=~a}}var Sn=0;function wn(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _n,kn,xn,In,En,On=!1,Tn=[],Cn=null,An=null,Fn=null,Mn=new Map,Ln=new Map,Pn=[],Nn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rn(e,n){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Mn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(n.pointerId)}}function Dn(e,n,t,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==n&&(null!==(n=ba(n))&&kn(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==a&&-1===n.indexOf(a)&&n.push(a),e)}function jn(e){var n=ya(e.target);if(null!==n){var t=Ve(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=We(t)))return e.blockedOn=n,void En(e.priority,(function(){xn(t)}))}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function zn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Yn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=ba(t))&&kn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);Se=r,t.target.dispatchEvent(r),Se=null,n.shift()}return!0}function Bn(e,n,t){zn(e)&&t.delete(n)}function Un(){On=!1,null!==Cn&&zn(Cn)&&(Cn=null),null!==An&&zn(An)&&(An=null),null!==Fn&&zn(Fn)&&(Fn=null),Mn.forEach(Bn),Ln.forEach(Bn)}function Vn(e,n){e.blockedOn===n&&(e.blockedOn=null,On||(On=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Un)))}function Wn(e){function n(n){return Vn(n,e)}if(0<Tn.length){Vn(Tn[0],e);for(var t=1;t<Tn.length;t++){var r=Tn[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Cn&&Vn(Cn,e),null!==An&&Vn(An,e),null!==Fn&&Vn(Fn,e),Mn.forEach(n),Ln.forEach(n),t=0;t<Pn.length;t++)(r=Pn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&null===(t=Pn[0]).blockedOn;)jn(t),null===t.blockedOn&&Pn.shift()}var Gn=S.ReactCurrentBatchConfig,Kn=!0;function $n(e,n,t,r){var a=Sn,o=Gn.transition;Gn.transition=null;try{Sn=1,Hn(e,n,t,r)}finally{Sn=a,Gn.transition=o}}function qn(e,n,t,r){var a=Sn,o=Gn.transition;Gn.transition=null;try{Sn=4,Hn(e,n,t,r)}finally{Sn=a,Gn.transition=o}}function Hn(e,n,t,r){if(Kn){var a=Yn(e,n,t,r);if(null===a)Gr(e,n,r,Xn,t),Rn(e,r);else if(function(e,n,t,r,a){switch(n){case"focusin":return Cn=Dn(Cn,e,n,t,r,a),!0;case"dragenter":return An=Dn(An,e,n,t,r,a),!0;case"mouseover":return Fn=Dn(Fn,e,n,t,r,a),!0;case"pointerover":var o=a.pointerId;return Mn.set(o,Dn(Mn.get(o)||null,e,n,t,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ln.set(o,Dn(Ln.get(o)||null,e,n,t,r,a)),!0}return!1}(a,e,n,t,r))r.stopPropagation();else if(Rn(e,r),4&n&&-1<Nn.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&_n(o),null===(o=Yn(e,n,t,r))&&Gr(e,n,r,Xn,t),o===a)break;a=o}null!==a&&r.stopPropagation()}else Gr(e,n,r,null,t)}}var Xn=null;function Yn(e,n,t,r){if(Xn=null,null!==(e=ya(e=we(r))))if(null===(n=Ve(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=We(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Xn=e,null}function Qn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,et=null;function nt(){if(et)return et;var e,n,t=Zn,r=t.length,a="value"in Jn?Jn.value:Jn.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return et=a.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function at(){return!1}function ot(e){function n(n,t,r,a,o){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rt:at,this.isPropagationStopped=at,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,st,ct,ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lt=ot(ut),ft=D({},ut,{view:0,detail:0}),dt=ot(ft),pt=D({},ft,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:It,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ct&&(ct&&"mousemove"===e.type?(it=e.screenX-ct.screenX,st=e.screenY-ct.screenY):st=it=0,ct=e),it)},movementY:function(e){return"movementY"in e?e.movementY:st}}),ht=ot(pt),mt=ot(D({},pt,{dataTransfer:0})),gt=ot(D({},ft,{relatedTarget:0})),vt=ot(D({},ut,{animationName:0,elapsedTime:0,pseudoElement:0})),yt=D({},ut,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bt=ot(yt),St=ot(D({},ut,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=kt[e])&&!!n[e]}function It(){return xt}var Et=D({},ft,{key:function(e){if(e.key){var n=wt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_t[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:It,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ot=ot(Et),Tt=ot(D({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ct=ot(D({},ft,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:It})),At=ot(D({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ft=D({},pt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mt=ot(Ft),Lt=[9,13,27,32],Pt=l&&"CompositionEvent"in window,Nt=null;l&&"documentMode"in document&&(Nt=document.documentMode);var Rt=l&&"TextEvent"in window&&!Nt,Dt=l&&(!Pt||Nt&&8<Nt&&11>=Nt),jt=String.fromCharCode(32),zt=!1;function Bt(e,n){switch(e){case"keyup":return-1!==Lt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ut(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vt=!1;var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Wt[e.type]:"textarea"===n}function Kt(e,n,t,r){Ee(r),0<(n=$r(n,"onChange")).length&&(t=new lt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var $t=null,qt=null;function Ht(e){jr(e,0)}function Xt(e){if(q(Sa(e)))return e}function Yt(e,n){if("change"===e)return n}var Qt=!1;if(l){var Jt;if(l){var Zt="oninput"in document;if(!Zt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zt="function"===typeof er.oninput}Jt=Zt}else Jt=!1;Qt=Jt&&(!document.documentMode||9<document.documentMode)}function nr(){$t&&($t.detachEvent("onpropertychange",tr),qt=$t=null)}function tr(e){if("value"===e.propertyName&&Xt(qt)){var n=[];Kt(n,qt,e,we(e)),Fe(Ht,n)}}function rr(e,n,t){"focusin"===e?(nr(),qt=t,($t=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xt(qt)}function or(e,n){if("click"===e)return Xt(n)}function ir(e,n){if("input"===e||"change"===e)return Xt(n)}var sr="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function cr(e,n){if(sr(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var a=t[r];if(!f.call(n,a)||!sr(e[a],n[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,n){var t,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?fr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function dr(){for(var e=window,n=H();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=H((e=n.contentWindow).document)}return n}function pr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function hr(e){var n=dr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&fr(t.ownerDocument.documentElement,t)){if(null!==r&&pr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var a=t.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=lr(t,o);var i=lr(t,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function Sr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;br||null==gr||gr!==H(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(n=new lt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=gr)))}function wr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},xr={};function Ir(e){if(kr[e])return kr[e];if(!_r[e])return e;var n,t=_r[e];for(n in t)if(t.hasOwnProperty(n)&&n in xr)return kr[e]=t[n];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Ir("animationend"),Or=Ir("animationiteration"),Tr=Ir("animationstart"),Cr=Ir("transitionend"),Ar=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,n){Ar.set(e,n),c(n,[e])}for(var Lr=0;Lr<Fr.length;Lr++){var Pr=Fr[Lr];Mr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(Or,"onAnimationIteration"),Mr(Tr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Dr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,a,i,s,c,u){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(o(198));var l=De;Re=!1,De=null,je||(je=!0,ze=l)}}(r,n,void 0,e),e.currentTarget=null}function jr(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var r=e[t],a=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&a.isPropagationStopped())break e;Dr(a,s,u),o=c}else for(i=0;i<r.length;i++){if(c=(s=r[i]).instance,u=s.currentTarget,s=s.listener,c!==o&&a.isPropagationStopped())break e;Dr(a,s,u),o=c}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,n){var t=n[ma];void 0===t&&(t=n[ma]=new Set);var r=e+"__bubble";t.has(r)||(Wr(n,e,2,!1),t.add(r))}function Br(e,n,t){var r=0;n&&(r|=4),Wr(t,e,r,n)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(n){"selectionchange"!==n&&(Rr.has(n)||Br(n,!1,e),Br(n,!0,e))}));var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Ur]||(n[Ur]=!0,Br("selectionchange",!1,n))}}function Wr(e,n,t,r){switch(Qn(n)){case 1:var a=$n;break;case 4:a=qn;break;default:a=Hn}t=a.bind(null,n,t,e),a=void 0,!Le||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(a=!0),r?void 0!==a?e.addEventListener(n,t,{capture:!0,passive:a}):e.addEventListener(n,t,!0):void 0!==a?e.addEventListener(n,t,{passive:a}):e.addEventListener(n,t,!1)}function Gr(e,n,t,r,a){var o=r;if(0===(1&n)&&0===(2&n)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(c=i.tag)||6===c){r=o=i;continue e}s=s.parentNode}}r=r.return}Fe((function(){var r=o,a=we(t),i=[];e:{var s=Ar.get(e);if(void 0!==s){var c=lt,u=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":c=Ot;break;case"focusin":u="focus",c=gt;break;case"focusout":u="blur",c=gt;break;case"beforeblur":case"afterblur":c=gt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Ct;break;case Er:case Or:case Tr:c=vt;break;case Cr:c=At;break;case"scroll":c=dt;break;case"wheel":c=Mt;break;case"copy":case"cut":case"paste":c=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tt}var l=0!==(4&n),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Me(h,d))&&l.push(Kr(h,m,p)))),f)break;h=h.return}0<l.length&&(s=new c(s,u,null,t,a),i.push({event:s,listeners:l}))}}if(0===(7&n)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||t===Se||!(u=t.relatedTarget||t.fromElement)||!ya(u)&&!u[ha])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=t.relatedTarget||t.toElement)?ya(u):null)&&(u!==(f=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=ht,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tt,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==c?s:Sa(c),p=null==u?s:Sa(u),(s=new l(m,h+"leave",c,t,a)).target=f,s.relatedTarget=p,m=null,ya(a)===r&&((l=new l(d,h+"enter",u,t,a)).target=p,l.relatedTarget=f,m=l),f=m,c&&u)e:{for(d=u,h=0,p=l=c;p;p=qr(p))h++;for(p=0,m=d;m;m=qr(m))p++;for(;0<h-p;)l=qr(l),h--;for(;0<p-h;)d=qr(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=qr(l),d=qr(d)}l=null}else l=null;null!==c&&Hr(i,s,c,l,!1),null!==u&&null!==f&&Hr(i,f,u,l,!0)}if("select"===(c=(s=r?Sa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Yt;else if(Gt(s))if(Qt)g=ir;else{g=ar;var v=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Kt(i,g,t,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Sa(r):window,e){case"focusin":(Gt(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Sr(i,t,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(i,t,a)}var y;if(Pt)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vt?Bt(e,t)&&(b="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(b="onCompositionStart");b&&(Dt&&"ko"!==t.locale&&(Vt||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vt&&(y=nt()):(Zn="value"in(Jn=a)?Jn.value:Jn.textContent,Vt=!0)),0<(v=$r(r,b)).length&&(b=new St(b,e,null,t,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Ut(t))&&(b.data=y))),(y=Rt?function(e,n){switch(e){case"compositionend":return Ut(n);case"keypress":return 32!==n.which?null:(zt=!0,jt);case"textInput":return(e=n.data)===jt&&zt?null:e;default:return null}}(e,t):function(e,n){if(Vt)return"compositionend"===e||!Pt&&Bt(e,n)?(e=nt(),et=Zn=Jn=null,Vt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Dt&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(r=$r(r,"onBeforeInput")).length&&(a=new St("onBeforeInput","beforeinput",null,t,a),i.push({event:a,listeners:r}),a.data=y))}jr(i,n)}))}function Kr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function $r(e,n){for(var t=n+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Me(e,t))&&r.unshift(Kr(e,o,a)),null!=(o=Me(e,n))&&r.push(Kr(e,o,a))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,n,t,r,a){for(var o=n._reactName,i=[];null!==t&&t!==r;){var s=t,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(c=Me(t,o))&&i.unshift(Kr(t,c,s)):a||null!=(c=Me(t,o))&&i.push(Kr(t,c,s))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,n,t){if(n=Qr(n),Qr(e)!==n&&t)throw Error(o(425))}function Zr(){}var ea=null,na=null;function ta(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ca(e,n){var t=n,r=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0===r)return e.removeChild(a),void Wn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=a}while(t);Wn(n)}function ua(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function la(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),da="__reactFiber$"+fa,pa="__reactProps$"+fa,ha="__reactContainer$"+fa,ma="__reactEvents$"+fa,ga="__reactListeners$"+fa,va="__reactHandles$"+fa;function ya(e){var n=e[da];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ha]||t[da]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=la(e);null!==e;){if(t=e[da])return t;e=la(e)}return n}t=(e=t).parentNode}return null}function ba(e){return!(e=e[da]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Sa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[pa]||null}var _a=[],ka=-1;function xa(e){return{current:e}}function Ia(e){0>ka||(e.current=_a[ka],_a[ka]=null,ka--)}function Ea(e,n){ka++,_a[ka]=e.current,e.current=n}var Oa={},Ta=xa(Oa),Ca=xa(!1),Aa=Oa;function Fa(e,n){var t=e.type.contextTypes;if(!t)return Oa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in t)o[a]=n[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function La(){Ia(Ca),Ia(Ta)}function Pa(e,n,t){if(Ta.current!==Oa)throw Error(o(168));Ea(Ta,n),Ea(Ca,t)}function Na(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var a in r=r.getChildContext())if(!(a in n))throw Error(o(108,W(e)||"Unknown",a));return D({},t,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Aa=Ta.current,Ea(Ta,e),Ea(Ca,Ca.current),!0}function Da(e,n,t){var r=e.stateNode;if(!r)throw Error(o(169));t?(e=Na(e,n,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ia(Ca),Ia(Ta),Ea(Ta,e)):Ia(Ca),Ea(Ca,t)}var ja=null,za=!1,Ba=!1;function Ua(e){null===ja?ja=[e]:ja.push(e)}function Va(){if(!Ba&&null!==ja){Ba=!0;var e=0,n=Sn;try{var t=ja;for(Sn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}ja=null,za=!1}catch(a){throw null!==ja&&(ja=ja.slice(e+1)),qe(Ze,Va),a}finally{Sn=n,Ba=!1}}return null}var Wa=[],Ga=0,Ka=null,$a=0,qa=[],Ha=0,Xa=null,Ya=1,Qa="";function Ja(e,n){Wa[Ga++]=$a,Wa[Ga++]=Ka,Ka=e,$a=n}function Za(e,n,t){qa[Ha++]=Ya,qa[Ha++]=Qa,qa[Ha++]=Xa,Xa=e;var r=Ya;e=Qa;var a=32-sn(r)-1;r&=~(1<<a),t+=1;var o=32-sn(n)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ya=1<<32-sn(n)+a|t<<a|r,Qa=o+e}else Ya=1<<o|t<<a|r,Qa=e}function eo(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function no(e){for(;e===Ka;)Ka=Wa[--Ga],Wa[Ga]=null,$a=Wa[--Ga],Wa[Ga]=null;for(;e===Xa;)Xa=qa[--Ha],qa[Ha]=null,Qa=qa[--Ha],qa[Ha]=null,Ya=qa[--Ha],qa[Ha]=null}var to=null,ro=null,ao=!1,oo=null;function io(e,n){var t=Mu(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function so(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,to=e,ro=ua(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,to=e,ro=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Xa?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Mu(18,null,null,0)).stateNode=n,t.return=e,e.child=t,to=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var n=ro;if(n){var t=n;if(!so(e,n)){if(co(e))throw Error(o(418));n=ua(t.nextSibling);var r=to;n&&so(e,n)?io(r,t):(e.flags=-4097&e.flags|2,ao=!1,to=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,to=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;to=e}function fo(e){if(e!==to)return!1;if(!ao)return lo(e),ao=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ta(e.type,e.memoizedProps)),n&&(n=ro)){if(co(e))throw po(),Error(o(418));for(;n;)io(e,n),n=ua(n.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){ro=ua(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}ro=null}}else ro=to?ua(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ua(e.nextSibling)}function ho(){ro=to=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=S.ReactCurrentBatchConfig;function vo(e,n){if(e&&e.defaultProps){for(var t in n=D({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var yo=xa(null),bo=null,So=null,wo=null;function _o(){wo=So=bo=null}function ko(e){var n=yo.current;Ia(yo),e._currentValue=n}function xo(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Io(e,n){bo=e,wo=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(Ss=!0),e.firstContext=null)}function Eo(e){var n=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:n,next:null},null===So){if(null===bo)throw Error(o(308));So=e,bo.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return n}var Oo=null;function To(e){null===Oo?Oo=[e]:Oo.push(e)}function Co(e,n,t,r){var a=n.interleaved;return null===a?(t.next=t,To(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ao(e,r)}function Ao(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Fo=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function No(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cc)){var a=r.pending;return null===a?n.next=n:(n.next=a.next,a.next=n),r.pending=n,Ao(e,t)}return null===(a=r.interleaved)?(n.next=n,To(r)):(n.next=a.next,a.next=n),r.interleaved=n,Ao(e,t)}function Ro(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,bn(e,t)}}function Do(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var a=null,o=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===o?a=o=i:o=o.next=i,t=t.next}while(null!==t);null===o?a=o=n:o=o.next=n}else a=o=n;return t={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function jo(e,n,t,r){var a=e.updateQueue;Fo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,u=c.next;c.next=null,null===i?o=u:i.next=u,i=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==i&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==o){var f=a.baseState;for(i=0,l=u=c=null,s=o;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(d=n,p=t,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=m.payload)?h.call(p,f,d):h)||void 0===d)break e;f=D({},f,d);break e;case 2:Fo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=p,c=f):l=l.next=p,i|=d;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(d=s).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===l&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=l,null!==(n=a.shared.interleaved)){a=n;do{i|=a.lane,a=a.next}while(a!==n)}else null===o&&(a.shared.lanes=0);Dc|=i,e.lanes=i,e.memoizedState=f}}function zo(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],a=r.callback;if(null!==a){if(r.callback=null,r=t,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Bo=(new r.Component).refs;function Uo(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:D({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=nu(),a=tu(e),o=Po(r,a);o.payload=n,void 0!==t&&null!==t&&(o.callback=t),null!==(n=No(e,o,a))&&(ru(n,e,a,r),Ro(n,e,a))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=nu(),a=tu(e),o=Po(r,a);o.tag=1,o.payload=n,void 0!==t&&null!==t&&(o.callback=t),null!==(n=No(e,o,a))&&(ru(n,e,a,r),Ro(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=nu(),r=tu(e),a=Po(t,r);a.tag=2,void 0!==n&&null!==n&&(a.callback=n),null!==(n=No(e,a,r))&&(ru(n,e,r,t),Ro(n,e,r))}};function Wo(e,n,t,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!n.prototype||!n.prototype.isPureReactComponent||(!cr(t,r)||!cr(a,o))}function Go(e,n,t){var r=!1,a=Oa,o=n.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(a=Ma(n)?Aa:Ta.current,o=(r=null!==(r=n.contextTypes)&&void 0!==r)?Fa(e,a):Oa),n=new n(t,o),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Vo,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),n}function Ko(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Vo.enqueueReplaceState(n,n.state,null)}function $o(e,n,t,r){var a=e.stateNode;a.props=t,a.state=e.memoizedState,a.refs=Bo,Mo(e);var o=n.contextType;"object"===typeof o&&null!==o?a.context=Eo(o):(o=Ma(n)?Aa:Ta.current,a.context=Fa(e,o)),a.state=e.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(Uo(e,n,o,t),a.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(n=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),n!==a.state&&Vo.enqueueReplaceState(a,a.state,null),jo(e,t,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function qo(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(o(309));var r=t.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=a.refs;n===Bo&&(n=a.refs={}),null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!==typeof e)throw Error(o(284));if(!t._owner)throw Error(o(290,e))}return e}function Ho(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Yo(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=Pu(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function c(e,n,t,r){return null===n||6!==n.tag?((n=ju(t,e.mode,r)).return=e,n):((n=a(n,t)).return=e,n)}function u(e,n,t,r){var o=t.type;return o===k?f(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&Xo(o)===n.type)?((r=a(n,t.props)).ref=qo(e,n,t),r.return=e,r):((r=Nu(t.type,t.key,t.props,null,e.mode,r)).ref=qo(e,n,t),r.return=e,r)}function l(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=zu(t,e.mode,r)).return=e,n):((n=a(n,t.children||[])).return=e,n)}function f(e,n,t,r,o){return null===n||7!==n.tag?((n=Ru(t,e.mode,r,o)).return=e,n):((n=a(n,t)).return=e,n)}function d(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=ju(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return(t=Nu(n.type,n.key,n.props,null,e.mode,t)).ref=qo(e,null,n),t.return=e,t;case _:return(n=zu(n,e.mode,t)).return=e,n;case M:return d(e,(0,n._init)(n._payload),t)}if(ne(n)||N(n))return(n=Ru(n,e.mode,t,null)).return=e,n;Ho(e,n)}return null}function p(e,n,t,r){var a=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==a?null:c(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===a?u(e,n,t,r):null;case _:return t.key===a?l(e,n,t,r):null;case M:return p(e,n,(a=t._init)(t._payload),r)}if(ne(t)||N(t))return null!==a?null:f(e,n,t,r,null);Ho(e,t)}return null}function h(e,n,t,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return c(n,e=e.get(t)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(n,e=e.get(null===r.key?t:r.key)||null,r,a);case _:return l(n,e=e.get(null===r.key?t:r.key)||null,r,a);case M:return h(e,n,t,(0,r._init)(r._payload),a)}if(ne(r)||N(r))return f(n,e=e.get(t)||null,r,a,null);Ho(n,r)}return null}function m(a,o,s,c){for(var u=null,l=null,f=o,m=o=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=p(a,f,s[m],c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&n(a,f),o=i(v,o,m),null===l?u=v:l.sibling=v,l=v,f=g}if(m===s.length)return t(a,f),ao&&Ja(a,m),u;if(null===f){for(;m<s.length;m++)null!==(f=d(a,s[m],c))&&(o=i(f,o,m),null===l?u=f:l.sibling=f,l=f);return ao&&Ja(a,m),u}for(f=r(a,f);m<s.length;m++)null!==(g=h(f,a,m,s[m],c))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),o=i(g,o,m),null===l?u=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return n(a,e)})),ao&&Ja(a,m),u}function g(a,s,c,u){var l=N(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var f=l=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&n(a,m),s=i(b,s,g),null===f?l=b:f.sibling=b,f=b,m=v}if(y.done)return t(a,m),ao&&Ja(a,g),l;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(a,y.value,u))&&(s=i(y,s,g),null===f?l=y:f.sibling=y,f=y);return ao&&Ja(a,g),l}for(m=r(a,m);!y.done;g++,y=c.next())null!==(y=h(m,a,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return n(a,e)})),ao&&Ja(a,g),l}return function e(r,o,i,c){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var u=i.key,l=o;null!==l;){if(l.key===u){if((u=i.type)===k){if(7===l.tag){t(r,l.sibling),(o=a(l,i.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Xo(u)===l.type){t(r,l.sibling),(o=a(l,i.props)).ref=qo(r,l,i),o.return=r,r=o;break e}t(r,l);break}n(r,l),l=l.sibling}i.type===k?((o=Ru(i.props.children,r.mode,c,i.key)).return=r,r=o):((c=Nu(i.type,i.key,i.props,null,r.mode,c)).ref=qo(r,o,i),c.return=r,r=c)}return s(r);case _:e:{for(l=i.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){t(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}t(r,o);break}n(r,o),o=o.sibling}(o=zu(i,r.mode,c)).return=r,r=o}return s(r);case M:return e(r,o,(l=i._init)(i._payload),c)}if(ne(i))return m(r,o,i,c);if(N(i))return g(r,o,i,c);Ho(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(t(r,o.sibling),(o=a(o,i)).return=r,r=o):(t(r,o),(o=ju(i,r.mode,c)).return=r,r=o),s(r)):t(r,o)}}var Qo=Yo(!0),Jo=Yo(!1),Zo={},ei=xa(Zo),ni=xa(Zo),ti=xa(Zo);function ri(e){if(e===Zo)throw Error(o(174));return e}function ai(e,n){switch(Ea(ti,n),Ea(ni,e),Ea(ei,Zo),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ce(null,"");break;default:n=ce(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Ia(ei),Ea(ei,n)}function oi(){Ia(ei),Ia(ni),Ia(ti)}function ii(e){ri(ti.current);var n=ri(ei.current),t=ce(n,e.type);n!==t&&(Ea(ni,e),Ea(ei,t))}function si(e){ni.current===e&&(Ia(ei),Ia(ni))}var ci=xa(0);function ui(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var li=[];function fi(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var di=S.ReactCurrentDispatcher,pi=S.ReactCurrentBatchConfig,hi=0,mi=null,gi=null,vi=null,yi=!1,bi=!1,Si=0,wi=0;function _i(){throw Error(o(321))}function ki(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!sr(e[t],n[t]))return!1;return!0}function xi(e,n,t,r,a,i){if(hi=i,mi=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,di.current=null===e||null===e.memoizedState?ss:cs,e=t(r,a),bi){i=0;do{if(bi=!1,Si=0,25<=i)throw Error(o(301));i+=1,vi=gi=null,n.updateQueue=null,di.current=us,e=t(r,a)}while(bi)}if(di.current=is,n=null!==gi&&null!==gi.next,hi=0,vi=gi=mi=null,yi=!1,n)throw Error(o(300));return e}function Ii(){var e=0!==Si;return Si=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Oi(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var n=null===vi?mi.memoizedState:vi.next;if(null!==n)vi=n,gi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Ti(e,n){return"function"===typeof n?n(e):n}function Ci(e){var n=Oi(),t=n.queue;if(null===t)throw Error(o(311));t.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=t.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,t.pending=null}if(null!==a){i=a.next,r=r.baseState;var c=s=null,u=null,l=i;do{var f=l.lane;if((hi&f)===f)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=d,s=r):u=u.next=d,mi.lanes|=f,Dc|=f}l=l.next}while(null!==l&&l!==i);null===u?s=r:u.next=c,sr(r,n.memoizedState)||(Ss=!0),n.memoizedState=r,n.baseState=s,n.baseQueue=u,t.lastRenderedState=r}if(null!==(e=t.interleaved)){a=e;do{i=a.lane,mi.lanes|=i,Dc|=i,a=a.next}while(a!==e)}else null===a&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Ai(e){var n=Oi(),t=n.queue;if(null===t)throw Error(o(311));t.lastRenderedReducer=e;var r=t.dispatch,a=t.pending,i=n.memoizedState;if(null!==a){t.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,n.memoizedState)||(Ss=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function Fi(){}function Mi(e,n){var t=mi,r=Oi(),a=n(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,Ss=!0),r=r.queue,Gi(Ni.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==vi&&1&vi.memoizedState.tag){if(t.flags|=2048,zi(9,Pi.bind(null,t,r,a,n),void 0,null),null===Ac)throw Error(o(349));0!==(30&hi)||Li(t,n,a)}return a}function Li(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=mi.updateQueue)?(n={lastEffect:null,stores:null},mi.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Pi(e,n,t,r){n.value=t,n.getSnapshot=r,Ri(n)&&Di(e)}function Ni(e,n,t){return t((function(){Ri(n)&&Di(e)}))}function Ri(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!sr(e,t)}catch(r){return!0}}function Di(e){var n=Ao(e,1);null!==n&&ru(n,e,1,-1)}function ji(e){var n=Ei();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},n.queue=e,e=e.dispatch=ts.bind(null,mi,e),[n.memoizedState,e]}function zi(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=mi.updateQueue)?(n={lastEffect:null,stores:null},mi.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Bi(){return Oi().memoizedState}function Ui(e,n,t,r){var a=Ei();mi.flags|=e,a.memoizedState=zi(1|n,t,void 0,void 0===r?null:r)}function Vi(e,n,t,r){var a=Oi();r=void 0===r?null:r;var o=void 0;if(null!==gi){var i=gi.memoizedState;if(o=i.destroy,null!==r&&ki(r,i.deps))return void(a.memoizedState=zi(n,t,o,r))}mi.flags|=e,a.memoizedState=zi(1|n,t,o,r)}function Wi(e,n){return Ui(8390656,8,e,n)}function Gi(e,n){return Vi(2048,8,e,n)}function Ki(e,n){return Vi(4,2,e,n)}function $i(e,n){return Vi(4,4,e,n)}function qi(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Hi(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Vi(4,4,qi.bind(null,n,e),t)}function Xi(){}function Yi(e,n){var t=Oi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&ki(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Qi(e,n){var t=Oi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&ki(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Ji(e,n,t){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=t):(sr(t,n)||(t=gn(),mi.lanes|=t,Dc|=t,e.baseState=!0),n)}function Zi(e,n){var t=Sn;Sn=0!==t&&4>t?t:4,e(!0);var r=pi.transition;pi.transition={};try{e(!1),n()}finally{Sn=t,pi.transition=r}}function es(){return Oi().memoizedState}function ns(e,n,t){var r=tu(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},rs(e))as(n,t);else if(null!==(t=Co(e,n,t,r))){ru(t,e,r,nu()),os(t,n,r)}}function ts(e,n,t){var r=tu(e),a={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(n,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=o(i,t);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var c=n.interleaved;return null===c?(a.next=a,To(n)):(a.next=c.next,c.next=a),void(n.interleaved=a)}}catch(u){}null!==(t=Co(e,n,a,r))&&(ru(t,e,r,a=nu()),os(t,n,r))}}function rs(e){var n=e.alternate;return e===mi||null!==n&&n===mi}function as(e,n){bi=yi=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function os(e,n,t){if(0!==(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,bn(e,t)}}var is={readContext:Eo,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,n){return Ei().memoizedState=[e,void 0===n?null:n],e},useContext:Eo,useEffect:Wi,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Ui(4194308,4,qi.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Ui(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ui(4,2,e,n)},useMemo:function(e,n){var t=Ei();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Ei();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=ns.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ei().memoizedState=e},useState:ji,useDebugValue:Xi,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=ji(!1),n=e[0];return e=Zi.bind(null,e[1]),Ei().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=mi,a=Ei();if(ao){if(void 0===t)throw Error(o(407));t=t()}else{if(t=n(),null===Ac)throw Error(o(349));0!==(30&hi)||Li(r,n,t)}a.memoizedState=t;var i={value:t,getSnapshot:n};return a.queue=i,Wi(Ni.bind(null,r,i,e),[e]),r.flags|=2048,zi(9,Pi.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=Ei(),n=Ac.identifierPrefix;if(ao){var t=Qa;n=":"+n+"R"+(t=(Ya&~(1<<32-sn(Ya)-1)).toString(32)+t),0<(t=Si++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=wi++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},cs={readContext:Eo,useCallback:Yi,useContext:Eo,useEffect:Gi,useImperativeHandle:Hi,useInsertionEffect:Ki,useLayoutEffect:$i,useMemo:Qi,useReducer:Ci,useRef:Bi,useState:function(){return Ci(Ti)},useDebugValue:Xi,useDeferredValue:function(e){return Ji(Oi(),gi.memoizedState,e)},useTransition:function(){return[Ci(Ti)[0],Oi().memoizedState]},useMutableSource:Fi,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1},us={readContext:Eo,useCallback:Yi,useContext:Eo,useEffect:Gi,useImperativeHandle:Hi,useInsertionEffect:Ki,useLayoutEffect:$i,useMemo:Qi,useReducer:Ai,useRef:Bi,useState:function(){return Ai(Ti)},useDebugValue:Xi,useDeferredValue:function(e){var n=Oi();return null===gi?n.memoizedState=e:Ji(n,gi.memoizedState,e)},useTransition:function(){return[Ai(Ti)[0],Oi().memoizedState]},useMutableSource:Fi,useSyncExternalStore:Mi,useId:es,unstable_isNewReconciler:!1};function ls(e,n){try{var t="",r=n;do{t+=U(r),r=r.return}while(r);var a=t}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:n,stack:a,digest:null}}function fs(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function ds(e,n){try{console.error(n.value)}catch(t){setTimeout((function(){throw t}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,n,t){(t=Po(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Kc||(Kc=!0,$c=r),ds(0,n)},t}function ms(e,n,t){(t=Po(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=n.value;t.payload=function(){return r(a)},t.callback=function(){ds(0,n)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(t.callback=function(){ds(0,n),"function"!==typeof r&&(null===qc?qc=new Set([this]):qc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function gs(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var a=new Set;r.set(n,a)}else void 0===(a=r.get(n))&&(a=new Set,r.set(n,a));a.has(t)||(a.add(t),e=Eu.bind(null,e,n,t),n.then(e,e))}function vs(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function ys(e,n,t,r,a){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Po(-1,1)).tag=2,No(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=S.ReactCurrentOwner,Ss=!1;function ws(e,n,t,r){n.child=null===e?Jo(n,null,t,r):Qo(n,e.child,t,r)}function _s(e,n,t,r,a){t=t.render;var o=n.ref;return Io(n,a),r=xi(e,n,t,r,o,a),t=Ii(),null===e||Ss?(ao&&t&&eo(n),n.flags|=1,ws(e,n,r,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Ks(e,n,a))}function ks(e,n,t,r,a){if(null===e){var o=t.type;return"function"!==typeof o||Lu(o)||void 0!==o.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Nu(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=o,xs(e,n,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((t=null!==(t=t.compare)?t:cr)(i,r)&&e.ref===n.ref)return Ks(e,n,a)}return n.flags|=1,(e=Pu(o,r)).ref=n.ref,e.return=n,n.child=e}function xs(e,n,t,r,a){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===n.ref){if(Ss=!1,n.pendingProps=r=o,0===(e.lanes&a))return n.lanes=e.lanes,Ks(e,n,a);0!==(131072&e.flags)&&(Ss=!0)}}return Os(e,n,t,r,a)}function Is(e,n,t){var r=n.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Pc,Lc),Lc|=t;else{if(0===(1073741824&t))return e=null!==o?o.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ea(Pc,Lc),Lc|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:t,Ea(Pc,Lc),Lc|=r}else null!==o?(r=o.baseLanes|t,n.memoizedState=null):r=t,Ea(Pc,Lc),Lc|=r;return ws(e,n,a,t),n.child}function Es(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Os(e,n,t,r,a){var o=Ma(t)?Aa:Ta.current;return o=Fa(n,o),Io(n,a),t=xi(e,n,t,r,o,a),r=Ii(),null===e||Ss?(ao&&r&&eo(n),n.flags|=1,ws(e,n,t,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Ks(e,n,a))}function Ts(e,n,t,r,a){if(Ma(t)){var o=!0;Ra(n)}else o=!1;if(Io(n,a),null===n.stateNode)Gs(e,n),Go(n,t,r),$o(n,t,r,a),r=!0;else if(null===e){var i=n.stateNode,s=n.memoizedProps;i.props=s;var c=i.context,u=t.contextType;"object"===typeof u&&null!==u?u=Eo(u):u=Fa(n,u=Ma(t)?Aa:Ta.current);var l=t.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate;f||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||c!==u)&&Ko(n,i,r,u),Fo=!1;var d=n.memoizedState;i.state=d,jo(n,r,i,a),c=n.memoizedState,s!==r||d!==c||Ca.current||Fo?("function"===typeof l&&(Uo(n,t,l,r),c=n.memoizedState),(s=Fo||Wo(n,t,s,r,d,c,u))?(f||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(n.flags|=4194308)):("function"===typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=c),i.props=r,i.state=c,i.context=u,r=s):("function"===typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Lo(e,n),s=n.memoizedProps,u=n.type===n.elementType?s:vo(n.type,s),i.props=u,f=n.pendingProps,d=i.context,"object"===typeof(c=t.contextType)&&null!==c?c=Eo(c):c=Fa(n,c=Ma(t)?Aa:Ta.current);var p=t.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==f||d!==c)&&Ko(n,i,r,c),Fo=!1,d=n.memoizedState,i.state=d,jo(n,r,i,a);var h=n.memoizedState;s!==f||d!==h||Ca.current||Fo?("function"===typeof p&&(Uo(n,t,p,r),h=n.memoizedState),(u=Fo||Wo(n,t,u,r,d,h,c)||!1)?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof i.componentDidUpdate&&(n.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),i.props=r,i.state=h,i.context=c,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),r=!1)}return Cs(e,n,t,r,o,a)}function Cs(e,n,t,r,a,o){Es(e,n);var i=0!==(128&n.flags);if(!r&&!i)return a&&Da(n,t,!1),Ks(e,n,o);r=n.stateNode,bs.current=n;var s=i&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=Qo(n,e.child,null,o),n.child=Qo(n,null,s,o)):ws(e,n,s,o),n.memoizedState=r.state,a&&Da(n,t,!0),n.child}function As(e){var n=e.stateNode;n.pendingContext?Pa(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Pa(0,n.context,!1),ai(e,n.containerInfo)}function Fs(e,n,t,r,a){return ho(),mo(a),n.flags|=256,ws(e,n,t,r),n.child}var Ms,Ls,Ps,Ns,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,n,t){var r,a=n.pendingProps,i=ci.current,s=!1,c=0!==(128&n.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(ci,1&i),null===e)return uo(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(c=a.children,e=a.fallback,s?(a=n.mode,s=n.child,c={mode:"hidden",children:c},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Du(c,a,0,null),e=Ru(e,a,t,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=Ds(t),n.memoizedState=Rs,e):zs(n,c));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,a,i,s){if(t)return 256&n.flags?(n.flags&=-257,Bs(e,n,s,r=fs(Error(o(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,a=n.mode,r=Du({mode:"visible",children:r.children},a,0,null),(i=Ru(i,a,s,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,0!==(1&n.mode)&&Qo(n,e.child,null,s),n.child.memoizedState=Ds(s),n.memoizedState=Rs,i);if(0===(1&n.mode))return Bs(e,n,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var c=r.dgst;return r=c,Bs(e,n,s,r=fs(i=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),Ss||c){if(null!==(r=Ac)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ao(e,a),ru(r,e,a,-1))}return gu(),Bs(e,n,s,r=fs(Error(o(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=Tu.bind(null,e),a._reactRetry=n,null):(e=i.treeContext,ro=ua(a.nextSibling),to=n,ao=!0,oo=null,null!==e&&(qa[Ha++]=Ya,qa[Ha++]=Qa,qa[Ha++]=Xa,Ya=e.id,Qa=e.overflow,Xa=n),n=zs(n,r.children),n.flags|=4096,n)}(e,n,c,a,r,i,t);if(s){s=a.fallback,c=n.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&c)&&n.child!==i?((a=n.child).childLanes=0,a.pendingProps=u,n.deletions=null):(a=Pu(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Pu(r,s):(s=Ru(s,c,t,null)).flags|=2,s.return=n,a.return=n,a.sibling=s,n.child=a,a=s,s=n.child,c=null===(c=e.child.memoizedState)?Ds(t):{baseLanes:c.baseLanes|t,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~t,n.memoizedState=Rs,a}return e=(s=e.child).sibling,a=Pu(s,{mode:"visible",children:a.children}),0===(1&n.mode)&&(a.lanes=t),a.return=n,a.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=a,n.memoizedState=null,a}function zs(e,n){return(n=Du({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Bs(e,n,t,r){return null!==r&&mo(r),Qo(n,e.child,null,t),(e=zs(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Us(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),xo(e.return,n,t)}function Vs(e,n,t,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:a}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=a)}function Ws(e,n,t){var r=n.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,n,r.children,t),0!==(2&(r=ci.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,t,n);else if(19===e.tag)Us(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(ci,r),0===(1&n.mode))n.memoizedState=null;else switch(a){case"forwards":for(t=n.child,a=null;null!==t;)null!==(e=t.alternate)&&null===ui(e)&&(a=t),t=t.sibling;null===(t=a)?(a=n.child,n.child=null):(a=t.sibling,t.sibling=null),Vs(n,!1,a,t,o);break;case"backwards":for(t=null,a=n.child,n.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ui(e)){n.child=a;break}e=a.sibling,a.sibling=t,t=a,a=e}Vs(n,!0,t,null,o);break;case"together":Vs(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gs(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ks(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Dc|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(o(153));if(null!==n.child){for(t=Pu(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Pu(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function $s(e,n){if(!ao)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Hs(e,n,t){var r=n.pendingProps;switch(no(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(n),null;case 1:case 17:return Ma(n.type)&&La(),qs(n),null;case 3:return r=n.stateNode,oi(),Ia(Ca),Ia(Ta),fi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==oo&&(su(oo),oo=null))),Ls(e,n),qs(n),null;case 5:si(n);var a=ri(ti.current);if(t=n.type,null!==e&&null!=n.stateNode)Ps(e,n,t,r,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(o(166));return qs(n),null}if(e=ri(ei.current),fo(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[da]=n,r[pa]=i,e=0!==(1&n.mode),t){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Nr.length;a++)zr(Nr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ae(r,i),zr("invalid",r)}for(var c in ye(t,i),a=null,i)if(i.hasOwnProperty(c)){var u=i[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&zr("scroll",r)}switch(t){case"input":$(r),Z(r,i,!0);break;case"textarea":$(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,n.updateQueue=r,null!==r&&(n.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(t,{is:r.is}):(e=c.createElement(t),"select"===t&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,t),e[da]=n,e[pa]=r,Ms(e,n,!1,!1),n.stateNode=e;e:{switch(c=be(t,r),t){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Nr.length;a++)zr(Nr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":Y(e,r),a=X(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(i in ye(t,a),u=a)if(u.hasOwnProperty(i)){var l=u[i];"style"===i?ge(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===i?"string"===typeof l?("textarea"!==t||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=l&&"onScroll"===i&&zr("scroll",e):null!=l&&b(e,i,l,c))}switch(t){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return qs(n),null;case 6:if(e&&null!=n.stateNode)Ns(e,n,e.memoizedProps,r);else{if("string"!==typeof r&&null===n.stateNode)throw Error(o(166));if(t=ri(ti.current),ri(ei.current),fo(n)){if(r=n.stateNode,t=n.memoizedProps,r[da]=n,(i=r.nodeValue!==t)&&null!==(e=to))switch(e.tag){case 3:Jr(r.nodeValue,t,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,t,0!==(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[da]=n,n.stateNode=r}return qs(n),null;case 13:if(Ia(ci),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&n.mode)&&0===(128&n.flags))po(),ho(),n.flags|=98560,i=!1;else if(i=fo(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(o(317));i[da]=n}else ho(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;qs(n),i=!1}else null!==oo&&(su(oo),oo=null),i=!0;if(!i)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=t,n):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&ci.current)?0===Nc&&(Nc=3):gu())),null!==n.updateQueue&&(n.flags|=4),qs(n),null);case 4:return oi(),Ls(e,n),null===e&&Vr(n.stateNode.containerInfo),qs(n),null;case 10:return ko(n.type._context),qs(n),null;case 19:if(Ia(ci),null===(i=n.memoizedState))return qs(n),null;if(r=0!==(128&n.flags),null===(c=i.rendering))if(r)$s(i,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(c=ui(e))){for(n.flags|=128,$s(i,!1),null!==(r=c.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(c=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ea(ci,1&ci.current|2),n.child}e=e.sibling}null!==i.tail&&Qe()>Wc&&(n.flags|=128,r=!0,$s(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ui(c))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),$s(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!ao)return qs(n),null}else 2*Qe()-i.renderingStartTime>Wc&&1073741824!==t&&(n.flags|=128,r=!0,$s(i,!1),n.lanes=4194304);i.isBackwards?(c.sibling=n.child,n.child=c):(null!==(t=i.last)?t.sibling=c:n.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Qe(),n.sibling=null,t=ci.current,Ea(ci,r?1&t|2:1&t),n):(qs(n),null);case 22:case 23:return du(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&0!==(1&n.mode)?0!==(1073741824&Lc)&&(qs(n),6&n.subtreeFlags&&(n.flags|=8192)):qs(n),null;case 24:case 25:return null}throw Error(o(156,n.tag))}function Xs(e,n){switch(no(n),n.tag){case 1:return Ma(n.type)&&La(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return oi(),Ia(Ca),Ia(Ta),fi(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return si(n),null;case 13:if(Ia(ci),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(o(340));ho()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Ia(ci),null;case 4:return oi(),null;case 10:return ko(n.type._context),null;case 22:case 23:return du(),null;default:return null}}Ms=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Ls=function(){},Ps=function(e,n,t,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,ri(ei.current);var o,i=null;switch(t){case"input":a=X(e,a),r=X(e,r),i=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(t,r),t=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var c=a[l];for(o in c)c.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(i||(i=[]),i.push(l,t)),t=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(i=i||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&zr("scroll",e),i||c===u||(i=[])):(i=i||[]).push(l,u))}t&&(i=i||[]).push("style",t);var l=i;(n.updateQueue=l)&&(n.flags|=4)}},Ns=function(e,n,t,r){t!==r&&(n.flags|=4)};var Ys=!1,Qs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function ec(e,n){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Iu(e,n,r)}else t.current=null}function nc(e,n,t){try{t()}catch(r){Iu(e,n,r)}}var tc=!1;function rc(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&nc(n,t,o)}a=a.next}while(a!==r)}}function ac(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function oc(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"===typeof n?n(e):n.current=e}}function ic(e){var n=e.alternate;null!==n&&(e.alternate=null,ic(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[da],delete n[pa],delete n[ma],delete n[ga],delete n[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uc(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uc(e,n,t),e=e.sibling;null!==e;)uc(e,n,t),e=e.sibling}function lc(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,n,t),e=e.sibling;null!==e;)lc(e,n,t),e=e.sibling}var fc=null,dc=!1;function pc(e,n,t){for(t=t.child;null!==t;)hc(e,n,t),t=t.sibling}function hc(e,n,t){if(on&&"function"===typeof on.onCommitFiberUnmount)try{on.onCommitFiberUnmount(an,t)}catch(s){}switch(t.tag){case 5:Qs||ec(t,n);case 6:var r=fc,a=dc;fc=null,pc(e,n,t),dc=a,null!==(fc=r)&&(dc?(e=fc,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):fc.removeChild(t.stateNode));break;case 18:null!==fc&&(dc?(e=fc,t=t.stateNode,8===e.nodeType?ca(e.parentNode,t):1===e.nodeType&&ca(e,t),Wn(e)):ca(fc,t.stateNode));break;case 4:r=fc,a=dc,fc=t.stateNode.containerInfo,dc=!0,pc(e,n,t),fc=r,dc=a;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&nc(t,n,i),a=a.next}while(a!==r)}pc(e,n,t);break;case 1:if(!Qs&&(ec(t,n),"function"===typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){Iu(t,n,s)}pc(e,n,t);break;case 21:pc(e,n,t);break;case 22:1&t.mode?(Qs=(r=Qs)||null!==t.memoizedState,pc(e,n,t),Qs=r):pc(e,n,t);break;default:pc(e,n,t)}}function mc(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Js),n.forEach((function(n){var r=Cu.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}function gc(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];try{var i=e,s=n,c=s;e:for(;null!==c;){switch(c.tag){case 5:fc=c.stateNode,dc=!1;break e;case 3:case 4:fc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===fc)throw Error(o(160));hc(i,s,a),fc=null,dc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(l){Iu(a,n,l)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)vc(n,e),n=n.sibling}function vc(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(n,e),yc(e),4&r){try{rc(3,e,e.return),ac(3,e)}catch(g){Iu(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Iu(e,e.return,g)}}break;case 1:gc(n,e),yc(e),512&r&&null!==t&&ec(t,t.return);break;case 5:if(gc(n,e),yc(e),512&r&&null!==t&&ec(t,t.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(g){Iu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==t?t.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===i.type&&null!=i.name&&Q(a,i),be(c,s);var l=be(c,i);for(s=0;s<u.length;s+=2){var f=u[s],d=u[s+1];"style"===f?ge(a,d):"dangerouslySetInnerHTML"===f?fe(a,d):"children"===f?de(a,d):b(a,f,d,l)}switch(c){case"input":J(a,i);break;case"textarea":oe(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?te(a,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?te(a,!!i.multiple,i.defaultValue,!0):te(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(g){Iu(e,e.return,g)}}break;case 6:if(gc(n,e),yc(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Iu(e,e.return,g)}}break;case 3:if(gc(n,e),yc(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Wn(n.containerInfo)}catch(g){Iu(e,e.return,g)}break;case 4:default:gc(n,e),yc(e);break;case 13:gc(n,e),yc(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vc=Qe())),4&r&&mc(e);break;case 22:if(f=null!==t&&null!==t.memoizedState,1&e.mode?(Qs=(l=Qs)||f,gc(n,e),Qs=l):gc(n,e),yc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(d=Zs=f;null!==Zs;){switch(h=(p=Zs).child,p.tag){case 0:case 11:case 14:case 15:rc(4,p,p.return);break;case 1:ec(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,t=p.return;try{n=r,m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(g){Iu(r,t,g)}}break;case 5:ec(p,p.return);break;case 22:if(null!==p.memoizedState){_c(d);continue}}null!==h?(h.return=p,Zs=h):_c(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{a=d.stateNode,l?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(c=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",s))}catch(g){Iu(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Iu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(n,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(sc(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),lc(e,cc(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;uc(e,cc(e),i);break;default:throw Error(o(161))}}catch(s){Iu(e,e.return,s)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function bc(e,n,t){Zs=e,Sc(e,n,t)}function Sc(e,n,t){for(var r=0!==(1&e.mode);null!==Zs;){var a=Zs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ys;if(!i){var s=a.alternate,c=null!==s&&null!==s.memoizedState||Qs;s=Ys;var u=Qs;if(Ys=i,(Qs=c)&&!u)for(Zs=a;null!==Zs;)c=(i=Zs).child,22===i.tag&&null!==i.memoizedState?kc(a):null!==c?(c.return=i,Zs=c):kc(a);for(;null!==o;)Zs=o,Sc(o,n,t),o=o.sibling;Zs=a,Ys=s,Qs=u}wc(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Zs=o):wc(e)}}function wc(e){for(;null!==Zs;){var n=Zs;if(0!==(8772&n.flags)){var t=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Qs||ac(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Qs)if(null===t)r.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:vo(n.type,t.memoizedProps);r.componentDidUpdate(a,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&zo(n,i,r);break;case 3:var s=n.updateQueue;if(null!==s){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}zo(n,s,t)}break;case 5:var c=n.stateNode;if(null===t&&4&n.flags){t=c;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var l=n.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Wn(d)}}}break;default:throw Error(o(163))}Qs||512&n.flags&&oc(n)}catch(p){Iu(n,n.return,p)}}if(n===e){Zs=null;break}if(null!==(t=n.sibling)){t.return=n.return,Zs=t;break}Zs=n.return}}function _c(e){for(;null!==Zs;){var n=Zs;if(n===e){Zs=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Zs=t;break}Zs=n.return}}function kc(e){for(;null!==Zs;){var n=Zs;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{ac(4,n)}catch(c){Iu(n,t,c)}break;case 1:var r=n.stateNode;if("function"===typeof r.componentDidMount){var a=n.return;try{r.componentDidMount()}catch(c){Iu(n,a,c)}}var o=n.return;try{oc(n)}catch(c){Iu(n,o,c)}break;case 5:var i=n.return;try{oc(n)}catch(c){Iu(n,i,c)}}}catch(c){Iu(n,n.return,c)}if(n===e){Zs=null;break}var s=n.sibling;if(null!==s){s.return=n.return,Zs=s;break}Zs=n.return}}var xc,Ic=Math.ceil,Ec=S.ReactCurrentDispatcher,Oc=S.ReactCurrentOwner,Tc=S.ReactCurrentBatchConfig,Cc=0,Ac=null,Fc=null,Mc=0,Lc=0,Pc=xa(0),Nc=0,Rc=null,Dc=0,jc=0,zc=0,Bc=null,Uc=null,Vc=0,Wc=1/0,Gc=null,Kc=!1,$c=null,qc=null,Hc=!1,Xc=null,Yc=0,Qc=0,Jc=null,Zc=-1,eu=0;function nu(){return 0!==(6&Cc)?Qe():-1!==Zc?Zc:Zc=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cc)&&0!==Mc?Mc&-Mc:null!==go.transition?(0===eu&&(eu=gn()),eu):0!==(e=Sn)?e:e=void 0===(e=window.event)?16:Qn(e.type)}function ru(e,n,t,r){if(50<Qc)throw Qc=0,Jc=null,Error(o(185));yn(e,t,r),0!==(2&Cc)&&e===Ac||(e===Ac&&(0===(2&Cc)&&(jc|=t),4===Nc&&cu(e,Mc)),au(e,r),1===t&&0===Cc&&0===(1&n.mode)&&(Wc=Qe()+500,za&&Va()))}function au(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-sn(o),s=1<<i,c=a[i];-1===c?0!==(s&t)&&0===(s&r)||(a[i]=hn(s,n)):c<=n&&(e.expiredLanes|=s),o&=~s}}(e,n);var r=pn(e,e===Ac?Mc:0);if(0===r)null!==t&&He(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&He(t),1===n)0===e.tag?function(e){za=!0,Ua(e)}(uu.bind(null,e)):Ua(uu.bind(null,e)),ia((function(){0===(6&Cc)&&Va()})),t=null;else{switch(wn(r)){case 1:t=Ze;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Au(t,ou.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ou(e,n){if(Zc=-1,eu=0,0!==(6&Cc))throw Error(o(327));var t=e.callbackNode;if(ku()&&e.callbackNode!==t)return null;var r=pn(e,e===Ac?Mc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||n)n=vu(e,r);else{n=r;var a=Cc;Cc|=2;var i=mu();for(Ac===e&&Mc===n||(Gc=null,Wc=Qe()+500,pu(e,n));;)try{bu();break}catch(c){hu(e,c)}_o(),Ec.current=i,Cc=a,null!==Fc?n=0:(Ac=null,Mc=0,n=Nc)}if(0!==n){if(2===n&&(0!==(a=mn(e))&&(r=a,n=iu(e,a))),1===n)throw t=Rc,pu(e,0),cu(e,r),au(e,Qe()),t;if(6===n)cu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var a=t[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(a)&&(2===(n=vu(e,r))&&(0!==(i=mn(e))&&(r=i,n=iu(e,i))),1===n))throw t=Rc,pu(e,0),cu(e,r),au(e,Qe()),t;switch(e.finishedWork=a,e.finishedLanes=r,n){case 0:case 1:throw Error(o(345));case 2:case 5:_u(e,Uc,Gc);break;case 3:if(cu(e,r),(130023424&r)===r&&10<(n=Vc+500-Qe())){if(0!==pn(e,0))break;if(((a=e.suspendedLanes)&r)!==r){nu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(_u.bind(null,e,Uc,Gc),n);break}_u(e,Uc,Gc);break;case 4:if(cu(e,r),(4194240&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var s=31-sn(r);i=1<<s,(s=n[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ra(_u.bind(null,e,Uc,Gc),r);break}_u(e,Uc,Gc);break;default:throw Error(o(329))}}}return au(e,Qe()),e.callbackNode===t?ou.bind(null,e):null}function iu(e,n){var t=Bc;return e.current.memoizedState.isDehydrated&&(pu(e,n).flags|=256),2!==(e=vu(e,n))&&(n=Uc,Uc=t,null!==n&&su(n)),e}function su(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function cu(e,n){for(n&=~zc,n&=~jc,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-sn(n),r=1<<t;e[t]=-1,n&=~r}}function uu(e){if(0!==(6&Cc))throw Error(o(327));ku();var n=pn(e,0);if(0===(1&n))return au(e,Qe()),null;var t=vu(e,n);if(0!==e.tag&&2===t){var r=mn(e);0!==r&&(n=r,t=iu(e,r))}if(1===t)throw t=Rc,pu(e,0),cu(e,n),au(e,Qe()),t;if(6===t)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,_u(e,Uc,Gc),au(e,Qe()),null}function lu(e,n){var t=Cc;Cc|=1;try{return e(n)}finally{0===(Cc=t)&&(Wc=Qe()+500,za&&Va())}}function fu(e){null!==Xc&&0===Xc.tag&&0===(6&Cc)&&ku();var n=Cc;Cc|=1;var t=Tc.transition,r=Sn;try{if(Tc.transition=null,Sn=1,e)return e()}finally{Sn=r,Tc.transition=t,0===(6&(Cc=n))&&Va()}}function du(){Lc=Pc.current,Ia(Pc)}function pu(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,aa(t)),null!==Fc)for(t=Fc.return;null!==t;){var r=t;switch(no(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&La();break;case 3:oi(),Ia(Ca),Ia(Ta),fi();break;case 5:si(r);break;case 4:oi();break;case 13:case 19:Ia(ci);break;case 10:ko(r.type._context);break;case 22:case 23:du()}t=t.return}if(Ac=e,Fc=e=Pu(e.current,null),Mc=Lc=n,Nc=0,Rc=null,zc=jc=Dc=0,Uc=Bc=null,null!==Oo){for(n=0;n<Oo.length;n++)if(null!==(r=(t=Oo[n]).interleaved)){t.interleaved=null;var a=r.next,o=t.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}t.pending=r}Oo=null}return e}function hu(e,n){for(;;){var t=Fc;try{if(_o(),di.current=is,yi){for(var r=mi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(hi=0,vi=gi=mi=null,bi=!1,Si=0,Oc.current=null,null===t||null===t.return){Nc=1,Rc=n,Fc=null;break}e:{var i=e,s=t.return,c=t,u=n;if(n=Mc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,f=c,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ys(h,s,c,0,n),1&h.mode&&gs(i,l,n),u=l;var m=(n=h).updateQueue;if(null===m){var g=new Set;g.add(u),n.updateQueue=g}else m.add(u);break e}if(0===(1&n)){gs(i,l,n),gu();break e}u=Error(o(426))}else if(ao&&1&c.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,c,0,n),mo(ls(u,c));break e}}i=u=ls(u,c),4!==Nc&&(Nc=2),null===Bc?Bc=[i]:Bc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Do(i,hs(0,u,n));break e;case 1:c=u;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qc||!qc.has(b)))){i.flags|=65536,n&=-n,i.lanes|=n,Do(i,ms(i,c,n));break e}}i=i.return}while(null!==i)}wu(t)}catch(S){n=S,Fc===t&&null!==t&&(Fc=t=t.return);continue}break}}function mu(){var e=Ec.current;return Ec.current=is,null===e?is:e}function gu(){0!==Nc&&3!==Nc&&2!==Nc||(Nc=4),null===Ac||0===(268435455&Dc)&&0===(268435455&jc)||cu(Ac,Mc)}function vu(e,n){var t=Cc;Cc|=2;var r=mu();for(Ac===e&&Mc===n||(Gc=null,pu(e,n));;)try{yu();break}catch(a){hu(e,a)}if(_o(),Cc=t,Ec.current=r,null!==Fc)throw Error(o(261));return Ac=null,Mc=0,Nc}function yu(){for(;null!==Fc;)Su(Fc)}function bu(){for(;null!==Fc&&!Xe();)Su(Fc)}function Su(e){var n=xc(e.alternate,e,Lc);e.memoizedProps=e.pendingProps,null===n?wu(e):Fc=n,Oc.current=null}function wu(e){var n=e;do{var t=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(t=Hs(t,n,Lc)))return void(Fc=t)}else{if(null!==(t=Xs(t,n)))return t.flags&=32767,void(Fc=t);if(null===e)return Nc=6,void(Fc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Fc=n);Fc=n=e}while(null!==n);0===Nc&&(Nc=5)}function _u(e,n,t){var r=Sn,a=Tc.transition;try{Tc.transition=null,Sn=1,function(e,n,t,r){do{ku()}while(null!==Xc);if(0!==(6&Cc))throw Error(o(327));t=e.finishedWork;var a=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var a=31-sn(t),o=1<<a;n[a]=0,r[a]=-1,e[a]=-1,t&=~o}}(e,i),e===Ac&&(Fc=Ac=null,Mc=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||Hc||(Hc=!0,Au(nn,(function(){return ku(),null}))),i=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||i){i=Tc.transition,Tc.transition=null;var s=Sn;Sn=1;var c=Cc;Cc|=4,Oc.current=null,function(e,n){if(ea=Kn,pr(e=dr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(w){t=null;break e}var s=0,c=-1,u=-1,l=0,f=0,d=e,p=null;n:for(;;){for(var h;d!==t||0!==a&&3!==d.nodeType||(c=s+a),d!==i||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break n;if(p===t&&++l===a&&(c=s),p===i&&++f===r&&(u=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}t=-1===c||-1===u?null:{start:c,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(na={focusedElem:e,selectionRange:t},Kn=!1,Zs=n;null!==Zs;)if(e=(n=Zs).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Zs=e;else for(;null!==Zs;){n=Zs;try{var m=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=n.stateNode,b=y.getSnapshotBeforeUpdate(n.elementType===n.type?g:vo(n.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=n.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(o(163))}}catch(w){Iu(n,n.return,w)}if(null!==(e=n.sibling)){e.return=n.return,Zs=e;break}Zs=n.return}m=tc,tc=!1}(e,t),vc(t,e),hr(na),Kn=!!ea,na=ea=null,e.current=t,bc(t,e,a),Ye(),Cc=c,Sn=s,Tc.transition=i}else e.current=t;if(Hc&&(Hc=!1,Xc=e,Yc=a),i=e.pendingLanes,0===i&&(qc=null),function(e){if(on&&"function"===typeof on.onCommitFiberRoot)try{on.onCommitFiberRoot(an,e,void 0,128===(128&e.current.flags))}catch(n){}}(t.stateNode),au(e,Qe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)a=n[t],r(a.value,{componentStack:a.stack,digest:a.digest});if(Kc)throw Kc=!1,e=$c,$c=null,e;0!==(1&Yc)&&0!==e.tag&&ku(),i=e.pendingLanes,0!==(1&i)?e===Jc?Qc++:(Qc=0,Jc=e):Qc=0,Va()}(e,n,t,r)}finally{Tc.transition=a,Sn=r}return null}function ku(){if(null!==Xc){var e=wn(Yc),n=Tc.transition,t=Sn;try{if(Tc.transition=null,Sn=16>e?16:e,null===Xc)var r=!1;else{if(e=Xc,Xc=null,Yc=0,0!==(6&Cc))throw Error(o(331));var a=Cc;for(Cc|=4,Zs=e.current;null!==Zs;){var i=Zs,s=i.child;if(0!==(16&Zs.flags)){var c=i.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:rc(8,f,i)}var d=f.child;if(null!==d)d.return=f,Zs=d;else for(;null!==Zs;){var p=(f=Zs).sibling,h=f.return;if(ic(f),f===l){Zs=null;break}if(null!==p){p.return=h,Zs=p;break}Zs=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(i=Zs).flags))switch(i.tag){case 0:case 11:case 15:rc(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Zs=y;break e}Zs=i.return}}var b=e.current;for(Zs=b;null!==Zs;){var S=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==S)S.return=s,Zs=S;else e:for(s=b;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:ac(9,c)}}catch(_){Iu(c,c.return,_)}if(c===s){Zs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Zs=w;break e}Zs=c.return}}if(Cc=a,Va(),on&&"function"===typeof on.onPostCommitFiberRoot)try{on.onPostCommitFiberRoot(an,e)}catch(_){}r=!0}return r}finally{Sn=t,Tc.transition=n}}return!1}function xu(e,n,t){e=No(e,n=hs(0,n=ls(t,n),1),1),n=nu(),null!==e&&(yn(e,1,n),au(e,n))}function Iu(e,n,t){if(3===e.tag)xu(e,e,t);else for(;null!==n;){if(3===n.tag){xu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qc||!qc.has(r))){n=No(n,e=ms(n,e=ls(t,e),1),1),e=nu(),null!==n&&(yn(n,1,e),au(n,e));break}}n=n.return}}function Eu(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=nu(),e.pingedLanes|=e.suspendedLanes&t,Ac===e&&(Mc&t)===t&&(4===Nc||3===Nc&&(130023424&Mc)===Mc&&500>Qe()-Vc?pu(e,0):zc|=t),au(e,n)}function Ou(e,n){0===n&&(0===(1&e.mode)?n=1:(n=fn,0===(130023424&(fn<<=1))&&(fn=4194304)));var t=nu();null!==(e=Ao(e,n))&&(yn(e,n,t),au(e,t))}function Tu(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Ou(e,t)}function Cu(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(t=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(n),Ou(e,t)}function Au(e,n){return qe(e,n)}function Fu(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,n,t,r){return new Fu(e,n,t,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,n){var t=e.alternate;return null===t?((t=Mu(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Nu(e,n,t,r,a,i){var s=2;if(r=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Ru(t.children,a,i,n);case x:s=8,a|=8;break;case I:return(e=Mu(12,t,n,2|a)).elementType=I,e.lanes=i,e;case C:return(e=Mu(13,t,n,a)).elementType=C,e.lanes=i,e;case A:return(e=Mu(19,t,n,a)).elementType=A,e.lanes=i,e;case L:return Du(t,a,i,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case O:s=9;break e;case T:s=11;break e;case F:s=14;break e;case M:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(n=Mu(s,t,n,a)).elementType=e,n.type=r,n.lanes=i,n}function Ru(e,n,t,r){return(e=Mu(7,e,r,n)).lanes=t,e}function Du(e,n,t,r){return(e=Mu(22,e,r,n)).elementType=L,e.lanes=t,e.stateNode={isHidden:!1},e}function ju(e,n,t){return(e=Mu(6,e,null,n)).lanes=t,e}function zu(e,n,t){return(n=Mu(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Bu(e,n,t,r,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uu(e,n,t,r,a,o,i,s,c){return e=new Bu(e,n,t,s,c),1===n?(n=1,!0===o&&(n|=8)):n=0,o=Mu(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Vu(e){if(!e)return Oa;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ma(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(o(171))}if(1===e.tag){var t=e.type;if(Ma(t))return Na(e,t,n)}return n}function Wu(e,n,t,r,a,o,i,s,c){return(e=Uu(t,r,!0,e,0,o,0,s,c)).context=Vu(null),t=e.current,(o=Po(r=nu(),a=tu(t))).callback=void 0!==n&&null!==n?n:null,No(t,o,a),e.current.lanes=a,yn(e,a,r),au(e,r),e}function Gu(e,n,t,r){var a=n.current,o=nu(),i=tu(a);return t=Vu(t),null===n.context?n.context=t:n.pendingContext=t,(n=Po(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=No(a,n,i))&&(ru(e,a,i,o),Ro(e,a,i)),i}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function qu(e,n){$u(e,n),(e=e.alternate)&&$u(e,n)}xc=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Ca.current)Ss=!0;else{if(0===(e.lanes&t)&&0===(128&n.flags))return Ss=!1,function(e,n,t){switch(n.tag){case 3:As(n),ho();break;case 5:ii(n);break;case 1:Ma(n.type)&&Ra(n);break;case 4:ai(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Ea(yo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(Ea(ci,1&ci.current),n.flags|=128,null):0!==(t&n.child.childLanes)?js(e,n,t):(Ea(ci,1&ci.current),null!==(e=Ks(e,n,t))?e.sibling:null);Ea(ci,1&ci.current);break;case 19:if(r=0!==(t&n.childLanes),0!==(128&e.flags)){if(r)return Ws(e,n,t);n.flags|=128}if(null!==(a=n.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(ci,ci.current),r)break;return null;case 22:case 23:return n.lanes=0,Is(e,n,t)}return Ks(e,n,t)}(e,n,t);Ss=0!==(131072&e.flags)}else Ss=!1,ao&&0!==(1048576&n.flags)&&Za(n,$a,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;Gs(e,n),e=n.pendingProps;var a=Fa(n,Ta.current);Io(n,t),a=xi(null,n,r,e,a,t);var i=Ii();return n.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ma(r)?(i=!0,Ra(n)):i=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mo(n),a.updater=Vo,n.stateNode=a,a._reactInternals=n,$o(n,r,e,t),n=Cs(null,n,r,!0,i,t)):(n.tag=0,ao&&i&&eo(n),ws(null,n,a,t),n=n.child),n;case 16:r=n.elementType;e:{switch(Gs(e,n),e=n.pendingProps,r=(a=r._init)(r._payload),n.type=r,a=n.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===F)return 14}return 2}(r),e=vo(r,e),a){case 0:n=Os(null,n,r,e,t);break e;case 1:n=Ts(null,n,r,e,t);break e;case 11:n=_s(null,n,r,e,t);break e;case 14:n=ks(null,n,r,vo(r.type,e),t);break e}throw Error(o(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,Os(e,n,r,a=n.elementType===r?a:vo(r,a),t);case 1:return r=n.type,a=n.pendingProps,Ts(e,n,r,a=n.elementType===r?a:vo(r,a),t);case 3:e:{if(As(n),null===e)throw Error(o(387));r=n.pendingProps,a=(i=n.memoizedState).element,Lo(e,n),jo(n,r,null,t);var s=n.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=Fs(e,n,r,t,a=ls(Error(o(423)),n));break e}if(r!==a){n=Fs(e,n,r,t,a=ls(Error(o(424)),n));break e}for(ro=ua(n.stateNode.containerInfo.firstChild),to=n,ao=!0,oo=null,t=Jo(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(ho(),r===a){n=Ks(e,n,t);break e}ws(e,n,r,t)}n=n.child}return n;case 5:return ii(n),null===e&&uo(n),r=n.type,a=n.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,ta(r,a)?s=null:null!==i&&ta(r,i)&&(n.flags|=32),Es(e,n),ws(e,n,s,t),n.child;case 6:return null===e&&uo(n),null;case 13:return js(e,n,t);case 4:return ai(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Qo(n,null,r,t):ws(e,n,r,t),n.child;case 11:return r=n.type,a=n.pendingProps,_s(e,n,r,a=n.elementType===r?a:vo(r,a),t);case 7:return ws(e,n,n.pendingProps,t),n.child;case 8:case 12:return ws(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,i=n.memoizedProps,s=a.value,Ea(yo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Ca.current){n=Ks(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var c=i.dependencies;if(null!==c){s=i.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Po(-1,t&-t)).tag=2;var l=i.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),l.pending=u}}i.lanes|=t,null!==(u=i.alternate)&&(u.lanes|=t),xo(i.return,t,n),c.lanes|=t;break}u=u.next}}else if(10===i.tag)s=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=t,null!==(c=s.alternate)&&(c.lanes|=t),xo(s,t,n),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===n){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,n,a.children,t),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,Io(n,t),r=r(a=Eo(a)),n.flags|=1,ws(e,n,r,t),n.child;case 14:return a=vo(r=n.type,n.pendingProps),ks(e,n,r,a=vo(r.type,a),t);case 15:return xs(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:vo(r,a),Gs(e,n),n.tag=1,Ma(r)?(e=!0,Ra(n)):e=!1,Io(n,t),Go(n,r,a),$o(n,r,a,t),Cs(null,n,r,!0,e,t);case 19:return Ws(e,n,t);case 22:return Is(e,n,t)}throw Error(o(156,n.tag))};var Hu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function el(e,n,t,r,a){var o=t._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Ku(i);s.call(e)}}Gu(n,i,e,a)}else i=function(e,n,t,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Ku(i);o.call(e)}}var i=Wu(n,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=i,e[ha]=i.current,Vr(8===e.nodeType?e.parentNode:e),fu(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Ku(c);s.call(e)}}var c=Uu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=c,e[ha]=c.current,Vr(8===e.nodeType?e.parentNode:e),fu((function(){Gu(n,c,t,r)})),c}(t,n,e,a,r);return Ku(i)}Yu.prototype.render=Xu.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(o(409));Gu(e,n,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;fu((function(){Gu(null,e,null,null)})),n[ha]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var n=In();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Pn.length&&0!==n&&n<Pn[t].priority;t++);Pn.splice(t,0,e),0===t&&jn(e)}},_n=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=dn(n.pendingLanes);0!==t&&(bn(n,1|t),au(n,Qe()),0===(6&Cc)&&(Wc=Qe()+500,Va()))}break;case 13:fu((function(){var n=Ao(e,1);if(null!==n){var t=nu();ru(n,e,1,t)}})),qu(e,1)}},kn=function(e){if(13===e.tag){var n=Ao(e,134217728);if(null!==n)ru(n,e,134217728,nu());qu(e,134217728)}},xn=function(e){if(13===e.tag){var n=tu(e),t=Ao(e,n);if(null!==t)ru(t,e,n,nu());qu(e,n)}},In=function(){return Sn},En=function(e,n){var t=Sn;try{return Sn=e,n()}finally{Sn=t}},_e=function(e,n,t){switch(n){case"input":if(J(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));q(r),J(r,a)}}}break;case"textarea":oe(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},Te=lu,Ce=fu;var nl={usingClientEntryPoint:!1,Events:[ba,Sa,wa,Ee,Oe,lu]},tl={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{an=al.inject(rl),on=al}catch(le){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nl,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(n))throw Error(o(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Qu(e))throw Error(o(299));var t=!1,r="",a=Hu;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=Uu(e,1,!1,null,0,t,0,r,a),e[ha]=n.current,Vr(8===e.nodeType?e.parentNode:e),new Xu(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(n))?null:e.stateNode},n.flushSync=function(e){return fu(e)},n.hydrate=function(e,n,t){if(!Ju(n))throw Error(o(200));return el(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Qu(e))throw Error(o(405));var r=null!=t&&t.hydratedSources||null,a=!1,i="",s=Hu;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),n=Wu(n,null,e,1,null!=t?t:null,a,0,i,s),e[ha]=n.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a);return new Yu(n)},n.render=function(e,n,t){if(!Ju(n))throw Error(o(200));return el(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(fu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},n.unstable_batchedUpdates=lu,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Ju(t))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,n,t,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,n,t){"use strict";var r=t(164);n.createRoot=r.createRoot,n.hydrateRoot=r.hydrateRoot},164:function(e,n,t){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(463)},372:function(e,n){"use strict";var t=60103,r=60106,a=60107,o=60108,i=60114,s=60109,c=60110,u=60112,l=60113,f=60120,d=60115,p=60116,h=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;t=b("react.element"),r=b("react.portal"),a=b("react.fragment"),o=b("react.strict_mode"),i=b("react.profiler"),s=b("react.provider"),c=b("react.context"),u=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),p=b("react.lazy"),h=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function S(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case t:switch(e=e.type){case a:case i:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case p:case d:case s:return e;default:return n}}case r:return n}}}n.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===i||e===v||e===o||e===l||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===c||e.$$typeof===u||e.$$typeof===g||e.$$typeof===h||e[0]===m)},n.typeOf=S},441:function(e,n,t){"use strict";e.exports=t(372)},459:function(e,n){"use strict";var t,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case o:case s:case i:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case m:case h:case c:return e;default:return n}}case a:return n}}}t=Symbol.for("react.module.reference")},900:function(e,n,t){"use strict";t(459)},374:function(e,n,t){"use strict";var r=t(791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,t){var r,o={},u=null,l=null;for(r in void 0!==t&&(u=""+t),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(l=n.ref),n)i.call(n,r)&&!c.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===o[r]&&(o[r]=n[r]);return{$$typeof:a,type:e,key:u,ref:l,props:o,_owner:s.current}}n.Fragment=o,n.jsx=u,n.jsxs=u},117:function(e,n){"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||h}function y(){}function b(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var S=b.prototype=new y;S.constructor=b,m(S,v.prototype),S.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,n,r){var a,o={},i=null,s=null;if(null!=n)for(a in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=""+n.key),n)_.call(n,a)&&!x.hasOwnProperty(a)&&(o[a]=n[a]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===o[a]&&(o[a]=c[a]);return{$$typeof:t,type:e,key:i,ref:s,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var O=/\/+/g;function T(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function C(e,n,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case t:case r:c=!0}}if(c)return i=i(c=e),e=""===o?"."+T(c,0):o,w(i)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),C(i,n,a,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(O,"$&/")+"/")+e)),n.push(i)),1;if(c=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var l=o+T(s=e[u],u);c+=C(s,n,a,l,i)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=C(s=s.value,n,a,l=o+T(s,u++),i);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,n,t){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return n.call(t,e,a++)})),r}function F(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},L={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};n.Children={map:A,forEach:function(e,n,t){A(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return A(e,(function(){n++})),n},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=v,n.Fragment=a,n.Profiler=i,n.PureComponent=b,n.StrictMode=o,n.Suspense=l,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,n.cloneElement=function(e,n,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=k.current),void 0!==n.key&&(o=""+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in n)_.call(n,u)&&!x.hasOwnProperty(u)&&(a[u]=void 0===n[u]&&void 0!==c?c[u]:n[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:t,type:e.type,key:o,ref:i,props:a,_owner:s}},n.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=I,n.createFactory=function(e){var n=I.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:u,render:e}},n.isValidElement=E,n.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},n.memo=function(e,n){return{$$typeof:f,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=L.transition;L.transition={};try{e()}finally{L.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return M.current.useCallback(e,n)},n.useContext=function(e){return M.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return M.current.useDeferredValue(e)},n.useEffect=function(e,n){return M.current.useEffect(e,n)},n.useId=function(){return M.current.useId()},n.useImperativeHandle=function(e,n,t){return M.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return M.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return M.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return M.current.useMemo(e,n)},n.useReducer=function(e,n,t){return M.current.useReducer(e,n,t)},n.useRef=function(e){return M.current.useRef(e)},n.useState=function(e){return M.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return M.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return M.current.useTransition()},n.version="18.2.0"},791:function(e,n,t){"use strict";e.exports=t(117)},184:function(e,n,t){"use strict";e.exports=t(374)},457:function(e,n,t){"use strict";n.Z=void 0;var r,a=t(588),o=(r=t(936))&&r.__esModule?r:{default:r};function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){var n,t=e.store,r=e.params,i=e.replaceState,s=e.initialTruth,c=e.history,u=void 0===c?(0,a.createBrowserHistory)():c,l=t.dispatch,f=!1,d=!1;function p(e){return Object.hasOwnProperty.call(e,"location")?e.location:Object.hasOwnProperty.call(e,"getCurrentLocation")?e.getCurrentLocation():void 0}function h(e){var n=new o.default(e.search),t={};return Object.keys(r).forEach((function(e){var a=r[e],o=a.defaultValue,i=a.stringToValue,s=void 0===i?function(e){return e}:i,c=n.get(e),u=null===c?o:s(c);t[e]=u})),t}function m(e){if(void 0!==e.location&&(e=e.location),!f){var a=t.getState(),o=h(e),i=[];Object.keys(o).forEach((function(e){var t=o[e];if(void 0===n||n[e]!==t){var s=r[e],c=s.selector,u=s.action;c(a)!==t&&i.push(u(t))}})),n=o,d=!0,i.forEach((function(e){l(e)})),d=!1,g({replaceState:!0})}}function g(e){var a=e.replaceState;if(!d){var i=t.getState(),s=p(u),c=new o.default(s.search);Object.keys(r).forEach((function(e){var t=r[e],a=t.selector,o=t.defaultValue,s=t.valueToString,u=void 0===s?function(e){return"".concat(e)}:s,l=a(i);l===o?c.delete(e):c.set(e,u(l)),n[e]=l}));var l="?".concat(c);if(l!==(s.search||"?")){f=!0;var h={pathname:s.pathname,search:l,hash:s.hash,state:s.state};a?u.replace(h):u.push(h),f=!1}}}var v=u.listen(m),y=t.subscribe((function(){return g({replaceState:i})}));return"location"===s?m(p(u)):n=h(p(u)),"store"===s&&g({replaceState:!0}),function(){v(),y()}}c.enhancer=function(e){return function(n){return function(t,r,a){var o=n(t,r,a);return c(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(t,!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({store:o},e)),o}}};var u=c;n.Z=u},813:function(e,n){"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,a=e[r];if(!(0<o(a,n)))break e;e[r]=n,e[t]=a,t=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,t))u<a&&0>o(l,c)?(e[r]=l,e[u]=t,r=u):(e[r]=c,e[s]=t,r=s);else{if(!(u<a&&0>o(l,t)))break e;e[r]=l,e[u]=t,r=u}}}return n}function o(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();n.unstable_now=function(){return s.now()-c}}var u=[],l=[],f=1,d=null,p=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var n=r(l);null!==n;){if(null===n.callback)a(l);else{if(!(n.startTime<=e))break;a(l),n.sortIndex=n.expirationTime,t(u,n)}n=r(l)}}function w(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,L(_);else{var n=r(l);null!==n&&P(w,n.startTime-e)}}function _(e,t){m=!1,g&&(g=!1,y(E),E=-1),h=!0;var o=p;try{for(S(t),d=r(u);null!==d&&(!(d.expirationTime>t)||e&&!C());){var i=d.callback;if("function"===typeof i){d.callback=null,p=d.priorityLevel;var s=i(d.expirationTime<=t);t=n.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&a(u),S(t)}else a(u);d=r(u)}if(null!==d)var c=!0;else{var f=r(l);null!==f&&P(w,f.startTime-t),c=!1}return c}finally{d=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,x=!1,I=null,E=-1,O=5,T=-1;function C(){return!(n.unstable_now()-T<O)}function A(){if(null!==I){var e=n.unstable_now();T=e;var t=!0;try{t=I(!0,e)}finally{t?k():(x=!1,I=null)}}else x=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,M=F.port2;F.port1.onmessage=A,k=function(){M.postMessage(null)}}else k=function(){v(A,0)};function L(e){I=e,x||(x=!0,k())}function P(e,t){E=v((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){m||h||(m=!0,L(_))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return r(u)},n.unstable_next=function(e){switch(p){case 1:case 2:case 3:var n=3;break;default:n=p}var t=p;p=n;try{return e()}finally{p=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=p;p=e;try{return n()}finally{p=t}},n.unstable_scheduleCallback=function(e,a,o){var i=n.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,t(l,e),null===r(u)&&e===r(l)&&(g?(y(E),E=-1):g=!0,P(w,o-i))):(e.sortIndex=s,t(u,e),m||h||(m=!0,L(_))),e},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(e){var n=p;return function(){var t=p;p=n;try{return e.apply(this,arguments)}finally{p=t}}}},296:function(e,n,t){"use strict";e.exports=t(813)},613:function(e){e.exports=function(e,n,t,r){var a=t?t.call(r,e,n):void 0;if(void 0!==a)return!!a;if(e===n)return!0;if("object"!==typeof e||!e||"object"!==typeof n||!n)return!1;var o=Object.keys(e),i=Object.keys(n);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var u=o[c];if(!s(u))return!1;var l=e[u],f=n[u];if(!1===(a=t?t.call(r,l,f,u):void 0)||void 0===a&&l!==f)return!1}return!0}},561:function(e,n,t){"use strict";var r=t(791);var a="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},o=r.useState,i=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!a(e,t)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=o({inst:{value:t,getSnapshot:n}}),a=r[0].inst,l=r[1];return s((function(){a.value=t,a.getSnapshot=n,u(a)&&l({inst:a})}),[e,t,n]),i((function(){return u(a)&&l({inst:a}),e((function(){u(a)&&l({inst:a})}))}),[e]),c(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,n,t){"use strict";var r=t(791),a=t(248);var o="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},i=a.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,a){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=u((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==a&&d.hasValue){var n=d.value;if(a(n,e))return s=n}return s=e}if(n=s,o(i,e))return n;var t=r(e);return void 0!==a&&a(n,t)?n:(i=e,s=t)}var i,s,c=!1,u=void 0===t?null:t;return[function(){return e(n())},null===u?void 0:function(){return e(u())}]}),[n,t,r,a]);var p=i(e,f[0],f[1]);return c((function(){d.hasValue=!0,d.value=p}),[p]),l(p),p}},248:function(e,n,t){"use strict";e.exports=t(561)},327:function(e,n,t){"use strict";e.exports=t(595)},462:function(e,n,t){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(this,arguments)}t.d(n,{Z:function(){return r}})}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.m=e,t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,r){return t.f[r](e,n),n}),[]))},t.u=function(e){return"static/js/"+e+".915ad66d.chunk.js"},t.miniCssF=function(e){},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={},n="webpd_website:";t.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==n+o){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",n+o),s.src=r),e[r]=[a];var d=function(n,t){s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(t)})),n)return n(t)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.p="./",function(){var e={179:0};t.f.j=function(n,r){var a=t.o(e,n)?e[n]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(t,r){a=e[n]=[t,r]}));r.push(a[2]=o);var i=t.p+t.u(n),s=new Error;t.l(i,(function(r){if(t.o(e,n)&&(0!==(a=e[n])&&(e[n]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+n+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}}),"chunk-"+n,n)}};var n=function(n,r){var a,o,i=r[0],s=r[1],c=r[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(c)c(t)}for(n&&n(r);u<i.length;u++)o=i[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkwebpd_website=self.webpackChunkwebpd_website||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}(),t.nc=void 0,function(){"use strict";var e={};t.r(e),t.d(e,{getInlet:function(){return uo},getNode:function(){return co},getOutlet:function(){return lo},getSinks:function(){return fo},getSources:function(){return po}});var n={};t.r(n),t.d(n,{listConnectionsIn:function(){return yo},listConnectionsOut:function(){return bo},messageNodes:function(){return go},removeDeadSinks:function(){return wo},removeDeadSources:function(){return _o},signalNodes:function(){return ho},trimGraph:function(){return So}});var r={};t.r(r),t.d(r,{endpointsEqual:function(){return Ki},testGraphIntegrity:function(){return $i}});var a={};t.r(a),t.d(a,{addNode:function(){return qi},connect:function(){return Hi},deleteNode:function(){return Qi},disconnect:function(){return Xi},disconnectNodes:function(){return Yi}});var o=t(791),i=t(250);function s(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var c=t(441),u=t(613),l=t.n(u);var f=function(e){function n(e,r,c,u,d){for(var p,h,m,g,S,_=0,k=0,x=0,I=0,E=0,M=0,P=m=p=0,R=0,D=0,j=0,z=0,B=c.length,U=B-1,V="",W="",G="",K="";R<B;){if(h=c.charCodeAt(R),R===U&&0!==k+I+x+_&&(0!==k&&(h=47===k?10:47),I=x=_=0,B++,U++),0===k+I+x+_){if(R===U&&(0<D&&(V=V.replace(f,"")),0<V.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:V+=c.charAt(R)}h=59}switch(h){case 123:for(p=(V=V.trim()).charCodeAt(0),m=1,z=++R;R<B;){switch(h=c.charCodeAt(R)){case 123:m++;break;case 125:m--;break;case 47:switch(h=c.charCodeAt(R+1)){case 42:case 47:e:{for(P=R+1;P<U;++P)switch(c.charCodeAt(P)){case 47:if(42===h&&42===c.charCodeAt(P-1)&&R+2!==P){R=P+1;break e}break;case 10:if(47===h){R=P+1;break e}}R=P}}break;case 91:h++;case 40:h++;case 34:case 39:for(;R++<U&&c.charCodeAt(R)!==h;);}if(0===m)break;R++}if(m=c.substring(z,R),0===p&&(p=(V=V.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<D&&(V=V.replace(f,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:D=r;break;default:D=F}if(z=(m=n(r,D,m,h,d+1)).length,0<L&&(S=s(3,m,D=t(F,V,j),r,T,O,z,h,d,u),V=D.join(""),void 0!==S&&0===(z=(m=S.trim()).length)&&(h=0,m="")),0<z)switch(h){case 115:V=V.replace(w,i);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===u&&(W+=m,m="")}else m=""}else m=n(r,t(r,V,j),m,u,d+1);G+=m,m=j=D=P=p=0,V="",h=c.charCodeAt(++R);break;case 125:case 59:if(1<(z=(V=(0<D?V.replace(f,""):V).trim()).length))switch(0===P&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(z=(V=V.replace(" ",":")).length),0<L&&void 0!==(S=s(1,V,r,e,T,O,W.length,u,d,u))&&0===(z=(V=S.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),h=V.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){K+=V+c.charAt(R);break}default:58!==V.charCodeAt(z-1)&&(W+=a(V,p,h,V.charCodeAt(2)))}j=D=P=p=0,V="",h=c.charCodeAt(++R)}}switch(h){case 13:case 10:47===k?k=0:0===1+p&&107!==u&&0<V.length&&(D=1,V+="\0"),0<L*N&&s(0,V,r,e,T,O,W.length,u,d,u),O=1,T++;break;case 59:case 125:if(0===k+I+x+_){O++;break}default:switch(O++,g=c.charAt(R),h){case 9:case 32:if(0===I+_+k)switch(E){case 44:case 58:case 9:case 32:g="";break;default:32!==h&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===I+k+_&&(D=j=1,g="\f"+g);break;case 108:if(0===I+k+_+C&&0<P)switch(R-P){case 2:112===E&&58===c.charCodeAt(R-3)&&(C=E);case 8:111===M&&(C=M)}break;case 58:0===I+k+_&&(P=R);break;case 44:0===k+x+I+_&&(D=1,g+="\r");break;case 34:case 39:0===k&&(I=I===h?0:0===I?h:I);break;case 91:0===I+k+x&&_++;break;case 93:0===I+k+x&&_--;break;case 41:0===I+k+_&&x--;break;case 40:if(0===I+k+_){if(0===p)if(2*E+3*M===533);else p=1;x++}break;case 64:0===k+x+I+_+P+m&&(m=1);break;case 42:case 47:if(!(0<I+_+x))switch(k){case 0:switch(2*h+3*c.charCodeAt(R+1)){case 235:k=47;break;case 220:z=R,k=42}break;case 42:47===h&&42===E&&z+2!==R&&(33===c.charCodeAt(z+2)&&(W+=c.substring(z,R+1)),g="",k=0)}}0===k&&(V+=g)}M=E,E=h,R++}if(0<(z=W.length)){if(D=r,0<L&&(void 0!==(S=s(2,W,D,e,T,O,z,u,d,u))&&0===(W=S).length))return K+W+G;if(W=D.join(",")+"{"+W+"}",0!==A*C){switch(2!==A||o(W,2)||(C=0),C){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(y,"::-webkit-input-$1")+W.replace(y,"::-moz-$1")+W.replace(y,":-ms-input-$1")+W}C=0}}return K+W+G}function t(e,n,t){var a=n.trim().split(m);n=a;var o=a.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?"":e[0]+" ";s<o;++s)n[s]=r(e,n[s],t).trim();break;default:var c=s=0;for(n=[];s<o;++s)for(var u=0;u<i;++u)n[c++]=r(e[u]+" ",a[s],t).trim()}return n}function r(e,n,t){var r=n.charCodeAt(0);switch(33>r&&(r=(n=n.trim()).charCodeAt(0)),r){case 38:return n.replace(g,"$1"+e.trim());case 58:return e.trim()+n.replace(g,"$1"+e.trim());default:if(0<1*t&&0<n.indexOf("\f"))return n.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+n}function a(e,n,t,r){var i=e+";",s=2*n+3*t+4*r;if(944===s){e=i.indexOf(":",9)+1;var c=i.substring(e,i.length-1).trim();return c=i.substring(0,e).trim()+c+";",1===A||2===A&&o(c,1)?"-webkit-"+c+c:c}if(0===A||2===A&&!o(i,1))return i;switch(s){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(E,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(c=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+c+i;case 1005:return p.test(i)?i.replace(d,":-webkit-")+i.replace(d,":-moz-")+i:i;case 1e3:switch(n=(c=i.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(n)){case 226:c=i.replace(S,"tb");break;case 232:c=i.replace(S,"tb-rl");break;case 220:c=i.replace(S,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+c+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(n=(i=e).length-10,s=(c=(33===i.charCodeAt(n)?i.substring(0,n):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:i=i.replace(c,"-webkit-"+c)+";"+i;break;case 207:case 102:i=i.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+i.replace(c,"-webkit-"+c)+";"+i.replace(c,"-ms-"+c+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return c=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+c+"-ms-flex-"+c+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(k,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(k,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),n,t,r).replace(":fill-available",":stretch"):i.replace(c,"-webkit-"+c)+i.replace(c,"-moz-"+c.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===t+r&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+i}return i}function o(e,n){var t=e.indexOf(1===n?":":"{"),r=e.substring(0,3!==n?t:10);return t=e.substring(t+1,e.length-1),P(2!==n?r:r.replace(x,"$1"),t,n)}function i(e,n){var t=a(n,n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2));return t!==n+";"?t.replace(_," or ($1)").substring(4):"("+n+")"}function s(e,n,t,r,a,o,i,s,c,l){for(var f,d=0,p=n;d<L;++d)switch(f=M[d].call(u,e,p,t,r,a,o,i,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==n)return p}function c(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?A=1:(A=2,P=e):A=0),c}function u(e,t){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<L){var a=s(-1,t,r,r,T,O,0,0,0,0);void 0!==a&&"string"===typeof a&&(t=a)}var o=n(F,r,t,0,0);return 0<L&&(void 0!==(a=s(-2,o,r,r,T,O,o.length,0,0,0))&&(o=a)),"",C=0,O=T=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,S=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,k=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,O=1,T=1,C=0,A=1,F=[],M=[],L=0,P=null,N=0;return u.use=function e(n){switch(n){case void 0:case null:L=M.length=0;break;default:if("function"===typeof n)M[L++]=n;else if("object"===typeof n)for(var t=0,r=n.length;t<r;++t)e(n[t]);else N=0|!!n}return e},u.set=c,void 0!==e&&c(e),u},d={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var p=function(e){var n=Object.create(null);return function(t){return void 0===n[t]&&(n[t]=e(t)),n[t]}},h=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,m=p((function(e){return h.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),g=t(110),v=t.n(g);function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var b=function(e,n){for(var t=[e[0]],r=0,a=n.length;r<a;r+=1)t.push(n[r],e[r+1]);return t},S=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,c.typeOf)(e)},w=Object.freeze([]),_=Object.freeze({});function k(e){return"function"==typeof e}function x(e){return e.displayName||e.name||"Component"}function I(e){return e&&"string"==typeof e.styledComponentId}var E="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",O="undefined"!=typeof window&&"HTMLElement"in window,T=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY))),C={};function A(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var F=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var n=e.prototype;return n.indexOfGroup=function(e){for(var n=0,t=0;t<e;t++)n+=this.groupSizes[t];return n},n.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var t=this.groupSizes,r=t.length,a=r;e>=a;)(a<<=1)<0&&A(16,""+e);this.groupSizes=new Uint32Array(a),this.groupSizes.set(t),this.length=a;for(var o=r;o<a;o++)this.groupSizes[o]=0}for(var i=this.indexOfGroup(e+1),s=0,c=n.length;s<c;s++)this.tag.insertRule(i,n[s])&&(this.groupSizes[e]++,i++)},n.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],t=this.indexOfGroup(e),r=t+n;this.groupSizes[e]=0;for(var a=t;a<r;a++)this.tag.deleteRule(t)}},n.getGroup=function(e){var n="";if(e>=this.length||0===this.groupSizes[e])return n;for(var t=this.groupSizes[e],r=this.indexOfGroup(e),a=r+t,o=r;o<a;o++)n+=this.tag.getRule(o)+"/*!sc*/\n";return n},e}(),M=new Map,L=new Map,P=1,N=function(e){if(M.has(e))return M.get(e);for(;L.has(P);)P++;var n=P++;return M.set(e,n),L.set(n,e),n},R=function(e){return L.get(e)},D=function(e,n){n>=P&&(P=n+1),M.set(e,n),L.set(n,e)},j="style["+E+'][data-styled-version="5.3.8"]',z=new RegExp("^"+E+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),B=function(e,n,t){for(var r,a=t.split(","),o=0,i=a.length;o<i;o++)(r=a[o])&&e.registerName(n,r)},U=function(e,n){for(var t=(n.textContent||"").split("/*!sc*/\n"),r=[],a=0,o=t.length;a<o;a++){var i=t[a].trim();if(i){var s=i.match(z);if(s){var c=0|parseInt(s[1],10),u=s[2];0!==c&&(D(u,c),B(e,u,s[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(i)}}},V=function(){return t.nc},W=function(e){var n=document.head,t=e||n,r=document.createElement("style"),a=function(e){for(var n=e.childNodes,t=n.length;t>=0;t--){var r=n[t];if(r&&1===r.nodeType&&r.hasAttribute(E))return r}}(t),o=void 0!==a?a.nextSibling:null;r.setAttribute(E,"active"),r.setAttribute("data-styled-version","5.3.8");var i=V();return i&&r.setAttribute("nonce",i),t.insertBefore(r,o),r},G=function(){function e(e){var n=this.element=W(e);n.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,t=0,r=n.length;t<r;t++){var a=n[t];if(a.ownerNode===e)return a}A(17)}(n),this.length=0}var n=e.prototype;return n.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch(e){return!1}},n.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.getRule=function(e){var n=this.sheet.cssRules[e];return void 0!==n&&"string"==typeof n.cssText?n.cssText:""},e}(),K=function(){function e(e){var n=this.element=W(e);this.nodes=n.childNodes,this.length=0}var n=e.prototype;return n.insertRule=function(e,n){if(e<=this.length&&e>=0){var t=document.createTextNode(n),r=this.nodes[e];return this.element.insertBefore(t,r||null),this.length++,!0}return!1},n.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),$=function(){function e(e){this.rules=[],this.length=0}var n=e.prototype;return n.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},n.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),q=O,H={isServer:!O,useCSSOMInjection:!T},X=function(){function e(e,n,t){void 0===e&&(e=_),void 0===n&&(n={}),this.options=y({},H,{},e),this.gs=n,this.names=new Map(t),this.server=!!e.isServer,!this.server&&O&&q&&(q=!1,function(e){for(var n=document.querySelectorAll(j),t=0,r=n.length;t<r;t++){var a=n[t];a&&"active"!==a.getAttribute(E)&&(U(e,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}e.registerId=function(e){return N(e)};var n=e.prototype;return n.reconstructWithOptions=function(n,t){return void 0===t&&(t=!0),new e(y({},this.options,{},n),this.gs,t&&this.names||void 0)},n.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.getTag=function(){return this.tag||(this.tag=(t=(n=this.options).isServer,r=n.useCSSOMInjection,a=n.target,e=t?new $(a):r?new G(a):new K(a),new F(e)));var e,n,t,r,a},n.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},n.registerName=function(e,n){if(N(e),this.names.has(e))this.names.get(e).add(n);else{var t=new Set;t.add(n),this.names.set(e,t)}},n.insertRules=function(e,n,t){this.registerName(e,n),this.getTag().insertRules(N(e),t)},n.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.clearRules=function(e){this.getTag().clearGroup(N(e)),this.clearNames(e)},n.clearTag=function(){this.tag=void 0},n.toString=function(){return function(e){for(var n=e.getTag(),t=n.length,r="",a=0;a<t;a++){var o=R(a);if(void 0!==o){var i=e.names.get(o),s=n.getGroup(a);if(i&&s&&i.size){var c=E+".g"+a+'[id="'+o+'"]',u="";void 0!==i&&i.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+c+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),Y=/(a)(d)/gi,Q=function(e){return String.fromCharCode(e+(e>25?39:97))};function J(e){var n,t="";for(n=Math.abs(e);n>52;n=n/52|0)t=Q(n%52)+t;return(Q(n%52)+t).replace(Y,"$1-$2")}var Z=function(e,n){for(var t=n.length;t;)e=33*e^n.charCodeAt(--t);return e},ee=function(e){return Z(5381,e)};function ne(e){for(var n=0;n<e.length;n+=1){var t=e[n];if(k(t)&&!I(t))return!1}return!0}var te=ee("5.3.8"),re=function(){function e(e,n,t){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===t||t.isStatic)&&ne(e),this.componentId=n,this.baseHash=Z(te,n),this.baseStyle=t,X.registerId(n)}return e.prototype.generateAndInjectStyles=function(e,n,t){var r=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,n,t)),this.isStatic&&!t.hash)if(this.staticRulesId&&n.hasNameForId(r,this.staticRulesId))a.push(this.staticRulesId);else{var o=we(this.rules,e,n,t).join(""),i=J(Z(this.baseHash,o)>>>0);if(!n.hasNameForId(r,i)){var s=t(o,"."+i,void 0,r);n.insertRules(r,i,s)}a.push(i),this.staticRulesId=i}else{for(var c=this.rules.length,u=Z(this.baseHash,t.hash),l="",f=0;f<c;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=we(d,e,n,t),h=Array.isArray(p)?p.join(""):p;u=Z(u,h+f),l+=h}}if(l){var m=J(u>>>0);if(!n.hasNameForId(r,m)){var g=t(l,"."+m,void 0,r);n.insertRules(r,m,g)}a.push(m)}}return a.join(" ")},e}(),ae=/^\s*\/\/.*$/gm,oe=[":","[",".","#"];function ie(e){var n,t,r,a,o=void 0===e?_:e,i=o.options,s=void 0===i?_:i,c=o.plugins,u=void 0===c?w:c,l=new f(s),d=[],p=function(e){function n(n){if(n)try{e(n+"}")}catch(e){}}return function(t,r,a,o,i,s,c,u,l,f){switch(t){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(a[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(n)}}}((function(e){d.push(e)})),h=function(e,r,o){return 0===r&&-1!==oe.indexOf(o[t.length])||o.match(a)?e:"."+n};function m(e,o,i,s){void 0===s&&(s="&");var c=e.replace(ae,""),u=o&&i?i+" "+o+" { "+c+" }":c;return n=s,t=o,r=new RegExp("\\"+t+"\\b","g"),a=new RegExp("(\\"+t+"\\b){2,}"),l(i||!o?"":o,u)}return l.use([].concat(u,[function(e,n,a){2===e&&a.length&&a[0].lastIndexOf(t)>0&&(a[0]=a[0].replace(r,h))},p,function(e){if(-2===e){var n=d;return d=[],n}}])),m.hash=u.length?u.reduce((function(e,n){return n.name||A(15),Z(e,n.name)}),5381).toString():"",m}var se=o.createContext(),ce=(se.Consumer,o.createContext()),ue=(ce.Consumer,new X),le=ie();function fe(){return(0,o.useContext)(se)||ue}function de(){return(0,o.useContext)(ce)||le}function pe(e){var n=(0,o.useState)(e.stylisPlugins),t=n[0],r=n[1],a=fe(),i=(0,o.useMemo)((function(){var n=a;return e.sheet?n=e.sheet:e.target&&(n=n.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,o.useMemo)((function(){return ie({options:{prefix:!e.disableVendorPrefixes},plugins:t})}),[e.disableVendorPrefixes,t]);return(0,o.useEffect)((function(){l()(t,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.createElement(se.Provider,{value:i},o.createElement(ce.Provider,{value:s},e.children))}var he=function(){function e(e,n){var t=this;this.inject=function(e,n){void 0===n&&(n=le);var r=t.name+n.hash;e.hasNameForId(t.id,r)||e.insertRules(t.id,r,n(t.rules,r,"@keyframes"))},this.toString=function(){return A(12,String(t.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return e.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash},e}(),me=/([A-Z])/,ge=/([A-Z])/g,ve=/^ms-/,ye=function(e){return"-"+e.toLowerCase()};function be(e){return me.test(e)?e.replace(ge,ye).replace(ve,"-ms-"):e}var Se=function(e){return null==e||!1===e||""===e};function we(e,n,t,r){if(Array.isArray(e)){for(var a,o=[],i=0,s=e.length;i<s;i+=1)""!==(a=we(e[i],n,t,r))&&(Array.isArray(a)?o.push.apply(o,a):o.push(a));return o}return Se(e)?"":I(e)?"."+e.styledComponentId:k(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!n?e:we(e(n),n,t,r):e instanceof he?t?(e.inject(t,r),e.getName(r)):e:S(e)?function e(n,t){var r,a,o=[];for(var i in n)n.hasOwnProperty(i)&&!Se(n[i])&&(Array.isArray(n[i])&&n[i].isCss||k(n[i])?o.push(be(i)+":",n[i],";"):S(n[i])?o.push.apply(o,e(n[i],i)):o.push(be(i)+": "+(r=i,(null==(a=n[i])||"boolean"==typeof a||""===a?"":"number"!=typeof a||0===a||r in d?String(a).trim():a+"px")+";")));return t?[t+" {"].concat(o,["}"]):o}(e):e.toString();var c}var _e=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ke(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return k(e)||S(e)?_e(we(b(w,[e].concat(t)))):0===t.length&&1===e.length&&"string"==typeof e[0]?e:_e(we(b(e,t)))}new Set;var xe=function(e,n,t){return void 0===t&&(t=_),e.theme!==t.theme&&e.theme||n||t.theme},Ie=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ee=/(^-|-$)/g;function Oe(e){return e.replace(Ie,"-").replace(Ee,"")}var Te=function(e){return J(ee(e)>>>0)};function Ce(e){return"string"==typeof e&&!0}var Ae=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Fe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Me(e,n,t){var r=e[t];Ae(n)&&Ae(r)?Le(r,n):e[t]=n}function Le(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var a=0,o=t;a<o.length;a++){var i=o[a];if(Ae(i))for(var s in i)Fe(s)&&Me(e,i[s],s)}return e}var Pe=o.createContext();Pe.Consumer;var Ne={};function Re(e,n,t){var r=I(e),a=!Ce(e),i=n.attrs,s=void 0===i?w:i,c=n.componentId,u=void 0===c?function(e,n){var t="string"!=typeof e?"sc":Oe(e);Ne[t]=(Ne[t]||0)+1;var r=t+"-"+Te("5.3.8"+t+Ne[t]);return n?n+"-"+r:r}(n.displayName,n.parentComponentId):c,l=n.displayName,f=void 0===l?function(e){return Ce(e)?"styled."+e:"Styled("+x(e)+")"}(e):l,d=n.displayName&&n.componentId?Oe(n.displayName)+"-"+n.componentId:n.componentId||u,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=n.shouldForwardProp;r&&e.shouldForwardProp&&(h=n.shouldForwardProp?function(t,r,a){return e.shouldForwardProp(t,r,a)&&n.shouldForwardProp(t,r,a)}:e.shouldForwardProp);var g,b=new re(t,d,r?e.componentStyle:void 0),S=b.isStatic&&0===s.length,E=function(e,n){return function(e,n,t,r){var a=e.attrs,i=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,u=e.shouldForwardProp,l=e.styledComponentId,f=e.target,d=function(e,n,t){void 0===e&&(e=_);var r=y({},n,{theme:e}),a={};return t.forEach((function(e){var n,t,o,i=e;for(n in k(i)&&(i=i(r)),i)r[n]=a[n]="className"===n?(t=a[n],o=i[n],t&&o?t+" "+o:t||o):i[n]})),[r,a]}(xe(n,(0,o.useContext)(Pe),s)||_,n,a),p=d[0],h=d[1],g=function(e,n,t,r){var a=fe(),o=de();return n?e.generateAndInjectStyles(_,a,o):e.generateAndInjectStyles(t,a,o)}(i,r,p),v=t,b=h.$as||n.$as||h.as||n.as||f,S=Ce(b),w=h!==n?y({},n,{},h):n,x={};for(var I in w)"$"!==I[0]&&"as"!==I&&("forwardedAs"===I?x.as=w[I]:(u?u(I,m,b):!S||m(I))&&(x[I]=w[I]));return n.style&&h.style!==n.style&&(x.style=y({},n.style,{},h.style)),x.className=Array.prototype.concat(c,l,g!==l?g:null,n.className,h.className).filter(Boolean).join(" "),x.ref=v,(0,o.createElement)(b,x)}(g,e,n,S)};return E.displayName=f,(g=o.forwardRef(E)).attrs=p,g.componentStyle=b,g.displayName=f,g.shouldForwardProp=h,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):w,g.styledComponentId=d,g.target=r?e.target:e,g.withComponent=function(e){var r=n.componentId,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(n,["componentId"]),o=r&&r+"-"+(Ce(e)?e:Oe(x(e)));return Re(e,y({},a,{attrs:p,componentId:o}),t)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(n){this._foldedDefaultProps=r?Le({},e.defaultProps,n):n}}),g.toString=function(){return"."+g.styledComponentId},a&&v()(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var De=function(e){return function e(n,t,r){if(void 0===r&&(r=_),!(0,c.isValidElementType)(t))return A(1,String(t));var a=function(){return n(t,r,ke.apply(void 0,arguments))};return a.withConfig=function(a){return e(n,t,y({},r,{},a))},a.attrs=function(a){return e(n,t,y({},r,{attrs:Array.prototype.concat(r.attrs,a).filter(Boolean)}))},a}(Re,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){De[e]=De(e)}));var je=function(){function e(e,n){this.rules=e,this.componentId=n,this.isStatic=ne(e),X.registerId(this.componentId+1)}var n=e.prototype;return n.createStyles=function(e,n,t,r){var a=r(we(this.rules,n,t,r).join(""),""),o=this.componentId+e;t.insertRules(o,o,a)},n.removeStyles=function(e,n){n.clearRules(this.componentId+e)},n.renderStyles=function(e,n,t,r){e>2&&X.registerId(this.componentId+e),this.removeStyles(e,t),this.createStyles(e,n,t,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var n=e.instance.toString();if(!n)return"";var t=V();return"<style "+[t&&'nonce="'+t+'"',E+'="true"','data-styled-version="5.3.8"'].filter(Boolean).join(" ")+">"+n+"</style>"},this.getStyleTags=function(){return e.sealed?A(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return A(2);var t=((n={})[E]="",n["data-styled-version"]="5.3.8",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),r=V();return r&&(t.nonce=r),[o.createElement("style",y({},t,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new X({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?A(2):o.createElement(pe,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return A(3)}}();var ze=De,Be=function(e){var n=[],t=10;switch(e%2){case 0:for(var r=0;r<t;r++){var a=180+60*(t-r)/t,o=100+150*r/t;n.push("rgba(".concat(Math.round(0),", ").concat(Math.round(a),", ").concat(Math.round(o),")"))}break;case 1:for(var i=0;i<t;i++){var s=160+95*i/t,c=80+100*(t-i)/t;n.push("rgba(".concat(Math.round(s),", ").concat(Math.round(0),", ").concat(Math.round(c),")"))}}return{colors:n,counter:0,next:function(){return n[this.counter++%n.length]}}}(1);Be.counter=7;var Ue,Ve,We,Ge,Ke,$e,qe,He,Xe,Ye,Qe,Je,Ze,en,nn,tn,rn,an,on={devices:{desktop:{fontSize:20}},dimensions:{maxContentWidth:"900px"},fonts:{title:"SilkScreen",default:"Rajdhani"},fontSizes:{h1:"300%",h2:"140%"},colors:{bg1:"#333333",bg1p5:"#222222",bg2:"#1a1a1a",bg3:"#444444",fg1:"#d1d1d1",fg1p5:"#a1a1a1",fg2:"#555555",colorScheme:Be},spacings:{space1:"1rem",space2:"2rem",space0p1:"0.25rem"},controls:{gridSize:50},zIndexes:{closeButton:2}},sn=t(184),cn=ze.h2(Ue||(Ue=s(["\n    font-family: ",";\n    color: ",";\n    margin: 0;\n    padding: 0;    \n"])),on.fonts.title,on.colors.colorScheme.next()),un=ze.h3(Ve||(Ve=s(["\n    text-transform: uppercase;\n    font-weight: bold;\n    font-family: ",";\n    margin: 0;\n    padding: 0;\n"])),on.fonts.title),ln=ze.div(We||(We=s(["\n    background-color: ",";\n    margin: "," auto;\n    padding: ",";\n    max-width: ",";\n"])),on.colors.bg2,on.spacings.space1,on.spacings.space1,on.dimensions.maxContentWidth),fn=ze.button(Ge||(Ge=s(["\n    border: none;\n    cursor: pointer;\n    background-color: ",";\n"])),on.colors.bg3),dn=ze(fn)(Ke||(Ke=s(["\n    font-family: ",";\n    background-color: ",";\n"])),on.fonts.title,(function(){return on.colors.colorScheme.next()})),pn=ze.select($e||($e=s(["\n    border: none;\n    background-color: ",";\n"])),on.colors.bg1p5),hn=ze.span(qe||(qe=s(["\n    position: absolute;\n    bottom: ",";\n    right: ",";\n    color: ",";\n"])),on.spacings.space0p1,on.spacings.space0p1,on.colors.fg1p5),mn=function(e){var n=e.filename.split("/").slice(-1)[0]||null;return(0,sn.jsx)(hn,{children:n})},gn=ze.span(He||(He=s(["\n    position: absolute;\n    top: ",";\n    left: ",";\n    color: ",";\n"])),on.spacings.space0p1,on.spacings.space0p1,on.colors.fg2),vn=ze.span(Xe||(Xe=s(["\n    font-size: 120%;\n    font-weight: bold;\n    color: ","\n"])),on.colors.fg2),yn=ze.div(Ye||(Ye=s(["\n    color: ",";\n    ::before {\n        content: '\u2192 ';\n    }\n"])),on.colors.fg2),bn=ze(ln)(Qe||(Qe=s(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]))),Sn=ze.div(Je||(Je=s(["\n    min-width: 6.5em;\n    transform: translateX(-20%);\n"]))),wn=ze.div(Ze||(Ze=s(["\n    flex: auto;\n"]))),_n=ze.div(en||(en=s(["\n    position: relative;\n    background-color: ",";\n"])),on.colors.bg1p5),kn=ze.pre(nn||(nn=s(["\n    letter-spacing: 0.1em;\n    max-height: 10em;\n    overflow: auto;\n    margin: 0;\n    padding: 0;\n    opacity: 0.3;\n"]))),xn=function(e){var n=e.pd,t=e.filename;return(0,sn.jsxs)(_n,{children:[(0,sn.jsx)(kn,{children:n}),t?(0,sn.jsx)(mn,{filename:t}):null]})},In=function(e,n,t){var r=new Blob([n],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(r,e);else{var a=window.document.createElement("a");a.href=window.URL.createObjectURL(r),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},En="array",On="bit",Tn="bits",Cn="byte",An="bytes",Fn="",Mn="exponent",Ln="function",Pn="iec",Nn="Invalid number",Rn="Invalid rounding method",Dn="jedec",jn="object",zn=".",Bn="round",Un="s",Vn="kbit",Wn="kB",Gn=" ",Kn="string",$n="0",qn={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function Hn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.bits,r=void 0!==t&&t,a=n.pad,o=void 0!==a&&a,i=n.base,s=void 0===i?-1:i,c=n.round,u=void 0===c?2:c,l=n.locale,f=void 0===l?Fn:l,d=n.localeOptions,p=void 0===d?{}:d,h=n.separator,m=void 0===h?Fn:h,g=n.spacer,v=void 0===g?Gn:g,y=n.symbols,b=void 0===y?{}:y,S=n.standard,w=void 0===S?Fn:S,_=n.output,k=void 0===_?Kn:_,x=n.fullform,I=void 0!==x&&x,E=n.fullforms,O=void 0===E?[]:E,T=n.exponent,C=void 0===T?-1:T,A=n.roundingMethod,F=void 0===A?Bn:A,M=n.precision,L=void 0===M?0:M,P=C,N=Number(e),R=[],D=0,j=Fn;-1===s&&0===w.length?(s=10,w=Dn):-1===s&&w.length>0?s=(w=w===Pn?Pn:Dn)===Pn?2:10:w=10===(s=2===s?2:10)||w===Dn?Dn:Pn;var z=10===s?1e3:1024,B=!0===I,U=N<0,V=Math[F];if("bigint"!==typeof e&&isNaN(e))throw new TypeError(Nn);if(typeof V!==Ln)throw new TypeError(Rn);if(U&&(N=-N),(-1===P||isNaN(P))&&(P=Math.floor(Math.log(N)/Math.log(z)))<0&&(P=0),P>8&&(L>0&&(L+=8-P),P=8),k===Mn)return P;if(0===N)R[0]=0,j=R[1]=qn.symbol[w][r?Tn:An][P];else{D=N/(2===s?Math.pow(2,10*P):Math.pow(1e3,P)),r&&(D*=8)>=z&&P<8&&(D/=z,P++);var W=Math.pow(10,P>0?u:0);R[0]=V(D*W)/W,R[0]===z&&P<8&&-1===C&&(R[0]=1,P++),j=R[1]=10===s&&1===P?r?Vn:Wn:qn.symbol[w][r?Tn:An][P]}if(U&&(R[0]=-R[0]),L>0&&(R[0]=R[0].toPrecision(L)),R[1]=b[R[1]]||R[1],!0===f?R[0]=R[0].toLocaleString():f.length>0?R[0]=R[0].toLocaleString(f,p):m.length>0&&(R[0]=R[0].toString().replace(zn,m)),o&&!1===Number.isInteger(R[0])&&u>0){var G=m||zn,K=R[0].toString().split(G),$=K[1]||Fn,q=$.length,H=u-q;R[0]="".concat(K[0]).concat(G).concat($.padEnd(q+H,$n))}return B&&(R[1]=O[P]?O[P]:qn.fullform[w][P]+(r?On:Cn)+(1===R[0]?Fn:Un)),k===En?R:k===jn?{value:R[0],symbol:R[1],exponent:P,unit:j}:R.join(v)}var Xn,Yn,Qn,Jn,Zn=["\u2591","\u2592","\u2593","\u2594","\u2599","\u259a","\u259b","\u259c","\u259d","\u259e","\u259f"],et=ze.div(tn||(tn=s(["\n    position: relative;\n"]))),nt=ze.div(rn||(rn=s(["\n    word-break: break-all;\n    max-height: 20vw;\n    overflow: hidden;\n    opacity: 0.1;\n    text-align: justify;\n"]))),tt=ze(fn)(an||(an=s(["\n    position: absolute;\n    bottom: ",";\n    right: ",";\n"])),on.spacings.space0p1,on.spacings.space0p1),rt=function(e){var n=e.wasm,t=e.filename,r=e.showDownloadButton,a=e.showFileSize,i=(0,o.useMemo)((function(){return Array.from(new Uint8Array(n))}),[n]),s=Hn(n.byteLength);return(0,sn.jsxs)(et,{children:[t?(0,sn.jsx)(mn,{filename:t}):null,a?(0,sn.jsxs)(gn,{children:["file size : ",s]}):null,(0,sn.jsx)(nt,{children:i.slice(0,1e3).map((function(e,n){return(0,sn.jsxs)("span",{children:[Zn[e%Zn.length]," "]},n)}))}),r?(0,sn.jsx)(tt,{onClick:function(){In("patch.wasm",n,"application/wasm")},children:"Download"}):null]})};function at(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ot(e,n){if(e){if("string"===typeof e)return at(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?at(e,n):void 0}}function it(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(l){u=!0,a=l}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,n)||ot(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st=function(e){var n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return Math.floor(e*Math.pow(10,n))/Math.pow(10,n)}(e,2),t=n%1,r=Math.floor(n),a=t.toString().split("."),o="00";return a[1]&&(o=a[1].slice(0,2).padEnd(2,"0")),"".concat(r.toString().padStart(2,"0"),":").concat(o)},ct=ze.div(Xn||(Xn=s(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]))),ut=ze.div(Yn||(Yn=s(["\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    width: 6em;\n    margin: 0 ",";\n    margin-right: calc("," + 0.5rem);\n    font-size: ",";\n    & > span {\n        font-size: 100%;\n    }\n    & > span:nth-child(1) {\n        text-align: right;\n    }\n    & > span:nth-child(2) {\n        text-align: center;\n    }\n"])),on.spacings.space1,on.spacings.space1,on.fontSizes.h2),lt=ze.div(Qn||(Qn=s([""]))),ft=ze.div(Jn||(Jn=s(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    flex: auto;\n"]))),dt=function(e){var n=e.wav,t=e.showDownloadButton,r=it((0,o.useState)(!1),2),a=r[0],i=r[1],s=it((0,o.useState)(0),2)[1],c=(0,o.useRef)(null),u=(0,o.useMemo)((function(){var e=new Audio(URL.createObjectURL(new Blob([n],{type:"audio/wav"})));return e.onplay=function(){i(!0)},e.onpause=function(){i(!1)},e.onended=function(){i(!1)},e}),[n]);(0,o.useEffect)((function(){var e=new Nexus.Dial(c.current,{value:u.volume,min:0,max:1,size:[1*on.controls.gridSize,1*on.controls.gridSize]}),n=on.colors.colorScheme.next();return e.on("change",(function(e){u.volume=e})),e.colorize("accent",n),e.colorize("fill",on.colors.bg1),e.colorize("dark",n),e.colorize("mediumDark",on.colors.bg1),e.colorize("mediumLight",on.colors.bg1),function(){return e.destroy()}}),[n]),(0,o.useEffect)((function(){if(a){var e=setInterval((function(){s(u.currentTime)}),100);return function(){return clearInterval(e)}}}),[a]);return(0,sn.jsxs)(ct,{children:[(0,sn.jsxs)(ft,{children:[a?(0,sn.jsx)(dn,{onClick:function(){u.paused&&i(!1),u.pause()},children:"Pause"}):(0,sn.jsx)(dn,{onClick:function(){u.paused||i(!0),u.play()},children:"Play"}),(0,sn.jsxs)(ut,{children:[(0,sn.jsx)("span",{children:st(u.currentTime)}),(0,sn.jsx)("span",{children:"/"}),(0,sn.jsx)("span",{children:isNaN(u.duration)?st(0):st(u.duration)})]}),(0,sn.jsx)(lt,{children:(0,sn.jsx)("div",{ref:c})})]}),t?(0,sn.jsx)(fn,{onClick:function(){In("audio.webpd.wav",n,"audio/wav")},children:"Download"}):null]})},pt=function(e){var n=e.format,t=e.artefacts,r=e.filename,a=e.showDownloadButton;switch(n){case"pd":return t.pd?(0,sn.jsx)(xn,{pd:t.pd,filename:r}):null;case"wasm":return t.wasm?(0,sn.jsx)(rt,{wasm:t.wasm,filename:r,showDownloadButton:a,showFileSize:!0}):null;case"wav":return t.wav?(0,sn.jsx)(dt,{wav:t.wav,showDownloadButton:a}):null}return null};function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function mt(){mt=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(T){c=function(e,n,t){return e[n]=t}}function u(e,n,t,a){var o=n&&n.prototype instanceof d?n:d,i=Object.create(o.prototype),s=new I(a||[]);return r(i,"_invoke",{value:w(e,t,s)}),i}function l(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var f={};function d(){}function p(){}function h(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(E([])));v&&v!==n&&t.call(v,o)&&(m=v);var y=h.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(n){c(e,n,(function(e){return this._invoke(n,e)}))}))}function S(e,n){function a(r,o,i,s){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ht(f)&&t.call(f,"__await")?n.resolve(f.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):n.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){a(e,t,n,r)}))}return o=o?o.then(r,r):r()}})}function w(e,n,t){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return O()}for(t.method=a,t.arg=o;;){var i=t.delegate;if(i){var s=_(i,t);if(s){if(s===f)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=l(e,n,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}function _(e,n){var t=n.method,r=e.iterator[t];if(void 0===r)return n.delegate=null,"throw"===t&&e.iterator.return&&(n.method="return",n.arg=void 0,_(e,n),"throw"===n.method)||"return"!==t&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+t+"' method")),f;var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function k(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function x(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(S.prototype),c(S.prototype,i,(function(){return this})),e.AsyncIterator=S,e.async=function(n,t,r,a,o){void 0===o&&(o=Promise);var i=new S(u(n,t,r,a),o);return e.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=t.call(o,"catchLoc"),c=t.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),f},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),x(t),f}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var a=r.arg;x(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:E(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),f}},e}function gt(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function vt(e){return!!e&&!!e[ir]}function yt(e){var n;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===sr}(e)||Array.isArray(e)||!!e[or]||!!(null===(n=e.constructor)||void 0===n?void 0:n[or])||It(e)||Et(e))}function bt(e,n,t){void 0===t&&(t=!1),0===St(e)?(t?Object.keys:cr)(e).forEach((function(r){t&&"symbol"==typeof r||n(r,e[r],e)})):e.forEach((function(t,r){return n(r,t,e)}))}function St(e){var n=e[ir];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:It(e)?2:Et(e)?3:0}function wt(e,n){return 2===St(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function _t(e,n){return 2===St(e)?e.get(n):e[n]}function kt(e,n,t){var r=St(e);2===r?e.set(n,t):3===r?e.add(t):e[n]=t}function xt(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function It(e){return nr&&e instanceof Map}function Et(e){return tr&&e instanceof Set}function Ot(e){return e.o||e.t}function Tt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=ur(e);delete n[ir];for(var t=cr(n),r=0;r<t.length;r++){var a=t[r],o=n[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),n)}function Ct(e,n){return void 0===n&&(n=!1),Ft(e)||vt(e)||!yt(e)||(St(e)>1&&(e.set=e.add=e.clear=e.delete=At),Object.freeze(e),n&&bt(e,(function(e,n){return Ct(n,!0)}),!0)),e}function At(){gt(2)}function Ft(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Mt(e){var n=lr[e];return n||gt(18,e),n}function Lt(e,n){lr[e]||(lr[e]=n)}function Pt(){return Zt}function Nt(e,n){n&&(Mt("Patches"),e.u=[],e.s=[],e.v=n)}function Rt(e){Dt(e),e.p.forEach(zt),e.p=null}function Dt(e){e===Zt&&(Zt=e.l)}function jt(e){return Zt={p:[],l:Zt,h:e,m:!0,_:0}}function zt(e){var n=e[ir];0===n.i||1===n.i?n.j():n.O=!0}function Bt(e,n){n._=n.p.length;var t=n.p[0],r=void 0!==e&&e!==t;return n.h.g||Mt("ES5").S(n,e,r),r?(t[ir].P&&(Rt(n),gt(4)),yt(e)&&(e=Ut(n,e),n.l||Wt(n,e)),n.u&&Mt("Patches").M(t[ir].t,e,n.u,n.s)):e=Ut(n,t,[]),Rt(n),n.u&&n.v(n.u,n.s),e!==ar?e:void 0}function Ut(e,n,t){if(Ft(n))return n;var r=n[ir];if(!r)return bt(n,(function(a,o){return Vt(e,r,n,a,o,t)}),!0),n;if(r.A!==e)return n;if(!r.P)return Wt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=Tt(r.k):r.o,o=a,i=!1;3===r.i&&(o=new Set(a),a.clear(),i=!0),bt(o,(function(n,o){return Vt(e,r,a,n,o,t,i)})),Wt(e,a,!1),t&&e.u&&Mt("Patches").N(r,t,e.u,e.s)}return r.o}function Vt(e,n,t,r,a,o,i){if(vt(a)){var s=Ut(e,a,o&&n&&3!==n.i&&!wt(n.R,r)?o.concat(r):void 0);if(kt(t,r,s),!vt(s))return;e.m=!1}else i&&t.add(a);if(yt(a)&&!Ft(a)){if(!e.h.D&&e._<1)return;Ut(e,a),n&&n.A.l||Wt(e,a)}}function Wt(e,n,t){void 0===t&&(t=!1),!e.l&&e.h.D&&e.m&&Ct(n,t)}function Gt(e,n){var t=e[ir];return(t?Ot(t):e)[n]}function Kt(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var r=Object.getOwnPropertyDescriptor(t,n);if(r)return r;t=Object.getPrototypeOf(t)}}function $t(e){e.P||(e.P=!0,e.l&&$t(e.l))}function qt(e){e.o||(e.o=Tt(e.t))}function Ht(e,n,t){var r=It(n)?Mt("MapSet").F(n,t):Et(n)?Mt("MapSet").T(n,t):e.g?function(e,n){var t=Array.isArray(e),r={i:t?1:0,A:n?n.A:Pt(),P:!1,I:!1,R:{},l:n,t:e,k:null,o:null,j:null,C:!1},a=r,o=fr;t&&(a=[r],o=dr);var i=Proxy.revocable(a,o),s=i.revoke,c=i.proxy;return r.k=c,r.j=s,c}(n,t):Mt("ES5").J(n,t);return(t?t.A:Pt()).p.push(r),r}function Xt(e){return vt(e)||gt(22,e),function e(n){if(!yt(n))return n;var t,r=n[ir],a=St(n);if(r){if(!r.P&&(r.i<4||!Mt("ES5").K(r)))return r.t;r.I=!0,t=Yt(n,a),r.I=!1}else t=Yt(n,a);return bt(t,(function(n,a){r&&_t(r.t,n)===a||kt(t,n,e(a))})),3===a?new Set(t):t}(e)}function Yt(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return Tt(e)}function Qt(){function e(e,n){var t=a[e];return t?t.enumerable=n:a[e]=t={configurable:!0,enumerable:n,get:function(){var n=this[ir];return fr.get(n,e)},set:function(n){var t=this[ir];fr.set(t,e,n)}},t}function n(e){for(var n=e.length-1;n>=0;n--){var a=e[n][ir];if(!a.P)switch(a.i){case 5:r(a)&&$t(a);break;case 4:t(a)&&$t(a)}}}function t(e){for(var n=e.t,t=e.k,r=cr(t),a=r.length-1;a>=0;a--){var o=r[a];if(o!==ir){var i=n[o];if(void 0===i&&!wt(n,o))return!0;var s=t[o],c=s&&s[ir];if(c?c.t!==i:!xt(s,i))return!0}}var u=!!n[ir];return r.length!==cr(n).length+(u?0:1)}function r(e){var n=e.k;if(n.length!==e.t.length)return!0;var t=Object.getOwnPropertyDescriptor(n,n.length-1);if(t&&!t.get)return!0;for(var r=0;r<n.length;r++)if(!n.hasOwnProperty(r))return!0;return!1}var a={};Lt("ES5",{J:function(n,t){var r=Array.isArray(n),a=function(n,t){if(n){for(var r=Array(t.length),a=0;a<t.length;a++)Object.defineProperty(r,""+a,e(a,!0));return r}var o=ur(t);delete o[ir];for(var i=cr(o),s=0;s<i.length;s++){var c=i[s];o[c]=e(c,n||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(t),o)}(r,n),o={i:r?5:4,A:t?t.A:Pt(),P:!1,I:!1,R:{},l:t,t:n,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,ir,{value:o,writable:!0}),a},S:function(e,t,a){a?vt(t)&&t[ir].A===e&&n(e.p):(e.u&&function e(n){if(n&&"object"==typeof n){var t=n[ir];if(t){var a=t.t,o=t.k,i=t.R,s=t.i;if(4===s)bt(o,(function(n){n!==ir&&(void 0!==a[n]||wt(a,n)?i[n]||e(o[n]):(i[n]=!0,$t(t)))})),bt(a,(function(e){void 0!==o[e]||wt(o,e)||(i[e]=!1,$t(t))}));else if(5===s){if(r(t)&&($t(t),i.length=!0),o.length<a.length)for(var c=o.length;c<a.length;c++)i[c]=!1;else for(var u=a.length;u<o.length;u++)i[u]=!0;for(var l=Math.min(o.length,a.length),f=0;f<l;f++)o.hasOwnProperty(f)||(i[f]=!0),void 0===i[f]&&e(o[f])}}}}(e.p[0]),n(e.p))},K:function(e){return 4===e.i?t(e):r(e)}})}var Jt,Zt,er="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),nr="undefined"!=typeof Map,tr="undefined"!=typeof Set,rr="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ar=er?Symbol.for("immer-nothing"):((Jt={})["immer-nothing"]=!0,Jt),or=er?Symbol.for("immer-draftable"):"__$immer_draftable",ir=er?Symbol.for("immer-state"):"__$immer_state",sr=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),cr="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ur=Object.getOwnPropertyDescriptors||function(e){var n={};return cr(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})),n},lr={},fr={get:function(e,n){if(n===ir)return e;var t=Ot(e);if(!wt(t,n))return function(e,n,t){var r,a=Kt(n,t);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,t,n);var r=t[n];return e.I||!yt(r)?r:r===Gt(e.t,n)?(qt(e),e.o[n]=Ht(e.A.h,r,e)):r},has:function(e,n){return n in Ot(e)},ownKeys:function(e){return Reflect.ownKeys(Ot(e))},set:function(e,n,t){var r=Kt(Ot(e),n);if(null==r?void 0:r.set)return r.set.call(e.k,t),!0;if(!e.P){var a=Gt(Ot(e),n),o=null==a?void 0:a[ir];if(o&&o.t===t)return e.o[n]=t,e.R[n]=!1,!0;if(xt(t,a)&&(void 0!==t||wt(e.t,n)))return!0;qt(e),$t(e)}return e.o[n]===t&&(void 0!==t||n in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[n])||(e.o[n]=t,e.R[n]=!0),!0},deleteProperty:function(e,n){return void 0!==Gt(e.t,n)||n in e.t?(e.R[n]=!1,qt(e),$t(e)):delete e.R[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=Ot(e),r=Reflect.getOwnPropertyDescriptor(t,n);return r?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:r.enumerable,value:t[n]}:r},defineProperty:function(){gt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){gt(12)}},dr={};bt(fr,(function(e,n){dr[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),dr.deleteProperty=function(e,n){return dr.set.call(this,e,n,void 0)},dr.set=function(e,n,t){return fr.set.call(this,e[0],n,t,e[0])};var pr=function(){function e(e){var n=this;this.g=rr,this.D=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var o=n;return function(e){var n=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(i))}))}}var i;if("function"!=typeof t&&gt(6),void 0!==r&&"function"!=typeof r&&gt(7),yt(e)){var s=jt(n),c=Ht(n,e,void 0),u=!0;try{i=t(c),u=!1}finally{u?Rt(s):Dt(s)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Nt(s,r),Bt(e,s)}),(function(e){throw Rt(s),e})):(Nt(s,r),Bt(i,s))}if(!e||"object"!=typeof e){if(void 0===(i=t(e))&&(i=e),i===ar&&(i=void 0),n.D&&Ct(i,!0),r){var l=[],f=[];Mt("Patches").M(e,i,l,f),r(l,f)}return i}gt(21,e)},this.produceWithPatches=function(e,t){if("function"==typeof e)return function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return n.produceWithPatches(t,(function(n){return e.apply(void 0,[n].concat(a))}))};var r,a,o=n.produce(e,t,(function(e,n){r=e,a=n}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,a]})):[o,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){yt(e)||gt(8),vt(e)&&(e=Xt(e));var n=jt(this),t=Ht(this,e,void 0);return t[ir].C=!0,Dt(n),t},n.finishDraft=function(e,n){var t=(e&&e[ir]).A;return Nt(t,n),Bt(void 0,t)},n.setAutoFreeze=function(e){this.D=e},n.setUseProxies=function(e){e&&!rr&&gt(20),this.g=e},n.applyPatches=function(e,n){var t;for(t=n.length-1;t>=0;t--){var r=n[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}t>-1&&(n=n.slice(t+1));var a=Mt("Patches").$;return vt(e)?a(e,n):this.produce(e,(function(e){return a(e,n)}))},e}(),hr=new pr,mr=hr.produce,gr=(hr.produceWithPatches.bind(hr),hr.setAutoFreeze.bind(hr),hr.setUseProxies.bind(hr),hr.applyPatches.bind(hr),hr.createDraft.bind(hr),hr.finishDraft.bind(hr),mr);function vr(e){var n=function(e,n){if("object"!==ht(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===ht(n)?n:String(n)}function yr(e,n,t){return(n=vr(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function br(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?br(Object(t),!0).forEach((function(n){yr(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):br(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function wr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _r="function"===typeof Symbol&&Symbol.observable||"@@observable",kr=function(){return Math.random().toString(36).substring(7).split("").join(".")},xr={INIT:"@@redux/INIT"+kr(),REPLACE:"@@redux/REPLACE"+kr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+kr()}};function Ir(e){if("object"!==typeof e||null===e)return!1;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function Er(e,n,t){var r;if("function"===typeof n&&"function"===typeof t||"function"===typeof t&&"function"===typeof arguments[3])throw new Error(wr(0));if("function"===typeof n&&"undefined"===typeof t&&(t=n,n=void 0),"undefined"!==typeof t){if("function"!==typeof t)throw new Error(wr(1));return t(Er)(e,n)}if("function"!==typeof e)throw new Error(wr(2));var a=e,o=n,i=[],s=i,c=!1;function u(){s===i&&(s=i.slice())}function l(){if(c)throw new Error(wr(3));return o}function f(e){if("function"!==typeof e)throw new Error(wr(4));if(c)throw new Error(wr(5));var n=!0;return u(),s.push(e),function(){if(n){if(c)throw new Error(wr(6));n=!1,u();var t=s.indexOf(e);s.splice(t,1),i=null}}}function d(e){if(!Ir(e))throw new Error(wr(7));if("undefined"===typeof e.type)throw new Error(wr(8));if(c)throw new Error(wr(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var n=i=s,t=0;t<n.length;t++){(0,n[t])()}return e}return d({type:xr.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(wr(10));a=e,d({type:xr.REPLACE})}})[_r]=function(){var e,n=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(wr(11));function t(){e.next&&e.next(l())}return t(),{unsubscribe:n(t)}}})[_r]=function(){return this},e},r}function Or(e){for(var n=Object.keys(e),t={},r=0;r<n.length;r++){var a=n[r];0,"function"===typeof e[a]&&(t[a]=e[a])}var o,i=Object.keys(t);try{!function(e){Object.keys(e).forEach((function(n){var t=e[n];if("undefined"===typeof t(void 0,{type:xr.INIT}))throw new Error(wr(12));if("undefined"===typeof t(void 0,{type:xr.PROBE_UNKNOWN_ACTION()}))throw new Error(wr(13))}))}(t)}catch(s){o=s}return function(e,n){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},s=0;s<i.length;s++){var c=i[s],u=t[c],l=e[c],f=u(l,n);if("undefined"===typeof f){n&&n.type;throw new Error(wr(14))}a[c]=f,r=r||f!==l}return(r=r||i.length!==Object.keys(e).length)?a:e}}function Tr(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce((function(e,n){return function(){return e(n.apply(void 0,arguments))}}))}function Cr(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return function(){var t=e.apply(void 0,arguments),r=function(){throw new Error(wr(15))},a={getState:t.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=n.map((function(e){return e(a)}));return r=Tr.apply(void 0,o)(t.dispatch),Sr(Sr({},t),{},{dispatch:r})}}}function Ar(e){return function(n){var t=n.dispatch,r=n.getState;return function(n){return function(a){return"function"===typeof a?a(t,r,e):n(a)}}}}var Fr=Ar();Fr.withExtraArgument=Ar;var Mr=Fr,Lr=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pr=function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(s){o=[6,s],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Nr=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},Rr=Object.defineProperty,Dr=Object.defineProperties,jr=Object.getOwnPropertyDescriptors,zr=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Vr=function(e,n,t){return n in e?Rr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t},Wr=function(e,n){for(var t in n||(n={}))Br.call(n,t)&&Vr(e,t,n[t]);if(zr)for(var r=0,a=zr(n);r<a.length;r++){t=a[r];Ur.call(n,t)&&Vr(e,t,n[t])}return e},Gr=function(e,n){return Dr(e,jr(n))},Kr=function(e,n,t){return new Promise((function(r,a){var o=function(e){try{s(t.next(e))}catch(n){a(n)}},i=function(e){try{s(t.throw(e))}catch(n){a(n)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,i)};s((t=t.apply(e,n)).next())}))},$r="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Tr:Tr.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function qr(e){if("object"!==typeof e||null===e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return n===t}var Hr=function(e){function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=e.apply(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return Lr(n,e),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Array.isArray(e[0])?new(n.bind.apply(n,Nr([void 0],e[0].concat(this)))):new(n.bind.apply(n,Nr([void 0],e.concat(this))))},n}(Array);function Xr(e){return yt(e)?gr(e,(function(){})):e}function Yr(){return function(e){return function(e){void 0===e&&(e={});var n=e.thunk,t=void 0===n||n,r=(e.immutableCheck,e.serializableCheck,new Hr);t&&(!function(e){return"boolean"===typeof e}(t)?r.push(Mr.withExtraArgument(t.extraArgument)):r.push(Mr));0;return r}(e)}}var Qr=!0;function Jr(e,n){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(n){var a=n.apply(void 0,t);if(!a)throw new Error("prepareAction did not return an object");return Wr(Wr({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:t[0]}}return t.toString=function(){return""+e},t.type=e,t.match=function(n){return n.type===e},t}function Zr(e){var n,t={},r=[],a={addCase:function(e,n){var r="string"===typeof e?e:e.type;if(r in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[r]=n,a},addMatcher:function(e,n){return r.push({matcher:e,reducer:n}),a},addDefaultCase:function(e){return n=e,a}};return e(a),[t,r,n]}function ea(e){var n=e.name;if(!n)throw new Error("`name` is a required option for createSlice");var t,r="function"==typeof e.initialState?e.initialState:Xr(e.initialState),a=e.reducers||{},o=Object.keys(a),i={},s={},c={};function u(){var n="function"===typeof e.extraReducers?Zr(e.extraReducers):[e.extraReducers],t=n[0],a=void 0===t?{}:t,o=n[1],i=void 0===o?[]:o,c=n[2],u=void 0===c?void 0:c,l=Wr(Wr({},a),s);return function(e,n,t,r){void 0===t&&(t=[]);var a,o="function"===typeof n?Zr(n):[n,t,r],i=o[0],s=o[1],c=o[2];if(function(e){return"function"===typeof e}(e))a=function(){return Xr(e())};else{var u=Xr(e);a=function(){return u}}function l(e,n){void 0===e&&(e=a());var t=Nr([i[n.type]],s.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===t.filter((function(e){return!!e})).length&&(t=[c]),t.reduce((function(e,t){if(t){var r;if(vt(e))return void 0===(r=t(e,n))?e:r;if(yt(e))return gr(e,(function(e){return t(e,n)}));if(void 0===(r=t(e,n))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=a,l}(r,(function(e){for(var n in l)e.addCase(n,l[n]);for(var t=0,r=i;t<r.length;t++){var a=r[t];e.addMatcher(a.matcher,a.reducer)}u&&e.addDefaultCase(u)}))}return o.forEach((function(e){var t,r,o=a[e],u=n+"/"+e;"reducer"in o?(t=o.reducer,r=o.prepare):t=o,i[e]=t,s[u]=t,c[e]=r?Jr(u,r):Jr(u)})),{name:n,reducer:function(e,n){return t||(t=u()),t(e,n)},actions:c,caseReducers:i,getInitialState:function(){return t||(t=u()),t.getInitialState()}}}var na=function(e){void 0===e&&(e=21);for(var n="",t=e;t--;)n+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return n},ta=["name","message","stack","code"],ra=function(e,n){this.payload=e,this.meta=n},aa=function(e,n){this.payload=e,this.meta=n},oa=function(e){if("object"===typeof e&&null!==e){for(var n={},t=0,r=ta;t<r.length;t++){var a=r[t];"string"===typeof e[a]&&(n[a]=e[a])}return n}return{message:String(e)}};!function(){function e(e,n,t){var r=Jr(e+"/fulfilled",(function(e,n,t,r){return{payload:e,meta:Gr(Wr({},r||{}),{arg:t,requestId:n,requestStatus:"fulfilled"})}})),a=Jr(e+"/pending",(function(e,n,t){return{payload:void 0,meta:Gr(Wr({},t||{}),{arg:n,requestId:e,requestStatus:"pending"})}})),o=Jr(e+"/rejected",(function(e,n,r,a,o){return{payload:a,error:(t&&t.serializeError||oa)(e||"Rejected"),meta:Gr(Wr({},o||{}),{arg:r,requestId:n,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),i="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,c,u){var l,f=(null==t?void 0:t.idGenerator)?t.idGenerator(e):na(),d=new i;function p(e){l=e,d.abort()}var h=function(){return Kr(this,null,(function(){var i,h,m,g,v,y;return Pr(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(i=null==t?void 0:t.condition)?void 0:i.call(t,e,{getState:c,extra:u}),null===(S=g)||"object"!==typeof S||"function"!==typeof S.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,n){return d.signal.addEventListener("abort",(function(){return n({name:"AbortError",message:l||"Aborted"})}))})),s(a(f,e,null==(h=null==t?void 0:t.getPendingMeta)?void 0:h.call(t,{requestId:f,arg:e},{getState:c,extra:u}))),[4,Promise.race([v,Promise.resolve(n(e,{dispatch:s,getState:c,extra:u,requestId:f,signal:d.signal,abort:p,rejectWithValue:function(e,n){return new ra(e,n)},fulfillWithValue:function(e,n){return new aa(e,n)}})).then((function(n){if(n instanceof ra)throw n;return n instanceof aa?r(n.payload,f,e,n.meta):r(n,f,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return y=b.sent(),m=y instanceof ra?o(null,f,e,y.payload,y.meta):o(y,f,e),[3,5];case 5:return t&&!t.dispatchConditionRejection&&o.match(m)&&m.meta.condition||s(m),[2,m]}var S}))}))}();return Object.assign(h,{abort:p,requestId:f,arg:e,unwrap:function(){return h.then(ia)}})}}),{pending:a,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function ia(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var sa="listenerMiddleware";Jr(sa+"/add"),Jr(sa+"/removeAll"),Jr(sa+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof t.g?t.g:globalThis);var ca,ua=function(e){return function(n){setTimeout(n,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ua(10);Qt();var la=t(248),fa=t(327),da=t(164);var pa=function(e){e()},ha=function(){return pa},ma=(0,o.createContext)(null);function ga(){return(0,o.useContext)(ma)}var va=function(){throw new Error("uSES not initialized!")},ya=va,ba=function(e,n){return e===n};function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,n=e===ma?ga:function(){return(0,o.useContext)(e)};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba;var r=n(),a=r.store,i=r.subscription,s=r.getServerState,c=ya(i.addNestedSub,a.getState,s||a.getState,e,t);return(0,o.useDebugValue)(c),c}}var wa=Sa();t(900);var _a={notify:function(){},get:function(){return[]}};function ka(e,n){var t,r=_a;function a(){i.onStateChange&&i.onStateChange()}function o(){t||(t=n?n.addNestedSub(a):e.subscribe(a),r=function(){var e=ha(),n=null,t=null;return{clear:function(){n=null,t=null},notify:function(){e((function(){for(var e=n;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=n;t;)e.push(t),t=t.next;return e},subscribe:function(e){var r=!0,a=t={callback:e,next:null,prev:t};return a.prev?a.prev.next=a:n=a,function(){r&&null!==n&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}())}var i={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(t)},trySubscribe:o,tryUnsubscribe:function(){t&&(t(),t=void 0,r.clear(),r=_a)},getListeners:function(){return r}};return i}var xa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?o.useLayoutEffect:o.useEffect;var Ia=function(e){var n=e.store,t=e.context,r=e.children,a=e.serverState,i=(0,o.useMemo)((function(){var e=ka(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,o.useMemo)((function(){return n.getState()}),[n]);xa((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[i,s]);var c=t||ma;return o.createElement(c.Provider,{value:i},r)};function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,n=e===ma?ga:function(){return(0,o.useContext)(e)};return function(){return n().store}}var Oa=Ea();function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,n=e===ma?Oa:Ea(e);return function(){return n().dispatch}}var Ca,Aa=Ta();!function(e){ya=e}(fa.useSyncExternalStoreWithSelector),function(e){e}(la.useSyncExternalStore),Ca=da.unstable_batchedUpdates,pa=Ca;var Fa={url:null,filepath:null,arrayBuffer:null,focusOn:"local"},Ma=ea({name:"buildInput",initialState:Fa,reducers:{setUrl:function(e,n){e.url=n.payload,e.focusOn="url"},fetchUrlError:function(e,n){},fetchUrlSuccess:function(e,n){e.filepath=null,e.url=n.payload.url,e.arrayBuffer=n.payload.arrayBuffer},setLocalFile:function(e,n){e.url=null,e.filepath=n.payload.filepath,e.arrayBuffer=n.payload.arrayBuffer,e.focusOn="local"},setFocusOn:function(e,n){e.focusOn=n.payload},clear:function(){return Fa}}}),La=ea({name:"buildOutput",initialState:{format:null,codeTarget:"JavaScript"},reducers:{setFormat:function(e,n){e.format=n.payload},setCodeTarget:function(e,n){e.codeTarget=n.payload}},extraReducers:function(e){e.addCase(Ma.actions.setFocusOn,(function(e){e.format=null}))}});function Pa(e){return function(e){if(Array.isArray(e))return at(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,n,t,r,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,a)}function Ra(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){Na(o,r,a,i,s,"next",e)}function s(e){Na(o,r,a,i,s,"throw",e)}i(void 0)}))}}var Da=null,ja=function(){var e=Ra(mt().mark((function e(n,t){var r,a,o,i,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Da){e.next=2;break}throw new Error("assemblyscript compiler was not set properly. Please use WebPd's setAsc function to initialize it.");case 2:return r={optimizeLevel:3,debug:!0,runtime:"incremental",exportRuntime:!0,sourceMap:!0},32===t&&(r.use=["Math=NativeMathf"]),e.next=6,Da.compileString(n,r);case 6:if(a=e.sent,o=a.error,i=a.binary,s=a.stderr,!o){e.next=12;break}throw new Error(s.toString());case 12:return e.abrupt("return",i.buffer);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function za(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vr(r.key),r)}}function Ba(e,n,t){return n&&za(e.prototype,n),t&&za(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ua(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Va(e,n){return Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Va(e,n)}function Wa(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Va(e,n)}function Ga(e){return Ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ga(e)}function Ka(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $a(e,n){if(n&&("object"===ht(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qa(e){var n=Ka();return function(){var t,r=Ga(e);if(n){var a=Ga(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return $a(this,t)}}function Ha(e,n,t){return Ha=Ka()?Reflect.construct.bind():function(e,n,t){var r=[null];r.push.apply(r,n);var a=new(Function.bind.apply(e,r));return t&&Va(a,t.prototype),a},Ha.apply(null,arguments)}function Xa(e){var n="function"===typeof Map?new Map:void 0;return Xa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return Ha(e,arguments,Ga(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Va(t,e)},Xa(e)}var Ya,Qa,Ja,Za,eo,no,to,ro,ao,oo,io={Var:function(e){return"".concat(e)},Func:function(e){return"(".concat(e.join(", "),")")}},so={Var:function(e,n){return"".concat(e,": ").concat(n)},Func:function(e,n){return"(".concat(e.join(", "),"): ").concat(n)}},co=function(e,n){var t=e[n];if(t)return t;throw new Error('Node "'.concat(n,'" not found in graph'))},uo=function(e,n){var t=e.inlets[n];if(t)return t;throw new Error('Inlet "'.concat(n,'" not found in node ').concat(e.id))},lo=function(e,n){var t=e.outlets[n];if(t)return t;throw new Error('Outlet "'.concat(n,'" not found in node ').concat(e.id))},fo=function(e,n){return e.sinks[n]||[]},po=function(e,n){return e.sources[n]||[]},ho=function(e,n){var t=[];return n.forEach((function(n){return mo(t,[],e,n)})),t},mo=function e(n,t,r,a){var o=[].concat(Pa(t),[a.id]);Object.entries(a.sources).filter((function(e){var n=it(e,1)[0];return"signal"===uo(a,n).type})).forEach((function(a){var i=it(a,2);i[0];i[1].forEach((function(a){var i=co(r,a.nodeId);-1===t.indexOf(i.id)&&e(n,o,r,i)}))})),-1===n.indexOf(a.id)&&n.push(a.id)},go=function(e,n){var t=[];return n.forEach((function(n){vo(t,e,n)})),t},vo=function e(n,t,r){-1===n.indexOf(r.id)&&(n.push(r.id),Object.entries(r.sinks).filter((function(e){var n=it(e,1)[0];return"message"===lo(r,n).type})).forEach((function(r){var a=it(r,2);a[0];a[1].forEach((function(r){e(n,t,co(t,r.nodeId))}))})))},yo=function(e,n){return Object.entries(e).reduce((function(e,t){var r=it(t,2),a=r[0],o=r[1];return[].concat(Pa(e),Pa(o.map((function(e){return[e,{nodeId:n,portletId:a}]}))))}),[])},bo=function(e,n){return Object.entries(e).reduce((function(e,t){var r=it(t,2),a=r[0],o=r[1];return[].concat(Pa(e),Pa(o.map((function(e){return[{nodeId:n,portletId:a},e]}))))}),[])},So=function(e,n){Object.entries(e).forEach((function(t){var r=it(t,2),a=r[0],o=r[1];n.includes(a)?e[a]=Sr(Sr({},o),{},{sources:_o(o.sources,n),sinks:wo(o.sinks,n)}):delete e[a]}))},wo=function(e,n){var t={};return Object.entries(e).forEach((function(e){var r=it(e,2),a=r[0],o=r[1].filter((function(e){var t=e.nodeId;return n.includes(t)}));o.length&&(t[a]=o)})),t},_o=function(e,n){var t={};return Object.entries(e).forEach((function(e){var r=it(e,2),a=r[0],o=r[1].filter((function(e){var t=e.nodeId;return n.includes(t)}));o.length&&(t[a]=o)})),t},ko=function(e,n){var t=e[n];if(!t)throw new Error("node [".concat(n,"] is not implemented"));return Sr({stateVariables:{},declare:function(){return""},loop:function(){return""},messages:function(){return{}},sharedCode:[]},t)},xo=function(e){var n=e.audioSettings,t=e.inletCallerSpecs,r=e.outletListenerSpecs,a=e.codeVariableNames;return{audioSettings:Sr(Sr({},n),{},{sampleRate:0,blockSize:0}),compilation:{inletCallerSpecs:t,outletListenerSpecs:r,codeVariableNames:{inletCallers:a.inletCallers,outletListeners:a.outletListeners}}}},Io=function(e,n){var t=32===e?"f32":"f64",r=32===e?"Float32Array":"Float64Array",a=32===e?"getFloat32":"getFloat64",o=32===e?"setFloat32":"setFloat64";return n.replaceAll("${Int}","i32").replaceAll("${Float}",t).replaceAll("${FloatArray}",r).replaceAll("${getFloat}",a).replaceAll("${setFloat}",o).replaceAll("${FS_OPERATION_SUCCESS}",(0).toString()).replaceAll("${FS_OPERATION_FAILURE}",1..toString())},Eo=function(e){return 64===e?Float64Array:Float32Array},Oo=function(e){for(var n="",t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];for(var o=0;o<e.length;o++)n+=e[o],(r[o]||0===r[o])&&(n+=To(r[o]));return n},To=function e(n){return Array.isArray(n)?n.map(e).filter((function(e){return e.length})).join("\n"):n.toString()},Co=function(e){for(var n=[],t=0;t<e;t++)n.push(t);return n},Ao=function(e,n){var t={};return Object.entries(e).forEach((function(e,r){var a=it(e,2),o=a[0],i=a[1];t[o]=n(i,o,r)})),t},Fo=function(e,n){var t={};return e.forEach((function(e,r){var a=it(n(e,r),2),o=a[0],i=a[1];t[o]=i})),t},Mo=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n.find((function(e){return it(e,1)[0]}));if(!r)throw new Error("no route found");return r[1]},Lo=function(e,n){return e?"function"===typeof n?n():n:""},Po=function(e){var n=e.graph,t=e.graphTraversal,r=e.macros,a=e.codeVariableNames,o=e.nodeImplementations,i=e.outletListenerSpecs,c=e.precompiledPortlets,u=c.precompiledInlets,l=c.precompiledOutlets,f=e.debug,d=t.map((function(e){return co(n,e)})),p=r.Var,h=r.Func,m=a.globs,g=new Set,v=function(e,n){return(u[e]||[]).includes(n)},y=function(e,n){return(l[e]||[]).includes(n)};return Oo(Ya||(Ya=s(["\n        let "," = 0\n        let "," = 0\n        let "," = 0\n        let "," = 0\n        function "," "," {}\n\n\n        ","\n\n        ","\n\n        ","\n    "])),p(m.iterFrame,"Int"),p(m.frame,"Int"),p(m.blockSize,"Int"),p(m.sampleRate,"Float"),m.nullMessageReceiver,h([p("m","Message")],"void"),d.map((function(e){return ko(o,e.type).sharedCode.map((function(e){return e({macros:r})})).filter((function(e){return!g.has(e)&&(g.add(e),!0)}))})),d.map((function(n){var t=a.nodes[n.id],i=t.ins,s=t.outs,c=t.rcvs,u=t.snds,l=t.state,d=ko(o,n.type),g=d.messages({macros:r,globs:m,state:l,snds:u,node:n,compilation:e});return[Object.values(n.inlets).filter((function(e){return"signal"===e.type})).filter((function(e){return!v(n.id,e.id)})).map((function(e){return"let ".concat(p(i[e.id],"Float")," = 0")})),Object.values(n.outlets).filter((function(e){return"signal"===e.type})).filter((function(e){return!y(n.id,e.id)})).map((function(e){return"let ".concat(p(s[e.id],"Float")," = 0")})),Object.values(n.inlets).filter((function(e){return"message"===e.type})).filter((function(e){return!v(n.id,e.id)})).map((function(e){if("string"!==typeof g[e.id])throw new Error('Message receiver for inlet "'.concat(e.id,'" of node type "').concat(n.type,'" is not implemented'));return"\n                            function ".concat(c[e.id]," ").concat(h([p(m.m,"Message")],"void")," {\n                                ").concat(g[e.id],"\n                                throw new Error('[").concat(n.type,'], id "').concat(n.id,'", inlet "').concat(e.id,"\", unsupported message : ' + msg_display(").concat(m.m,")").concat(f?" + '\\nDEBUG : remember, you must return from message receiver'":"",")\n                            }\n                        ")})),d.declare({macros:r,globs:m,state:l,snds:u,node:n,compilation:e})]})),d.map((function(e){var n=a.nodes[e.id].snds,t=i[e.id]||[];return Object.values(e.outlets).filter((function(e){return"message"===e.type})).filter((function(n){return!y(e.id,n.id)})).map((function(r){var o=t.includes(r.id),i=fo(e,r.id);return Oo(Qa||(Qa=s(["\n                            function "," "," {\n                                ","\n                            }\n                        "])),n[r.id],h([p("m","Message")],"void"),[o?"".concat(a.outletListeners[e.id][r.id],"(").concat(m.m,")"):"",i.map((function(e){var n=e.nodeId,t=e.portletId;return"".concat(a.nodes[n].rcvs[t],"(").concat(m.m,")")}))])}))})))},No=function(e){var n=e.graph,t=e.graphTraversal,r=e.codeVariableNames,a=e.macros,o=e.nodeImplementations,i=r.globs,c=t.map((function(e){return co(n,e)}));return Oo(Ja||(Ja=s(["\n        for ("," = 0; "," < ","; ","++) {\n            _commons_emitFrame(",")\n            ","\n            ","++\n        }\n    "])),i.iterFrame,i.iterFrame,i.blockSize,i.iterFrame,i.frame,c.map((function(n){var t=r.nodes[n.id],s=t.outs,c=t.ins,u=t.snds,l=t.state;return[ko(o,n.type).loop({macros:a,globs:i,node:n,state:l,ins:c,outs:s,snds:u,compilation:e})]})),i.frame)},Ro="\nconst i32 = (v) => v\nconst f32 = i32\nconst f64 = i32\nconst toInt = (v) => v\nconst toFloat = (v) => v\nconst createFloatArray = (length) => \n    new ${FloatArray}(length)\nconst setFloatDataView = (d, p, v) => d.${setFloat}(p, v)\nconst getFloatDataView = (d, p) => d.${getFloat}(p)\nconst FS_OPERATION_SUCCESS = ".concat(0,"\nconst FS_OPERATION_FAILURE = ").concat(1,"\n"),Do=function(e,n){var t=e.outletListenerSpecs,r=e.codeVariableNames;return Oo(Za||(Za=s(["",""])),Object.entries(t).map((function(e){var t=it(e,2),a=t[0];return t[1].map((function(e){var t=r.outletListeners[a][e];return n(t,a,e)}))})))},jo=function(e){var n=e.inletCallerSpecs,t=e.codeVariableNames,r=e.macros,a=r.Var,o=r.Func;return Oo(eo||(eo=s(["",""])),Object.entries(n).map((function(e){var n=it(e,2),r=n[0];return n[1].map((function(e){return"function ".concat(t.inletCallers[r][e]," ").concat(o([a("m","Message")],"void")," {").concat(t.nodes[r].rcvs[e],"(m)}")}))})))},zo=function(e){return Oo(no||(no=s(["\n    ","\n"])),Object.entries(e.arrays).map((function(n){var t=it(n,2),r=t[0],a=t[1];return'\n        commons_setArray("'.concat(r,'", new ').concat(Eo(e.audioSettings.bitDepth).name,"(").concat(a.length,'))\n        commons_getArray("').concat(r,'").set(').concat(JSON.stringify(Array.from(a)),")\n    ")})))},Bo=function(e){var n,t=e.codeVariableNames,r=e.outletListenerSpecs,a=e.inletCallerSpecs,o=e.audioSettings,i=e.codeVariableNames.globs,c=xo(e),u=Eo(o.bitDepth);return Oo(to||(to=s(["\n        ","\n\n        ","\n\n        ","\n\n        ","\n\n        ","\n\n        const exports = {\n            metadata: ",",\n            configure: (sampleRate, blockSize) => {\n                exports.metadata.audioSettings.sampleRate = sampleRate\n                exports.metadata.audioSettings.blockSize = blockSize\n                "," = sampleRate\n                "," = blockSize\n                _commons_emitEngineConfigure()\n            },\n            loop: (",", ",") => {\n                ","\n            },\n            commons: {\n                getArray: commons_getArray,\n                setArray: (arrayName, array) => commons_setArray(arrayName, new ","(array)),\n            },\n            outletListeners: {\n                ","\n            },\n            inletCallers: {\n                ","\n            },\n            fs: {\n                onReadSoundFile: () => undefined,\n                onWriteSoundFile: () => undefined,\n                onOpenSoundReadStream: () => undefined,\n                onOpenSoundWriteStream: () => undefined,\n                onSoundStreamData: () => undefined,\n                onCloseSoundStream: () => undefined,\n                sendReadSoundFileResponse: x_fs_onReadSoundFileResponse,\n                sendWriteSoundFileResponse: x_fs_onWriteSoundFileResponse,\n                sendSoundStreamData: x_fs_onSoundStreamData,\n                closeSoundStream: x_fs_onCloseSoundStream,\n            },\n        }\n\n        // FS IMPORTS\n        const i_fs_readSoundFile = (...args) => exports.fs.onReadSoundFile(...args)\n        const i_fs_writeSoundFile = (...args) => exports.fs.onWriteSoundFile(...args)\n        const i_fs_openSoundReadStream = (...args) => exports.fs.onOpenSoundReadStream(...args)\n        const i_fs_openSoundWriteStream = (...args) => exports.fs.onOpenSoundWriteStream(...args)\n        const i_fs_sendSoundStreamData = (...args) => exports.fs.onSoundStreamData(...args)\n        const i_fs_closeSoundStream = (...args) => exports.fs.onCloseSoundStream(...args)\n    "])),(n=o.bitDepth,Io(n,Ro)+"/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n// =========================== BUF API\n/**\n * Ring buffer\n */\nclass buf_SoundBuffer {\n    constructor(length) {\n        this.length = length;\n        this.data = createFloatArray(length);\n        this.writeCursor = 0;\n        this.pullAvailableLength = 0;\n    }\n}\n/** Erases all the content from the buffer */\nfunction buf_create(length) {\n    return new buf_SoundBuffer(length);\n}\n/** Erases all the content from the buffer */\nfunction buf_clear(buffer) {\n    buffer.data.fill(0);\n}\n/**\n * Pushes a block to the buffer, throwing an error if the buffer is full.\n * If the block is written successfully, {@link buf_SoundBuffer#writeCursor}\n * is moved corresponding with the length of data written.\n *\n * @todo : Optimize by allowing to read/write directly from host\n */\nfunction buf_pushBlock(buffer, block) {\n    if (buffer.pullAvailableLength + block.length > buffer.length) {\n        throw new Error('buffer full');\n    }\n    let left = block.length;\n    while (left > 0) {\n        const lengthToWrite = toInt(Math.min(toFloat(buffer.length - buffer.writeCursor), toFloat(left)));\n        buffer.data.set(block.subarray(block.length - left, block.length - left + lengthToWrite), buffer.writeCursor);\n        left -= lengthToWrite;\n        buffer.writeCursor = (buffer.writeCursor + lengthToWrite) % buffer.length;\n        buffer.pullAvailableLength += lengthToWrite;\n    }\n    return buffer.pullAvailableLength;\n}\n/**\n * Pulls a single sample from the buffer.\n * This is a destructive operation, and the sample will be\n * unavailable for subsequent readers with the same operation.\n */\nfunction buf_pullSample(buffer) {\n    if (buffer.pullAvailableLength <= 0) {\n        return 0;\n    }\n    const readCursor = buffer.writeCursor - buffer.pullAvailableLength;\n    buffer.pullAvailableLength -= 1;\n    return buffer.data[readCursor >= 0 ? readCursor : buffer.length + readCursor];\n}\n/**\n * Writes a sample at `@link writeCursor` and increments `writeCursor` by one.\n */\nfunction buf_writeSample(buffer, value) {\n    buffer.data[buffer.writeCursor] = value;\n    buffer.writeCursor = (buffer.writeCursor + 1) % buffer.length;\n}\n/**\n * Reads the sample at position `writeCursor - offset`.\n * @param offset Must be between 0 (for reading the last written sample)\n *  and {@link buf_SoundBuffer#length} - 1. A value outside these bounds will not cause\n *  an error, but might cause unexpected results.\n */\nfunction buf_readSample(buffer, offset) {\n    // R = (buffer.writeCursor - 1 - offset) -> ideal read position\n    // W = R % buffer.length -> wrap it so that its within buffer length bounds (but could be negative)\n    // (W + buffer.length) % buffer.length -> if W negative, (W + buffer.length) shifts it back to positive.\n    return buffer.data[(buffer.length + ((buffer.writeCursor - 1 - offset) % buffer.length)) % buffer.length];\n}\n/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n/**\n * Skeduler id that will never be used.\n * Can be used as a \"no id\", or \"null\" value.\n */\nconst SKED_ID_NULL = -1;\nconst SKED_ID_COUNTER_INIT = 1;\nconst _SKED_WAIT_IN_PROGRESS = 0;\nconst _SKED_WAIT_OVER = 1;\nconst _SKED_MODE_WAIT = 0;\nconst _SKED_MODE_SUBSCRIBE = 1;\n// =========================== SKED API\nclass SkedRequest {\n}\nclass Skeduler {\n}\n/** Creates a new Skeduler. */\nfunction sked_create(isLoggingEvents) {\n    return {\n        eventLog: new Set(),\n        requests: new Map(),\n        callbacks: new Map(),\n        idCounter: SKED_ID_COUNTER_INIT,\n        isLoggingEvents,\n    };\n}\n/**\n * Asks the skeduler to wait for an event to occur and trigger a callback.\n * If the event has already occurred, the callback is triggered instantly\n * when calling the function.\n * Once triggered, the callback is forgotten.\n * @returns an id allowing to cancel the callback with {@link sked_cancel}\n */\nfunction sked_wait(skeduler, event, callback) {\n    if (skeduler.isLoggingEvents === false) {\n        throw new Error(\"Please activate skeduler's isLoggingEvents\");\n    }\n    if (skeduler.eventLog.has(event)) {\n        callback(event);\n        return SKED_ID_NULL;\n    }\n    else {\n        return _sked_createRequest(skeduler, event, callback, _SKED_MODE_WAIT);\n    }\n}\n/**\n * Asks the skeduler to wait for an event to occur and trigger a callback.\n * If the event has already occurred, the callback is NOT triggered.\n * Once triggered, the callback is forgotten.\n * @returns an id allowing to cancel the callback with {@link sked_cancel}\n */\nfunction sked_wait_future(skeduler, event, callback) {\n    return _sked_createRequest(skeduler, event, callback, _SKED_MODE_WAIT);\n}\n/**\n * Asks the skeduler to trigger a callback everytime an event occurs\n * @returns an id allowing to cancel the callback with {@link sked_cancel}\n */\nfunction sked_subscribe(skeduler, event, callback) {\n    return _sked_createRequest(skeduler, event, callback, _SKED_MODE_SUBSCRIBE);\n}\n/** Notifies the skeduler that an event has just occurred. */\nfunction sked_emit(skeduler, event) {\n    if (skeduler.isLoggingEvents === true) {\n        skeduler.eventLog.add(event);\n    }\n    if (skeduler.requests.has(event)) {\n        const requests = skeduler.requests.get(event);\n        const requestsStaying = [];\n        for (let i = 0; i < requests.length; i++) {\n            const request = requests[i];\n            if (skeduler.callbacks.has(request.id)) {\n                skeduler.callbacks.get(request.id)(event);\n                if (request.mode === _SKED_MODE_WAIT) {\n                    skeduler.callbacks.delete(request.id);\n                }\n                else {\n                    requestsStaying.push(request);\n                }\n            }\n        }\n        skeduler.requests.set(event, requestsStaying);\n    }\n}\n/** Cancels a callback */\nfunction sked_cancel(skeduler, id) {\n    skeduler.callbacks.delete(id);\n}\n// =========================== PRIVATE\nfunction _sked_createRequest(skeduler, event, callback, mode) {\n    const id = _sked_nextId(skeduler);\n    const request = { id, mode };\n    skeduler.callbacks.set(id, callback);\n    if (!skeduler.requests.has(event)) {\n        skeduler.requests.set(event, [request]);\n    }\n    else {\n        skeduler.requests.get(event).push(request);\n    }\n    return id;\n}\nfunction _sked_nextId(skeduler) {\n    return skeduler.idCounter++;\n}\n/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\nconst _commons_ARRAYS = new Map();\nconst _commons_ARRAYS_SKEDULER = sked_create(false);\nconst _commons_ENGINE_LOGGED_SKEDULER = sked_create(true);\nconst _commons_FRAME_SKEDULER = sked_create(false);\n// =========================== COMMONS API\n/**\n * @param callback Called when the engine is configured, or immediately if the engine\n * was already configured.\n */\nfunction commons_waitEngineConfigure(callback) {\n    sked_wait(_commons_ENGINE_LOGGED_SKEDULER, 'configure', callback);\n}\n/**\n * Schedules a callback to be called at the given frame.\n * If the frame already occurred, or is the current frame, the callback won't be executed.\n */\nfunction commons_waitFrame(frame, callback) {\n    return sked_wait_future(_commons_FRAME_SKEDULER, frame.toString(), callback);\n}\n/**\n * Cancels waiting for a frame to occur.\n */\nfunction commons_cancelWaitFrame(id) {\n    sked_cancel(_commons_FRAME_SKEDULER, id);\n}\n/**\n * @param callback Called immediately if the array exists, and subsequently, everytime\n * the array is set again.\n * @returns An id that can be used to cancel the subscription.\n */\nfunction commons_subscribeArrayChanges(arrayName, callback) {\n    const id = sked_subscribe(_commons_ARRAYS_SKEDULER, arrayName, callback);\n    if (_commons_ARRAYS.has(arrayName)) {\n        callback(arrayName);\n    }\n    return id;\n}\n/**\n * @param id The id received when subscribing.\n */\nfunction commons_cancelArrayChangesSubscription(id) {\n    sked_cancel(_commons_ARRAYS_SKEDULER, id);\n}\n/** Gets an named array, throwing an error if the array doesn't exist. */\nfunction commons_getArray(arrayName) {\n    if (!_commons_ARRAYS.has(arrayName)) {\n        throw new Error('Unknown array ' + arrayName);\n    }\n    return _commons_ARRAYS.get(arrayName);\n}\nfunction commons_hasArray(arrayName) {\n    return _commons_ARRAYS.has(arrayName);\n}\nfunction commons_setArray(arrayName, array) {\n    _commons_ARRAYS.set(arrayName, array);\n    sked_emit(_commons_ARRAYS_SKEDULER, arrayName);\n}\n// =========================== PRIVATE API\nfunction _commons_emitEngineConfigure() {\n    sked_emit(_commons_ENGINE_LOGGED_SKEDULER, 'configure');\n}\nfunction _commons_emitFrame(frame) {\n    sked_emit(_commons_FRAME_SKEDULER, frame.toString());\n}\n\nconst MSG_FLOAT_TOKEN = \"number\"\nconst MSG_STRING_TOKEN = \"string\"\nconst msg_create = () => []\nconst msg_getLength = (m) => m.length\nconst msg_getTokenType = (m, i) => typeof m[i]\nconst msg_isStringToken = (m, i) => msg_getTokenType(m, i) === 'string'\nconst msg_isFloatToken = (m, i) => msg_getTokenType(m, i) === 'number'\nconst msg_isMatching = (m, tokenTypes) => {\n    return (m.length === tokenTypes.length) \n        && m.every((v, i) => msg_getTokenType(m, i) === tokenTypes[i])\n}\nconst msg_writeFloatToken = ( m, i, v ) => m[i] = v\nconst msg_writeStringToken = msg_writeFloatToken\nconst msg_readFloatToken = ( m, i ) => m[i]\nconst msg_readStringToken = msg_readFloatToken\nconst msg_floats = (v) => v\nconst msg_strings = (v) => v\nconst msg_display = (m) => '[' + m\n    .map(t => typeof t === 'string' ? '\"' + t + '\"' : t.toString())\n    .join(', ') + ']'\n/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\nconst _FS_OPERATIONS_IDS = new Set();\nconst _FS_OPERATIONS_CALLBACKS = new Map();\nconst _FS_OPERATIONS_SOUND_CALLBACKS = new Map();\nconst _FS_SOUND_STREAM_BUFFERS = new Map();\n// We start at 1, because 0 is what ASC uses when host forgets to pass an arg to \n// a function. Therefore we can get false negatives when a test happens to expect a 0.\nlet _FS_OPERATION_COUNTER = 1;\nconst _FS_SOUND_BUFFER_LENGTH = 20 * 44100;\n// =========================== EXPORTED API\nfunction x_fs_onReadSoundFileResponse(id, status, sound) {\n    _fs_assertOperationExists(id, 'x_fs_onReadSoundFileResponse');\n    _FS_OPERATIONS_IDS.delete(id);\n    // Finish cleaning before calling the callback in case it would throw an error.\n    const callback = _FS_OPERATIONS_SOUND_CALLBACKS.get(id);\n    callback(id, status, sound);\n    _FS_OPERATIONS_SOUND_CALLBACKS.delete(id);\n}\nfunction x_fs_onWriteSoundFileResponse(id, status) {\n    _fs_assertOperationExists(id, 'x_fs_onWriteSoundFileResponse');\n    _FS_OPERATIONS_IDS.delete(id);\n    // Finish cleaning before calling the callback in case it would throw an error.\n    const callback = _FS_OPERATIONS_CALLBACKS.get(id);\n    callback(id, status);\n    _FS_OPERATIONS_CALLBACKS.delete(id);\n}\nfunction x_fs_onSoundStreamData(id, block) {\n    _fs_assertOperationExists(id, 'x_fs_onSoundStreamData');\n    const buffers = _FS_SOUND_STREAM_BUFFERS.get(id);\n    for (let i = 0; i < buffers.length; i++) {\n        buf_pushBlock(buffers[i], block[i]);\n    }\n    return buffers[0].pullAvailableLength;\n}\nfunction x_fs_onCloseSoundStream(id, status) {\n    fs_closeSoundStream(id, status);\n}\n// =========================== FS API\nclass fs_SoundInfo {\n}\nfunction fs_readSoundFile(url, soundInfo, callback) {\n    const id = _fs_createOperationId();\n    _FS_OPERATIONS_SOUND_CALLBACKS.set(id, callback);\n    i_fs_readSoundFile(id, url, fs_soundInfoToMessage(soundInfo));\n    return id;\n}\nfunction fs_writeSoundFile(sound, url, soundInfo, callback) {\n    const id = _fs_createOperationId();\n    _FS_OPERATIONS_CALLBACKS.set(id, callback);\n    i_fs_writeSoundFile(id, sound, url, fs_soundInfoToMessage(soundInfo));\n    return id;\n}\nfunction fs_openSoundReadStream(url, soundInfo, callback) {\n    const id = _fs_createOperationId();\n    const buffers = [];\n    for (let channel = 0; channel < soundInfo.channelCount; channel++) {\n        buffers.push(new buf_SoundBuffer(_FS_SOUND_BUFFER_LENGTH));\n    }\n    _FS_SOUND_STREAM_BUFFERS.set(id, buffers);\n    _FS_OPERATIONS_CALLBACKS.set(id, callback);\n    i_fs_openSoundReadStream(id, url, fs_soundInfoToMessage(soundInfo));\n    return id;\n}\nfunction fs_openSoundWriteStream(url, soundInfo, callback) {\n    const id = _fs_createOperationId();\n    _FS_SOUND_STREAM_BUFFERS.set(id, []);\n    _FS_OPERATIONS_CALLBACKS.set(id, callback);\n    i_fs_openSoundWriteStream(id, url, fs_soundInfoToMessage(soundInfo));\n    return id;\n}\nfunction fs_sendSoundStreamData(id, block) {\n    _fs_assertOperationExists(id, 'fs_sendSoundStreamData');\n    i_fs_sendSoundStreamData(id, block);\n}\nfunction fs_closeSoundStream(id, status) {\n    if (!_FS_OPERATIONS_IDS.has(id)) {\n        return;\n    }\n    _FS_OPERATIONS_IDS.delete(id);\n    _FS_OPERATIONS_CALLBACKS.get(id)(id, status);\n    _FS_OPERATIONS_CALLBACKS.delete(id);\n    // Delete this last, to give the callback \n    // a chance to save a reference to the buffer\n    // If write stream, there won't be a buffer\n    if (_FS_SOUND_STREAM_BUFFERS.has(id)) {\n        _FS_SOUND_STREAM_BUFFERS.delete(id);\n    }\n    i_fs_closeSoundStream(id, status);\n}\nfunction fs_soundInfoToMessage(soundInfo) {\n    const info = msg_create([\n        MSG_FLOAT_TOKEN,\n        MSG_FLOAT_TOKEN,\n        MSG_FLOAT_TOKEN,\n        MSG_STRING_TOKEN,\n        soundInfo.encodingFormat.length,\n        MSG_STRING_TOKEN,\n        soundInfo.endianness.length,\n        MSG_STRING_TOKEN,\n        soundInfo.extraOptions.length\n    ]);\n    msg_writeFloatToken(info, 0, toFloat(soundInfo.channelCount));\n    msg_writeFloatToken(info, 1, toFloat(soundInfo.sampleRate));\n    msg_writeFloatToken(info, 2, toFloat(soundInfo.bitDepth));\n    msg_writeStringToken(info, 3, soundInfo.encodingFormat);\n    msg_writeStringToken(info, 4, soundInfo.endianness);\n    msg_writeStringToken(info, 5, soundInfo.extraOptions);\n    return info;\n}\n// =========================== PRIVATE\nfunction _fs_createOperationId() {\n    const id = _FS_OPERATION_COUNTER++;\n    _FS_OPERATIONS_IDS.add(id);\n    return id;\n}\nfunction _fs_assertOperationExists(id, operationName) {\n    if (!_FS_OPERATIONS_IDS.has(id)) {\n        throw new Error(operationName + ' operation unknown : ' + id.toString());\n    }\n}\n"),zo(e),Po(e),jo(e),Do(e,(function(e,n,t){return"\n            const ".concat(e," = (m) => {\n                exports.outletListeners['").concat(n,"']['").concat(t,"'].onMessage(m)\n            }\n        ")})),JSON.stringify(c),i.sampleRate,i.blockSize,i.input,i.output,No(e),u.name,Object.entries(r).map((function(e){var n=it(e,2),t=n[0],r=n[1];return Oo(ro||(ro=s(["",": {\n                        ","\n                    },"])),t,r.map((function(e){return'"'.concat(e,'": {onMessage: () => undefined},')})))})),Object.entries(a).map((function(e){var n=it(e,2),r=n[0],a=n[1];return Oo(ao||(ao=s(["",": {\n\n                        ","\n                    },"])),r,a.map((function(e){return'"'.concat(e,'": ').concat(t.inletCallers[r][e],",")})))})))},Uo=function(e){var n,t=e.audioSettings,r=e.inletCallerSpecs,a=e.codeVariableNames,o=t.channelCount,i=e.codeVariableNames.globs,c=xo(e);return Oo(oo||(oo=s(["\n        ","\n\n        ","\n\n        ","\n\n        ","\n        \n        ","\n\n        const metadata: string = '","'\n        let ",": FloatArray = createFloatArray(0)\n        let ",": FloatArray = createFloatArray(0)\n        \n        export function configure(sampleRate: Float, blockSize: Int): void {\n            "," = createFloatArray(blockSize * ",")\n            "," = createFloatArray(blockSize * ",")\n            "," = sampleRate\n            "," = blockSize\n            _commons_emitEngineConfigure()\n        }\n\n        export function getInput(): FloatArray { return "," }\n\n        export function getOutput(): FloatArray { return "," }\n\n        export function loop(): void {\n            ","\n        }\n\n        // FS IMPORTS\n        export declare function i_fs_readSoundFile (id: fs_OperationId, url: Url, info: Message): void\n        export declare function i_fs_writeSoundFile (id: fs_OperationId, sound: FloatArray[], url: Url, info: Message): void\n        export declare function i_fs_openSoundReadStream (id: fs_OperationId, url: Url, info: Message): void\n        export declare function i_fs_openSoundWriteStream (id: fs_OperationId, url: Url, info: Message): void\n        export declare function i_fs_sendSoundStreamData (id: fs_OperationId, block: FloatArray[]): void\n        export declare function i_fs_closeSoundStream (id: fs_OperationId, status: fs_OperationStatus): void\n\n        export {\n            metadata,\n\n            // FS EXPORTS\n            x_fs_onReadSoundFileResponse as fs_onReadSoundFileResponse,\n            x_fs_onWriteSoundFileResponse as fs_onWriteSoundFileResponse,\n            x_fs_onSoundStreamData as fs_onSoundStreamData,\n            x_fs_onCloseSoundStream as fs_onCloseSoundStream,\n\n            // MSG EXPORTS\n            x_msg_create as msg_create,\n            x_msg_getTokenTypes as msg_getTokenTypes,\n            x_msg_createTemplate as msg_createTemplate,\n            msg_writeStringToken,\n            msg_writeFloatToken,\n            msg_readStringToken,\n            msg_readFloatToken,\n            MSG_FLOAT_TOKEN,\n            MSG_STRING_TOKEN,\n\n            // COMMONS EXPORTS\n            commons_setArray,\n            commons_getArray, \n\n            // CORE EXPORTS\n            createFloatArray,\n            x_core_createListOfArrays as core_createListOfArrays,\n            x_core_pushToListOfArrays as core_pushToListOfArrays,\n            x_core_getListOfArraysLength as core_getListOfArraysLength,\n            x_core_getListOfArraysElem as core_getListOfArraysElem,\n\n            // INLET CALLERS\n            ","\n        }\n    "])),(n=t.bitDepth,Io(n,'/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, "LICENSE.txt," in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n\ntype FloatArray = ${FloatArray}\ntype Float = ${Float}\ntype Int = ${Int}\n\n// =========================== CORE API\nfunction toInt (v: ${Float}): ${Int} { return ${Int}(v) }\nfunction toFloat (v: ${Int}): ${Float} { return ${Float}(v) }\nfunction createFloatArray (length: Int): FloatArray {\n    return new ${FloatArray}(length)\n}\nfunction setFloatDataView (\n    dataView: DataView, \n    position: Int, \n    value: Float,\n): void { dataView.${setFloat}(position, value) }\nfunction getFloatDataView (\n    dataView: DataView, \n    position: Int, \n): Float { return dataView.${getFloat}(position) }\n\n// =========================== FS CONSTANTS\nconst FS_OPERATION_SUCCESS: Int = ${FS_OPERATION_SUCCESS}\nconst FS_OPERATION_FAILURE: Int = ${FS_OPERATION_FAILURE}\n\n// =========================== EXPORTED API\nfunction x_core_createListOfArrays(): FloatArray[] {\n    const arrays: FloatArray[] = []\n    return arrays\n}\n\nfunction x_core_pushToListOfArrays(arrays: FloatArray[], array: FloatArray): void {\n    arrays.push(array)\n}\n\nfunction x_core_getListOfArraysLength(arrays: FloatArray[]): Int {\n    return arrays.length\n}\n\nfunction x_core_getListOfArraysElem(arrays: FloatArray[], index: Int): FloatArray {\n    return arrays[index]\n}')+"/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n\n// =========================== BUF API\n/**\n * Ring buffer \n */\nclass buf_SoundBuffer {\n    public data: FloatArray\n    public length: Int\n    public writeCursor: Int\n    public pullAvailableLength: Int\n\n    constructor(length: Int) {\n        this.length = length\n        this.data = createFloatArray(length)\n        this.writeCursor = 0\n        this.pullAvailableLength = 0\n    }\n}\n\n/** Erases all the content from the buffer */\nfunction buf_create (length: Int): buf_SoundBuffer {\n    return new buf_SoundBuffer(length)\n}\n\n/** Erases all the content from the buffer */\nfunction buf_clear (buffer: buf_SoundBuffer): void {\n    buffer.data.fill(0)\n}\n\n/**\n * Pushes a block to the buffer, throwing an error if the buffer is full. \n * If the block is written successfully, {@link buf_SoundBuffer#writeCursor} \n * is moved corresponding with the length of data written.\n * \n * @todo : Optimize by allowing to read/write directly from host\n */\nfunction buf_pushBlock (\n    buffer: buf_SoundBuffer,\n    block: FloatArray,\n): Int {\n    if (buffer.pullAvailableLength + block.length > buffer.length) {\n        throw new Error('buffer full')\n    }\n\n    let left: Int = block.length\n    while (left > 0) {\n        const lengthToWrite = toInt(Math.min(\n            toFloat(buffer.length - buffer.writeCursor), \n            toFloat(left)\n        ))\n        buffer.data.set(\n            block.subarray(\n                block.length - left, \n                block.length - left + lengthToWrite\n            ), \n            buffer.writeCursor\n        )\n        left -= lengthToWrite\n        buffer.writeCursor = (buffer.writeCursor + lengthToWrite) % buffer.length\n        buffer.pullAvailableLength += lengthToWrite\n    }\n    return buffer.pullAvailableLength\n}\n\n/**\n * Pulls a single sample from the buffer. \n * This is a destructive operation, and the sample will be \n * unavailable for subsequent readers with the same operation.\n */\nfunction buf_pullSample (buffer: buf_SoundBuffer): Float {\n    if (buffer.pullAvailableLength <= 0) {\n        return 0\n    }\n    const readCursor: Int = buffer.writeCursor - buffer.pullAvailableLength\n    buffer.pullAvailableLength -= 1\n    return buffer.data[readCursor >= 0 ? readCursor : buffer.length + readCursor]\n}\n\n/**\n * Writes a sample at `@link writeCursor` and increments `writeCursor` by one.\n */\nfunction buf_writeSample (buffer: buf_SoundBuffer, value: Float): void {\n    buffer.data[buffer.writeCursor] = value\n    buffer.writeCursor = (buffer.writeCursor + 1) % buffer.length\n}\n\n/**\n * Reads the sample at position `writeCursor - offset`.\n * @param offset Must be between 0 (for reading the last written sample)\n *  and {@link buf_SoundBuffer#length} - 1. A value outside these bounds will not cause \n *  an error, but might cause unexpected results.\n */\nfunction buf_readSample (buffer: buf_SoundBuffer, offset: Int): Float {\n    // R = (buffer.writeCursor - 1 - offset) -> ideal read position\n    // W = R % buffer.length -> wrap it so that its within buffer length bounds (but could be negative)\n    // (W + buffer.length) % buffer.length -> if W negative, (W + buffer.length) shifts it back to positive.\n    return buffer.data[(buffer.length + ((buffer.writeCursor - 1 - offset) % buffer.length)) % buffer.length]\n}/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n\ntype SkedCallback = (event: SkedEvent) => void\ntype SkedId = Int\ntype SkedMode = Int\ntype SkedEvent = string\n\n/** \n * Skeduler id that will never be used. \n * Can be used as a \"no id\", or \"null\" value. \n */\nconst SKED_ID_NULL: SkedId = -1\nconst SKED_ID_COUNTER_INIT: SkedId = 1\n\nconst _SKED_WAIT_IN_PROGRESS: Int = 0\nconst _SKED_WAIT_OVER: Int = 1\n\nconst _SKED_MODE_WAIT = 0\nconst _SKED_MODE_SUBSCRIBE = 1\n\n// =========================== SKED API\nclass SkedRequest {\n    id: SkedId\n    mode: SkedMode\n}\n\nclass Skeduler {\n    requests: Map<SkedEvent, Array<SkedRequest>>\n    callbacks: Map<SkedId, SkedCallback>\n    isLoggingEvents: boolean\n    eventLog: Set<SkedEvent>\n    idCounter: SkedId\n}\n\n/** Creates a new Skeduler. */\nfunction sked_create (isLoggingEvents: boolean): Skeduler {\n    return {\n        eventLog: new Set(),\n        requests: new Map(),\n        callbacks: new Map(),\n        idCounter: SKED_ID_COUNTER_INIT,\n        isLoggingEvents,\n    }\n}\n\n/** \n * Asks the skeduler to wait for an event to occur and trigger a callback. \n * If the event has already occurred, the callback is triggered instantly \n * when calling the function.\n * Once triggered, the callback is forgotten.\n * @returns an id allowing to cancel the callback with {@link sked_cancel}\n */\nfunction sked_wait (\n    skeduler: Skeduler,\n    event: SkedEvent,\n    callback: SkedCallback,\n): SkedId {\n    if (skeduler.isLoggingEvents === false) {\n        throw new Error(\"Please activate skeduler's isLoggingEvents\")\n    }\n\n    if (skeduler.eventLog.has(event)) {\n        callback(event)\n        return SKED_ID_NULL\n    } else {\n        return _sked_createRequest(skeduler, event, callback, _SKED_MODE_WAIT)\n    }\n}\n\n/** \n * Asks the skeduler to wait for an event to occur and trigger a callback. \n * If the event has already occurred, the callback is NOT triggered.\n * Once triggered, the callback is forgotten.\n * @returns an id allowing to cancel the callback with {@link sked_cancel}\n */\nfunction sked_wait_future (\n    skeduler: Skeduler,\n    event: SkedEvent,\n    callback: SkedCallback,\n): SkedId {\n    return _sked_createRequest(skeduler, event, callback, _SKED_MODE_WAIT)\n}\n\n/** \n * Asks the skeduler to trigger a callback everytime an event occurs \n * @returns an id allowing to cancel the callback with {@link sked_cancel}\n */\nfunction sked_subscribe (\n    skeduler: Skeduler,\n    event: SkedEvent,\n    callback: SkedCallback,\n): SkedId {\n    return _sked_createRequest(skeduler, event, callback, _SKED_MODE_SUBSCRIBE)\n}\n\n/** Notifies the skeduler that an event has just occurred. */\nfunction sked_emit (\n    skeduler: Skeduler,\n    event: SkedEvent,\n): void {\n    if (skeduler.isLoggingEvents === true) {\n        skeduler.eventLog.add(event)\n    }\n    if (skeduler.requests.has(event)) {\n        const requests: Array<SkedRequest> = skeduler.requests.get(event)\n        const requestsStaying: Array<SkedRequest> = []\n        for (let i: Int = 0; i < requests.length; i++) {\n            const request: SkedRequest = requests[i]\n            if (skeduler.callbacks.has(request.id)) {\n                skeduler.callbacks.get(request.id)(event)\n                if (request.mode === _SKED_MODE_WAIT) {\n                    skeduler.callbacks.delete(request.id)\n                } else {\n                    requestsStaying.push(request)\n                }\n            }\n        }\n        skeduler.requests.set(event, requestsStaying)\n    }\n}\n\n/** Cancels a callback */\nfunction sked_cancel (\n    skeduler: Skeduler,\n    id: SkedId,\n): void {\n    skeduler.callbacks.delete(id)\n}\n\n// =========================== PRIVATE\nfunction _sked_createRequest (\n    skeduler: Skeduler,\n    event: SkedEvent,\n    callback: SkedCallback,\n    mode: SkedMode,\n): SkedId {\n    const id = _sked_nextId(skeduler)\n    const request: SkedRequest = {id, mode}\n    skeduler.callbacks.set(id, callback)\n    if (!skeduler.requests.has(event)) {\n        skeduler.requests.set(event, [request])    \n    } else {\n        skeduler.requests.get(event).push(request)\n    }\n    return id\n}\n\nfunction _sked_nextId (\n    skeduler: Skeduler,\n): SkedId {\n    return skeduler.idCounter++\n}/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n\nconst _commons_ARRAYS: Map<string, FloatArray> = new Map()\nconst _commons_ARRAYS_SKEDULER: Skeduler = sked_create(false)\nconst _commons_ENGINE_LOGGED_SKEDULER: Skeduler = sked_create(true)\nconst _commons_FRAME_SKEDULER: Skeduler = sked_create(false)\n\n// =========================== COMMONS API\n/** \n * @param callback Called when the engine is configured, or immediately if the engine\n * was already configured.\n */\nfunction commons_waitEngineConfigure(\n    callback: SkedCallback,\n): void {\n    sked_wait(_commons_ENGINE_LOGGED_SKEDULER, 'configure', callback)\n}\n\n/** \n * Schedules a callback to be called at the given frame.\n * If the frame already occurred, or is the current frame, the callback won't be executed.\n */\nfunction commons_waitFrame(\n    frame: Int,\n    callback: SkedCallback,\n): SkedId {\n    return sked_wait_future(_commons_FRAME_SKEDULER, frame.toString(), callback)\n}\n\n/** \n * Cancels waiting for a frame to occur.\n */\nfunction commons_cancelWaitFrame(\n    id: SkedId,\n): void {\n    sked_cancel(_commons_FRAME_SKEDULER, id)\n}\n\n/** \n * @param callback Called immediately if the array exists, and subsequently, everytime \n * the array is set again.\n * @returns An id that can be used to cancel the subscription.\n */\nfunction commons_subscribeArrayChanges(\n    arrayName: string,\n    callback: SkedCallback,\n): SkedId {\n    const id: SkedId = sked_subscribe(_commons_ARRAYS_SKEDULER, arrayName, callback)\n    if (_commons_ARRAYS.has(arrayName)) {\n        callback(arrayName)\n    }\n    return id\n}\n\n/** \n * @param id The id received when subscribing.\n */\nfunction commons_cancelArrayChangesSubscription(\n    id: SkedId,\n): void {\n    sked_cancel(_commons_ARRAYS_SKEDULER, id)\n}\n\n/** Gets an named array, throwing an error if the array doesn't exist. */\nfunction commons_getArray(\n    arrayName: string,\n): FloatArray {\n    if (!_commons_ARRAYS.has(arrayName)) {\n        throw new Error('Unknown array ' + arrayName)\n    }\n    return _commons_ARRAYS.get(arrayName)\n}\n\nfunction commons_hasArray(\n    arrayName: string,\n): boolean {\n    return _commons_ARRAYS.has(arrayName)\n}\n\nfunction commons_setArray(\n    arrayName: string,\n    array: FloatArray,\n): void {\n    _commons_ARRAYS.set(arrayName, array)\n    sked_emit(_commons_ARRAYS_SKEDULER, arrayName)\n}\n\n// =========================== PRIVATE API\nfunction _commons_emitEngineConfigure(): void {\n    sked_emit(_commons_ENGINE_LOGGED_SKEDULER, 'configure')\n}\n\nfunction _commons_emitFrame(frame: Int): void {\n    sked_emit(_commons_FRAME_SKEDULER, frame.toString())\n}/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n\ntype MessageFloatToken = Float\ntype MessageCharToken = Int\n\ntype MessageTemplate = Array<Int>\ntype MessageHeaderEntry = Int\ntype MessageHeader = Int32Array\n\nconst MSG_FLOAT_TOKEN: MessageHeaderEntry = 0\nconst MSG_STRING_TOKEN: MessageHeaderEntry = 1\n\n\n// =========================== EXPORTED API\nfunction x_msg_create(templateTypedArray: Int32Array): Message {\n    const template: MessageTemplate = new Array<Int>(templateTypedArray.length)\n    for (let i: Int = 0; i < templateTypedArray.length; i++) {\n        template[i] = templateTypedArray[i]\n    }\n    return msg_create(template)\n}\n\nfunction x_msg_getTokenTypes(message: Message): MessageHeader {\n    return message.tokenTypes\n}\n\nfunction x_msg_createTemplate(length: i32): Int32Array {\n    return new Int32Array(length)\n}\n\n\n// =========================== MSG API\nfunction msg_create(template: MessageTemplate): Message {\n    let i: Int = 0\n    let byteCount: Int = 0\n    let tokenTypes: Array<MessageHeaderEntry> = []\n    let tokenPositions: Array<MessageHeaderEntry> = []\n\n    i = 0\n    while (i < template.length) {\n        switch(template[i]) {\n            case MSG_FLOAT_TOKEN:\n                byteCount += sizeof<MessageFloatToken>()\n                tokenTypes.push(MSG_FLOAT_TOKEN)\n                tokenPositions.push(byteCount)\n                i += 1\n                break\n            case MSG_STRING_TOKEN:\n                byteCount += sizeof<MessageCharToken>() * template[i + 1]\n                tokenTypes.push(MSG_STRING_TOKEN)\n                tokenPositions.push(byteCount)\n                i += 2\n                break\n            default:\n                throw new Error(\"unknown token type : \" + template[i].toString())\n        }\n    }\n\n    const tokenCount = tokenTypes.length\n    const headerByteCount = _msg_computeHeaderLength(tokenCount) * sizeof<MessageHeaderEntry>()\n    byteCount += headerByteCount\n\n    const buffer = new ArrayBuffer(byteCount)\n    const dataView = new DataView(buffer)\n    let writePosition: Int = 0\n    \n    dataView.setInt32(writePosition, tokenCount)\n    writePosition += sizeof<MessageHeaderEntry>()\n\n    for (i = 0; i < tokenCount; i++) {\n        dataView.setInt32(writePosition, tokenTypes[i])\n        writePosition += sizeof<MessageHeaderEntry>()\n    }\n\n    dataView.setInt32(writePosition, headerByteCount)\n    writePosition += sizeof<MessageHeaderEntry>()\n    for (i = 0; i < tokenCount; i++) {\n        dataView.setInt32(writePosition, headerByteCount + tokenPositions[i])\n        writePosition += sizeof<MessageHeaderEntry>()\n    }\n\n    return new Message(buffer)\n}\n\nfunction msg_writeStringToken(\n    message: Message, \n    tokenIndex: Int,\n    value: string,\n): void {\n    const startPosition = message.tokenPositions[tokenIndex]\n    const endPosition = message.tokenPositions[tokenIndex + 1]\n    const expectedStringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\n    if (value.length !== expectedStringLength) {\n        throw new Error('Invalid string size, specified ' + expectedStringLength.toString() + ', received ' + value.length.toString())\n    }\n\n    for (let i = 0; i < value.length; i++) {\n        message.dataView.setInt32(\n            startPosition + i * sizeof<MessageCharToken>(), \n            value.codePointAt(i)\n        )\n    }\n}\n\nfunction msg_writeFloatToken(\n    message: Message, \n    tokenIndex: Int,\n    value: MessageFloatToken,\n): void {\n    setFloatDataView(message.dataView, message.tokenPositions[tokenIndex], value)\n}\n\nfunction msg_readStringToken(\n    message: Message, \n    tokenIndex: Int,\n): string {\n    const startPosition = message.tokenPositions[tokenIndex]\n    const endPosition = message.tokenPositions[tokenIndex + 1]\n    const stringLength: Int = (endPosition - startPosition) / sizeof<MessageCharToken>()\n    let value: string = ''\n    for (let i = 0; i < stringLength; i++) {\n        value += String.fromCodePoint(message.dataView.getInt32(startPosition + sizeof<MessageCharToken>() * i))\n    }\n    return value\n}\n\nfunction msg_readFloatToken(\n    message: Message, \n    tokenIndex: Int,\n): MessageFloatToken {\n    return getFloatDataView(message.dataView, message.tokenPositions[tokenIndex])\n}\n\nfunction msg_getLength(message: Message): Int {\n    return message.tokenTypes.length\n}\n\nfunction msg_getTokenType(message: Message, tokenIndex: Int): Int {\n    return message.tokenTypes[tokenIndex]\n}\n\nfunction msg_isStringToken(\n    message: Message, \n    tokenIndex: Int    \n): boolean {\n    return msg_getTokenType(message, tokenIndex) === MSG_STRING_TOKEN\n}\n\nfunction msg_isFloatToken(\n    message: Message, \n    tokenIndex: Int    \n): boolean {\n    return msg_getTokenType(message, tokenIndex) === MSG_FLOAT_TOKEN\n}\n\nfunction msg_isMatching(message: Message, tokenTypes: Array<MessageHeaderEntry>): boolean {\n    if (message.tokenTypes.length !== tokenTypes.length) {\n        return false\n    }\n    for (let i: Int = 0; i < tokenTypes.length; i++) {\n        if (message.tokenTypes[i] !== tokenTypes[i]) {\n            return false\n        }\n    }\n    return true\n}\n\nfunction msg_floats(values: Array<Float>): Message {\n    const message: Message = msg_create(values.map<MessageHeaderEntry>(v => MSG_FLOAT_TOKEN))\n    for (let i: Int = 0; i < values.length; i++) {\n        msg_writeFloatToken(message, i, values[i])\n    }\n    return message\n}\n\nfunction msg_strings(values: Array<string>): Message {\n    const template: MessageTemplate = []\n    for (let i: Int = 0; i < values.length; i++) {\n        template.push(MSG_STRING_TOKEN)\n        template.push(values[i].length)\n    }\n    const message: Message = msg_create(template)\n    for (let i: Int = 0; i < values.length; i++) {\n        msg_writeStringToken(message, i, values[i])\n    }\n    return message\n}\n\nfunction msg_display(message: Message): string {\n    let displayArray: Array<string> = []\n    for (let i: Int = 0; i < msg_getLength(message); i++) {\n        if (msg_isFloatToken(message, i)) {\n            displayArray.push(msg_readFloatToken(message, i).toString())\n        } else {\n            displayArray.push('\"' + msg_readStringToken(message, i) + '\"')\n        }\n    }\n    return '[' + displayArray.join(', ') + ']'\n}\n\n\n// =========================== PRIVATE\n// Message header : [\n//      <Token count>, \n//      <Token 1 type>,  ..., <Token N type>, \n//      <Token 1 start>, ..., <Token N start>, <Token N end>\n//      ... DATA ...\n// ]\nclass Message {\n    public dataView: DataView\n    public header: MessageHeader\n    public tokenCount: MessageHeaderEntry\n    public tokenTypes: MessageHeader\n    public tokenPositions: MessageHeader\n\n    constructor(messageBuffer: ArrayBuffer) {\n        const dataView = new DataView(messageBuffer)\n        const tokenCount = _msg_unpackTokenCount(dataView)\n        const header = _msg_unpackHeader(dataView, tokenCount)\n        this.dataView = dataView\n        this.tokenCount = tokenCount\n        this.header = header \n        this.tokenTypes = _msg_unpackTokenTypes(header)\n        this.tokenPositions = _msg_unpackTokenPositions(header)\n    }\n}\n\nfunction _msg_computeHeaderLength(tokenCount: Int): Int {\n    return 1 + tokenCount * 2 + 1\n}\n\nfunction _msg_unpackTokenCount(messageDataView: DataView): MessageHeaderEntry {\n    return messageDataView.getInt32(0)\n}\n\nfunction _msg_unpackHeader(messageDataView: DataView, tokenCount: MessageHeaderEntry): MessageHeader {\n    const headerLength = _msg_computeHeaderLength(tokenCount)\n    // TODO : why is this `wrap` not working ?\n    // return Int32Array.wrap(messageDataView.buffer, 0, headerLength)\n    const messageHeader = new Int32Array(headerLength)\n    for (let i = 0; i < headerLength; i++) {\n        messageHeader[i] = messageDataView.getInt32(sizeof<MessageHeaderEntry>() * i)\n    }\n    return messageHeader\n}\n\nfunction _msg_unpackTokenTypes(header: MessageHeader): MessageHeader {\n    return header.slice(1, 1 + header[0])\n}\n\nfunction _msg_unpackTokenPositions(header: MessageHeader): MessageHeader {\n    return header.slice(1 + header[0])\n}/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\n\ntype fs_OperationId = Int\ntype fs_OperationStatus = Int\ntype fs_OperationCallback = (id: fs_OperationId, status: fs_OperationStatus) => void\ntype fs_OperationSoundCallback = (id: fs_OperationId, status: fs_OperationStatus, sound: FloatArray[]) => void\n\ntype Url = string\n\nconst _FS_OPERATIONS_IDS = new Set<fs_OperationId>()\nconst _FS_OPERATIONS_CALLBACKS = new Map<fs_OperationId, fs_OperationCallback>()\nconst _FS_OPERATIONS_SOUND_CALLBACKS = new Map<fs_OperationId, fs_OperationSoundCallback>()\nconst _FS_SOUND_STREAM_BUFFERS = new Map<fs_OperationId, Array<buf_SoundBuffer>>()\n\n// We start at 1, because 0 is what ASC uses when host forgets to pass an arg to \n// a function. Therefore we can get false negatives when a test happens to expect a 0.\nlet _FS_OPERATION_COUNTER: Int = 1\n\nconst _FS_SOUND_BUFFER_LENGTH = 20 * 44100\n\n// =========================== EXPORTED API\nfunction x_fs_onReadSoundFileResponse (\n    id: fs_OperationId, \n    status: fs_OperationStatus,\n    sound: FloatArray[]\n): void {\n    _fs_assertOperationExists(id, 'x_fs_onReadSoundFileResponse')\n    _FS_OPERATIONS_IDS.delete(id)\n    // Finish cleaning before calling the callback in case it would throw an error.\n    const callback = _FS_OPERATIONS_SOUND_CALLBACKS.get(id)\n    callback(id, status, sound)\n    _FS_OPERATIONS_SOUND_CALLBACKS.delete(id)\n}\n\nfunction x_fs_onWriteSoundFileResponse (\n    id: fs_OperationId,\n    status: fs_OperationStatus,\n): void {\n    _fs_assertOperationExists(id, 'x_fs_onWriteSoundFileResponse')\n    _FS_OPERATIONS_IDS.delete(id)\n    // Finish cleaning before calling the callback in case it would throw an error.\n    const callback = _FS_OPERATIONS_CALLBACKS.get(id)\n    callback(id, status)\n    _FS_OPERATIONS_CALLBACKS.delete(id)\n}\n\nfunction x_fs_onSoundStreamData (\n    id: fs_OperationId, \n    block: FloatArray[]\n): Int {\n    _fs_assertOperationExists(id, 'x_fs_onSoundStreamData')\n    const buffers = _FS_SOUND_STREAM_BUFFERS.get(id)\n    for (let i: Int = 0; i < buffers.length; i++) {\n        buf_pushBlock(buffers[i], block[i])\n    }\n    return buffers[0].pullAvailableLength\n}\n\nfunction x_fs_onCloseSoundStream (\n    id: fs_OperationId, \n    status: fs_OperationStatus\n): void {\n    fs_closeSoundStream(id, status)\n}\n\n// =========================== FS API\nclass fs_SoundInfo {\n    channelCount: Int\n    sampleRate: Int\n    bitDepth: Int\n    encodingFormat: string\n    endianness: string\n    extraOptions: string\n}\n\nfunction fs_readSoundFile(\n    url: Url,\n    soundInfo: fs_SoundInfo,\n    callback: fs_OperationSoundCallback\n): fs_OperationId {\n    const id: fs_OperationId = _fs_createOperationId()\n    _FS_OPERATIONS_SOUND_CALLBACKS.set(id, callback)\n    i_fs_readSoundFile(id, url, fs_soundInfoToMessage(soundInfo))\n    return id\n}\n\nfunction fs_writeSoundFile(\n    sound: FloatArray[],\n    url: Url,\n    soundInfo: fs_SoundInfo,\n    callback: fs_OperationCallback,\n): fs_OperationId {\n    const id: fs_OperationId = _fs_createOperationId()\n    _FS_OPERATIONS_CALLBACKS.set(id, callback)\n    i_fs_writeSoundFile(id, sound, url, fs_soundInfoToMessage(soundInfo))\n    return id\n}\n\nfunction fs_openSoundReadStream(\n    url: Url, \n    soundInfo: fs_SoundInfo,\n    callback: fs_OperationCallback,\n): fs_OperationId {\n    const id: fs_OperationId = _fs_createOperationId()\n    const buffers: Array<buf_SoundBuffer> = []\n    for (let channel = 0; channel < soundInfo.channelCount; channel++) {\n        buffers.push(new buf_SoundBuffer(_FS_SOUND_BUFFER_LENGTH))\n    }\n    _FS_SOUND_STREAM_BUFFERS.set(id, buffers)\n    _FS_OPERATIONS_CALLBACKS.set(id, callback)\n    i_fs_openSoundReadStream(id, url, fs_soundInfoToMessage(soundInfo))\n    return id\n}\n\nfunction fs_openSoundWriteStream(\n    url: Url, \n    soundInfo: fs_SoundInfo,\n    callback: fs_OperationCallback,\n): fs_OperationId {\n    const id: fs_OperationId = _fs_createOperationId()\n    _FS_SOUND_STREAM_BUFFERS.set(id, [])\n    _FS_OPERATIONS_CALLBACKS.set(id, callback)\n    i_fs_openSoundWriteStream(id, url, fs_soundInfoToMessage(soundInfo))\n    return id\n}\n\nfunction fs_sendSoundStreamData(\n    id: fs_OperationId, \n    block: FloatArray[],\n): void {\n    _fs_assertOperationExists(id, 'fs_sendSoundStreamData')\n    i_fs_sendSoundStreamData(id, block)\n}\n\nfunction fs_closeSoundStream (\n    id: fs_OperationId, \n    status: fs_OperationStatus\n): void {\n    if (!_FS_OPERATIONS_IDS.has(id)) {\n        return\n    }\n    _FS_OPERATIONS_IDS.delete(id)\n    _FS_OPERATIONS_CALLBACKS.get(id)(id, status)\n    _FS_OPERATIONS_CALLBACKS.delete(id)\n    // Delete this last, to give the callback \n    // a chance to save a reference to the buffer\n    // If write stream, there won't be a buffer\n    if (_FS_SOUND_STREAM_BUFFERS.has(id)) {\n        _FS_SOUND_STREAM_BUFFERS.delete(id)\n    }\n    i_fs_closeSoundStream(id, status)\n}\n\nfunction fs_soundInfoToMessage(soundInfo: fs_SoundInfo): Message {\n    const info: Message = msg_create([\n        MSG_FLOAT_TOKEN,\n        MSG_FLOAT_TOKEN,\n        MSG_FLOAT_TOKEN,\n        MSG_STRING_TOKEN,\n        soundInfo.encodingFormat.length,\n        MSG_STRING_TOKEN,\n        soundInfo.endianness.length,\n        MSG_STRING_TOKEN,\n        soundInfo.extraOptions.length\n    ])\n    msg_writeFloatToken(info, 0, toFloat(soundInfo.channelCount))\n    msg_writeFloatToken(info, 1, toFloat(soundInfo.sampleRate))\n    msg_writeFloatToken(info, 2, toFloat(soundInfo.bitDepth))\n    msg_writeStringToken(info, 3, soundInfo.encodingFormat)\n    msg_writeStringToken(info, 4, soundInfo.endianness)\n    msg_writeStringToken(info, 5, soundInfo.extraOptions)\n    return info\n}\n\n// =========================== PRIVATE\nfunction _fs_createOperationId(): fs_OperationId {\n    const id: fs_OperationId = _FS_OPERATION_COUNTER++\n    _FS_OPERATIONS_IDS.add(id)\n    return id\n}\n\nfunction _fs_assertOperationExists(\n    id: fs_OperationId,\n    operationName: string,\n): void {\n    if (!_FS_OPERATIONS_IDS.has(id)) {\n        throw new Error(operationName + ' operation unknown : ' + id.toString())\n    }\n}"),zo(e),Po(e),jo(e),Do(e,(function(e){return"\n            export declare function ".concat(e,"(m: Message): void\n        ")})),JSON.stringify(c),i.input,i.output,i.input,o.in.toString(),i.output,o.out.toString(),i.sampleRate,i.blockSize,i.input,i.output,No(e),Object.entries(r).map((function(e){var n=it(e,2),t=n[0];return n[1].map((function(e){return a.inletCallers[t][e]+","}))})))},Vo=function(e,n){return new Proxy(n,{get:function(n,t){var r=String(t);if(!n.hasOwnProperty(r)){if("$"===r[0]&&n.hasOwnProperty(r.slice(1)))return n[r.slice(1)];if(["toJSON","Symbol(Symbol.toStringTag)","constructor","$$typeof","@@__IMMUTABLE_ITERABLE__@@","@@__IMMUTABLE_RECORD__@@"].includes(r))return;throw new Error('Namespace "'.concat(e,'" doesn\'t know key "').concat(String(r),'"'))}return n[r]}})},Wo=function(e){if(!Go.exec(e))throw new Error('Invalid variable name for code generation "'.concat(e,'"'));return e},Go=/^[a-zA-Z0-9_]+$/,Ko=function(e,n,t,r){return Vo(e,Fo(Object.values(n).filter((function(e){return e.type===t})),(function(e){return[e.id,r(e)]})))},$o=function(e,n,t){var r=qo(t),a=r.audioSettings,o=r.arrays,i=r.inletCallerSpecs,s=r.outletListenerSpecs,c=r.target,u=r.debug,l=Ho(c),f=function(e,n,t){return{nodes:Vo("n",Object.values(n).reduce((function(n,r){var a=ko(e,r.type),o="[".concat(r.type,"] ").concat(r.id),i=Wo(t?"".concat(r.type.replace(/[^a-zA-Z0-9_]/g,""),"_").concat(r.id):r.id);return n[r.id]={ins:Ko("".concat(o,".ins"),r.inlets,"signal",(function(e){return"".concat(i,"_INS_").concat(Wo(e.id))})),rcvs:Ko("".concat(o,".rcvs"),r.inlets,"message",(function(e){return"".concat(i,"_RCVS_").concat(Wo(e.id))})),outs:Ko("".concat(o,".outs"),r.outlets,"signal",(function(e){return"".concat(i,"_OUTS_").concat(Wo(e.id))})),snds:Ko("".concat(o,".snds"),r.outlets,"message",(function(e){return"".concat(i,"_SNDS_").concat(Wo(e.id))})),state:Vo("".concat(o,".state"),Ao(a.stateVariables,(function(e,n){return"".concat(i,"_STATE_").concat(Wo(n))})))},n}),{})),globs:Vo("g",{iterFrame:"F",frame:"FRAME",blockSize:"BLOCK_SIZE",sampleRate:"SAMPLE_RATE",output:"OUTPUT",input:"INPUT",nullMessageReceiver:"SND_TO_NULL",m:"m"}),outletListeners:Vo("outletListeners",{}),inletCallers:Vo("inletCallers",{})}}(n,e,u);!function(e,n){Object.entries(n).forEach((function(n){var t=it(n,2),r=t[0],a=t[1];e.inletCallers[r]={},a.forEach((function(n){e.inletCallers[r][n]="inletCaller_".concat(r,"_").concat(n)}))}))}(f,i),function(e,n){Object.entries(n).forEach((function(n){var t=it(n,2),r=t[0],a=t[1];e.outletListeners[r]={},a.forEach((function(n){e.outletListeners[r][n]="outletListener_".concat(r,"_").concat(n)}))}))}(f,s);var d=function(e,n){var t=Object.values(e).filter((function(e){return!!e.isPullingSignal})),r=Object.values(e).filter((function(e){return!!e.isPushingMessages})),a=go(e,r);return ho(e,t).forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),Object.keys(n).forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),a}(e,i);return So(e,d),{status:0,code:Xo({target:c,graph:e,graphTraversal:d,nodeImplementations:n,audioSettings:a,arrays:o,inletCallerSpecs:i,outletListenerSpecs:s,codeVariableNames:f,macros:l,debug:u,precompiledPortlets:{precompiledInlets:{},precompiledOutlets:{}}})}},qo=function(e){var n=e.arrays||{},t=e.inletCallerSpecs||{},r=e.outletListenerSpecs||{},a=e.debug||!1;if(![32,64].includes(e.audioSettings.bitDepth))throw new Yo('"bitDepth" can be only 32 or 64');return Sr(Sr({},e),{},{arrays:n,outletListenerSpecs:r,inletCallerSpecs:t,debug:a})},Ho=function(e){return{javascript:io,assemblyscript:so}[e]},Xo=function(e){if(function(e){var n=e.graph,t=e.graphTraversal,r=e.codeVariableNames,a=e.inletCallerSpecs,o=e.outletListenerSpecs,i=t.map((function(e){return co(n,e)})),s={},c={},u=function(e,n,t){e[n]=e[n]||[],e[n].includes(t)||e[n].push(t)};i.forEach((function(n){var t=r.nodes[n.id],i=t.outs,l=t.snds;Object.entries(n.outlets).forEach((function(t){var a=it(t,2),f=a[0],d=a[1],p=fo(n,f),h=o[n.id]||[];"signal"===d.type?p.forEach((function(e){r.nodes[e.nodeId].ins[e.portletId]=i[f],u(s,e.nodeId,e.portletId)})):"message"===d.type&&(1!==p.length||h.includes(d.id)?0===p.length&&h.includes(d.id)?(l[f]=r.outletListeners[n.id][f],u(c,n.id,f)):0!==p.length||h.includes(d.id)||(l[f]=e.codeVariableNames.globs.nullMessageReceiver,u(c,n.id,f)):(l[f]=r.nodes[p[0].nodeId].rcvs[p[0].portletId],u(c,n.id,f)))})),Object.entries(n.inlets).forEach((function(e){var t=it(e,2),r=t[0],o=t[1],i=a[n.id]||[];"message"!==o.type||0!==po(n,r).length||i.includes(o.id)||u(s,n.id,r)}))})),e.precompiledPortlets.precompiledInlets=s,e.precompiledPortlets.precompiledOutlets=c}(e),"javascript"===e.target)return Bo(e);if("assemblyscript"===e.target)return Uo(e);throw new Error("Invalid compilation.target ".concat(e.target))},Yo=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t)}(Xa(Error)),Qo=/\\(\$\d+)/g,Jo=/\\\\\\,/g,Zo=/\\\\\\;/g,ei=function(e){try{return ni(e)}catch(n){if(!(n instanceof oi))throw n}try{return ai(e)}catch(n){if(!(n instanceof oi))throw n}throw new oi("Not a valid arg ".concat(e))},ni=function(e){if(ii(e))return e;if(si(e)){var n=Number(e);if(isNaN(n))throw new oi("Not a valid number arg ".concat(e));return n}throw new oi("Not a valid number arg ".concat(e))},ti=function(e){if(void 0===e)throw new oi("Received undefined");var n=parseInt(e,10);if(isNaN(n))throw new oi("Invalid int received");return n},ri=function(e){var n=ni(e);if(0===n||1===n)return n;throw new oi("Should be 0 or 1")},ai=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!si(e))throw new oi("Not a valid string arg ".concat(e));if(null!==n&&e===n)return"";for(var t,r=e.replace(Jo,",").replace(Zo,";");t=Qo.exec(r);)r=r.replace(t[0],t[1]);return r},oi=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t)}(Xa(Error)),ii=function(e){return Number.isFinite(e)},si=function(e){return"string"===typeof e};function ci(e,n){if(n)for(var t=n;t.length;){"f"===t.shift()&&(e.layout.width=ni(t.shift()))}return e}function ui(){ui=function(e,n){return new t(e,void 0,n)};var e=RegExp.prototype,n=new WeakMap;function t(e,r,a){var o=new RegExp(e,r);return n.set(o,a||n.get(e)),Va(o,t.prototype)}function r(e,t){var r=n.get(t);return Object.keys(r).reduce((function(n,t){var a=r[t];if("number"==typeof a)n[t]=e[a];else{for(var o=0;void 0===e[a[o]]&&o+1<a.length;)o++;n[t]=e[a[o]]}return n}),Object.create(null))}return Wa(t,RegExp),t.prototype.exec=function(n){var t=e.exec.call(this,n);if(t){t.groups=r(t,this);var a=t.indices;a&&(a.groups=r(a,this))}return t},t.prototype[Symbol.replace]=function(t,a){if("string"==typeof a){var o=n.get(this);return e[Symbol.replace].call(this,t,a.replace(/\$<([^>]+)>/g,(function(e,n){var t=o[n];return"$"+(Array.isArray(t)?t.join("$"):t)})))}if("function"==typeof a){var i=this;return e[Symbol.replace].call(this,t,(function(){var e=arguments;return"object"!=ht(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,i)),a.apply(this,e)}))}return e[Symbol.replace].call(this,t,a)},ui.apply(this,arguments)}var li=ui(/(((?<!\\)\s*)((?<!\\\\)\\,)((?<!\\)\s*))|(((?<!\\)\s*)((?<!\\\\)\\;)((?<!\\)\s*))|((?<!\\)\s)+|\r\n?|\n/,{comma:1,semi:5}),fi=/,(?!\\)/,di=/(#((.|\r|\n)*?)[^\\\\])\r{0,1}\n{0,1};\r{0,1}(\n|$)/gi,pi=function(e){return e.split("").reverse().join("")},hi=function(e){var n=Array.from(e.matchAll(new RegExp(li,"g"))),t=[];n.forEach((function(r,a){var o=0===a?0:n[a-1].index+n[a-1][0].length,i=r.index,s=e.slice(o,i);s.length&&t.push(s),r[1]?t.push(","):r[5]&&t.push(";")}));var r=n.slice(-1)[0];return r&&t.push(e.slice(r.index+r[0].length)),t},mi={floatatom:"floatatom",symbolatom:"symbolatom",listbox:"listbox",bng:"bng",tgl:"tgl",nbx:"nbx",vsl:"vsl",hsl:"hsl",vradio:"vradio",hradio:"hradio",vu:"vu",cnv:"cnv",msg:"msg"},gi=["obj","floatatom","symbolatom","listbox","msg","text"],vi=function e(){return"".concat(++e.counter)};vi.counter=-1;var yi=function e(){return"".concat(++e.counter)};yi.counter=-1;var bi=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return t.every((function(n,t){return n===e[t]}))},Si=function(e){var n=function(e){var n=[];di.lastIndex=0;for(var t=null;t=di.exec(e);){var r=pi(t[1]).split(fi).reverse().map(pi),a=e.slice(0,t.index).split("\n").length-1;n.push({tokens:hi(r[0]),lineAfterComma:r[1]?hi(r[1]):void 0,lineIndex:a})}return n}(e),t={pd:{patches:{},arrays:{}},errors:[],warnings:[],tokenizedLines:n,patchTokenizedLinesMap:{}};return wi(t,!0),Object.keys(t.pd.patches).forEach((function(e){ki(t,e),xi(t,e),_i(t,e),t.patchTokenizedLinesMap[e].length&&t.patchTokenizedLinesMap[e].forEach((function(e){var n=e.tokens,r=e.lineIndex;t.errors.push({message:'"'.concat(n[0]," ").concat(n[1],'" unexpected chunk'),lineIndex:r})}))})),t.errors.length?{status:1,warnings:t.warnings,errors:t.errors}:{status:0,warnings:t.warnings,pd:t.pd}},wi=function e(n,t){for(var r=vi(),a=[],o=null,i=null,s=-1,c=!0,u=n.tokenizedLines[0]?n.tokenizedLines[0].lineIndex:-1,l=function(){var t=n.tokenizedLines[0],u=t.tokens,l=t.lineIndex;if(bi(u,"#N","struct")||bi(u,"#X","declare")||bi(u,"#X","scalar")||bi(u,"#X","f"))return n.warnings.push({message:'"'.concat(u[0]," ").concat(u[1],'" chunk is not supported'),lineIndex:l}),n.tokenizedLines.shift(),"continue";s++,Ii(n,l,(function(){if(bi(u,"#N","canvas")&&0===s)o=n.tokenizedLines.shift();else if(bi(u,"#N","canvas"))e(n,!1);else if(bi(u,"#X","obj",u[2],u[3],"table")){var t=n.tokenizedLines.shift().tokens;n.tokenizedLines=[{tokens:["#N","canvas","0","0","100","100","(subpatch)","0"],lineIndex:l},{tokens:["#N","canvas","0","0","100","100","(subpatch)","0"],lineIndex:l},{tokens:["#X","array",t[5],t[6],"float","0"],lineIndex:l},{tokens:["#X","restore","0","0","graph"],lineIndex:l},{tokens:["#X","restore",t[2],t[3],"table"],lineIndex:l}].concat(Pa(n.tokenizedLines)),e(n,!1)}else bi(u,"#X","coords")?i=n.tokenizedLines.shift():bi(u,"#X","restore")?(n.tokenizedLines[0].tokens=["PATCH",r].concat(Pa(n.tokenizedLines[0].tokens.slice(2))),c=!1):a.push(n.tokenizedLines.shift())}))};n.tokenizedLines.length&&c;)l();null!==o?(n.pd.patches[r]=function(e,n,t,r){var a=t.tokens,o=r?r.tokens:null,i={windowX:ti(a[2]),windowY:ti(a[3]),windowWidth:ti(a[4]),windowHeight:ti(a[5])};if("undefined"!==typeof a[7]&&(i.openOnLoad=ri(a[7])),o&&"undefined"!==typeof o[8]){var s=ni(o[8]);i.graphOnParent=s>0?1:0,1===i.graphOnParent&&(i=Sr(Sr({},i),{},{hideObjectNameAndArguments:2===s?1:0,viewportX:o[9]?ti(o[9]):0,viewportY:o[10]?ti(o[10]):0,viewportWidth:ti(o[6]),viewportHeight:ti(o[7])}))}return{id:e,isRoot:n,layout:i,args:[],nodes:{},connections:[],inlets:[],outlets:[]}}(r,t,o,i),n.patchTokenizedLinesMap[r]=a):n.errors.push({message:"Parsing failed #canvas missing",lineIndex:u})},_i=function(e,n){var t=e.pd.patches[n],r=function(e,n){return parseFloat(e.id)-parseFloat(n.id)},a=function(e,n){return e.layout.x-n.layout.x},o=Object.values(t.nodes).filter((function(e){return["inlet","inlet~"].includes(e.type)})),i=o.every((function(e){return!!e.layout}))?a:r;o.sort(i);var s=Object.values(t.nodes).filter((function(e){return["outlet","outlet~"].includes(e.type)})),c=s.every((function(e){return!!e.layout}))?a:r;s.sort(c),e.pd.patches[n]=Sr(Sr({},t),{},{inlets:o.map((function(e){return e.id})),outlets:s.map((function(e){return e.id}))})},ki=function(e,n){for(var t=e.patchTokenizedLinesMap[n],r=[],a=null,o=function(){var n=t[0],o=n.tokens,i=n.lineIndex;Ii(e,i,(function(){if(bi(o,"#X","array"))a=function(e,n){var t=n.tokens,r=ai(t[2]),a=ei(t[3]),o=ti(t[5]);return{id:e,args:[r,a,o%2],data:null,layout:{drawAs:["polygon","points","bezier"][o>>>1]}}}(yi(),t.shift()),e.pd.arrays[a.id]=a,r.push({tokens:["ARRAY",a.id],lineAfterComma:[],lineIndex:i});else if(bi(o,"#A")){if(!a)throw new Error("got array data outside of a array.");if(0===a.args[2])throw new Error("got array data for an array that doesn't save contents.");var n=a.data||[];a.data=n;var s=ni(o[1]);o.slice(2).forEach((function(e,t){var r=ni(e);Number.isFinite(r)&&(n[s+t]=r)})),t.shift()}else r.push(t.shift())}))};t.length;)o();e.patchTokenizedLinesMap[n]=r},xi=function(e,n){for(var t=e.pd.patches[n],r=e.patchTokenizedLinesMap[n],a=[],o=-1,i=function(){return"".concat(++o)},s=function(){var n=r[0],o=n.tokens,s=n.lineIndex;Ii(e,s,(function(){var e=null;if(bi(o,"PATCH"))e=function(e,n){var t=n.tokens,r=t[4],a=[];if("pd"!==r&&"graph"!==r&&"table"!==r)throw new Error("unknown canvasType : ".concat(r));return"pd"===r&&void 0!==t[5]&&a.push(ai(t[5])),{id:e,type:r,patchId:ai(t[1]),nodeClass:"subpatch",args:a,layout:{x:ti(t[2]),y:ti(t[3])}}}(i(),r.shift());else if(bi(o,"ARRAY"))e=function(e,n){var t=n.tokens;return{id:e,args:[],type:"array",nodeClass:"array",arrayId:ai(t[1])}}(i(),r.shift());else if(gi.some((function(e){return bi(o,"#X",e)}))){var n=r.shift(),s=function(e,n){var t,r=n[1],a="";return"obj"===r?(a=ai(n[4]),t=n.slice(5)):(a=ai(r),t=n.slice(4)),"text"===r&&(t=[n.slice(4).join(" ")]),{id:e,type:a,args:t,layout:{x:ni(n[2]),y:ni(n[3])}}}(i(),n.tokens);Object.keys(mi).includes(s.type)?(e=function(e){var n=e.args,t=Sr(Sr({},e),{},{type:e.type,nodeClass:"control"});if("floatatom"===t.type||"symbolatom"===t.type||"listbox"===t.type)t.layout=Sr(Sr({},t.layout),{},{widthInChars:ni(n[0]),labelPos:ni(n[3]),label:ai(n[4],"-")}),t.args=[ni(n[1]),ni(n[2]),ai(n[5],"-"),ai(n[6],"-")];else if("msg"===t.type)t.args=t.args.map(ei);else if("bng"===t.type)t.layout=Sr(Sr({},t.layout),{},{size:ni(n[0]),hold:ni(n[1]),interrupt:ni(n[2]),label:ai(n[6],"empty"),labelX:ni(n[7]),labelY:ni(n[8]),labelFont:n[9],labelFontSize:ni(n[10]),bgColor:n[11],fgColor:n[12],labelColor:n[13]}),t.args=[ri(n[3]),ai(n[5],"empty"),ai(n[4],"empty")];else if("tgl"===t.type)t.layout=Sr(Sr({},t.layout),{},{size:ni(n[0]),label:ai(n[4],"empty"),labelX:ni(n[5]),labelY:ni(n[6]),labelFont:n[7],labelFontSize:ni(n[8]),bgColor:n[9],fgColor:n[10],labelColor:n[11]}),t.args=[ni(n[13]),ri(n[1]),ni(n[12]),ai(n[3],"empty"),ai(n[2],"empty")];else if("nbx"===t.type)t.layout=Sr(Sr({},t.layout),{},{widthInChars:ni(n[0]),height:ni(n[1]),log:ni(n[4]),label:ai(n[8],"empty"),labelX:ni(n[9]),labelY:ni(n[10]),labelFont:n[11],labelFontSize:ni(n[12]),bgColor:n[13],fgColor:n[14],labelColor:n[15],logHeight:n[17]}),t.args=[ni(n[2]),ni(n[3]),ri(n[5]),ni(n[16]),ai(n[7],"empty"),ai(n[6],"empty")];else if("vsl"===t.type||"hsl"===t.type){t.layout=Sr(Sr({},t.layout),{},{width:ni(n[0]),height:ni(n[1]),log:ni(n[4]),label:ai(n[8],"empty"),labelX:ni(n[9]),labelY:ni(n[10]),labelFont:n[11],labelFontSize:ni(n[12]),bgColor:n[13],fgColor:n[14],labelColor:n[15],steadyOnClick:n[17]});var r=ni(n[2]),a=ni(n[3]),o=ri(n[4]),i=ni(n[16]),s="hsl"===t.type?t.layout.width:t.layout.height,c=0;if(o){var u=Math.log(a/r)/(s-1);c=r*Math.exp(u*i*.01)}else c=r+(a-r)*i/(100*(s-1));t.args=[r,a,ri(n[5]),c,ai(n[7],"empty"),ai(n[6],"empty")]}else if("vradio"===t.type||"hradio"===t.type)t.layout=Sr(Sr({},t.layout),{},{size:ni(n[0]),label:ai(n[6],"empty"),labelX:ni(n[7]),labelY:ni(n[8]),labelFont:n[9],labelFontSize:ni(n[10]),bgColor:n[11],fgColor:n[12],labelColor:n[13]}),t.args=[ni(n[3]),ri(n[2]),ni(n[14]),ai(n[5],"empty"),ai(n[4],"empty"),ri(n[2])];else if("vu"===t.type)t.layout=Sr(Sr({},t.layout),{},{width:ni(n[0]),height:ni(n[1]),label:ai(n[3],"empty"),labelX:ni(n[4]),labelY:ni(n[5]),labelFont:n[6],labelFontSize:ni(n[7]),bgColor:n[8],labelColor:n[9],log:ni(n[10])}),t.args=[ai(n[2],"empty"),ai(n[11])];else{if("cnv"!==t.type)throw new Error("Unexpected control node ".concat(t.type));t.layout=Sr(Sr({},t.layout),{},{size:ni(n[0]),width:ni(n[1]),height:ni(n[2]),label:ai(n[5],"empty"),labelX:ni(n[6]),labelY:ni(n[7]),labelFont:n[8],labelFontSize:ni(n[9]),bgColor:n[10],labelColor:n[11]}),t.args=[ai(n[4],"empty"),ai(n[3],"empty"),ai(n[12])]}return t}(s),e=ci(e,n.lineAfterComma)):(e=function(e){var n=Sr(Sr({},e),{},{nodeClass:"generic"});return n.args=n.args.map(ei),n}(s),e=ci(e,n.lineAfterComma))}e?t.nodes[e.id]=e:bi(o,"#X","connect")?t.connections.push(function(e){var n=e.tokens;return{source:{nodeId:ai(n[2]),portletId:ti(n[3])},sink:{nodeId:ai(n[4]),portletId:ti(n[5])}}}(r.shift())):a.push(r.shift())}))};r.length;)s();e.patchTokenizedLinesMap[n]=a},Ii=function(e,n,t){try{t()}catch(r){if(!(r instanceof oi))throw r;e.errors.push({message:r.message,lineIndex:n})}},Ei=/\$(\d+)/,Oi=function(e,n){var t=e.patches[n];if(!t)throw new Error("Patch ".concat(n," not found"));return t},Ti=function(e,n){var t=e.nodes[n];if(!t)throw new Error("Pd node ".concat(n," not found in patch ").concat(e.id));return t},Ci=function e(n,t){var r=n[t];return r?r.aliasTo?e(n,r.aliasTo):{nodeBuilder:r,nodeType:t}:null},Ai=function(e,n){var t=parseInt(n.id);if(isNaN(t))throw new Error("Invalid patch id");for(var r,a=[t].concat(Pa(n.args)),o=new RegExp(Ei,"g");r=o.exec(e);){var i=parseInt(r[1],10),s=0<=i&&i<a.length;if(r[0]===e)return s?a[i]:void 0;s&&(e=e.replace(r[0],a[i].toString()))}return e},Fi=function(e,n){var t=Ai(n[0],e),r="string"===typeof n[1]?Ai(n[1],e):n[1];return[(void 0===t?"":t).toString(),void 0===r?0:r,n[2]]},Mi=function(e,n){return n.map((function(n){return"string"===typeof n?Ai(n,e):n}))};function Li(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}function Pi(e,n){if(null==e)return{};var t,r,a=Li(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var Ni,Ri=["status","parsingWarnings"],Di=function(){var e=Ra(mt().mark((function e(n,t,r){var a,o,i,s,c,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vi({patches:{},arrays:{}},n),o=it(a,2),i=o[0],s=o[1],c={pd:n,nodeBuilders:t,abstractions:{},errors:{},warnings:{},abstractionLoader:r},n.patches=s.patches,n.arrays=s.arrays,u=zi(n),Object.values(n.arrays).forEach((function(e){return e.args=Fi(u,e.args)})),e.next=8,ji(c,u,u,i);case 8:if(!Object.keys(c.errors).length){e.next=13;break}return e.abrupt("return",{status:1,errors:c.errors,warnings:c.warnings});case 13:return e.abrupt("return",{status:0,pd:n,rootPatch:Oi(n,u.id),abstractions:c.abstractions,warnings:c.warnings});case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),ji=function(){var e=Ra(mt().mark((function e(n,t,r,a){var o,i,s,c,u,l,f;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.pd,i=n.abstractionLoader,s=n.errors,c=n.warnings,r.nodes=Sr({},r.nodes),u=mt().mark((function e(){var u,d,p,h,m,g,v,y;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=f[l],!s.hasOwnProperty(u.type)){e.next=3;break}return e.abrupt("return","continue");case 3:if("subpatch"!==u.nodeClass){e.next=10;break}return u=r.nodes[u.id]=Sr(Sr({},u),{},{patchId:Ui(a.patches,u.patchId)}),e.next=7,ji(n,t,Oi(o,u.patchId),a);case 7:return e.abrupt("return","continue");case 10:if("array"!==u.nodeClass){e.next=13;break}return u=r.nodes[u.id]=Sr(Sr({},u),{},{arrayId:Ui(a.arrays,u.arrayId)}),e.abrupt("return","continue");case 13:if(null===Ci(n.nodeBuilders,u.type)){e.next=15;break}return e.abrupt("return","continue");case 15:return e.next=17,Bi(n,u.type,i);case 17:if((d=e.sent).parsingWarnings&&(c[u.type]=d.parsingWarnings),1!==d.status){e.next=23;break}return d.status,d.parsingWarnings,p=Pi(d,Ri),s[u.type]=p,e.abrupt("return","continue");case 23:return h=Vi(o,d.pd),m=it(h,2),g=m[0],v=m[1],y=zi(v),u=r.nodes[u.id]=Sr(Sr({},u),{},{args:Mi(t,u.args),nodeClass:"subpatch",patchId:y.id,type:"pd"}),y.args=u.args,Object.values(v.arrays).forEach((function(e){return e.args=Fi(y,e.args)})),o.patches=Sr(Sr({},o.patches),v.patches),o.arrays=Sr(Sr({},o.arrays),v.arrays),e.next=32,ji(n,y,y,g);case 32:case"end":return e.stop()}}),e)})),l=0,f=Object.values(r.nodes);case 4:if(!(l<f.length)){e.next=12;break}return e.delegateYield(u(),"t0",6);case 6:if("continue"!==e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:l++,e.next=4;break;case 12:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),zi=function(e){var n=Object.values(e.patches).filter((function(e){return e.isRoot}));if(1!==n.length)throw new Error("Expected exactly one root patch");return n[0]},Bi=function(){var e=Ra(mt().mark((function e(n,t,r){var a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.abstractions[t]){e.next=6;break}return e.next=3,r(t);case 3:return 0===(a=e.sent).status&&(n.abstractions[t]=a.pd),e.abrupt("return",a);case 6:return e.abrupt("return",{status:0,pd:n.abstractions[t]});case 7:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Ui=function(e,n){var t=e.get(n);if(void 0===t)throw new Error("Could not resolve ".concat(n));return t},Vi=function(e,n){var t={patches:{},arrays:{}},r={patches:new Map,arrays:new Map},a=Object.keys(e.patches);a=a.length?a:["-1"];var o=Object.keys(e.arrays);o=o.length?o:["-1"];var i=Math.max.apply(Math,Pa(a.map((function(e){return parseInt(e)}))))+1,s=Math.max.apply(Math,Pa(o.map((function(e){return parseInt(e)}))))+1;return Object.entries(n.patches).forEach((function(e){var n=it(e,2),a=n[0],o=n[1],s="".concat(i++);r.patches.set(a,s),t.patches[s]=Sr(Sr({},o),{},{id:s})})),Object.entries(n.arrays).forEach((function(e){var n=it(e,2),a=n[0],o=n[1],i="".concat(s++);r.arrays.set(a,i),t.arrays[i]=Sr(Sr({},o),{},{id:i})})),[r,t]},Wi={translateArgs:function(){return{}},build:function(){return{inlets:{},outlets:{}}}},Gi={pd:Wi,inlet:Wi,outlet:Wi,"inlet~":Wi,"outlet~":Wi},Ki=function(e,n){return e.portletId===n.portletId&&e.nodeId===n.nodeId},$i=function(e){var n=[];return Object.keys(e).forEach((function(t){var r=co(e,t);yo(r.sources,t).forEach((function(t){var r=it(t,2),a=r[0],o=r[1],i=co(e,a.nodeId);fo(i,a.portletId).filter((function(e){return Ki(e,o)}))[0]||n.push([a,o])})),bo(r.sinks,t).forEach((function(t){var r=it(t,2),a=r[0],o=r[1],i=co(e,o.nodeId);po(i,o.portletId)||n.push([a,o])}))})),n.length?{inconsistentConnections:n}:null},qi=function(e,n){return e[n.id]||(e[n.id]=n),e[n.id]},Hi=function(e,n,t){var r=co(e,t.nodeId),a=co(e,n.nodeId),o=po(r,t.portletId),i=fo(a,n.portletId),s=lo(a,n.portletId),c=uo(r,t.portletId);if(!i.some((function(e){return Ki(t,e)}))){if(!s)throw new Error("Undefined outlet ".concat(n.nodeId,":").concat(n.portletId));if(!c)throw new Error("Undefined inlet ".concat(t.nodeId,":").concat(t.portletId));if(s.type!==c.type)throw new Error("Incompatible portlets types ".concat(n.nodeId," | ").concat(n.portletId," (").concat(s.type,") -> ").concat(t.nodeId," | ").concat(t.portletId," (").concat(c.type,")"));if("signal"===c.type&&o.length)throw new Error("Signal inlets can have only one connection");Ji(r.sources,t.portletId).push(n),Ji(a.sinks,n.portletId).push(t)}},Xi=function(e,n,t){var r=co(e,t.nodeId),a=co(e,n.nodeId),o=fo(a,n.portletId);a.sinks[n.portletId]=o.filter((function(e){return!Ki(t,e)}));var i=po(r,t.portletId);r.sources[t.portletId]=i.filter((function(e){return!Ki(n,e)}))},Yi=function(e,n,t){var r=co(e,n),a=co(e,t);Object.entries(a.sources).forEach((function(e){var t=it(e,2),r=t[0],o=t[1];return a.sources[r]=o.filter((function(e){return e.nodeId!==n}))})),Object.entries(r.sinks).forEach((function(e){var n=it(e,2),a=n[0],o=n[1];return r.sinks[a]=o.filter((function(e){return e.nodeId!==t}))}))},Qi=function(e,n){var t=e[n];t&&(Object.values(t.sources).forEach((function(t){return t.slice(0).forEach((function(t){return Yi(e,t.nodeId,n)}))})),Object.values(t.sinks).forEach((function(t){return t.slice(0).forEach((function(t){return Yi(e,n,t.nodeId)}))})),delete e[n])},Ji=function(e,n){return e[n]=e[n]||[]},Zi={getters:e,traversal:n,mutation:a,helpers:r};!function(e){e.PD="n",e.MIXER="m"}(Ni||(Ni={}));var es=function(e,n){return"".concat(Ni.PD,"_").concat(e,"_").concat(n)},ns=function(){var e=Ra(mt().mark((function e(n,t){var r,a,o,i,s,c,u,l=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:Ra(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),e.next=3,Di(n,t,r);case 3:if(a=e.sent,o=Object.keys(a.warnings),1!==a.status){e.next=7;break}return e.abrupt("return",{status:1,abstractionsLoadingErrors:a.errors,abstractionsLoadingWarnings:o?a.warnings:void 0});case 7:return i=a.pd,s=a.rootPatch,us(c={pd:i,nodeBuilders:t,graph:{}},[s],ts),as(c,[s]),Object.values(c.graph).forEach((function(e){Object.keys(Gi).includes(e.type)&&Zi.mutation.deleteNode(c.graph,e.id)})),u=Object.values(n.arrays).reduce((function(e,n){return e[n.args[0]]=n.data?new Float32Array(n.data):new Float32Array(n.args[1]),e}),{}),e.abrupt("return",{status:0,graph:c.graph,arrays:u,abstractionsLoadingWarnings:o?a.warnings:void 0});case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ts=function(e,n){var t=ls(n),r=ds(n);Object.values(t.nodes).forEach((function(n){var a=es(t.id,n.id);rs(e,r,t,n,a)}))},rs=function(e,n,t,r,a){var o=Ci(e.nodeBuilders,r.type);if(null===o)throw new Error("unknown node type ".concat(r.type));var i=o.nodeBuilder,s=o.nodeType;if(!0===i.isNoop)return null;i.skipDollarArgsResolution||(r=Sr(Sr({},r),{},{args:Mi(n,r.args)}));var c=i.translateArgs(r,t,e.pd),u=i.build(c);return Zi.mutation.addNode(e.graph,Sr({id:a,type:s,args:c,sources:{},sinks:{}},u))},as=function(e,n){var t=[];us(e,n,(function(e,n){is(e,n,t)}));for(var r=function(){var n=it(t[0],2),r=(n[0],n[1]),a=[],o=[];t.forEach((function(e){var n=it(e,2),t=n[0],i=n[1];gs(r,i)?a.push(t):o.push(e)})),t=o,os(e,a,r)};t.length;)r()},os=function(e,n,t){var r,a,o=it(t,2),i=o[0],s=o[1],c=e.graph,u=ls(i),l=ds(i),f={nodeId:es(u.id,s.nodeId),portletId:s.portletId.toString(10)},d=Ci(e.nodeBuilders,Ti(u,s.nodeId).type).nodeBuilder,p=[],h=[],m=[];if(n.forEach((function(e){var n=it(e,2),t=n[0],r=n[1],a=ls(t),o={nodeId:es(a.id,r.nodeId),portletId:r.portletId.toString(10)},i=Zi.getters.getNode(c,o.nodeId);"signal"===Zi.getters.getOutlet(i,o.portletId).type?h.push(o):m.push(o)})),h.length>1){var g=rs(e,l,u,{id:"dummy",type:"mixer~",args:[h.length],nodeClass:"generic"},(r=f.nodeId,a=f.portletId,"".concat(Ni.MIXER,"_").concat(r,"_").concat(a)));Zi.mutation.connect(c,{nodeId:g.id,portletId:"0"},f),h.forEach((function(e,n){p.push([e,{nodeId:g.id,portletId:n.toString()}])}))}else h.forEach((function(e){return p.push([e,f])}));m.forEach((function(e){var n=f;if(d.rerouteMessageConnection){var t=d.rerouteMessageConnection(f.portletId);void 0!==t&&(n={nodeId:f.nodeId,portletId:t})}p.push([e,n])})),p.forEach((function(e){var n=it(e,2),t=n[0],r=n[1];Zi.mutation.connect(c,t,r)}))},is=function(e,n,t){var r=e.graph,a=ls(n);a.connections.filter((function(e){var n=e.source,t=e.sink,o=es(a.id,n.nodeId),i=es(a.id,t.nodeId);return!(!r[o]||!r[i])})).forEach((function(r){var a=r.source,o=r.sink,i=ss(e,[n,a]),s=cs(e,n,o);i.forEach((function(e){return s.forEach((function(n){t.some((function(t){var r=it(t,2),a=r[0],o=r[1];return gs(e,a)&&gs(n,o)}))||t.push([e,n])}))}))}))},ss=function e(n,t){var r=it(t,2),a=r[0],o=r[1],i=n.pd,s=ls(a),c=Ti(s,o.nodeId);if("inlet"===c.type||"inlet~"===c.type){var u=fs(a);if(!u)return[];var l=ms(u,s.id),f=hs(s.inlets,c.id);return u.connections.filter((function(e){var n=e.sink;return n.nodeId===l.id&&n.portletId===f})).flatMap((function(t){var r=t.source;return e(n,[Pa(a.slice(0,-1)),r])}))}if("subpatch"===c.nodeClass){var d=Oi(i,c.patchId),p=ps(d.outlets,o.portletId);return d.connections.filter((function(e){var n=e.sink;return n.nodeId===p&&0===n.portletId})).flatMap((function(t){var r=t.source;return e(n,[[].concat(Pa(a),[d]),r])}))}return[[a,o]]},cs=function e(n,t,r){var a=n.pd,o=ls(t),i=Ti(o,r.nodeId);if("outlet"===i.type||"outlet~"===i.type){var s=fs(t);if(!s)return[];var c=ms(s,o.id),u=hs(o.outlets,i.id);return s.connections.filter((function(e){var n=e.source;return n.nodeId===c.id&&n.portletId===u})).flatMap((function(r){var a=r.sink;return e(n,Pa(t.slice(0,-1)),a)}))}if("subpatch"===i.nodeClass){var l=Oi(a,i.patchId),f=ps(l.inlets,r.portletId);return l.connections.filter((function(e){var n=e.source;return n.nodeId===f&&0===n.portletId})).flatMap((function(r){var a=r.sink;return e(n,[].concat(Pa(t),[l]),a)}))}return[[t,r]]},us=function e(n,t,r){var a=ls(t);r(n,t),Object.values(a.nodes).forEach((function(a){if("subpatch"===a.nodeClass){var o=Oi(n.pd,a.patchId);e(n,[].concat(Pa(t),[o]),r)}}))},ls=function(e){var n=e.slice(-1)[0];if(!n)throw new Error("patchPath empty !");return n},fs=function(e){return e.slice(-2)[0]},ds=function(e){var n=e.slice(0).reverse().find((function(e){return e.isRoot}));if(!n)throw new Error("Could not resolve root patch from path");return n},ps=function(e,n){var t=e[n];if(void 0===t)throw new Error("Portlet ".concat(n," is undefined in patch.outlets/patch.inlets"));return t},hs=function(e,n){return e.findIndex((function(e){return e===n}))},ms=function(e,n){var t=Object.values(e.nodes).find((function(e){return"subpatch"===e.nodeClass&&e.patchId===n}));if(void 0===t)throw new Error("could not resolve subpatch node");return t},gs=function(e,n){var t=it(e,2),r=t[0],a=t[1],o=it(n,2),i=o[0],s=o[1];return ls(r).id===ls(i).id&&a.nodeId===s.nodeId&&a.portletId===s.portletId},vs=function(e,n){if(!n)return null;for(var t=(n>>>=0)+new Uint32Array(e.memory.buffer)[n-4>>>2]>>>1,r=new Uint16Array(e.memory.buffer),a=n>>>1,o="";t-a>1024;)o+=String.fromCharCode.apply(String,Pa(r.subarray(a,a+=1024)));return o+String.fromCharCode.apply(String,Pa(r.subarray(a,t)))},ys=function(e,n){if(null==n)return 0;for(var t=n.length,r=e.__new(t<<1,1)>>>0,a=new Uint16Array(e.memory.buffer),o=0;o<t;++o)a[(r>>>1)+o]=n.charCodeAt(o);return r},bs=function(e,n,t){if(!t)return null;var r=new Uint32Array(e.memory.buffer);return new n(e.memory.buffer,r[t+4>>>2],r[t+8>>>2]/n.BYTES_PER_ELEMENT)},Ss=function(e,n,t){var r=Eo(n),a=e.createFloatArray(t.length),o=bs(e,r,a);return o.set(t),{array:o,arrayPointer:a}},ws=function(e,n,t){var r=e.core_createListOfArrays();return t.forEach((function(t){var a=Ss(e,n,t).arrayPointer;e.core_pushToListOfArrays(r,a)})),r},_s=function(e,n,t){for(var r=e.core_getListOfArraysLength(t),a=[],o=Eo(n),i=0;i<r;i++){var s=e.core_getListOfArraysElem(t,i);a.push(bs(e,o,s))}return a},ks=function(e,n){var t=e.msg_getTokenTypes(n),r=bs(e,Int32Array,t),a=[];return r.forEach((function(t,r){if(t===e.MSG_FLOAT_TOKEN.valueOf())a.push(e.msg_readFloatToken(n,r));else if(t===e.MSG_STRING_TOKEN.valueOf()){var o=e.msg_readStringToken(n,r);a.push(vs(e,o))}})),a},xs=function(){var e=Ra(mt().mark((function e(n){var t,r,a,o=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,WebAssembly.instantiate(n,Sr({env:{abort:function(e,n,t,r){var o=vs(a,e);!function(){throw Error("".concat(o," at ").concat(t,":").concat(r))}()},seed:function(){return Date.now()*Math.random()},"console.log":function(e){console.log(vs(a,e))}}},t));case 3:return r=e.sent,a=r.instance.exports,e.abrupt("return",r.instance);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Is=function(){var e=Ra(mt().mark((function e(n){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Es(n),e.next=3,t.initialize();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Es=function(){function e(n){Ua(this,e),this.wasmBuffer=n}return Ba(e,[{key:"initialize",value:function(){var e=Ra(mt().mark((function e(){var n,t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(this.wasmBuffer);case 2:return this.metadata=e.sent,this.bitDepth=this.metadata.audioSettings.bitDepth,this.arrayType=Eo(this.bitDepth),n=Sr(Sr({},this._fsImports()),this._outletListenersImports()),e.next=8,xs(this.wasmBuffer,{input:n});case 8:t=e.sent,this.wasmExports=t.exports,this.commons=this._bindCommons(),this.fs=this._bindFs(),this.inletCallers=this._bindInletCallers(),this.outletListeners=this._bindOutletListeners();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"configure",value:function(e,n){this.blockSize=n,this.metadata.audioSettings.blockSize=n,this.metadata.audioSettings.sampleRate=e,this.wasmExports.configure(e,n),this._updateWasmInOuts()}},{key:"loop",value:function(e,n){for(var t=0;t<e.length;t++)this.wasmInput.set(e[t],t*this.blockSize);this._updateWasmInOuts(),this.wasmExports.loop(),this._updateWasmInOuts();for(var r=0;r<n.length;r++)n[r].set(this.wasmOutput.subarray(this.blockSize*r,this.blockSize*(r+1)))}},{key:"_updateWasmInOuts",value:function(){this.wasmOutput=bs(this.wasmExports,this.arrayType,this.wasmExports.getOutput()),this.wasmInput=bs(this.wasmExports,this.arrayType,this.wasmExports.getInput())}},{key:"_bindCommons",value:function(){var e=this;return{getArray:function(n){var t=ys(e.wasmExports,n),r=e.wasmExports.commons_getArray(t);return bs(e.wasmExports,e.arrayType,r)},setArray:function(n,t){var r=ys(e.wasmExports,n),a=Ss(e.wasmExports,e.bitDepth,t).arrayPointer;e.wasmExports.commons_setArray(r,a),e._updateWasmInOuts()}}}},{key:"_bindFs",value:function(){var e=this;return{sendReadSoundFileResponse:function(n,t,r){var a=0;r&&(a=ws(e.wasmExports,e.bitDepth,r)),e.wasmExports.fs_onReadSoundFileResponse(n,t,a),e._updateWasmInOuts()},sendWriteSoundFileResponse:this.wasmExports.fs_onWriteSoundFileResponse,sendSoundStreamData:function(n,t){var r=ws(e.wasmExports,e.bitDepth,t),a=e.wasmExports.fs_onSoundStreamData(n,r);return e._updateWasmInOuts(),a},closeSoundStream:this.wasmExports.fs_onCloseSoundStream,onReadSoundFile:function(){},onWriteSoundFile:function(){},onOpenSoundReadStream:function(){},onOpenSoundWriteStream:function(){},onSoundStreamData:function(){},onCloseSoundStream:function(){}}}},{key:"_fsImports",value:function(){var e=this,n={i_fs_readSoundFile:function(n,t,r){var a=vs(e.wasmExports,t),o=ks(e.wasmExports,r);e.fs.onReadSoundFile(n,a,o)},i_fs_writeSoundFile:function(n,t,r,a){var o=_s(e.wasmExports,e.bitDepth,t),i=vs(e.wasmExports,r),s=ks(e.wasmExports,a);e.fs.onWriteSoundFile(n,o,i,s)},i_fs_openSoundReadStream:function(n,t,r){var a=vs(e.wasmExports,t),o=ks(e.wasmExports,r);e._updateWasmInOuts(),e.fs.onOpenSoundReadStream(n,a,o)},i_fs_openSoundWriteStream:function(n,t,r){var a=vs(e.wasmExports,t),o=ks(e.wasmExports,r);e.fs.onOpenSoundWriteStream(n,a,o)},i_fs_sendSoundStreamData:function(n,t){var r=_s(e.wasmExports,e.bitDepth,t);e.fs.onSoundStreamData(n,r)},i_fs_closeSoundStream:function(){var n;return(n=e.fs).onCloseSoundStream.apply(n,arguments)}};return n}},{key:"_bindInletCallers",value:function(){var e=this;return Ao(this.metadata.compilation.inletCallerSpecs,(function(n,t){return Fo(n,(function(n){return[n,function(r){var a=function(e,n){var t=n.reduce((function(n,t){if("number"===typeof t)n.push(e.MSG_FLOAT_TOKEN.valueOf());else{if("string"!==typeof t)throw new Error("invalid message value ".concat(t));n.push(e.MSG_STRING_TOKEN.valueOf()),n.push(t.length)}return n}),[]),r=e.msg_createTemplate(t.length);bs(e,Int32Array,r).set(t);var a=e.msg_create(r);return n.forEach((function(n,t){if("number"===typeof n)e.msg_writeFloatToken(a,t,n);else if("string"===typeof n){var r=ys(e,n);e.msg_writeStringToken(a,t,r)}})),a}(e.wasmExports,r);e.wasmExports[e.metadata.compilation.codeVariableNames.inletCallers[t][n]](a)}]}))}))}},{key:"_bindOutletListeners",value:function(){return Ao(this.metadata.compilation.outletListenerSpecs,(function(e){return Fo(e,(function(e){return[e,{onMessage:function(){}}]}))}))}},{key:"_outletListenersImports",value:function(){var e=this,n={},t=this.metadata.compilation.codeVariableNames;return Object.entries(this.metadata.compilation.outletListenerSpecs).forEach((function(r){var a=it(r,2),o=a[0];a[1].forEach((function(r){var a=t.outletListeners[o][r];n[a]=function(n){var t=ks(e.wasmExports,n);e.outletListeners[o][r].onMessage(t)}}))})),n}}]),e}(),Os=function(){var e=Ra(mt().mark((function e(n){var t,r,a,o,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},WebAssembly.Module.imports(new WebAssembly.Module(n)).filter((function(e){return"input"===e.module&&"function"===e.kind})).forEach((function(e){return t[e.name]=function(){}})),e.next=5,xs(n,{input:t});case 5:return r=e.sent,a=r.exports,o=a.metadata.valueOf(),i=vs(a,o),e.abrupt("return",JSON.parse(i));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ts="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Cs(e,n,t,r){if(["32f","64"].indexOf(n)>-1&&["32f","64"].indexOf(r)>-1)t.set(e);else{Ls(n),Ls(r);var a=function(e,n){var t=function(e){return e};e!=n&&(t=["32f","64"].includes(e)?Fs:["32f","64"].includes(n)?Ms:As);return t}(n,r),o={oldMin:Math.pow(2,parseInt(n,10))/2,newMin:Math.pow(2,parseInt(r,10))/2,oldMax:Math.pow(2,parseInt(n,10))/2-1,newMax:Math.pow(2,parseInt(r,10))/2-1};Ps(n,e,!0);for(var i=0,s=e.length;i<s;i++)t[i]=a(e[i],o);Ps(r,t,!1)}}function As(e,n){return e=e>0?parseInt(e/n.oldMax*n.newMax,10):parseInt(e/n.oldMin*n.newMin,10)}function Fs(e,n){return parseInt(e>0?e*n.newMax:e*n.newMin,10)}function Ms(e,n){return e>0?e/n.oldMax:e/n.oldMin}function Ls(e){if("32f"!=e&&"64"!=e&&(parseInt(e,10)<"8"||parseInt(e,10)>"53"))throw new Error("Invalid bit depth.")}function Ps(e,n,t){if("8"==e)for(var r=t?-128:128,a=0,o=n.length;a<o;a++)n[a]=n[a]+=r}var Ns=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],Rs=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function Ds(e,n){for(var t=function(e,n){zs(e,n);var t=[];return t.push(255&e),t.push(e>>8&255),t.push(n.index),t.push(0),t}(e[0],n),r=3,a=e.length;r<a;r+=2){var o=zs(e[r],n),i=zs(e[r+1],n);t.push(i<<4|o)}return t}function js(e,n){var t;n.predicted=(t=e[1]<<8|e[0])>32768?t-65536:t,n.index=e[2],n.step=Rs[n.index];for(var r=[n.predicted,n.predicted],a=4,o=e.length;a<o;a++){var i=e[a],s=i>>4,c=s<<4^i;r.push(Bs(c,n)),r.push(Bs(s,n))}return r}function zs(e,n){var t=e-n.predicted,r=0;t>=0?r=0:(r=8,t=-t);var a=Rs[n.index],o=a>>3;return t>a&&(r|=4,t-=a,o+=a),t>(a>>=1)&&(r|=2,t-=a,o+=a),t>(a>>=1)&&(r|=1,o+=a),function(e,n,t){8&e?t.predicted-=n:t.predicted+=n;t.predicted<-32768?t.predicted=-32768:t.predicted>32767&&(t.predicted=32767);t.index+=Ns[7&e],t.index<0?t.index=0:t.index>88&&(t.index=88)}(r,o,n),r}function Bs(e,n){var t=0;return 4&e&&(t+=n.step),2&e&&(t+=n.step>>1),1&e&&(t+=n.step>>2),t+=n.step>>3,8&e&&(t=-t),n.predicted+=t,n.predicted>32767?n.predicted=32767:n.predicted<-32767&&(n.predicted=-32767),function(e,n){n.index+=Ns[e],n.index<0?n.index=0:n.index>88&&(n.index=88);n.step=Rs[n.index]}(e,n),n.predicted}var Us=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];function Vs(e){var n,t=~(e=-32768==e?-32767:e)>>8&128;if(t||(e*=-1),e>32635&&(e=32635),e>=256){var r=Us[e>>8&127];n=r<<4|e>>r+3&15}else n=e>>4;return 85^n^t}function Ws(e){var n=0;0!==(128&(e^=85))&&(e&=-129,n=-1);var t=4+((240&e)>>4),r=0;return r=4!=t?1<<t|(15&e)<<t-4|1<<t-5:e<<1|1,8*(r=0===n?r:-r)*-1}var Gs=132,Ks=32635,$s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],qs=[0,132,396,924,1980,4092,8316,16764];function Hs(e){var n,t;return 0!=(n=e>>8&128)&&(e=-e),(e+=Gs)>Ks&&(e=Ks),~(n|(t=$s[e>>7&255])<<4|e>>t+3&15)}function Xs(e){var n,t,r,a;return n=128&(e=~e),r=15&e,a=qs[t=e>>4&7]+(r<<t+3),0!=n&&(a=-a),a}function Ys(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,a=t;a<r;a+=n)Qs(e,n,a)}function Qs(e,n,t){n--;for(var r=0;r<n;r++){var a=e[t+r];e[t+r]=e[t+n],e[t+n]=a,n--}}function Js(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0,a=e.length;r<a;){var o=e.codePointAt(r);if(o<128)n[t]=o,t++;else{var i=0,s=0;for(o<=2047?(i=1,s=192):o<=65535?(i=2,s=224):o<=1114111&&(i=3,s=240,r++),n[t]=(o>>6*i)+s,t++;i>0;)n[t]=128|o>>6*(i-1)&63,t++,i--}r++}return t}var Zs=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ua(this,e),this.bits=n,this.offset=Math.ceil(n/8),this.max=Math.pow(2,n)-1,this.min=0,this.unpack=this.unpack_,t&&(this.max=Math.pow(2,n)/2-1,this.min=-this.max-1,this.unpack=this.unpackSigned_)}return Ba(e,[{key:"pack",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n=this.clamp_(Math.round(n));for(var r=0,a=this.offset;r<a;r++)e[t]=255&Math.floor(n/Math.pow(2,8*r)),t++;return t}},{key:"unpack_",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=0,r=0;r<this.offset;r++)t+=e[n+r]*Math.pow(256,r);return t}},{key:"unpackSigned_",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.sign_(this.unpack_(e,n))}},{key:"clamp_",value:function(e){return e>this.max?this.max:e<this.min?this.min:e}},{key:"sign_",value:function(e){return e>this.max&&(e-=2*this.max+2),e}}]),e}(),ec=function(){function e(n,t){Ua(this,e),this.offset=Math.ceil((n+t)/8),this.ebits=n,this.fbits=t,this.bias=(1<<n-1)-1,this.biasP2=Math.pow(2,this.bias+1),this.ebitsFbits=n+t,this.fbias=Math.pow(2,-(8*this.offset-1-n))}return Ba(e,[{key:"pack",value:function(e,n,t){Math.abs(n)>this.biasP2-2*this.ebitsFbits&&(n=n<0?-1/0:1/0);var r=((n=+n)||1/n)<0||n<0?1:0;n=Math.abs(n);var a=Math.min(Math.floor(Math.log(n)/Math.LN2),1023),o=nc(n/Math.pow(2,a)*Math.pow(2,this.fbits));return n!==n?(o=Math.pow(2,this.fbits-1),a=(1<<this.ebits)-1):0!==n&&(n>=Math.pow(2,1-this.bias)?(o/Math.pow(2,this.fbits)>=2&&(a+=1,o=1),a>this.bias?(a=(1<<this.ebits)-1,o=0):(a+=this.bias,o=nc(o)-Math.pow(2,this.fbits))):(o=nc(n/Math.pow(2,1-this.bias-this.fbits)),a=0)),this.packFloatBits_(e,t,r,a,o)}},{key:"unpack",value:function(e,n){for(var t,r=(1<<this.ebits)-1,a="",o=this.offset-1;o>=0;o--){var i=e[o+n].toString(2);a+="00000000".substring(i.length)+i}var s="1"==a.charAt(0)?-1:1;a=a.substring(1);var c=parseInt(a.substring(0,this.ebits),2);return a=a.substring(this.ebits),c==r?0!==parseInt(a,2)?NaN:s*(1/0):(0===c?(c+=1,t=parseInt(a,2)):t=parseInt("1"+a,2),s*t*this.fbias*Math.pow(2,c-this.bias))}},{key:"packFloatBits_",value:function(e,n,t,r,a){var o=[];o.push(t);for(var i=this.ebits;i>0;i-=1)o[i]=r%2?1:0,r=Math.floor(r/2);for(var s=o.length,c=this.fbits;c>0;c-=1)o[s+c]=a%2?1:0,a=Math.floor(a/2);for(var u=o.join(""),l=this.offset+n-1,f=n;l>=n;)e[l]=parseInt(u.substring(0,8),2),u=u.substring(8),l--,f++;return f}}]),e}();function nc(e){var n=Math.floor(e),t=e-n;return t<.5?n:t>.5||n%2?n+1:n}function tc(e){return function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r="",a=n;a<t;){var o=128,i=191,s=!1,c=e[a++];if(c>=0&&c<=127)r+=String.fromCharCode(c);else{var u=0;c>=194&&c<=223?u=1:c>=224&&c<=239?(u=2,224===e[a]&&(o=160),237===e[a]&&(i=159)):c>=240&&c<=244?(u=3,240===e[a]&&(o=144),244===e[a]&&(i=143)):s=!0,c&=(1<<8-u-1)-1;for(var l=0;l<u;l++)(e[a]<o||e[a]>i)&&(s=!0),c=c<<6|63&e[a],a++;s?r+=String.fromCharCode(65533):c<=65535?r+=String.fromCharCode(c):(c-=65536,r+=String.fromCharCode(55296+(c>>10&1023),56320+(1023&c)))}}return r}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length)}function rc(e){var n=[];return Js(e,n),n}function ac(e,n){return Js(e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)}function oc(e,n,t){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=fc((n=n||{}).bits,n.fp,n.signed),o=Math.ceil(n.bits/8),i=0,s=r,c=e.length;i<c;i++)r=a.pack(t,e[i],r);return n.be&&Ys(t,o,s,r),r}function ic(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,o=fc((n=n||{}).bits,n.fp,n.signed);if(a=function(e,n,t,r){var a=(t-n)%r;return t-a}(0,r,a,o.offset),n.be){var i=function(e){return new Uint8Array(e)}(e);n.be&&Ys(i,o.offset,r,a),lc(i,t,r,a,o)}else lc(e,t,r,a,o)}function sc(e,n,t){return oc([e],n,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)}function cc(e,n){var t=[];return sc(e,n,t,0),t}function uc(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];return ic(e,n,r,t,t+Math.ceil(n.bits/8)),r[0]}function lc(e,n,t,r,a){for(var o=a.offset,i=0,s=t;s<r;s+=o,i++)n[i]=a.unpack(e,s)}function fc(e,n,t){return n&&32==e?new ec(8,23):n&&64==e?new ec(11,52):new Zs(e,t)}function dc(){return dc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Ga(e)););return e}(e,n);if(r){var a=Object.getOwnPropertyDescriptor(r,n);return a.get?a.get.call(arguments.length<3?e:t):a.value}},dc.apply(this,arguments)}var pc=function(){function e(){Ua(this,e),this.container="",this.chunkSize=0,this.format="",this.signature=null,this.head=0,this.uInt32={bits:32,be:!1},this.supported_containers=["RIFF","RIFX"]}return Ba(e,[{key:"setSignature",value:function(e){if(this.head=0,this.container=this.readString(e,4),-1===this.supported_containers.indexOf(this.container))throw Error("Not a supported format.");this.uInt32.be="RIFX"===this.container,this.chunkSize=this.readUInt32(e),this.format=this.readString(e,4),this.signature={chunkId:this.container,chunkSize:this.chunkSize,format:this.format,subChunks:this.getSubChunksIndex_(e)}}},{key:"findChunk",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.signature.subChunks,r=[],a=0;a<t.length;a++)if(t[a].chunkId==e){if(!n)return t[a];r.push(t[a])}return"LIST"==e&&r.length?r:null}},{key:"readString",value:function(e,n){var t;return t=tc(e,this.head,this.head+n),this.head+=n,t}},{key:"readUInt32",value:function(e){var n=uc(e,this.uInt32,this.head);return this.head+=4,n}},{key:"getSubChunksIndex_",value:function(e){for(var n=[],t=this.head;t<=e.length-8;)n.push(this.getSubChunkIndex_(e,t)),t=(t+=8+n[n.length-1].chunkSize)%2?t+1:t;return n}},{key:"getSubChunkIndex_",value:function(e,n){var t={chunkId:this.getChunkId_(e,n),chunkSize:this.getChunkSize_(e,n)};if("LIST"==t.chunkId)t.format=tc(e,n+8,n+12),this.head+=4,t.subChunks=this.getSubChunksIndex_(e);else{var r=t.chunkSize%2?t.chunkSize+1:t.chunkSize;this.head=n+8+r,t.chunkData={start:n+8,end:this.head}}return t}},{key:"getChunkId_",value:function(e,n){return this.head+=4,tc(e,n,n+4)}},{key:"getChunkSize_",value:function(e,n){return this.head+=4,uc(e,this.uInt32,n+4)}}]),e}(),hc=function(e){Wa(t,e);var n=qa(t);function t(){var e;return Ua(this,t),(e=n.call(this)).supported_containers.push("RF64"),e.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]},e.fact={chunkId:"",chunkSize:0,dwSampleLength:0},e.cue={chunkId:"",chunkSize:0,dwCuePoints:0,points:[]},e.smpl={chunkId:"",chunkSize:0,dwManufacturer:0,dwProduct:0,dwSamplePeriod:0,dwMIDIUnityNote:0,dwMIDIPitchFraction:0,dwSMPTEFormat:0,dwSMPTEOffset:0,dwNumSampleLoops:0,dwSamplerData:0,loops:[]},e.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[0,0],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""},e.iXML={chunkId:"",chunkSize:0,value:""},e.ds64={chunkId:"",chunkSize:0,riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0},e.data={chunkId:"",chunkSize:0,samples:new Uint8Array(0)},e.LIST=[],e.junk={chunkId:"",chunkSize:0,chunkData:[]},e._PMX={chunkId:"",chunkSize:0,value:""},e.uInt16={bits:16,be:!1,signed:!1,fp:!1},e}return Ba(t,[{key:"fromBuffer",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.clearHeaders(),this.setSignature(e),this.uInt16.be=this.uInt32.be,"WAVE"!=this.format)throw Error('Could not find the "WAVE" format identifier');this.readDs64Chunk_(e),this.readFmtChunk_(e),this.readFactChunk_(e),this.readBextChunk_(e),this.readiXMLChunk_(e),this.readCueChunk_(e),this.readSmplChunk_(e),this.readDataChunk_(e,n),this.readJunkChunk_(e),this.readLISTChunk_(e),this.read_PMXChunk_(e)}},{key:"clearHeaders",value:function(){var e=new t;Object.assign(this.fmt,e.fmt),Object.assign(this.fact,e.fact),Object.assign(this.cue,e.cue),Object.assign(this.smpl,e.smpl),Object.assign(this.bext,e.bext),Object.assign(this.iXML,e.iXML),Object.assign(this.ds64,e.ds64),Object.assign(this.data,e.data),this.LIST=[],Object.assign(this.junk,e.junk),Object.assign(this._PMX,e._PMX)}},{key:"readFmtChunk_",value:function(e){var n=this.findChunk("fmt ");if(!n)throw Error('Could not find the "fmt " chunk');this.head=n.chunkData.start,this.fmt.chunkId=n.chunkId,this.fmt.chunkSize=n.chunkSize,this.fmt.audioFormat=this.readUInt16_(e),this.fmt.numChannels=this.readUInt16_(e),this.fmt.sampleRate=this.readUInt32(e),this.fmt.byteRate=this.readUInt32(e),this.fmt.blockAlign=this.readUInt16_(e),this.fmt.bitsPerSample=this.readUInt16_(e),this.readFmtExtension_(e)}},{key:"readFmtExtension_",value:function(e){this.fmt.chunkSize>16&&(this.fmt.cbSize=this.readUInt16_(e),this.fmt.chunkSize>18&&(this.fmt.validBitsPerSample=this.readUInt16_(e),this.fmt.chunkSize>20&&(this.fmt.dwChannelMask=this.readUInt32(e),this.fmt.subformat=[this.readUInt32(e),this.readUInt32(e),this.readUInt32(e),this.readUInt32(e)])))}},{key:"readFactChunk_",value:function(e){var n=this.findChunk("fact");n&&(this.head=n.chunkData.start,this.fact.chunkId=n.chunkId,this.fact.chunkSize=n.chunkSize,this.fact.dwSampleLength=this.readUInt32(e))}},{key:"readCueChunk_",value:function(e){var n=this.findChunk("cue ");if(n){this.head=n.chunkData.start,this.cue.chunkId=n.chunkId,this.cue.chunkSize=n.chunkSize,this.cue.dwCuePoints=this.readUInt32(e);for(var t=0;t<this.cue.dwCuePoints;t++)this.cue.points.push({dwName:this.readUInt32(e),dwPosition:this.readUInt32(e),fccChunk:this.readString(e,4),dwChunkStart:this.readUInt32(e),dwBlockStart:this.readUInt32(e),dwSampleOffset:this.readUInt32(e)})}}},{key:"readSmplChunk_",value:function(e){var n=this.findChunk("smpl");if(n){this.head=n.chunkData.start,this.smpl.chunkId=n.chunkId,this.smpl.chunkSize=n.chunkSize,this.smpl.dwManufacturer=this.readUInt32(e),this.smpl.dwProduct=this.readUInt32(e),this.smpl.dwSamplePeriod=this.readUInt32(e),this.smpl.dwMIDIUnityNote=this.readUInt32(e),this.smpl.dwMIDIPitchFraction=this.readUInt32(e),this.smpl.dwSMPTEFormat=this.readUInt32(e),this.smpl.dwSMPTEOffset=this.readUInt32(e),this.smpl.dwNumSampleLoops=this.readUInt32(e),this.smpl.dwSamplerData=this.readUInt32(e);for(var t=0;t<this.smpl.dwNumSampleLoops;t++)this.smpl.loops.push({dwName:this.readUInt32(e),dwType:this.readUInt32(e),dwStart:this.readUInt32(e),dwEnd:this.readUInt32(e),dwFraction:this.readUInt32(e),dwPlayCount:this.readUInt32(e)})}}},{key:"readDataChunk_",value:function(e,n){var t=this.findChunk("data");if(!t)throw Error('Could not find the "data" chunk');this.data.chunkId="data",this.data.chunkSize=t.chunkSize,n&&(this.data.samples=e.slice(t.chunkData.start,t.chunkData.end))}},{key:"readBextChunk_",value:function(e){var n=this.findChunk("bext");n&&(this.head=n.chunkData.start,this.bext.chunkId=n.chunkId,this.bext.chunkSize=n.chunkSize,this.bext.description=this.readString(e,256),this.bext.originator=this.readString(e,32),this.bext.originatorReference=this.readString(e,32),this.bext.originationDate=this.readString(e,10),this.bext.originationTime=this.readString(e,8),this.bext.timeReference=[this.readUInt32(e),this.readUInt32(e)],this.bext.version=this.readUInt16_(e),this.bext.UMID=this.readString(e,64),this.bext.loudnessValue=this.readUInt16_(e),this.bext.loudnessRange=this.readUInt16_(e),this.bext.maxTruePeakLevel=this.readUInt16_(e),this.bext.maxMomentaryLoudness=this.readUInt16_(e),this.bext.maxShortTermLoudness=this.readUInt16_(e),this.bext.reserved=this.readString(e,180),this.bext.codingHistory=this.readString(e,this.bext.chunkSize-602))}},{key:"readiXMLChunk_",value:function(e){var n=this.findChunk("iXML");n&&(this.head=n.chunkData.start,this.iXML.chunkId=n.chunkId,this.iXML.chunkSize=n.chunkSize,this.iXML.value=tc(e,this.head,this.head+this.iXML.chunkSize))}},{key:"readDs64Chunk_",value:function(e){var n=this.findChunk("ds64");if(n)this.head=n.chunkData.start,this.ds64.chunkId=n.chunkId,this.ds64.chunkSize=n.chunkSize,this.ds64.riffSizeHigh=this.readUInt32(e),this.ds64.riffSizeLow=this.readUInt32(e),this.ds64.dataSizeHigh=this.readUInt32(e),this.ds64.dataSizeLow=this.readUInt32(e),this.ds64.originationTime=this.readUInt32(e),this.ds64.sampleCountHigh=this.readUInt32(e),this.ds64.sampleCountLow=this.readUInt32(e);else if("RF64"==this.container)throw Error('Could not find the "ds64" chunk')}},{key:"readLISTChunk_",value:function(e){var n=this.findChunk("LIST",!0);if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];this.LIST.push({chunkId:r.chunkId,chunkSize:r.chunkSize,format:r.format,subChunks:[]});for(var a=0;a<r.subChunks.length;a++)this.readLISTSubChunks_(r.subChunks[a],r.format,e)}}},{key:"readLISTSubChunks_",value:function(e,n,t){"adtl"==n?["labl","note","ltxt"].indexOf(e.chunkId)>-1&&this.readLISTadtlSubChunks_(t,e):"INFO"==n&&this.readLISTINFOSubChunks_(t,e)}},{key:"readLISTadtlSubChunks_",value:function(e,n){this.head=n.chunkData.start;var t={chunkId:n.chunkId,chunkSize:n.chunkSize,dwName:this.readUInt32(e)};"ltxt"==n.chunkId?(t.dwSampleLength=this.readUInt32(e),t.dwPurposeID=this.readUInt32(e),t.dwCountry=this.readUInt16_(e),t.dwLanguage=this.readUInt16_(e),t.dwDialect=this.readUInt16_(e),t.dwCodePage=this.readUInt16_(e),t.value=""):t.value=this.readZSTR_(e,this.head),this.LIST[this.LIST.length-1].subChunks.push(t)}},{key:"readLISTINFOSubChunks_",value:function(e,n){this.head=n.chunkData.start,this.LIST[this.LIST.length-1].subChunks.push({chunkId:n.chunkId,chunkSize:n.chunkSize,value:this.readZSTR_(e,this.head)})}},{key:"readJunkChunk_",value:function(e){var n=this.findChunk("junk");n&&(this.junk={chunkId:n.chunkId,chunkSize:n.chunkSize,chunkData:[].slice.call(e.slice(n.chunkData.start,n.chunkData.end))})}},{key:"read_PMXChunk_",value:function(e){var n=this.findChunk("_PMX");n&&(this.head=n.chunkData.start,this._PMX.chunkId=n.chunkId,this._PMX.chunkSize=n.chunkSize,this._PMX.value=tc(e,this.head,this.head+this._PMX.chunkSize))}},{key:"readZSTR_",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n;t<e.length&&(this.head++,0!==e[t]);t++);return tc(e,n,this.head-1)}},{key:"readUInt16_",value:function(e){var n=uc(e,this.uInt16,this.head);return this.head+=2,n}}]),t}(pc);function mc(e,n){for(var t=rc(e),r=t.length;r<n;r++)t.push(0);return t}var gc=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t,[{key:"toBuffer",value:function(){this.uInt16.be="RIFX"===this.container,this.uInt32.be=this.uInt16.be;for(var e=[this.getJunkBytes_(),this.getDs64Bytes_(),this.getBextBytes_(),this.getiXMLBytes_(),this.getFmtBytes_(),this.getFactBytes_(),rc(this.data.chunkId),cc(this.data.samples.length,this.uInt32),this.data.samples,this.getCueBytes_(),this.getSmplBytes_(),this.getLISTBytes_(),this.get_PMXBytes_()],n=0,t=0;t<e.length;t++)n+=e[t].length;var r=new Uint8Array(n+12),a=0;a=ac(this.container,r,a),a=sc(n+4,this.uInt32,r,a),a=ac(this.format,r,a);for(var o=0;o<e.length;o++)r.set(e[o],a),a+=e[o].length;return r}},{key:"getBextBytes_",value:function(){var e=[];return this.enforceBext_(),this.bext.chunkId&&(this.bext.chunkSize=602+this.bext.codingHistory.length,e=e.concat(rc(this.bext.chunkId),cc(602+this.bext.codingHistory.length,this.uInt32),mc(this.bext.description,256),mc(this.bext.originator,32),mc(this.bext.originatorReference,32),mc(this.bext.originationDate,10),mc(this.bext.originationTime,8),cc(this.bext.timeReference[0],this.uInt32),cc(this.bext.timeReference[1],this.uInt32),cc(this.bext.version,this.uInt16),mc(this.bext.UMID,64),cc(this.bext.loudnessValue,this.uInt16),cc(this.bext.loudnessRange,this.uInt16),cc(this.bext.maxTruePeakLevel,this.uInt16),cc(this.bext.maxMomentaryLoudness,this.uInt16),cc(this.bext.maxShortTermLoudness,this.uInt16),mc(this.bext.reserved,180),mc(this.bext.codingHistory,this.bext.codingHistory.length))),this.enforceByteLen_(e),e}},{key:"enforceBext_",value:function(){for(var e in this.bext)if(this.bext.hasOwnProperty(e)&&this.bext[e]&&"timeReference"!=e){this.bext.chunkId="bext";break}(this.bext.timeReference[0]||this.bext.timeReference[1])&&(this.bext.chunkId="bext")}},{key:"getiXMLBytes_",value:function(){var e=[];if(this.iXML.chunkId){var n=rc(this.iXML.value);this.iXML.chunkSize=n.length,e=e.concat(rc(this.iXML.chunkId),cc(this.iXML.chunkSize,this.uInt32),n)}return this.enforceByteLen_(e),e}},{key:"getDs64Bytes_",value:function(){var e=[];return this.ds64.chunkId&&(e=e.concat(rc(this.ds64.chunkId),cc(this.ds64.chunkSize,this.uInt32),cc(this.ds64.riffSizeHigh,this.uInt32),cc(this.ds64.riffSizeLow,this.uInt32),cc(this.ds64.dataSizeHigh,this.uInt32),cc(this.ds64.dataSizeLow,this.uInt32),cc(this.ds64.originationTime,this.uInt32),cc(this.ds64.sampleCountHigh,this.uInt32),cc(this.ds64.sampleCountLow,this.uInt32))),this.enforceByteLen_(e),e}},{key:"getCueBytes_",value:function(){var e=[];if(this.cue.chunkId){var n=this.getCuePointsBytes_();e=e.concat(rc(this.cue.chunkId),cc(n.length+4,this.uInt32),cc(this.cue.dwCuePoints,this.uInt32),n)}return this.enforceByteLen_(e),e}},{key:"getCuePointsBytes_",value:function(){for(var e=[],n=0;n<this.cue.dwCuePoints;n++)e=e.concat(cc(this.cue.points[n].dwName,this.uInt32),cc(this.cue.points[n].dwPosition,this.uInt32),rc(this.cue.points[n].fccChunk),cc(this.cue.points[n].dwChunkStart,this.uInt32),cc(this.cue.points[n].dwBlockStart,this.uInt32),cc(this.cue.points[n].dwSampleOffset,this.uInt32));return e}},{key:"getSmplBytes_",value:function(){var e=[];if(this.smpl.chunkId){var n=this.getSmplLoopsBytes_();e=e.concat(rc(this.smpl.chunkId),cc(n.length+36,this.uInt32),cc(this.smpl.dwManufacturer,this.uInt32),cc(this.smpl.dwProduct,this.uInt32),cc(this.smpl.dwSamplePeriod,this.uInt32),cc(this.smpl.dwMIDIUnityNote,this.uInt32),cc(this.smpl.dwMIDIPitchFraction,this.uInt32),cc(this.smpl.dwSMPTEFormat,this.uInt32),cc(this.smpl.dwSMPTEOffset,this.uInt32),cc(this.smpl.dwNumSampleLoops,this.uInt32),cc(this.smpl.dwSamplerData,this.uInt32),n)}return this.enforceByteLen_(e),e}},{key:"getSmplLoopsBytes_",value:function(){for(var e=[],n=0;n<this.smpl.dwNumSampleLoops;n++)e=e.concat(cc(this.smpl.loops[n].dwName,this.uInt32),cc(this.smpl.loops[n].dwType,this.uInt32),cc(this.smpl.loops[n].dwStart,this.uInt32),cc(this.smpl.loops[n].dwEnd,this.uInt32),cc(this.smpl.loops[n].dwFraction,this.uInt32),cc(this.smpl.loops[n].dwPlayCount,this.uInt32));return e}},{key:"getFactBytes_",value:function(){var e=[];return this.fact.chunkId&&(e=e.concat(rc(this.fact.chunkId),cc(this.fact.chunkSize,this.uInt32),cc(this.fact.dwSampleLength,this.uInt32))),this.enforceByteLen_(e),e}},{key:"getFmtBytes_",value:function(){if(this.fmt.chunkId){var e=[].concat(rc(this.fmt.chunkId),cc(this.fmt.chunkSize,this.uInt32),cc(this.fmt.audioFormat,this.uInt16),cc(this.fmt.numChannels,this.uInt16),cc(this.fmt.sampleRate,this.uInt32),cc(this.fmt.byteRate,this.uInt32),cc(this.fmt.blockAlign,this.uInt16),cc(this.fmt.bitsPerSample,this.uInt16),this.getFmtExtensionBytes_());return this.enforceByteLen_(e),e}throw Error('Could not find the "fmt " chunk')}},{key:"getFmtExtensionBytes_",value:function(){var e=[];return this.fmt.chunkSize>16&&(e=e.concat(cc(this.fmt.cbSize,this.uInt16))),this.fmt.chunkSize>18&&(e=e.concat(cc(this.fmt.validBitsPerSample,this.uInt16))),this.fmt.chunkSize>20&&(e=e.concat(cc(this.fmt.dwChannelMask,this.uInt32))),this.fmt.chunkSize>24&&(e=e.concat(cc(this.fmt.subformat[0],this.uInt32),cc(this.fmt.subformat[1],this.uInt32),cc(this.fmt.subformat[2],this.uInt32),cc(this.fmt.subformat[3],this.uInt32))),e}},{key:"getLISTBytes_",value:function(){for(var e=[],n=0;n<this.LIST.length;n++){var t=this.getLISTSubChunksBytes_(this.LIST[n].subChunks,this.LIST[n].format);e=e.concat(rc(this.LIST[n].chunkId),cc(t.length+4,this.uInt32),rc(this.LIST[n].format),t)}return this.enforceByteLen_(e),e}},{key:"getLISTSubChunksBytes_",value:function(e,n){for(var t=[],r=0,a=e.length;r<a;r++)"INFO"==n?t=t.concat(this.getLISTINFOSubChunksBytes_(e[r])):"adtl"==n&&(t=t.concat(this.getLISTadtlSubChunksBytes_(e[r]))),this.enforceByteLen_(t);return t}},{key:"getLISTINFOSubChunksBytes_",value:function(e){var n=[],t=mc(e.value,e.value.length);return(n=n.concat(rc(e.chunkId),cc(t.length+1,this.uInt32),t)).push(0),n}},{key:"getLISTadtlSubChunksBytes_",value:function(e){var n=[];if(["labl","note"].indexOf(e.chunkId)>-1){var t=mc(e.value,e.value.length);(n=n.concat(rc(e.chunkId),cc(t.length+4+1,this.uInt32),cc(e.dwName,this.uInt32),t)).push(0)}else"ltxt"==e.chunkId&&(n=n.concat(this.getLtxtChunkBytes_(e)));return n}},{key:"getLtxtChunkBytes_",value:function(e){return[].concat(rc(e.chunkId),cc(e.value.length+20,this.uInt32),cc(e.dwName,this.uInt32),cc(e.dwSampleLength,this.uInt32),cc(e.dwPurposeID,this.uInt32),cc(e.dwCountry,this.uInt16),cc(e.dwLanguage,this.uInt16),cc(e.dwDialect,this.uInt16),cc(e.dwCodePage,this.uInt16),mc(e.value,e.value.length))}},{key:"get_PMXBytes_",value:function(){var e=[];if(this._PMX.chunkId){var n=rc(this._PMX.value);this._PMX.chunkSize=n.length,e=e.concat(rc(this._PMX.chunkId),cc(this._PMX.chunkSize,this.uInt32),n)}return this.enforceByteLen_(e),e}},{key:"getJunkBytes_",value:function(){var e=[];return this.junk.chunkId?e.concat(rc(this.junk.chunkId),cc(this.junk.chunkData.length,this.uInt32),this.junk.chunkData):(this.enforceByteLen_(e),e)}},{key:"enforceByteLen_",value:function(e){e.length%2&&e.push(0)}}]),t}(hc);function vc(e,n,t){return!(t<1||e*(n/8)*t>4294967295)}var yc=function(e){Wa(t,e);var n=qa(t);function t(){var e;return Ua(this,t),(e=n.call(this)).bitDepth="0",e.dataType={bits:0,be:!1},e.WAV_AUDIO_FORMATS={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,64:3},e}return Ba(t,[{key:"fromScratch",value:function(e,n,t,r,a){a=a||{},this.clearHeaders(),this.newWavFile_(e,n,t,r,a)}},{key:"fromBuffer",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];dc(Ga(t.prototype),"fromBuffer",this).call(this,e,n),this.bitDepthFromFmt_(),this.updateDataType_()}},{key:"toBuffer",value:function(){return this.validateWavHeader_(),dc(Ga(t.prototype),"toBuffer",this).call(this)}},{key:"getSamples",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float64Array,t=new n(this.data.samples.length/(this.dataType.bits/8));return ic(this.data.samples,this.dataType,t,0,this.data.samples.length),!e&&this.fmt.numChannels>1?function(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=[],a=0;a<n;a++)r[a]=new t(e.length/n);for(var o=0;o<n;o++)for(var i=o,s=0;i<e.length;i+=n,s++)r[o][s]=e[i];return r}(t,this.fmt.numChannels,n):t}},{key:"getSample",value:function(e){if((e*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");return uc(this.data.samples.slice(e,e+this.dataType.bits/8),this.dataType)}},{key:"setSample",value:function(e,n){if((e*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");sc(n,this.dataType,this.data.samples,e)}},{key:"getiXML",value:function(){return this.iXML.value}},{key:"setiXML",value:function(e){if("string"!==typeof e)throw new TypeError("iXML value must be a string.");this.iXML.value=e,this.iXML.chunkId="iXML"}},{key:"get_PMX",value:function(){return this._PMX.value}},{key:"set_PMX",value:function(e){if("string"!==typeof e)throw new TypeError("_PMX value must be a string.");this._PMX.value=e,this._PMX.chunkId="_PMX"}},{key:"newWavFile_",value:function(e,n,t,r,a){a.container||(a.container="RIFF"),this.container=a.container,this.bitDepth=t,r=function(e){var n=[];if(e.length>0)if(e[0].constructor!==Number){n=new Float64Array(e[0].length*e.length);for(var t=0,r=e[0].length,a=0;t<r;t++)for(var o=0,i=e.length;o<i;o++,a++)n[a]=e[o][t]}else n=e;return n}(r),this.updateDataType_();var o=this.dataType.bits/8;this.data.samples=new Uint8Array(r.length*o),oc(r,this.dataType,this.data.samples,0),this.makeWavHeader_(t,e,n,o,this.data.samples.length,a),this.data.chunkId="data",this.data.chunkSize=this.data.samples.length,this.validateWavHeader_()}},{key:"makeWavHeader_",value:function(e,n,t,r,a,o){"4"==e?this.createADPCMHeader_(e,n,t,r,a,o):"8a"==e||"8m"==e?this.createALawMulawHeader_(e,n,t,r,a,o):-1==Object.keys(this.WAV_AUDIO_FORMATS).indexOf(e)||n>2?this.createExtensibleHeader_(e,n,t,r,a,o):this.createPCMHeader_(e,n,t,r,a,o)}},{key:"createPCMHeader_",value:function(e,n,t,r,a,o){this.container=o.container,this.chunkSize=36+a,this.format="WAVE",this.bitDepth=e,this.fmt={chunkId:"fmt ",chunkSize:16,audioFormat:this.WAV_AUDIO_FORMATS[e]||65534,numChannels:n,sampleRate:t,byteRate:n*r*t,blockAlign:n*r,bitsPerSample:parseInt(e,10),cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]}}},{key:"createADPCMHeader_",value:function(e,n,t,r,a,o){this.createPCMHeader_(e,n,t,r,a,o),this.chunkSize=40+a,this.fmt.chunkSize=20,this.fmt.byteRate=4055,this.fmt.blockAlign=256,this.fmt.bitsPerSample=4,this.fmt.cbSize=2,this.fmt.validBitsPerSample=505,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:2*a}}},{key:"createExtensibleHeader_",value:function(e,n,t,r,a,o){this.createPCMHeader_(e,n,t,r,a,o),this.chunkSize=60+a,this.fmt.chunkSize=40,this.fmt.bitsPerSample=1+(parseInt(e,10)-1|7),this.fmt.cbSize=22,this.fmt.validBitsPerSample=parseInt(e,10),this.fmt.dwChannelMask=function(e){var n=0;1===e?n=4:2===e?n=3:4===e?n=51:6===e?n=63:8===e&&(n=1599);return n}(n),this.fmt.subformat=[1,1048576,2852126848,1905997824]}},{key:"createALawMulawHeader_",value:function(e,n,t,r,a,o){this.createPCMHeader_(e,n,t,r,a,o),this.chunkSize=40+a,this.fmt.chunkSize=20,this.fmt.cbSize=2,this.fmt.validBitsPerSample=8,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:a}}},{key:"bitDepthFromFmt_",value:function(){3===this.fmt.audioFormat&&32===this.fmt.bitsPerSample?this.bitDepth="32f":6===this.fmt.audioFormat?this.bitDepth="8a":7===this.fmt.audioFormat?this.bitDepth="8m":this.bitDepth=this.fmt.bitsPerSample.toString()}},{key:"validateBitDepth_",value:function(){if(!this.WAV_AUDIO_FORMATS[this.bitDepth]){if(parseInt(this.bitDepth,10)>8&&parseInt(this.bitDepth,10)<54)return!0;throw new Error("Invalid bit depth.")}return!0}},{key:"updateDataType_",value:function(){this.dataType={bits:1+(parseInt(this.bitDepth,10)-1|7),fp:"32f"==this.bitDepth||"64"==this.bitDepth,signed:"8"!=this.bitDepth,be:"RIFX"==this.container},["4","8a","8m"].indexOf(this.bitDepth)>-1&&(this.dataType.bits=8,this.dataType.signed=!1)}},{key:"validateWavHeader_",value:function(){if(this.validateBitDepth_(),e=this.fmt.numChannels,n=this.fmt.bitsPerSample,e<1||e*n/8>65535)throw new Error("Invalid number of channels.");var e,n;if(!vc(this.fmt.numChannels,this.fmt.bitsPerSample,this.fmt.sampleRate))throw new Error("Invalid sample rate.")}}]),t}(gc);var bc=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t,[{key:"getTag",value:function(e){var n=this.getTagIndex_(e);return null!==n.TAG?this.LIST[n.LIST].subChunks[n.TAG].value:null}},{key:"setTag",value:function(e,n){e=function(e){if(e.constructor!==String)throw new Error("Invalid tag name.");if(e.length<4)for(var n=0,t=4-e.length;n<t;n++)e+=" ";return e}(e);var t=this.getTagIndex_(e);null!==t.TAG?(this.LIST[t.LIST].subChunks[t.TAG].chunkSize=n.length+1,this.LIST[t.LIST].subChunks[t.TAG].value=n):null!==t.LIST?this.LIST[t.LIST].subChunks.push({chunkId:e,chunkSize:n.length+1,value:n}):(this.LIST.push({chunkId:"LIST",chunkSize:8+n.length+1,format:"INFO",subChunks:[]}),this.LIST[this.LIST.length-1].subChunks.push({chunkId:e,chunkSize:n.length+1,value:n}))}},{key:"deleteTag",value:function(e){var n=this.getTagIndex_(e);return null!==n.TAG&&(this.LIST[n.LIST].subChunks.splice(n.TAG,1),!0)}},{key:"listTags",value:function(){var e=this.getLISTIndex("INFO"),n={};if(null!==e)for(var t=0,r=this.LIST[e].subChunks.length;t<r;t++)n[this.LIST[e].subChunks[t].chunkId]=this.LIST[e].subChunks[t].value;return n}},{key:"getLISTIndex",value:function(e){for(var n=0,t=this.LIST.length;n<t;n++)if(this.LIST[n].format==e)return n;return null}},{key:"getTagIndex_",value:function(e){for(var n={LIST:null,TAG:null},t=0,r=this.LIST.length;t<r;t++)if("INFO"==this.LIST[t].format){n.LIST=t;for(var a=0,o=this.LIST[t].subChunks.length;a<o;a++)if(this.LIST[t].subChunks[a].chunkId==e){n.TAG=a;break}break}return n}}]),t}(yc);var Sc=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t,[{key:"listCuePoints",value:function(){for(var e=this.getCuePoints_(),n=0,t=e.length;n<t;n++)e[n].position=e[n].dwSampleOffset/this.fmt.sampleRate*1e3,e[n].dwSampleLength?(e[n].end=e[n].dwSampleLength/this.fmt.sampleRate*1e3,e[n].end+=e[n].position):e[n].end=null,delete e[n].value;return e}},{key:"setCuePoint",value:function(e){this.cue.chunkId="cue ",e.label||(e.label="");var n=this.getCuePoints_();this.clearLISTadtl_(),this.cue.points=[],e.dwSampleOffset=e.position*this.fmt.sampleRate/1e3,e.dwSampleLength=0,e.end&&(e.dwSampleLength=e.end*this.fmt.sampleRate/1e3-e.dwSampleOffset),0===n.length?this.setCuePoint_(e,1):this.setCuePointInOrder_(n,e),this.cue.dwCuePoints=this.cue.points.length}},{key:"deleteCuePoint",value:function(e){this.cue.chunkId="cue ";var n=this.getCuePoints_();this.clearLISTadtl_();var t=this.cue.points.length;this.cue.points=[];for(var r=0;r<t;r++)r+1!==e&&this.setCuePoint_(n[r],r+1);this.cue.dwCuePoints=this.cue.points.length,this.cue.dwCuePoints?this.cue.chunkId="cue ":(this.cue.chunkId="",this.clearLISTadtl_())}},{key:"updateLabel",value:function(e,n){var t=this.getLISTIndex("adtl");if(null!==t)for(var r=0,a=this.LIST[t].subChunks.length;r<a;r++)this.LIST[t].subChunks[r].dwName==e&&(this.LIST[t].subChunks[r].value=n)}},{key:"getCuePoints_",value:function(){for(var e=[],n=0;n<this.cue.points.length;n++){var t=this.cue.points[n],r=this.getDataForCuePoint_(t.dwName);r.label=r.value?r.value:"",r.dwPosition=t.dwPosition,r.fccChunk=t.fccChunk,r.dwChunkStart=t.dwChunkStart,r.dwBlockStart=t.dwBlockStart,r.dwSampleOffset=t.dwSampleOffset,e.push(r)}return e}},{key:"getDataForCuePoint_",value:function(e){var n=this.getLISTIndex("adtl"),t={};return null!==n&&this.getCueDataFromLIST_(t,n,e),t}},{key:"getCueDataFromLIST_",value:function(e,n,t){for(var r=0,a=this.LIST[n].subChunks.length;r<a;r++)if(this.LIST[n].subChunks[r].dwName==t){var o=this.LIST[n].subChunks[r];e.value=o.value||e.value,e.dwName=o.dwName||0,e.dwSampleLength=o.dwSampleLength||0,e.dwPurposeID=o.dwPurposeID||0,e.dwCountry=o.dwCountry||0,e.dwLanguage=o.dwLanguage||0,e.dwDialect=o.dwDialect||0,e.dwCodePage=o.dwCodePage||0}}},{key:"setCuePoint_",value:function(e,n){this.cue.points.push({dwName:n,dwPosition:e.dwPosition?e.dwPosition:0,fccChunk:e.fccChunk?e.fccChunk:"data",dwChunkStart:e.dwChunkStart?e.dwChunkStart:0,dwBlockStart:e.dwBlockStart?e.dwBlockStart:0,dwSampleOffset:e.dwSampleOffset}),this.setLabl_(e,n)}},{key:"setCuePointInOrder_",value:function(e,n){for(var t=!1,r=0;r<e.length;r++)e[r].dwSampleOffset>n.dwSampleOffset&&!t?(this.setCuePoint_(n,r+1),this.setCuePoint_(e[r],r+2),t=!0):this.setCuePoint_(e[r],t?r+2:r+1);t||this.setCuePoint_(n,this.cue.points.length+1)}},{key:"clearLISTadtl_",value:function(){for(var e=0,n=this.LIST.length;e<n;e++)"adtl"==this.LIST[e].format&&this.LIST.splice(e)}},{key:"setLabl_",value:function(e,n){var t=this.getLISTIndex("adtl");null===t&&(this.LIST.push({chunkId:"LIST",chunkSize:4,format:"adtl",subChunks:[]}),t=this.LIST.length-1),this.setLabelText_(t,e,n),e.dwSampleLength&&this.setLtxtChunk_(t,e,n)}},{key:"setLabelText_",value:function(e,n,t){this.LIST[e].subChunks.push({chunkId:"labl",chunkSize:4,dwName:t,value:n.label}),this.LIST[e].chunkSize+=12}},{key:"setLtxtChunk_",value:function(e,n,t){this.LIST[e].subChunks.push({chunkId:"ltxt",chunkSize:20,dwName:t,dwSampleLength:n.dwSampleLength,dwPurposeID:n.dwPurposeID||0,dwCountry:n.dwCountry||0,dwLanguage:n.dwLanguage||0,dwDialect:n.dwDialect||0,dwCodePage:n.dwCodePage||0,value:n.label}),this.LIST[e].chunkSize+=28}}]),t}(bc),wc=function(){function e(n,t,r){Ua(this,e),this.length_=n,this.scaleFactor_=(n-1)/t,this.interpolate=this.sinc,"point"===r.method?this.interpolate=this.point:"linear"===r.method?this.interpolate=this.linear:"cubic"===r.method&&(this.interpolate=this.cubic),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=function(e){return function(n){return function(e){if(0===e)return 1;return Math.sin(Math.PI*e)/(Math.PI*e)}(n)*e(n)}}(r.sincWindow||_c)}return Ba(e,[{key:"point",value:function(e,n){return this.getClippedInput_(Math.round(this.scaleFactor_*e),n)}},{key:"linear",value:function(e,n){e=this.scaleFactor_*e;var t=Math.floor(e);return(1-(e-=t))*this.getClippedInput_(t,n)+e*this.getClippedInput_(t+1,n)}},{key:"cubic",value:function(e,n){e=this.scaleFactor_*e;var t=Math.floor(e),r=[this.getTangent_(t,n),this.getTangent_(t+1,n)],a=[this.getClippedInput_(t,n),this.getClippedInput_(t+1,n)],o=(e-=t)*e,i=e*o;return(2*i-3*o+1)*a[0]+(i-2*o+e)*r[0]+(-2*i+3*o)*a[1]+(i-o)*r[1]}},{key:"sinc",value:function(e,n){e=this.scaleFactor_*e;for(var t=Math.floor(e),r=t-this.sincFilterSize_+1,a=t+this.sincFilterSize_,o=0,i=r;i<=a;i++)o+=this.kernel_(e-i)*this.getClippedInput_(i,n);return o}},{key:"getTangent_",value:function(e,n){return this.tangentFactor_*(this.getClippedInput_(e+1,n)-this.getClippedInput_(e-1,n))/2}},{key:"getClippedInput_",value:function(e,n){return 0<=e&&e<this.length_?n[e]:0}}]),e}();function _c(e){return Math.exp(-e/2*e/2)}var kc=function(){function e(n,t,r){Ua(this,e);var a=2*Math.PI*r/t,o=0;this.filters=[];for(var i=0;i<=n;i++)i-n/2===0?this.filters[i]=a:(this.filters[i]=Math.sin(a*(i-n/2))/(i-n/2),this.filters[i]*=.54-.46*Math.cos(2*Math.PI*i/n)),o+=this.filters[i];for(var s=0;s<=n;s++)this.filters[s]/=o;this.z=this.initZ_()}return Ba(e,[{key:"filter",value:function(e){this.z.buf[this.z.pointer]=e;for(var n=0,t=0,r=this.z.buf.length;t<r;t++)n+=this.filters[t]*this.z.buf[(this.z.pointer+t)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,n}},{key:"reset",value:function(){this.z=this.initZ_()}},{key:"initZ_",value:function(){for(var e=[],n=0;n<this.filters.length-1;n++)e.push(0);return{buf:e,pointer:0}}}]),e}(),xc=function(){function e(n,t,r){Ua(this,e);for(var a=[],o=0;o<n;o++)a.push(this.getCoeffs_({Fs:t,Fc:r,Q:.5/Math.sin(Math.PI/(2*n)*(o+.5))}));this.stages=[];for(var i=0;i<a.length;i++)this.stages[i]={b0:a[i].b[0],b1:a[i].b[1],b2:a[i].b[2],a1:a[i].a[0],a2:a[i].a[1],k:a[i].k,z:[0,0]}}return Ba(e,[{key:"filter",value:function(e){for(var n=e,t=0,r=this.stages.length;t<r;t++)n=this.runStage_(t,n);return n}},{key:"getCoeffs_",value:function(e){var n={a:[],b:[]},t=this.preCalc_(e,n);return n.k=1,n.b.push((1-t.cw)/(2*t.a0)),n.b.push(2*n.b[0]),n.b.push(n.b[0]),n}},{key:"preCalc_",value:function(e,n){var t={},r=2*Math.PI*e.Fc/e.Fs;return t.alpha=Math.sin(r)/(2*e.Q),t.cw=Math.cos(r),t.a0=1+t.alpha,n.a0=t.a0,n.a.push(-2*t.cw/t.a0),n.k=1,n.a.push((1-t.alpha)/t.a0),t}},{key:"runStage_",value:function(e,n){var t=n*this.stages[e].k-this.stages[e].a1*this.stages[e].z[0]-this.stages[e].a2*this.stages[e].z[1],r=this.stages[e].b0*t+this.stages[e].b1*this.stages[e].z[0]+this.stages[e].b2*this.stages[e].z[1];return this.stages[e].z[1]=this.stages[e].z[0],this.stages[e].z[0]=t,r}},{key:"reset",value:function(){for(var e=0;e<this.stages.length;e++)this.stages[e].z=[0,0]}}]),e}(),Ic={point:!1,linear:!1,cubic:!0,sinc:!0},Ec={IIR:16,FIR:71},Oc={IIR:xc,FIR:kc};function Tc(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r=r||{};var a=(t-n)/n+1,o=new Float64Array(e.length*a);r.method=r.method||"cubic";var i=new wc(e.length,o.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0,clip:r.clip||"mirror"});if(void 0===r.LPF&&(r.LPF=Ic[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";var s=Oc[r.LPFType];if(t>n)!function(e,n,t,r){for(var a=0,o=n.length;a<o;a++)n[a]=r.filter(t.interpolate(a,e));r.reset();for(var i=n.length-1;i>=0;i--)n[i]=r.filter(n[i])}(e,o,i,new s(r.LPForder||Ec[r.LPFType],t,n/2));else!function(e,n,t,r){for(var a=0,o=e.length;a<o;a++)e[a]=r.filter(e[a]);r.reset();for(var i=e.length-1;i>=0;i--)e[i]=r.filter(e[i]);Cc(e,n,t)}(e,o,i,new s(r.LPForder||Ec[r.LPFType],n,t/2))}else Cc(e,o,i);return o}function Cc(e,n,t){for(var r=0,a=n.length;r<a;r++)n[r]=t.interpolate(r,e)}var Ac=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t,[{key:"toRIFF",value:function(){var e=new Float64Array(Fc(this.data.samples.length,this.dataType.bits/8));ic(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,e,{container:"RIFF"})}},{key:"toRIFX",value:function(){var e=new Float64Array(Fc(this.data.samples.length,this.dataType.bits/8));ic(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,e,{container:"RIFX"})}},{key:"toIMAADPCM",value:function(){if(8e3!==this.fmt.sampleRate)throw new Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");if(1!==this.fmt.numChannels)throw new Error("Only mono files can be compressed as IMA-ADPCM.");this.assure16Bit_();var e=new Int16Array(Fc(this.data.samples.length,2));ic(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"4",function(e){for(var n={index:0,predicted:0,step:7},t=new Uint8Array(e.length),r=[],a=0,o=0,i=0,s=e.length;i<s;i++)i%505==0&&0!=i&&(t.set(Ds(r,n),a),a+=256,r=[],o++),r.push(e[i]);var c=e.length/2;return c%2&&c++,t.slice(0,c+512+4*o)}(e),{container:this.correctContainer_()})}},{key:"fromIMAADPCM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16";this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,t={index:0,predicted:0,step:7},r=new Int16Array(2*e.length),a=[],o=0,i=0,s=e.length;i<s;i++){if(i%n==0&&0!=i){var c=js(a,t);r.set(c,o),o+=c.length,a=[]}a.push(e[i])}return r}(this.data.samples,this.fmt.blockAlign),{container:this.correctContainer_()}),"16"!=e&&this.toBitDepth(e)}},{key:"toALaw",value:function(){this.assure16Bit_();var e=new Int16Array(Fc(this.data.samples.length,2));ic(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8a",function(e){for(var n=new Uint8Array(e.length),t=0,r=e.length;t<r;t++)n[t]=Vs(e[t]);return n}(e),{container:this.correctContainer_()})}},{key:"fromALaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16";this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(e){for(var n=new Int16Array(e.length),t=0,r=e.length;t<r;t++)n[t]=Ws(e[t]);return n}(this.data.samples),{container:this.correctContainer_()}),"16"!=e&&this.toBitDepth(e)}},{key:"toMuLaw",value:function(){this.assure16Bit_();var e=new Int16Array(Fc(this.data.samples.length,2));ic(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8m",function(e){for(var n=new Uint8Array(e.length),t=0,r=e.length;t<r;t++)n[t]=Hs(e[t]);return n}(e),{container:this.correctContainer_()})}},{key:"fromMuLaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16";this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(e){for(var n=new Int16Array(e.length),t=0,r=e.length;t<r;t++)n[t]=Xs(e[t]);return n}(this.data.samples),{container:this.correctContainer_()}),"16"!=e&&this.toBitDepth(e)}},{key:"toBitDepth",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=e,r=this.bitDepth;n||("32f"!=e&&(t=this.dataType.bits.toString()),r=""+this.dataType.bits),this.assureUncompressed_();var a=this.getSamples(!0),o=new Float64Array(a.length);Cs(a,r,o,t),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,e,o,{container:this.correctContainer_()})}},{key:"toSampleRate",value:function(e,n){this.validateResample_(e);var t=this.getSamples(),r=[];if(t.constructor===Float64Array)r=Tc(t,this.fmt.sampleRate,e,n);else for(var a=0;a<t.length;a++)r.push(Tc(t[a],this.fmt.sampleRate,e,n));this.fromExisting_(this.fmt.numChannels,e,this.bitDepth,r,{container:this.correctContainer_()})}},{key:"validateResample_",value:function(e){if(!vc(this.fmt.numChannels,this.fmt.bitsPerSample,e))throw new Error("Invalid sample rate.");if(["4","8a","8m"].indexOf(this.bitDepth)>-1)throw new Error("wavefile can't change the sample rate of compressed files.")}},{key:"assure16Bit_",value:function(){this.assureUncompressed_(),"16"!=this.bitDepth&&this.toBitDepth("16")}},{key:"assureUncompressed_",value:function(){"8a"==this.bitDepth?this.fromALaw():"8m"==this.bitDepth?this.fromMuLaw():"4"==this.bitDepth&&this.fromIMAADPCM()}},{key:"correctContainer_",value:function(){return"RF64"==this.container?"RIFF":this.container}},{key:"fromExisting_",value:function(e,n,t,r,a){var o=new Sc;Object.assign(this.fmt,o.fmt),Object.assign(this.fact,o.fact),Object.assign(this.ds64,o.ds64),Object.assign(this.data,o.data),this.newWavFile_(e,n,t,r,a)}}]),t}(Sc);function Fc(e,n){var t=e/n;return t%2&&t++,t}var Mc,Lc,Pc,Nc=function(e){Wa(t,e);var n=qa(t);function t(e){var r;return Ua(this,t),r=n.call(this),e&&r.fromBuffer(e),r}return Ba(t,[{key:"fromBase64",value:function(e){this.fromBuffer(function(e){for(var n=new Uint8Array(256),t=0;t<Ts.length;t++)n[Ts.charCodeAt(t)]=t;var r=.75*e.length;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);for(var a=new Uint8Array(r),o=0,i=0;o<e.length;o+=4){var s=n[e.charCodeAt(o)],c=n[e.charCodeAt(o+1)],u=n[e.charCodeAt(o+2)],l=n[e.charCodeAt(o+3)];a[i++]=s<<2|c>>4,a[i++]=(15&c)<<4|u>>2,a[i++]=(3&u)<<6|63&l}return a}(e))}},{key:"toBase64",value:function(){return function(e){for(var n="",t=0;t<e.length;t+=3)n+=Ts[e[t]>>2],n+=Ts[(3&e[t])<<4|e[t+1]>>4],n+=Ts[(15&e[t+1])<<2|e[t+2]>>6],n+=Ts[63&e[t+2]];return e.length%3===2?n=n.substring(0,n.length-1)+"=":e.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}(this.toBuffer())}},{key:"toDataURI",value:function(){return"data:audio/wav;base64,"+this.toBase64()}},{key:"fromDataURI",value:function(e){this.fromBase64(e.replace("data:audio/wav;base64,",""))}}]),t}(Ac),Rc=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t)}(Xa(Error)),Dc=function(e,n){var t=e[n];if(!t)throw new Error("no artefact was generated for ".concat(n));return t},jc=function(e){return(new TextDecoder).decode(e)},zc=function(){var e=Ra(mt().mark((function e(n,t,r){var a,o,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="assemblyscript",t.wasm||t.compiledJs){e.next=3;break}throw new Error("Need compiled wasm or compiled js to render wav");case 3:return t.wasm||(a="javascript"),e.next=6,Uc(t,a);case 6:return o=e.sent,e.next=9,Vc(o,n,r);case 9:return i=e.sent,e.abrupt("return",Bc(i,r.sampleRate));case 11:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Bc=function(e,n){var t=e.length,r=new Nc;return r.fromScratch(t,n,"32f",e.map((function(e){return e.map((function(e){return e}))}))),r.toBuffer()},Uc=function(){var e=Ra(mt().mark((function e(n,t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="javascript"===e.t0?3:"assemblyscript"===e.t0?4:5;break;case 3:return e.abrupt("return",new Function("\n                ".concat(Dc(n,"compiledJs"),"\n                return exports\n            "))());case 4:return e.abrupt("return",Is(Dc(n,"wasm")));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Vc=function(e,n,t){var r=t.sampleRate,a=t.blockSize,o=t.channelCount,i=Math.round(n*r),s=Wc("in",t),c=Wc("out",t),u=Wc("out",t,i);e.configure(r,a);for(var l=0;l<i;){e.loop(s,c);for(var f=0;f<o.out;f++)u[f].set(c[f].slice(0,Math.min(a,i-l)),l);l+=a}return u},Wc=function(e,n,t){var r=n.channelCount,a=n.blockSize,o=n.bitDepth;void 0===t&&(t=a);for(var i=Eo(o),s=[],c=0;c<r[e];c++)s.push(new i(Math.round(t)));return s},Gc={pd:{extensions:[".pd"],description:"Pure Data text"},pdJson:{extensions:[".pd.json"],description:"Pure Data JSON"},dspGraph:{extensions:[".dsp-graph.json"],description:"WebPd DSP graph"},compiledJs:{extensions:[".js"],description:"JavaScript DSP code"},compiledAsc:{extensions:[".asc"],description:"AssemblyScript DSP code"},wasm:{extensions:[".wasm"],description:"Web Assembly DSP module"},wav:{extensions:[".wav"],description:"WAV audio"}},Kc=["pd","pdJson","dspGraph",[["compiledJs","wav"],["compiledAsc","wasm","wav"]]],$c=function(){var e=Ra(mt().mark((function e(n,t,r){var a,o,i,s,c,u,l,f,d,p,h;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.nodeBuilders,o=r.nodeImplementations,i=r.audioSettings,s=r.inletCallerSpecs,c=r.abstractionLoader,u=[],l=[],e.t0=t,e.next="pdJson"===e.t0?6:"dspGraph"===e.t0?13:"compiledJs"===e.t0||"compiledAsc"===e.t0?26:"wasm"===e.t0?29:"wav"===e.t0?39:43;break;case 6:if(0!==(f=Si(n.pd)).status){e.next=12;break}return n.pdJson=f.pd,e.abrupt("return",{status:0,warnings:Hc(f.warnings)});case 12:return e.abrupt("return",{status:1,warnings:Hc(f.warnings),errors:Hc(f.errors)});case 13:return e.next=15,ns(n.pdJson,a,c);case 15:if((d=e.sent).abstractionsLoadingWarnings&&(u=Object.entries(d.abstractionsLoadingWarnings).filter((function(e){var n=it(e,2);n[0];return!!n[1].length})).flatMap((function(e){var n=it(e,2),t=n[0],r=n[1];return["Warnings when parsing abstraction ".concat(t," :")].concat(Pa(Hc(r)))}))),0!==d.status){e.next=22;break}return n.dspGraph={graph:d.graph,arrays:d.arrays},e.abrupt("return",{status:0,warnings:u});case 22:return p=Object.values(d.abstractionsLoadingErrors).filter((function(e){return!!e.unknownNodeType})).map((function(e){return e.unknownNodeType})),p.length&&(l=[].concat(Pa(l),Pa(qc(new Set(p))))),l=[].concat(Pa(l),Pa(Object.entries(d.abstractionsLoadingErrors).filter((function(e){var n=it(e,2);n[0];return!!n[1].parsingErrors})).flatMap((function(e){var n=it(e,2),t=n[0],r=n[1];return["Failed to parse abstraction ".concat(t," :")].concat(Pa(Hc(r.parsingErrors)))})))),e.abrupt("return",{status:1,errors:l,warnings:u});case 26:return h=$o(n.dspGraph.graph,o,{target:"compiledJs"===t?"javascript":"assemblyscript",audioSettings:i,inletCallerSpecs:s,arrays:n.dspGraph.arrays}),"compiledJs"===t?n.compiledJs=h.code:n.compiledAsc=h.code,e.abrupt("return",{status:0,warnings:[]});case 29:return e.prev=29,e.next=32,ja(Dc(n,"compiledAsc"),i.bitDepth);case 32:n.wasm=e.sent,e.next=38;break;case 35:return e.prev=35,e.t1=e.catch(29),e.abrupt("return",{status:1,errors:[e.t1.message],warnings:[]});case 38:return e.abrupt("return",{status:0,warnings:[]});case 39:return e.next=41,zc(i.previewDurationSeconds,n,i);case 41:return n.wav=e.sent,e.abrupt("return",{status:0,warnings:[]});case 43:throw new Error("invalid build step ".concat(t));case 44:case"end":return e.stop()}}),e,null,[[29,35]])})));return function(n,t,r){return e.apply(this,arguments)}}(),qc=function(e){return["Unknown object types ".concat(Array.from(e).map((function(e){return"".concat(e)})).join(", "))]},Hc=function(e){return e.map((function(e){var n=e.message,t=e.lineIndex;return"line ".concat(t," : ").concat(n)}))},Xc=function e(n,t,r){var a=Pa(r);return n.flatMap((function(n){return Array.isArray(n)?e(n,t,a):(a=[].concat(Pa(a),[n]),n===t?[a]:[])}))},Yc=function e(n,t){var r=Pa(t);return n.flatMap((function(t,a){return Array.isArray(t)?e(t,r):(r=[].concat(Pa(r),[t]),a===n.length-1?[r]:[])}))},Qc=function(e){if("number"!==typeof e)throw new nu("".concat(e," is not a number"));return e},Jc=function(e){if("string"!==typeof e)throw new nu("".concat(e," is not a string"));return e},Zc=function(e){return void 0!==e?Qc(e):void 0},eu=function(e){return void 0!==e?Jc(e):void 0},nu=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t)}(Xa(Error)),tu={translateArgs:function(e,n){var t;if(e.args.length)t=e.args.map((function(e){return Qc(e)-1}));else{var r=new Set;n.connections.forEach((function(n){n.sink.nodeId===e.id&&r.add(n.sink.portletId)}));var a=Math.max.apply(Math,Pa(r));t=[];for(var o=0;o<=a;o++)t.push(o)}return{channelMapping:t}},build:function(e){return{inlets:Fo(e.channelMapping,(function(e,n){return["".concat(n),{type:"signal",id:"".concat(n)}]})),outlets:{},isPullingSignal:!0}}},ru={loop:function(e){var n=e.ins,t=e.globs,r=e.node,a=e.compilation,o=a.audioSettings,i=a.target;return r.args.channelMapping.map((function(e,n){return[e,n]})).filter((function(e){var n=it(e,1)[0];return 0<=n&&n<o.channelCount.out})).map((function(e){var r=it(e,2),a=r[0],o=r[1];return"javascript"===i?"".concat(t.output,"[").concat(a,"][").concat(t.iterFrame,"] = ").concat(n["".concat(o)]):"".concat(t.output,"[").concat(t.iterFrame," + ").concat(t.blockSize," * ").concat(a,"] = ").concat(n["".concat(o)])})).join("\n")+"\n"},stateVariables:{}},au={translateArgs:function(e,n){var t;if(e.args.length)t=e.args.map((function(e){return Qc(e)-1}));else{var r=new Set;n.connections.forEach((function(n){n.source.nodeId===e.id&&r.add(n.source.portletId)}));var a=Math.max.apply(Math,Pa(r));t=[];for(var o=0;o<=a;o++)t.push(o)}return{channelMapping:t}},build:function(e){return{inlets:{},outlets:Fo(e.channelMapping,(function(e,n){return["".concat(n),{type:"signal",id:"".concat(n)}]}))}}},ou={loop:function(e){var n=e.outs,t=e.globs,r=e.node,a=e.compilation,o=a.audioSettings,i=a.target;return r.args.channelMapping.map((function(e,n){return[e,n]})).filter((function(e){var n=it(e,1)[0];return 0<=n&&n<o.channelCount.in})).map((function(e){var r=it(e,2),a=r[0],o=r[1];return"javascript"===i?"".concat(n["".concat(o)]," = ").concat(t.input,"[").concat(a,"][").concat(t.iterFrame,"]"):"".concat(n["".concat(o)]," = ").concat(t.input,"[").concat(t.iterFrame," + ").concat(t.blockSize," * ").concat(a,"]")})).join("\n")+"\n"},stateVariables:{}},iu=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function msg_isBang ".concat(t([r("message","Message")],"boolean")," {\n        return (\n            msg_isStringToken(message, 0) \n            && msg_readStringToken(message, 0) === 'bang'\n        )\n    }\n\n    function msg_bang ").concat(t([],"Message")," {\n        const ").concat(r("message","Message")," = msg_create([MSG_STRING_TOKEN, 4])\n        msg_writeStringToken(message, 0, 'bang')\n        return message\n    }\n\n    function msg_emptyToBang ").concat(t([r("message","Message")],"Message")," {\n        if (msg_getLength(message) === 0) {\n            return msg_bang()\n        } else {\n            return message\n        }\n    }\n")},su=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n\n    function msg_copyTemplate ".concat(t([r("src","Message"),r("start","Int"),r("end","Int")],"MessageTemplate")," {\n        const ").concat(r("template","MessageTemplate")," = []\n        for (let ").concat(r("i","Int")," = start; i < end; i++) {\n            const ").concat(r("tokenType","Int")," = msg_getTokenType(src, i)\n            template.push(tokenType)\n            if (tokenType === MSG_STRING_TOKEN) {\n                template.push(msg_readStringToken(src, i).length)\n            }\n        }\n        return template\n    }\n\n    function msg_copyMessage ").concat(t([r("src","Message"),r("dest","Message"),r("srcStart","Int"),r("srcEnd","Int"),r("destStart","Int")],"void")," {\n        let ").concat(r("i","Int")," = srcStart\n        let ").concat(r("j","Int")," = destStart\n        for (i, j; i < srcEnd; i++, j++) {\n            if (msg_getTokenType(src, i) === MSG_STRING_TOKEN) {\n                msg_writeStringToken(dest, j, msg_readStringToken(src, i))\n            } else {\n                msg_writeFloatToken(dest, j, msg_readFloatToken(src, i))\n            }\n        }\n    }\n\n    function msg_slice ").concat(t([r("message","Message"),r("start","Int"),r("end","Int")],"Message")," {\n        if (msg_getLength(message) <= start) {\n            throw new Error('message empty')\n        }\n        const ").concat(r("template","MessageTemplate")," = msg_copyTemplate(message, start, end)\n        const ").concat(r("newMessage","Message")," = msg_create(template)\n        msg_copyMessage(message, newMessage, start, end, 0)\n        return newMessage\n    }\n\n    function msg_concat  ").concat(t([r("message1","Message"),r("message2","Message")],"Message")," {\n        const ").concat(r("newMessage","Message")," = msg_create(\n            msg_copyTemplate(message1, 0, msg_getLength(message1))\n                .concat(msg_copyTemplate(message2, 0, msg_getLength(message2))))\n        msg_copyMessage(message1, newMessage, 0, msg_getLength(message1), 0)\n        msg_copyMessage(message2, newMessage, 0, msg_getLength(message2), msg_getLength(message1))\n        return newMessage\n    }\n\n    function msg_shift ").concat(t([r("message","Message")],"Message")," {\n        switch (msg_getLength(message)) {\n            case 0:\n                throw new Error('message empty')\n            case 1:\n                return msg_create([])\n            default:\n                return msg_slice(message, 1, msg_getLength(message))\n        }\n    }\n")},cu=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function msg_isAction ".concat(t([r("message","Message"),r("action","string")],"boolean")," {\n        return msg_isMatching(message, [MSG_STRING_TOKEN])\n            && msg_readStringToken(message, 0) === action\n    }\n")},uu={stateVariables:{},messages:function(e){var n=e.globs,t=e.snds;return{0:"\n    if (msg_isBang(".concat(n.m,")) { \n        ").concat(t.$0,"(msg_floats([").concat(n.sampleRate,"])) \n        return\n    }")}},sharedCode:[iu]},lu=function(e,n){return"if (msg_isMatching(".concat(e,", [MSG_FLOAT_TOKEN])) {\n        ").concat(n," = msg_readFloatToken(").concat(e,", 0)\n        return\n    }")},fu=function(e,n){return"if (msg_isMatching(".concat(e,", [MSG_FLOAT_TOKEN])) {\n        ").concat(n,"(msg_readFloatToken(").concat(e,", 0))\n        return\n    }")},du={phase:1,frequency:1,J:1,K:1,funcSetFrequency:1,funcSetPhase:1},pu={translateArgs:function(e){return{frequency:Zc(e.args[0])||0}},build:function(){return{inlets:{"0_message":{type:"message",id:"0_message"},0:{type:"signal",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"signal",id:"0"}}}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},hu=function(e){var n=e.coeff,t=e.generateOperation,r=function(e){var t=e.state,r=e.globs,a=e.macros.Var;return"\n        let ".concat(a(t.phase,"Float")," = 0\n        let ").concat(a(t.J,"Float"),"\n\n        commons_waitEngineConfigure(() => {\n            ").concat(t.J," = ").concat(n?"".concat(n):"1"," / ").concat(r.sampleRate,"\n        })\n    ")},a=function(e){var t=e.state,r=e.globs,a=e.node.args,o=e.macros,i=o.Func,s=o.Var;return"\n        let ".concat(s(t.phase,"Float")," = 0\n        let ").concat(s(t.frequency,"Float")," = ").concat(a.frequency,"\n        let ").concat(s(t.K,"Float")," = 0\n\n        function ").concat(t.funcSetFrequency," ").concat(i([s("frequency","Float")],"void")," {\n            ").concat(t.frequency," = frequency\n            ").concat(t.K," = ").concat(n?"".concat(n," * "):"").concat(t.frequency," / ").concat(r.sampleRate,"\n        }\n\n        commons_waitEngineConfigure(() => {\n            ").concat(t.funcSetFrequency,"(").concat(t.frequency,")\n        })\n    ")},o=function(e){var n=e.ins,r=e.state,a=e.outs;return"\n        ".concat(a.$0," = ").concat(t(r.phase),"\n        ").concat(r.phase," += (").concat(r.J," * ").concat(n.$0,")\n    ")},i=function(e){var n=e.state,r=e.outs;return"\n        ".concat(r.$0," = ").concat(t(n.phase),"\n        ").concat(n.phase," += ").concat(n.K,"\n    ")};return{declare:function(e){var t=e.state,o=e.macros,i=o.Var,s=o.Func;return(mu(e.node)?r(e):a(e))+"\n                function ".concat(t.funcSetPhase," ").concat(s([i("phase","Float")],"void")," {").concat(t.phase," = phase % 1.0").concat(n?" * ".concat(n):"","}\n            ")},messages:function(e){var n=e.globs,t=e.state;return{"0_message":fu(n.m,t.funcSetFrequency),1:fu(n.m,t.funcSetPhase)}},loop:function(e){return mu(e.node)?o(e):i(e)},stateVariables:du}},mu=function(e){return e.sources[0]&&e.sources[0].length},gu={"osc~":hu({coeff:"2 * Math.PI",generateOperation:function(e){return"Math.cos(".concat(e,")")}}),"phasor~":hu({generateOperation:function(e){return"".concat(e," % 1")}})},vu={"osc~":pu,"phasor~":pu},yu={translateArgs:function(e){var n=e.args;return{minValue:Zc(n[0])||0,maxValue:Zc(n[1])||0}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"},1:{type:"message",id:"1"},2:{type:"message",id:"2"}},outlets:{0:{type:"signal",id:"0"}}}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},bu=function(e){return e.sources[0]&&e.sources[0].length},Su={loop:function(e){var n=e.ins,t=e.outs,r=e.state,a=e.node;return"\n    ".concat(t.$0," = Math.max(Math.min(").concat(r.maxValue,", ").concat(bu(a)?n.$0:r.inputValue,"), ").concat(r.minValue,")\n")},stateVariables:{minValue:1,maxValue:1,inputValue:1},messages:function(e){var n=e.state,t=e.globs;return{"0_message":lu(t.m,n.inputValue),1:lu(t.m,n.minValue),2:lu(t.m,n.maxValue)}},declare:function(e){var n=e.node.args,t=e.state,r=e.macros.Var;return"\n    let ".concat(r(t.inputValue,"Float")," = 0\n    let ").concat(r(t.minValue,"Float")," = ").concat(n.minValue,"\n    let ").concat(r(t.maxValue,"Float")," = ").concat(n.maxValue,"\n")}},wu={translateArgs:function(e){var n=e.args;return{initValue:Zc(n[0])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"signal",id:"0"}}}}},_u={loop:function(e){e.ins;var n=e.outs,t=e.state;return"\n    ".concat(n.$0," = ").concat(t.currentValue,"\n")},stateVariables:{currentValue:1},messages:function(e){var n=e.state,t=e.globs;return{0:lu(t.m,n.currentValue)}},declare:function(e){var n=e.node.args,t=e.state,r=e.macros.Var;return"\n    let ".concat(r(t.currentValue,"Float")," = ").concat(n.initValue,"\n")}},ku={translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"}},outlets:{0:{type:"message",id:"0"}},isPullingSignal:!0}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},xu={loop:function(e){var n=e.ins,t=e.state;return"\n    ".concat(t.currentValue," = ").concat(n.$0,"\n")},stateVariables:{currentValue:1},messages:function(e){var n=e.state,t=e.globs,r=e.snds;return{"0_message":"\n        if (msg_isBang(".concat(t.m,")) {\n            ").concat(r.$0,"(msg_floats([").concat(n.currentValue,"]))\n            return \n        }\n    ")}},declare:function(e){var n=e.state,t=e.macros.Var;return"\n    let ".concat(t(n.currentValue,"Float")," = 0\n")},sharedCode:[iu]},Iu=[function(e){var n=e.macros.Var;return"\n    class Point {\n        ".concat(n("x","Float"),"\n        ").concat(n("y","Float"),"\n    }\n")},function(e){var n=e.macros,t=n.Var,r=n.Func;return"\n    function interpolateLin ".concat(r([t("x","Float"),t("p0","Point"),t("p1","Point")],"Float")," {\n        return p0.y + (x - p0.x) * (p1.y - p0.y) / (p1.x - p0.x)\n    }\n")}],Eu=[].concat(Pa(Iu),[function(e){var n=e.macros,t=n.Var,r=n.Func;return"\n\n    class LineSegment {\n        ".concat(t("p0","Point"),"\n        ").concat(t("p1","Point"),"\n        ").concat(t("dx","Float"),"\n        ").concat(t("dy","Float"),"\n    }\n\n    function computeSlope ").concat(r([t("p0","Point"),t("p1","Point")],"Float")," {\n        return p1.x !== p0.x ? (p1.y - p0.y) / (p1.x - p0.x) : 0\n    }\n\n    function removePointsBeforeFrame ").concat(r([t("points","Array<Point>"),t("frame","Float")],"Array<Point>")," {\n        const ").concat(t("newPoints","Array<Point>")," = []\n        let ").concat(t("i","Int")," = 0\n        while (i < points.length) {\n            if (frame <= points[i].x) {\n                newPoints.push(points[i])\n            }\n            i++\n        }\n        return newPoints\n    }\n\n    function insertNewLinePoints ").concat(r([t("points","Array<Point>"),t("p0","Point"),t("p1","Point")],"Array<Point>")," {\n        const ").concat(t("newPoints","Array<Point>")," = []\n        let ").concat(t("i","Int")," = 0\n        \n        // Keep the points that are before the new points added\n        while (i < points.length && points[i].x <= p0.x) {\n            newPoints.push(points[i])\n            i++\n        }\n        \n        // Find the start value of the start point :\n        \n        // 1. If there is a previous point and that previous point\n        // is on the same frame, we don't modify the start point value.\n        // (represents a vertical line).\n        if (0 < i - 1 && points[i - 1].x === p0.x) {\n\n        // 2. If new points are inserted in between already existing points \n        // we need to interpolate the existing line to find the startValue.\n        } else if (0 < i && i < points.length) {\n            newPoints.push({\n                x: p0.x,\n                y: interpolateLin(p0.x, points[i - 1], points[i])\n            })\n\n        // 3. If new line is inserted after all existing points, \n        // we just take the value of the last point\n        } else if (i >= points.length && points.length) {\n            newPoints.push({\n                x: p0.x,\n                y: points[points.length - 1].y,\n            })\n\n        // 4. If new line placed in first position, we take the defaultStartValue.\n        } else if (i === 0) {\n            newPoints.push({\n                x: p0.x,\n                y: p0.y,\n            })\n        }\n        \n        newPoints.push({\n            x: p1.x,\n            y: p1.y,\n        })\n        return newPoints\n    }\n\n    function computeFrameAjustedPoints ").concat(r([t("points","Array<Point>")],"Array<Point>")," {\n        if (points.length < 2) {\n            throw new Error('invalid length for points')\n        }\n\n        const ").concat(t("newPoints","Array<Point>")," = []\n        let ").concat(t("i","Int")," = 0\n        let ").concat(t("p","Point")," = points[0]\n        let ").concat(t("frameLower","Float")," = 0\n        let ").concat(t("frameUpper","Float")," = 0\n        \n        while(i < points.length) {\n            p = points[i]\n            frameLower = Math.floor(p.x)\n            frameUpper = frameLower + 1\n\n            // I. Placing interpolated point at the lower bound of the current frame\n            // ------------------------------------------------------------------------\n            // 1. Point is already on an exact frame,\n            if (p.x === frameLower) {\n                newPoints.push({ x: p.x, y: p.y })\n\n                // 1.a. if several of the next points are also on the same X,\n                // we find the last one to draw a vertical line.\n                while (\n                    (i + 1) < points.length\n                    && points[i + 1].x === frameLower\n                ) {\n                    i++\n                }\n                if (points[i].y !== newPoints[newPoints.length - 1].y) {\n                    newPoints.push({ x: points[i].x, y: points[i].y })\n                }\n\n                // 1.b. if last point, we quit\n                if (i + 1 >= points.length) {\n                    break\n                }\n\n                // 1.c. if next point is in a different frame we can move on to next iteration\n                if (frameUpper <= points[i + 1].x) {\n                    i++\n                    continue\n                }\n            \n            // 2. Point isn't on an exact frame\n            // 2.a. There's a previous point, the we use it to interpolate the value.\n            } else if (newPoints.length) {\n                newPoints.push({\n                    x: frameLower,\n                    y: interpolateLin(frameLower, points[i - 1], p),\n                })\n            \n            // 2.b. It's the very first point, then we don't change its value.\n            } else {\n                newPoints.push({ x: frameLower, y: p.y })\n            }\n\n            // II. Placing interpolated point at the upper bound of the current frame\n            // ---------------------------------------------------------------------------\n            // First, we find the closest point from the frame upper bound (could be the same p).\n            // Or could be a point that is exactly placed on frameUpper.\n            while (\n                (i + 1) < points.length \n                && (\n                    Math.ceil(points[i + 1].x) === frameUpper\n                    || Math.floor(points[i + 1].x) === frameUpper\n                )\n            ) {\n                i++\n            }\n            p = points[i]\n\n            // 1. If the next point is directly in the next frame, \n            // we do nothing, as this corresponds with next iteration frameLower.\n            if (Math.floor(p.x) === frameUpper) {\n                continue\n            \n            // 2. If there's still a point after p, we use it to interpolate the value\n            } else if (i < points.length - 1) {\n                newPoints.push({\n                    x: frameUpper,\n                    y: interpolateLin(frameUpper, p, points[i + 1]),\n                })\n\n            // 3. If it's the last point, we dont change the value\n            } else {\n                newPoints.push({ x: frameUpper, y: p.y })\n            }\n\n            i++\n        }\n\n        return newPoints\n    }\n\n    function computeLineSegments ").concat(r([t("points","Array<Point>")],"Array<LineSegment>")," {\n        const ").concat(t("lineSegments","Array<LineSegment>")," = []\n        let ").concat(t("i","Int")," = 0\n        let ").concat(t("p0","Point"),"\n        let ").concat(t("p1","Point"),"\n\n        while(i < points.length - 1) {\n            p0 = points[i]\n            p1 = points[i + 1]\n            lineSegments.push({\n                p0, p1, \n                dy: computeSlope(p0, p1),\n                dx: 1,\n            })\n            i++\n        }\n        return lineSegments\n    }\n\n")}]),Ou=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function computeUnitInSamples ".concat(t([r("sampleRate","Float"),r("amount","Float"),r("unit","string")],"Float")," {\n        if (unit === 'msec' || unit === 'millisecond') {\n            return amount / 1000 * sampleRate\n        } else if (unit === 'sec' || unit === 'seconds' || unit === 'second') {\n            return amount * sampleRate\n        } else if (unit === 'min' || unit === 'minutes' || unit === 'minute') {\n            return amount * 60 * sampleRate\n        } else if (unit === 'samp' || unit === 'samples' || unit === 'sample') {\n            return amount\n        } else {\n            throw new Error(\"invalid time unit : \" + unit)\n        }\n    }\n")},Tu={loop:function(e){var n=e.outs,t=e.state,r=e.globs;return"\n    if (".concat(t.lineSegments,".length) {\n        if (toFloat(").concat(r.frame,") < ").concat(t.lineSegments,"[0].p0.x) {\n\n        // This should come first to handle vertical lines\n        } else if (toFloat(").concat(r.frame,") === ").concat(t.lineSegments,"[0].p1.x) {\n            ").concat(t.currentValue," = ").concat(t.lineSegments,"[0].p1.y\n            ").concat(t.lineSegments,".shift()\n\n        } else if (toFloat(").concat(r.frame,") === ").concat(t.lineSegments,"[0].p0.x) {\n            ").concat(t.currentValue," = ").concat(t.lineSegments,"[0].p0.y\n\n        } else if (toFloat(").concat(r.frame,") < ").concat(t.lineSegments,"[0].p1.x) {\n            ").concat(t.currentValue," += ").concat(t.lineSegments,"[0].dy\n\n        }\n    }\n    ").concat(n.$0," = ").concat(t.currentValue,"\n")},stateVariables:{points:1,lineSegments:1,currentValue:1,nextDurationSamp:1,nextDelaySamp:1,funcSetNewLine:1,funcSetNextDuration:1,funcSetNextDelay:1},messages:function(e){var n=e.state,t=e.globs;return{0:"\n    if (\n        msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])\n        || msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n        || msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n    ) {\n        switch (msg_getLength(").concat(t.m,")) {\n            case 3:\n                ").concat(n.funcSetNextDelay,"(msg_readFloatToken(").concat(t.m,", 2))\n            case 2:\n                ").concat(n.funcSetNextDuration,"(msg_readFloatToken(").concat(t.m,", 1))\n            case 1:\n                ").concat(n.funcSetNewLine,"(msg_readFloatToken(").concat(t.m,", 0))\n        }\n        return\n\n    } else if (msg_isAction(").concat(t.m,", 'stop')) {\n        ").concat(n.points," = []\n        ").concat(n.lineSegments," = []\n        return\n    }\n    "),1:fu(t.m,n.funcSetNextDuration),2:fu(t.m,n.funcSetNextDelay)}},declare:function(e){var n=e.globs,t=e.state,r=e.macros,a=r.Var,o=r.Func;return"\n    let ".concat(a(t.points,"Array<Point>")," = []\n    let ").concat(a(t.lineSegments,"Array<LineSegment>")," = []\n    let ").concat(a(t.currentValue,"Float")," = 0\n    let ").concat(a(t.nextDurationSamp,"Float")," = 0\n    let ").concat(a(t.nextDelaySamp,"Float")," = 0\n\n    function ").concat(t.funcSetNewLine," ").concat(o([a("targetValue","Float")],"void")," {\n        ").concat(t.points," = removePointsBeforeFrame(").concat(t.points,", toFloat(").concat(n.frame,"))\n        const ").concat(a("startFrame","Float")," = toFloat(").concat(n.frame,") + ").concat(t.nextDelaySamp,"\n        const ").concat(a("endFrame","Float")," = startFrame + ").concat(t.nextDurationSamp,"\n        if (endFrame === toFloat(").concat(n.frame,")) {\n            ").concat(t.currentValue," = targetValue\n            ").concat(t.lineSegments," = []\n        } else {\n            ").concat(t.points," = insertNewLinePoints(\n                ").concat(t.points,", \n                {x: startFrame, y: ").concat(t.currentValue,"},\n                {x: endFrame, y: targetValue}\n            )\n            ").concat(t.lineSegments," = computeLineSegments(\n                computeFrameAjustedPoints(").concat(t.points,"))\n        }\n        ").concat(t.nextDurationSamp," = 0\n        ").concat(t.nextDelaySamp," = 0\n    }\n\n    function ").concat(t.funcSetNextDuration," ").concat(o([a("durationMsec","Float")],"void")," {\n        ").concat(t.nextDurationSamp," = computeUnitInSamples(").concat(n.sampleRate,", durationMsec, 'msec')\n    }\n\n    function ").concat(t.funcSetNextDelay," ").concat(o([a("delayMsec","Float")],"void")," {\n        ").concat(t.nextDelaySamp," = computeUnitInSamples(").concat(n.sampleRate,", delayMsec, 'msec')\n    }\n")},sharedCode:[].concat(Pa(Eu),[Ou,cu])},Cu={translateArgs:function(e){var n=e.args;return{initValue:Zc(n[0])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"signal",id:"0"}}}}},Au={declare:function(e){var n=e.globs,t=e.state,r=e.node.args,a=e.macros,o=a.Var,i=a.Func;return"\n    const ".concat(o(t.defaultLine,"LineSegment")," = {\n        p0: {x: -1, y: 0},\n        p1: {x: -1, y: 0},\n        dx: 1,\n        dy: 0,\n    }\n    let ").concat(o(t.currentLine,"LineSegment")," = ").concat(t.defaultLine,"\n    let ").concat(o(t.currentValue,"Float")," = ").concat(r.initValue,"\n    let ").concat(o(t.nextDurationSamp,"Float")," = 0\n\n    function ").concat(t.funcSetNewLine," ").concat(i([o("targetValue","Float")],"void")," {\n        const ").concat(o("startFrame","Float")," = toFloat(").concat(n.frame,")\n        const ").concat(o("endFrame","Float")," = toFloat(").concat(n.frame,") + ").concat(t.nextDurationSamp,"\n        if (endFrame === toFloat(").concat(n.frame,")) {\n            ").concat(t.currentLine," = ").concat(t.defaultLine,"\n            ").concat(t.currentValue," = targetValue\n            ").concat(t.nextDurationSamp," = 0\n        } else {\n            ").concat(t.currentLine," = {\n                p0: {\n                    x: startFrame, \n                    y: ").concat(t.currentValue,",\n                }, \n                p1: {\n                    x: endFrame, \n                    y: targetValue,\n                }, \n                dx: 1,\n                dy: 0,\n            }\n            ").concat(t.currentLine,".dy = computeSlope(").concat(t.currentLine,".p0, ").concat(t.currentLine,".p1)\n            ").concat(t.nextDurationSamp," = 0\n        }\n    }\n\n    function ").concat(t.funcSetNextDuration," ").concat(i([o("durationMsec","Float")],"void")," {\n        ").concat(t.nextDurationSamp," = computeUnitInSamples(").concat(n.sampleRate,", durationMsec, 'msec')\n    }\n\n    function ").concat(t.funcStopCurrentLine," ").concat(i([],"void")," {\n        ").concat(t.currentLine,".p1.x = -1\n        ").concat(t.currentLine,".p1.y = ").concat(t.currentValue,"\n    }\n")},messages:function(e){var n=e.globs,t=e.state;e.macros.Var;return{0:"\n    if (\n        msg_isMatching(".concat(n.m,", [MSG_FLOAT_TOKEN])\n        || msg_isMatching(").concat(n.m,", [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n    ) {\n        switch (msg_getLength(").concat(n.m,")) {\n            case 2:\n                ").concat(t.funcSetNextDuration,"(msg_readFloatToken(").concat(n.m,", 1))\n            case 1:\n                ").concat(t.funcSetNewLine,"(msg_readFloatToken(").concat(n.m,", 0))\n        }\n        return\n\n    } else if (msg_isAction(").concat(n.m,", 'stop')) {\n        ").concat(t.funcStopCurrentLine,"()\n        return\n\n    }\n    "),1:fu(n.m,t.funcSetNextDuration)}},loop:function(e){var n=e.outs,t=e.state,r=e.globs;return"\n    ".concat(n.$0," = ").concat(t.currentValue,"\n    if (toFloat(").concat(r.frame,") < ").concat(t.currentLine,".p1.x) {\n        ").concat(t.currentValue," += ").concat(t.currentLine,".dy\n        if (toFloat(").concat(r.frame," + 1) >= ").concat(t.currentLine,".p1.x) {\n            ").concat(t.currentValue," = ").concat(t.currentLine,".p1.y\n        }\n    }\n")},stateVariables:{currentValue:1,currentLine:1,defaultLine:1,nextDurationSamp:1,funcSetNewLine:1,funcSetNextDuration:1,funcStopCurrentLine:1},sharedCode:[cu,Ou].concat(Pa(Eu))},Fu={translateArgs:function(e){var n=e.args;return{initValue:Zc(n[0])||0,timeGrainMsec:Math.max(Zc(n[1])||20,20)}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"},2:{type:"message",id:"2"}},outlets:{0:{type:"message",id:"0"}}}}},Mu={declare:function(e){var n=e.globs,t=e.state,r=e.snds,a=e.node.args,o=e.macros,i=o.Var,s=o.Func;return"\n    let ".concat(i(t.currentLine,"LineSegment")," = {\n        p0: {x: -1, y: 0},\n        p1: {x: -1, y: 0},\n        dx: 1,\n        dy: 0,\n    }\n    let ").concat(i(t.currentValue,"Float")," = ").concat(a.initValue,"\n    let ").concat(i(t.nextSamp,"Float")," = -1\n    let ").concat(i(t.nextSampInt,"Int")," = -1\n    let ").concat(i(t.grainSamp,"Float")," = 0\n    let ").concat(i(t.nextDurationSamp,"Float")," = 0\n    let ").concat(i(t.skedId,"SkedId")," = SKED_ID_NULL\n\n    function ").concat(t.funcSetNewLine," ").concat(s([i("targetValue","Float")],"void")," {\n        ").concat(t.currentLine," = {\n            p0: {\n                x: toFloat(").concat(n.frame,"), \n                y: ").concat(t.currentValue,",\n            }, \n            p1: {\n                x: toFloat(").concat(n.frame,") + ").concat(t.nextDurationSamp,", \n                y: targetValue,\n            }, \n            dx: ").concat(t.grainSamp,"\n        }\n        ").concat(t.nextDurationSamp," = 0\n        ").concat(t.currentLine,".dy = computeSlope(").concat(t.currentLine,".p0, ").concat(t.currentLine,".p1) * ").concat(t.grainSamp,"\n    }\n\n    function ").concat(t.funcSetNextDuration," ").concat(s([i("durationMsec","Float")],"void")," {\n        ").concat(t.nextDurationSamp," = computeUnitInSamples(").concat(n.sampleRate,", durationMsec, 'msec')\n    }\n\n    function ").concat(t.funcSetGrain," ").concat(s([i("grainMsec","Float")],"void")," {\n        ").concat(t.grainSamp," = computeUnitInSamples(").concat(n.sampleRate,", Math.max(grainMsec, ").concat(20,"), 'msec')\n    }\n\n    function ").concat(t.funcStopCurrentLine," ").concat(s([],"void")," {\n        if (").concat(t.skedId," !== SKED_ID_NULL) {\n            commons_cancelWaitFrame(").concat(t.skedId,")\n            ").concat(t.skedId," = SKED_ID_NULL\n        }\n        if (").concat(n.frame," < ").concat(t.nextSampInt,") {\n            ").concat(t.funcIncrementTime,"(-1 * (").concat(t.nextSamp," - toFloat(").concat(n.frame,")))\n        }\n        ").concat(t.funcSetNextSamp,"(-1)\n    }\n\n    function ").concat(t.funcSetNextSamp," ").concat(s([i("currentSamp","Float")],"void")," {\n        ").concat(t.nextSamp," = currentSamp\n        ").concat(t.nextSampInt," = toInt(Math.round(currentSamp))\n    }\n\n    function ").concat(t.funcIncrementTime," ").concat(s([i("incrementSamp","Float")],"void")," {\n        if (incrementSamp === ").concat(t.currentLine,".dx) {\n            ").concat(t.currentValue," += ").concat(t.currentLine,".dy\n        } else {\n            ").concat(t.currentValue," += interpolateLin(\n                incrementSamp,\n                {x: 0, y: 0},\n                {x: ").concat(t.currentLine,".dx, y: ").concat(t.currentLine,".dy},\n            )\n        }\n        ").concat(t.funcSetNextSamp,"((").concat(t.nextSamp," !== -1 ? ").concat(t.nextSamp,": toFloat(").concat(n.frame,")) + incrementSamp)\n    }\n\n    function ").concat(t.funcScheduleNextTick," ").concat(s([],"void")," {\n        ").concat(t.skedId," = commons_waitFrame(").concat(t.nextSampInt,", () => {\n            ").concat(r.$0,"(msg_floats([").concat(t.currentValue,"]))\n            if (toFloat(").concat(n.frame,") >= ").concat(t.currentLine,".p1.x) {\n                ").concat(t.currentValue," = ").concat(t.currentLine,".p1.y\n                ").concat(t.funcStopCurrentLine,"()\n            } else {\n                ").concat(t.funcIncrementTime,"(").concat(t.currentLine,".dx)\n                ").concat(t.funcScheduleNextTick,"()\n            }\n        })\n    }\n\n    commons_waitEngineConfigure(() => {\n        ").concat(t.funcSetGrain,"(").concat(a.timeGrainMsec,")\n    })\n")},messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.macros.Var;return{0:"\n    if (\n        msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])\n        || msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n        || msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])\n    ) {\n        ").concat(r.funcStopCurrentLine,"()\n        switch (msg_getLength(").concat(t.m,")) {\n            case 3:\n                ").concat(r.funcSetGrain,"(msg_readFloatToken(").concat(t.m,", 2))\n            case 2:\n                ").concat(r.funcSetNextDuration,"(msg_readFloatToken(").concat(t.m,", 1))\n            case 1:\n                const ").concat(a("targetValue","Float")," = msg_readFloatToken(").concat(t.m,", 0)\n                if (").concat(r.nextDurationSamp," === 0) {\n                    ").concat(r.currentValue," = targetValue\n                    ").concat(n.$0,"(msg_floats([targetValue]))\n                } else {\n                    ").concat(n.$0,"(msg_floats([").concat(r.currentValue,"]))\n                    ").concat(r.funcSetNewLine,"(targetValue)\n                    ").concat(r.funcIncrementTime,"(").concat(r.currentLine,".dx)\n                    ").concat(r.funcScheduleNextTick,"()\n                }\n                \n        }\n        return\n\n    } else if (msg_isAction(").concat(t.m,", 'stop')) {\n        ").concat(r.funcStopCurrentLine,"()\n        return\n\n    } else if (\n        msg_isMatching(").concat(t.m,", [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n        && msg_readStringToken(").concat(t.m,", 0) === 'set'\n    ) {\n        ").concat(r.funcStopCurrentLine,"()\n        ").concat(r.currentValue," = msg_readFloatToken(").concat(t.m,", 1)\n        return\n    }\n    "),1:fu(t.m,r.funcSetNextDuration),2:fu(t.m,r.funcSetGrain)}},stateVariables:{currentValue:1,nextSamp:1,nextSampInt:1,currentLine:1,nextDurationSamp:1,grainSamp:1,skedId:1,funcSetNewLine:1,funcSetNextDuration:1,funcSetGrain:1,funcStopCurrentLine:1,funcSetNextSamp:1,funcIncrementTime:1,funcScheduleNextTick:1},sharedCode:[cu,Ou].concat(Pa(Eu))},Lu=440*Math.pow(2,1430/12),Pu=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function mtof ".concat(t([r("value","Float")],"Float")," {\n        return value <= -1500 ? 0: (value > 1499 ? ").concat(Lu," : Math.pow(2, (value - 69) / 12) * 440)\n    }\n")},Nu=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function ftom ".concat(t([r("value","Float")],"Float")," {\n        return value <= 0 ? -1500: 12 * Math.log(value / 440) / Math.LN2 + 69\n    }\n")},Ru={},Du={translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"signal",id:"0"}},outlets:{0:{type:"signal",id:"0"}}}}},ju=function(e){var n=e.generateOperation,t=e.sharedCode;return{loop:function(e){var t=e.ins,r=e.outs;return"\n        ".concat(r.$0," = ").concat(n(t.$0),"\n    ")},stateVariables:Ru,sharedCode:void 0===t?[]:t}},zu={"abs~":ju({generateOperation:function(e){return"Math.abs(".concat(e,")")}}),"cos~":ju({generateOperation:function(e){return"Math.cos(".concat(e," * 2 * Math.PI)")}}),"wrap~":ju({generateOperation:function(e){return"(1 + (".concat(e," % 1)) % 1")}}),"mtof~":ju({generateOperation:function(e){return"mtof(".concat(e,")")},sharedCode:[Pu]}),"ftom~":ju({generateOperation:function(e){return"ftom(".concat(e,")")},sharedCode:[Nu]})},Bu={"abs~":Du,"cos~":Du,"wrap~":Du,"mtof~":Du,"ftom~":Du},Uu={array:1,arrayName:1,arrayChangesSubscription:1,funcSetArrayName:1},Vu=function(e){return{arrayName:eu(e.args[0])||""}},Wu=function(e){var n=e.state,t=e.node,r=e.macros,a=r.Func,o=r.Var;return"\n    let ".concat(o(n.array,"FloatArray")," = createFloatArray(0)\n    let ").concat(o(n.arrayName,"string"),' = "').concat(t.args.arrayName,'"\n    let ').concat(o(n.arrayChangesSubscription,"SkedId")," = SKED_ID_NULL\n\n    function ").concat(n.funcSetArrayName," ").concat(a([o("arrayName","string")],"void")," {\n        if (").concat(n.arrayChangesSubscription," != SKED_ID_NULL) {\n            commons_cancelArrayChangesSubscription(").concat(n.arrayChangesSubscription,")\n        }\n        ").concat(n.arrayName," = arrayName\n        ").concat(n.array," = createFloatArray(0)\n        commons_subscribeArrayChanges(arrayName, () => {\n            ").concat(n.array," = commons_getArray(").concat(n.arrayName,")\n        })\n    }\n\n    commons_waitEngineConfigure(() => {\n        if (").concat(n.arrayName,".length) {\n            ").concat(n.funcSetArrayName,"(").concat(n.arrayName,")\n        }\n    })\n")},Gu=function(e,n){var t=n.state;return"toInt(Math.min(\n        Math.max(\n            0, Math.floor(".concat(e,")\n        ), toFloat(").concat(t.array,".length - 1)\n    ))")},Ku=function(e){var n=e.globs,t=e.state;return"else if (\n        msg_isMatching(".concat(n.m,", [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n        && msg_readStringToken(").concat(n.m,", 0) === 'set'\n    ) {\n        ").concat(t.funcSetArrayName,"(msg_readStringToken(").concat(n.m,", 1))\n        return\n\n    }")},$u={translateArgs:Vu,build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"}}}}},qu={declare:Wu,messages:function(e){var n=e.snds,t=e.state,r=e.globs;return{0:"\n        if (msg_isMatching(".concat(r.m,", [MSG_FLOAT_TOKEN])) {        \n            if (").concat(t.array,".length === 0) {\n                ").concat(n.$0,"(msg_floats([0]))\n\n            } else {\n                ").concat(n.$0,"(msg_floats([").concat(t.array,"[").concat(Gu("msg_readFloatToken(".concat(r.m,", 0)"),e),"]]))\n            }\n            return \n\n        } ").concat(Ku(e),"\n        ")}},stateVariables:Uu},Hu={translateArgs:Vu,build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{}}}},Xu={declare:function(e){var n=e.state,t=e.macros,r=t.Var,a=t.Func;return"\n        let ".concat(r(n.index,"Int")," = 0\n        ").concat(Wu(e),"\n\n        function ").concat(n.funcSetIndex," ").concat(a([r("index","Float")],"void")," {\n            ").concat(n.index," = ").concat(Gu("index",e),"\n        }\n    ")},messages:function(e){var n=e.state,t=e.globs;return{0:"\n        if (msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])) {        \n            if (").concat(n.array,".length === 0) {\n                return\n\n            } else {\n                ").concat(n.array,"[").concat(n.index,"] = msg_readFloatToken(").concat(t.m,", 0)\n                return\n            }\n            return \n\n        } ").concat(Ku(e),"\n        "),1:fu(t.m,n.funcSetIndex)}},stateVariables:Sr(Sr({},Uu),{},{index:1,funcSetIndex:1})},Yu={translateArgs:function(e){return{arrayName:eu(e.args[0])||""}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"signal",id:"0"},1:{type:"message",id:"1"}}}}},Qu={declare:function(e){var n=e.state,t=e.node,r=e.macros,a=r.Func,o=r.Var;return"\n    let ".concat(o(n.array,"FloatArray")," = createFloatArray(0)\n    let ").concat(o(n.arrayName,"string"),' = "').concat(t.args.arrayName,'"\n    let ').concat(o(n.arrayChangesSubscription,"SkedId")," = SKED_ID_NULL\n    let ").concat(o(n.readPosition,"Int")," = 0\n    let ").concat(o(n.readUntil,"Int")," = 0\n\n    const ").concat(n.funcSetArrayName," = ").concat(a([o("arrayName","string")],"void")," => {\n        if (").concat(n.arrayChangesSubscription," != SKED_ID_NULL) {\n            commons_cancelArrayChangesSubscription(").concat(n.arrayChangesSubscription,")\n        }\n        ").concat(n.arrayName," = arrayName\n        ").concat(n.array," = createFloatArray(0)\n        ").concat(n.readPosition," = 0\n        ").concat(n.readUntil," = 0        \n        commons_subscribeArrayChanges(arrayName, () => {\n            ").concat(n.array," = commons_getArray(").concat(n.arrayName,")\n            ").concat(n.readPosition," = ").concat(n.array,".length\n            ").concat(n.readUntil," = ").concat(n.array,".length\n        })\n    }\n\n    commons_waitEngineConfigure(() => {\n        if (").concat(n.arrayName,".length) {\n            ").concat(n.funcSetArrayName,"(").concat(n.arrayName,")\n        }\n    })\n")},messages:function(e){var n=e.state,t=e.globs;return{0:"\n    if (msg_isBang(".concat(t.m,")) {\n        ").concat(n.readPosition," = 0\n        ").concat(n.readUntil," = ").concat(n.array,".length\n        return \n        \n    } else if (\n        msg_isMatching(").concat(t.m,", [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n        && msg_readStringToken(").concat(t.m,", 0) === 'set'\n    ) {\n        ").concat(n.funcSetArrayName,"(msg_readStringToken(").concat(t.m,", 1))   \n        return\n\n    } else if (msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN])) {\n        ").concat(n.readPosition," = toInt(msg_readFloatToken(").concat(t.m,", 0))\n        ").concat(n.readUntil," = ").concat(n.array,".length\n        return \n\n    } else if (msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN, MSG_FLOAT_TOKEN])) {\n        ").concat(n.readPosition," = toInt(msg_readFloatToken(").concat(t.m,", 0))\n        ").concat(n.readUntil," = toInt(Math.min(\n            toFloat(").concat(n.readPosition,") + msg_readFloatToken(").concat(t.m,", 1), \n            toFloat(").concat(n.array,".length)\n        ))\n        return\n    }\n    ")}},loop:function(e){var n=e.state,t=e.snds,r=e.outs;return"\n    if (".concat(n.readPosition," < ").concat(n.readUntil,") {\n        ").concat(r.$0," = ").concat(n.array,"[").concat(n.readPosition,"]\n        ").concat(n.readPosition,"++\n        if (").concat(n.readPosition," >= ").concat(n.readUntil,") {\n            ").concat(t.$1,"(msg_bang())\n        }\n    } else {\n        ").concat(r.$0," = 0\n    }\n")},stateVariables:{array:1,arrayName:1,arrayChangesSubscription:1,readPosition:1,readUntil:1,funcSetArrayName:1,funcPlay:1},sharedCode:[iu]},Ju=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function parseSoundFileOpenOpts ".concat(t([r("m","Message"),r("soundInfo","fs_SoundInfo")],"Set<Int>")," {\n        const ").concat(r("unhandled","Set<Int>")," = new Set()\n        let ").concat(r("i","Int")," = 0\n        while (i < msg_getLength(m)) {\n            if (msg_isStringToken(m, i)) {\n                const ").concat(r("str","string")," = msg_readStringToken(m, i)\n                if (['-wave', '-aiff', '-caf', '-next', '-ascii'].includes(str)) {\n                    soundInfo.encodingFormat = str.slice(1)\n\n                } else if (str === '-raw') {\n                    console.log('-raw format not yet supported')\n                    i += 4\n                    \n                } else if (str === '-big') {\n                    soundInfo.endianness = 'b'\n\n                } else if (str === '-little') {\n                    soundInfo.endianness = 'l'\n\n                } else if (str === '-bytes') {\n                    if (i < msg_getLength(m) && msg_isFloatToken(m, i + 1)) {\n                        soundInfo.bitDepth = toInt(msg_readFloatToken(m, i + 1) * 8)\n                        i++\n                    } else {\n                        console.log('failed to parse -bytes <value>')\n                    }\n\n                } else if (str === '-rate') {\n                    if (i < msg_getLength(m) && msg_isFloatToken(m, i + 1)) {\n                        soundInfo.sampleRate = toInt(msg_readFloatToken(m, i + 1))\n                        i++\n                    } else {\n                        console.log('failed to parse -rate <value>')\n                    }\n\n                } else {\n                    unhandled.add(i)\n                }\n                \n            } else {\n                unhandled.add(i)\n            }\n            i++\n        }\n        return unhandled\n    }\n")},Zu=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function parseReadWriteFsOpts ".concat(t([r("m","Message"),r("soundInfo","fs_SoundInfo"),r("unhandledOptions","Set<Int>")],"string"),' {\n        // Remove the "open" token\n        unhandledOptions.delete(0)\n\n        let ').concat(r("url","string")," = ''\n        let ").concat(r("urlFound","boolean")," = false\n        let ").concat(r("errored","boolean")," = false\n        let ").concat(r("i","Int")," = 1\n        while (i < msg_getLength(m)) {\n            if (!unhandledOptions.has(i)) {\n\n            } else if (msg_isStringToken(m, i)) {\n                url = msg_readStringToken(m, i)\n                urlFound = true\n\n            } else {\n                console.log(\"[writesf/readsf~] invalid option index \" + i.toString())\n                errored = true\n            }\n            i++\n        }\n        if (!urlFound) {\n            console.log(\"[writesf/readsf~] invalid options, file url not found\")\n            return ''\n        }\n        if (errored) {\n            return ''\n        }\n        return url\n    }\n")},el={translateArgs:function(e){return{channelCount:Zc(e.args[0])||1}},build:function(e){return{inlets:{0:{type:"message",id:"0"}},outlets:Sr(Sr({},Fo(Co(e.channelCount),(function(e){return["".concat(e),{type:"signal",id:"".concat(e)}]}))),{},yr({},"".concat(e.channelCount),{type:"message",id:"".concat(e.channelCount)}))}}},nl={declare:function(e){var n=e.macros.Var,t=e.state;return"\n    let ".concat(n(t.buffers,"Array<buf_SoundBuffer>")," = []\n    let ").concat(n(t.streamOperationId,"fs_OperationId")," = -1\n    let ").concat(n(t.readingStatus,"Int")," = 0\n")},messages:function(e){var n=e.node,t=e.state,r=e.globs,a=e.macros.Var;return{0:"\n    if (msg_getLength(".concat(r.m,") >= 2) {\n        if (msg_isStringToken(").concat(r.m,", 0) \n            && msg_readStringToken(").concat(r.m,", 0) === 'open'\n        ) {\n            if (").concat(t.streamOperationId," !== -1) {\n                ").concat(t.readingStatus," = 3\n                fs_closeSoundStream(").concat(t.streamOperationId,", FS_OPERATION_SUCCESS)\n            }\n\n            const ").concat(a("soundInfo","fs_SoundInfo")," = {\n                channelCount: ").concat(n.args.channelCount,",\n                sampleRate: toInt(").concat(r.sampleRate,"),\n                bitDepth: 32,\n                encodingFormat: '',\n                endianness: '',\n                extraOptions: '',\n            }\n            const ").concat(a("unhandledOptions","Set<Int>")," = parseSoundFileOpenOpts(\n                ").concat(r.m,",\n                soundInfo,\n            )\n            const ").concat(a("url","string")," = parseReadWriteFsOpts(\n                ").concat(r.m,",\n                soundInfo,\n                unhandledOptions\n            )\n            if (url.length === 0) {\n                return\n            }\n            ").concat(t.streamOperationId," = fs_openSoundReadStream(\n                url,\n                soundInfo,\n                () => {\n                    ").concat(t.streamOperationId," = -1\n                    if (").concat(t.readingStatus," === 1) {\n                        ").concat(t.readingStatus," = 2\n                    } else {\n                        ").concat(t.readingStatus," = 3\n                    }\n                }\n            )\n            ").concat(t.buffers," = _FS_SOUND_STREAM_BUFFERS.get(").concat(t.streamOperationId,")\n            return\n        }\n\n    } else if (msg_isMatching(").concat(r.m,", [MSG_FLOAT_TOKEN])) {\n        if (msg_readFloatToken(").concat(r.m,", 0) === 0) {\n            ").concat(t.readingStatus," = 3\n            return\n\n        } else {\n            if (").concat(t.streamOperationId," !== -1) {\n                ").concat(t.readingStatus," = 1\n            } else {\n                console.log('[readsf~] start requested without prior open')\n            }\n            return\n\n        }\n        \n    } else if (msg_isAction(").concat(r.m,", 'print')) {\n        console.log('[readsf~] reading = ' + ").concat(t.readingStatus,".toString())\n        return\n    }    \n    ")}},loop:function(e){var n=e.state,t=e.snds,r=e.outs,a=e.node.args.channelCount;return Oo(Mc||(Mc=s(["\n    switch(",") {\n        case 1: \n            ","\n            break\n            \n        case 2: \n            ","\n            if (","[0].pullAvailableLength === 0) {\n                ","(msg_bang())\n                "," = 3\n            }\n            break\n\n        case 3: \n            ","\n            "," = 0\n            break\n    }\n"])),n.readingStatus,Co(a).map((function(e){return"".concat(r[e]," = buf_pullSample(").concat(n.buffers,"[").concat(e,"])")})),Co(a).map((function(e){return"".concat(r[e]," = buf_pullSample(").concat(n.buffers,"[").concat(e,"])")})),n.buffers,t[a],n.readingStatus,Co(a).map((function(e){return"".concat(r[e]," = 0")})),n.readingStatus)},stateVariables:{buffers:1,readingStatus:1,streamOperationId:1,frame:1},sharedCode:[Ju,Zu,iu,cu]},tl=220500,rl={translateArgs:function(e){return{channelCount:Zc(e.args[0])||1}},build:function(e){var n=e.channelCount;return{inlets:Sr({"0_message":{type:"message",id:"0_message"}},Fo(Co(n),(function(e){return["".concat(e),{type:"signal",id:"".concat(e)}]}))),outlets:{},isPullingSignal:!0}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},al={declare:function(e){var n=e.state,t=e.node.args,r=e.macros,a=r.Func,o=r.Var;return Oo(Lc||(Lc=s(["\n    let "," = -1\n    let "," = false\n    const "," = [\n        ","\n    ]\n    let "," = 0\n\n    const "," = "," => {\n        const "," = []\n        for (let "," = 0; i < ",".length; i++) {\n            block.push(","[i].subarray(0, ","))\n        }\n        fs_sendSoundStreamData(",", block)\n        "," = 0\n    }\n"])),o(n.operationId,"fs_OperationId"),o(n.isWriting,"boolean"),o(n.block,"Array<FloatArray>"),Co(t.channelCount).map((function(){return"createFloatArray(".concat(tl,"),")})),o(n.cursor,"Int"),n.funcFlushBlock,a([],"void"),o("block","Array<FloatArray>"),o("i","Int"),n.block,n.block,n.cursor,n.operationId,n.cursor)},messages:function(e){var n=e.node,t=e.state,r=e.globs,a=e.macros.Var;return{"0_message":"\n    if (msg_getLength(".concat(r.m,") >= 2) {\n        if (\n            msg_isStringToken(").concat(r.m,", 0) \n            && msg_readStringToken(").concat(r.m,", 0) === 'open'\n        ) {\n            if (").concat(t.operationId," !== -1) {\n                fs_closeSoundStream(").concat(t.operationId,", FS_OPERATION_SUCCESS)\n            }\n\n            const ").concat(a("soundInfo","fs_SoundInfo")," = {\n                channelCount: ").concat(n.args.channelCount,",\n                sampleRate: toInt(").concat(r.sampleRate,"),\n                bitDepth: 32,\n                encodingFormat: '',\n                endianness: '',\n                extraOptions: '',\n            }\n            const ").concat(a("unhandledOptions","Set<Int>")," = parseSoundFileOpenOpts(\n                ").concat(r.m,",\n                soundInfo,\n            )\n            const ").concat(a("url","string")," = parseReadWriteFsOpts(\n                ").concat(r.m,",\n                soundInfo,\n                unhandledOptions\n            )\n            if (url.length === 0) {\n                return\n            }\n            ").concat(t.operationId," = fs_openSoundWriteStream(\n                url,\n                soundInfo,\n                () => {\n                    ").concat(t.funcFlushBlock,"()\n                    ").concat(t.operationId," = -1\n                }\n            )\n            return\n        }\n\n    } else if (msg_isAction(").concat(r.m,", 'start')) {\n            ").concat(t.isWriting," = true\n            return\n\n    } else if (msg_isAction(").concat(r.m,", 'stop')) {\n        ").concat(t.funcFlushBlock,"()\n        ").concat(t.isWriting," = false\n        return\n\n    } else if (msg_isAction(").concat(r.m,", 'print')) {\n        console.log('[writesf~] writing = ' + ").concat(t.isWriting,".toString())\n        return\n    }    \n    ")}},loop:function(e){var n=e.state,t=e.ins,r=e.node.args;return Oo(Pc||(Pc=s(["\n    if ("," === true) {\n        ","\n        ","++\n        if ("," === ",") {\n            ","()\n        }\n    }\n"])),n.isWriting,Co(r.channelCount).map((function(e){return"".concat(n.block,"[").concat(e,"][").concat(n.cursor,"] = ").concat(t[e])})),n.cursor,n.cursor,tl,n.funcFlushBlock)},stateVariables:{isWriting:1,operationId:1,block:1,cursor:1,funcFlushBlock:1},sharedCode:[Ju,Zu,cu]},ol={translateArgs:function(e){var n=e.args;return{frequency:Zc(n[0])||0,Q:Zc(n[1])||0}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"},1:{type:"message",id:"1"},2:{type:"message",id:"2"}},outlets:{0:{type:"signal",id:"0"}}}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},il={loop:function(e){var n=e.ins,t=e.outs,r=e.state;return"\n    ".concat(r.y," = ").concat(n.$0," + ").concat(r.coef1," * ").concat(r.ym1," + ").concat(r.coef2," * ").concat(r.ym2,"\n    ").concat(t.$0," = ").concat(r.gain," * ").concat(r.y,"\n    ").concat(r.ym2," = ").concat(r.ym1,"\n    ").concat(r.ym1," = ").concat(r.y,"\n")},stateVariables:{frequency:1,Q:1,y:1,ym1:1,ym2:1,coef1:1,coef2:1,gain:1,funcSetQ:1,funcSetFrequency:1,funcUpdateCoefs:1,funcClear:1},messages:function(e){var n=e.state,t=e.globs;return{"0_message":"\n        if (\n            msg_isMatching(".concat(t.m,")\n            && msg_readStringToken(").concat(t.m,", 0) === 'clear'\n        ) {\n            ").concat(n.funcClear,"()\n            return \n        }\n    "),1:fu(t.m,n.funcSetFrequency),2:fu(t.m,n.funcSetQ)}},declare:function(e){var n=e.state,t=e.globs,r=e.node.args,a=e.macros,o=a.Var,i=a.Func;return"\n    let ".concat(o(n.frequency,"Float")," = ").concat(r.frequency,"\n    let ").concat(o(n.Q,"Float")," = ").concat(r.Q,"\n    let ").concat(o(n.coef1,"Float")," = 0\n    let ").concat(o(n.coef2,"Float")," = 0\n    let ").concat(o(n.gain,"Float")," = 0\n    let ").concat(o(n.y,"Float")," = 0\n    let ").concat(o(n.ym1,"Float")," = 0\n    let ").concat(o(n.ym2,"Float")," = 0\n\n    function ").concat(n.funcUpdateCoefs," ").concat(i([],"void")," {\n        let ").concat(o("omega","Float")," = ").concat(n.frequency," * (2.0 * Math.PI) / ").concat(t.sampleRate,";\n        let ").concat(o("oneminusr","Float")," = ").concat(n.Q," < 0.001 ? 1.0 : Math.min(omega / ").concat(n.Q,", 1)\n        let ").concat(o("r","Float")," = 1.0 - oneminusr\n        let ").concat(o("sigbp_qcos","Float")," = (omega >= -(0.5 * Math.PI) && omega <= 0.5 * Math.PI) ? \n            (((Math.pow(omega, 6) * (-1.0 / 720.0) + Math.pow(omega, 4) * (1.0 / 24)) - Math.pow(omega, 2) * 0.5) + 1)\n            : 0\n\n        ").concat(n.coef1," = 2.0 * sigbp_qcos * r\n        ").concat(n.coef2," = - r * r\n        ").concat(n.gain," = 2 * oneminusr * (oneminusr + r * omega)\n    }\n\n    function ").concat(n.funcSetFrequency," ").concat(i([o("frequency","Float")],"void")," {\n        ").concat(n.frequency," = (frequency < 0.001) ? 10: frequency\n        ").concat(n.funcUpdateCoefs,"()\n    }\n\n    function ").concat(n.funcSetQ," ").concat(i([o("Q","Float")],"void")," {\n        ").concat(n.Q," = Math.max(Q, 0)\n        ").concat(n.funcUpdateCoefs,"()\n    }\n\n    function ").concat(n.funcClear," ").concat(i([],"void")," {\n        ").concat(n.ym1," = 0\n        ").concat(n.ym2," = 0\n    }\n\n    commons_waitEngineConfigure(() => {\n        ").concat(n.funcUpdateCoefs,"()\n    })\n")}},sl=function(e){var n=e.macros,t=n.Var,r=n.Func;return"\n    const ".concat(t("SIGNAL_BUSES","Map<string, Float>")," = new Map()\n    SIGNAL_BUSES.set('', 0)\n\n    function addAssignSignalBus ").concat(r([t("busName","string"),t("value","Float")],"Float")," {\n        const ").concat(t("newValue","Float")," = SIGNAL_BUSES.get(busName) + value\n        SIGNAL_BUSES.set(\n            busName,\n            newValue,\n        )\n        return newValue\n    }\n\n    function resetSignalBus ").concat(r([t("busName","string")],"void")," {\n        SIGNAL_BUSES.set(busName, 0)\n    }\n\n    function readSignalBus ").concat(r([t("busName","string")],"Float")," {\n        return SIGNAL_BUSES.get(busName)\n    }\n")},cl=function(e){var n=e.macros,t=n.Var,r=n.Func;return"\n    const ".concat(t("MSG_BUSES","Map<string, Array<(m: Message) => void>>")," = new Map()\n\n    function msgBusPublish ").concat(r([t("busName","string"),t("message","Message")],"void")," {\n        let ").concat(t("i","Int")," = 0\n        const ").concat(t("callbacks","Array<(m: Message) => void>")," = MSG_BUSES.has(busName) ? MSG_BUSES.get(busName): []\n        for (i = 0; i < callbacks.length; i++) {\n            callbacks[i](message)\n        }\n    }\n\n    function msgBusSubscribe ").concat(r([t("busName","string"),t("callback","(m: Message) => void")],"void")," {\n        if (!MSG_BUSES.has(busName)) {\n            MSG_BUSES.set(busName, [])\n        }\n        MSG_BUSES.get(busName).push(callback)\n    }\n\n    function msgBusUnsubscribe ").concat(r([t("busName","string"),t("callback","(m: Message) => void")],"void")," {\n        if (!MSG_BUSES.has(busName)) {\n            return\n        }\n        const ").concat(t("callbacks","Array<(m: Message) => void>")," = MSG_BUSES.get(busName)\n        const ").concat(t("found","Int")," = callbacks.indexOf(callback) !== -1\n        if (found !== -1) {\n            callbacks.splice(found, 1)\n        }\n    }\n")},ul={translateArgs:function(e){return{busName:eu(e.args[0])||""}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"}},outlets:{},isPullingSignal:!0}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},ll={loop:function(e){var n=e.ins,t=e.state;return"\n    addAssignSignalBus(".concat(t.busName,", ").concat(n.$0,")\n")},messages:function(e){var n=e.state,t=e.globs;return{"0_message":"\n    if (\n        msg_isMatching(".concat(t.m,", [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n        && msg_readStringToken(").concat(t.m,", 0) === 'set'\n    ) {\n        ").concat(n.funcSetBusName,"(msg_readStringToken(").concat(t.m,", 1))\n        return\n    }\n    ")}},stateVariables:{busName:1,funcSetBusName:1},declare:function(e){var n=e.state,t=e.node.args,r=e.macros,a=r.Var,o=r.Func;return"\n    let ".concat(a(n.busName,"string"),' = ""\n\n    const ').concat(n.funcSetBusName," = ").concat(o([a("busName","string")],"void")," => {\n        if (busName.length) {\n            ").concat(n.busName," = busName\n            resetSignalBus(").concat(n.busName,")\n        }\n    }\n\n    ").concat(n.funcSetBusName,'("').concat(t.busName,'")\n')},sharedCode:[sl]},fl={translateArgs:function(e){return{busName:eu(e.args[0])||""}},build:function(){return{inlets:{},outlets:{0:{type:"signal",id:"0"}}}}},dl={loop:function(e){var n=e.outs,t=e.state;return"\n    ".concat(n.$0," = readSignalBus(").concat(t.busName,")\n    resetSignalBus(").concat(t.busName,")\n")},stateVariables:{busName:1,funcSetBusName:1},declare:function(e){var n=e.state,t=e.node.args,r=e.macros,a=r.Var,o=r.Func;return"\n    let ".concat(a(n.busName,"string"),' = ""\n\n    const ').concat(n.funcSetBusName," = ").concat(o([a("busName","string")],"void")," => {\n        if (busName.length) {\n            ").concat(n.busName," = busName\n            resetSignalBus(").concat(n.busName,")\n        }\n    }\n\n    ").concat(n.funcSetBusName,'("').concat(t.busName,'")\n')},sharedCode:[sl]},pl={translateArgs:function(e){return{rate:Zc(e.args[0])||0,unitAmount:Zc(e.args[1])||1,unit:eu(e.args[2])||"msec"}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}},hl={declare:function(e){var n=e.state,t=e.globs,r=e.snds,a=e.node.args,o=e.macros,i=o.Func,s=o.Var;return"\n        let ".concat(s(n.rate,"Float")," = 0\n        let ").concat(s(n.sampleRatio,"Float")," = 1\n        let ").concat(s(n.skedId,"Int")," = SKED_ID_NULL\n        let ").concat(s(n.realNextTick,"Float")," = -1\n\n        function ").concat(n.funcSetRate," ").concat(i([s("rate","Float")],"void")," {\n            ").concat(n.rate," = Math.max(rate, 0)\n        }\n\n        function ").concat(n.funcScheduleNextTick," ").concat(i([],"void")," {\n            ").concat(r.$0,"(msg_bang())\n            ").concat(n.realNextTick," = ").concat(n.realNextTick," + ").concat(n.rate," * ").concat(n.sampleRatio,"\n            ").concat(n.skedId," = commons_waitFrame(toInt(Math.round(").concat(n.realNextTick,")), () => {\n                ").concat(n.funcScheduleNextTick,"()\n            })\n        }\n\n        function ").concat(n.funcStop," ").concat(i([],"void")," {\n            if (").concat(n.skedId," !== SKED_ID_NULL) {\n                commons_cancelWaitFrame(").concat(n.skedId,")\n                ").concat(n.skedId," = SKED_ID_NULL\n            }\n            ").concat(n.realNextTick," = 0\n        }\n\n        commons_waitEngineConfigure(() => {\n            ").concat(n.sampleRatio," = computeUnitInSamples(").concat(t.sampleRate,", ").concat(a.unitAmount,', "').concat(a.unit,'")\n            ').concat(n.funcSetRate,"(").concat(a.rate,")\n        })\n    ")},messages:function(e){var n=e.state,t=e.globs;e.snds;return{0:"\n    if (msg_getLength(".concat(t.m,") === 1) {\n        if (\n            (msg_isFloatToken(").concat(t.m,", 0) && msg_readFloatToken(").concat(t.m,", 0) === 0)\n            || msg_isAction(").concat(t.m,", 'stop')\n        ) {\n            ").concat(n.funcStop,"()\n            return\n\n        } else if (\n            msg_isFloatToken(").concat(t.m,", 0)\n            || msg_isBang(").concat(t.m,")\n        ) {\n            ").concat(n.realNextTick," = toFloat(").concat(t.frame,")\n            ").concat(n.funcScheduleNextTick,"()\n            return\n        }\n    }\n    "),1:fu(t.m,n.funcSetRate)}},stateVariables:{rate:1,sampleRatio:1,skedId:1,realNextTick:1,funcSetRate:1,funcScheduleNextTick:1,funcStop:1},sharedCode:[Ou,iu,cu]},ml={translateArgs:function(e){return{unitAmount:Zc(e.args[0])||1,unit:eu(e.args[1])||"msec"}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}},gl={stateVariables:{resetTime:1,sampleRatio:1},declare:function(e){var n=e.state,t=e.globs,r=e.node.args,a=e.macros.Var;return"\n    let ".concat(a(n.sampleRatio,"Float")," = 0\n    let ").concat(a(n.resetTime,"Int")," = 0\n\n    commons_waitEngineConfigure(() => {\n        ").concat(n.sampleRatio," = computeUnitInSamples(").concat(t.sampleRate,", ").concat(r.unitAmount,', "').concat(r.unit,'")\n    })\n')},messages:function(e){var n=e.snds,t=e.globs,r=e.state;return{0:"\n    if (msg_isBang(".concat(t.m,")) {\n        ").concat(r.resetTime," = ").concat(t.frame,"\n        return\n\n    } else if (\n        msg_isMatching(").concat(t.m,", [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN, MSG_STRING_TOKEN])\n        && msg_readStringToken(").concat(t.m,", 0) === 'tempo'\n    ) {\n        ").concat(r.sampleRatio," = computeUnitInSamples(\n            ").concat(t.sampleRate,", \n            msg_readFloatToken(").concat(t.m,", 1), \n            msg_readStringToken(").concat(t.m,", 2)\n        )\n        return\n    }\n    "),1:"\n    if (msg_isBang(".concat(t.m,")) {\n        ").concat(n.$0,"(msg_floats([toFloat(").concat(t.frame," - ").concat(r.resetTime,") / ").concat(r.sampleRatio,"]))\n        return\n    }\n    ")}},sharedCode:[Ou,iu]},vl={translateArgs:function(e){return{delay:Zc(e.args[0])||0,unitAmount:Zc(e.args[1])||1,unit:eu(e.args[2])||"msec"}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}},yl={declare:function(e){var n=e.state,t=e.globs,r=e.node.args,a=e.macros,o=a.Func,i=a.Var;return"\n        let ".concat(i(n.delay,"Float")," = 0\n        let ").concat(i(n.sampleRatio,"Float")," = 1\n        let ").concat(i(n.scheduledBang,"Int")," = -1\n\n        const ").concat(n.funcSetDelay," = ").concat(o([i("delay","Float")],"void")," => {\n            ").concat(n.delay," = Math.max(0, delay)\n        }\n\n        const ").concat(n.funcScheduleDelay," = ").concat(o([],"void")," => {\n            ").concat(n.scheduledBang," = toInt(Math.round(\n                toFloat(").concat(t.frame,") + ").concat(n.delay," * ").concat(n.sampleRatio,"))\n        }\n\n        const ").concat(n.funcStopDelay," = ").concat(o([],"void")," => {\n            ").concat(n.scheduledBang," = -1\n        }\n\n        commons_waitEngineConfigure(() => {\n            ").concat(n.sampleRatio," = computeUnitInSamples(").concat(t.sampleRate,", ").concat(r.unitAmount,', "').concat(r.unit,'")\n            ').concat(n.funcSetDelay,"(").concat(r.delay,")\n        })\n    ")},messages:function(e){e.node;var n=e.state,t=e.globs,r=e.macros.Var;return{0:"\n        if (msg_getLength(".concat(t.m,") === 1) {\n            if (msg_isStringToken(").concat(t.m,", 0)) {\n                const ").concat(r("action","string")," = msg_readStringToken(").concat(t.m,", 0)\n                if (action === 'bang' || action === 'start') {\n                    ").concat(n.funcScheduleDelay,"()\n                    return\n                } else if (action === 'stop') {\n                    ").concat(n.funcStopDelay,"()\n                    return\n                }\n                \n            } else if (msg_isFloatToken(").concat(t.m,", 0)) {\n                ").concat(n.funcSetDelay,"(msg_readFloatToken(").concat(t.m,", 0))\n                ").concat(n.funcScheduleDelay,"()\n                return \n            }\n        \n        } else if (\n            msg_isMatching(").concat(t.m,", [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN, MSG_STRING_TOKEN])\n            && msg_readStringToken(").concat(t.m,", 0) === 'tempo'\n        ) {\n            ").concat(n.sampleRatio," = computeUnitInSamples(\n                ").concat(t.sampleRate,", \n                msg_readFloatToken(").concat(t.m,", 1), \n                msg_readStringToken(").concat(t.m,", 2)\n            )\n            return\n        }\n    "),1:fu(t.m,n.funcSetDelay)}},loop:function(e){var n=e.state,t=e.snds,r=e.globs;return"\n    if (\n        ".concat(n.scheduledBang," > -1 \n        && ").concat(n.scheduledBang," <= ").concat(r.frame,"\n    ) {\n        ").concat(t.$0,"(msg_bang())\n        ").concat(n.scheduledBang," = -1\n    }\n")},stateVariables:{funcSetDelay:1,funcScheduleDelay:1,funcStopDelay:1,delay:1,scheduledBang:1,sampleRatio:1},sharedCode:[Ou,iu]},bl="empty",Sl={value:1,funcPrepareStoreValue:1,funcPrepareStoreValueBang:1,funcSetReceiveBusName:1,sendBusName:1,receiveBusName:1,funcMessageReceiver:1},wl=function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"}},isPushingMessages:!0}},_l=function(e){var n=e.node,t=e.state,r=e.node.args,a=e.macros,o=a.Var,i=a.Func;return"\n    let ".concat(o(t.receiveBusName,"string"),' = "').concat(n.args.receiveBusName,'"\n    let ').concat(o(t.sendBusName,"string"),' = "').concat(n.args.sendBusName,'"\n\n    function ').concat(t.funcSetReceiveBusName," ").concat(i([o("busName","string")],"void")," {\n        if (").concat(t.receiveBusName,' !== "').concat(bl,'") {\n            msgBusUnsubscribe(').concat(t.receiveBusName,", ").concat(t.funcMessageReceiver,")\n        }\n        ").concat(t.receiveBusName," = busName\n        if (").concat(t.receiveBusName,' !== "').concat(bl,'") {\n            msgBusSubscribe(').concat(t.receiveBusName,", ").concat(t.funcMessageReceiver,")\n        }\n    }\n\n    commons_waitEngineConfigure(() => {\n        ").concat(t.funcSetReceiveBusName,'("').concat(r.receiveBusName,'")\n    })\n')},kl=function(e){var n=e.globs,t=e.state;return"\n    if (\n        msg_isMatching(".concat(n.m,", [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n        && msg_readStringToken(").concat(n.m,", 0) === 'receive'\n    ) {\n        ").concat(t.funcSetReceiveBusName,"(msg_readStringToken(").concat(n.m,", 1))\n        return\n\n    } else if (\n        msg_isMatching(").concat(n.m,", [MSG_STRING_TOKEN, MSG_STRING_TOKEN])\n        && msg_readStringToken(").concat(n.m,", 0) === 'send'\n    ) {\n        ").concat(t.sendBusName," = msg_readStringToken(").concat(n.m,", 1)\n        return\n    }\n")},xl={translateArgs:function(e){var n=it(e.args,6),t=n[0],r=n[1],a=n[2],o=n[3],i=n[4],s=n[5];return{minValue:Qc(t),maxValue:Qc(r),sendBusName:eu(s)||bl,receiveBusName:eu(i)||bl,initValue:1===a?Qc(o):0,outputOnLoad:!!a}},build:wl},Il={translateArgs:function(e){var n=it(e.args,5),t=n[0],r=n[1],a=n[2],o=n[3],i=n[4];return{minValue:0,maxValue:Qc(t),sendBusName:eu(i)||bl,receiveBusName:eu(o)||bl,initValue:1===r?Qc(a):0,outputOnLoad:!!r}},build:wl},El=function(e){var n=e.prepareStoreValue,t=e.prepareStoreValueBang;return{messages:function(e){var n=e.globs,t=e.state;return{0:"\n                ".concat(t.funcMessageReceiver,"(").concat(n.m,")\n                return\n            ")}},declare:function(e){var r=e.node,a=e.state,o=e.snds,i=e.node,s=i.id,c=i.args,u=e.compilation.codeVariableNames.nodes,l=e.macros,f=l.Var,d=l.Func;return"\n            let ".concat(f(a.value,"Float")," = ").concat(r.args.initValue,"\n\n            ").concat(Lo(n,(function(){return"function ".concat(a.funcPrepareStoreValue," ").concat(d([f("value","Float")],"Float")," {\n                    return ").concat(n(r.args),"\n                }")})),"\n\n            ").concat(Lo(t,(function(){return"function ".concat(a.funcPrepareStoreValueBang," ").concat(d([f("value","Float")],"Float")," {\n                    return ").concat(t(r.args),"\n                }")})),"\n\n            function ").concat(a.funcMessageReceiver," ").concat(d([f("m","Message")],"void")," {\n                if (msg_isMatching(m, [MSG_FLOAT_TOKEN])) {\n                    ").concat(n?"".concat(a.value," = ").concat(a.funcPrepareStoreValue,"(msg_readFloatToken(m, 0))"):"".concat(a.value," = msg_readFloatToken(m, 0)"),"\n                    const ").concat(f("outMessage","Message")," = msg_floats([").concat(a.value,"])\n                    ").concat(u[s].snds.$0,"(outMessage)\n                    if (").concat(a.sendBusName,' !== "').concat(bl,'") {\n                        msgBusPublish(').concat(a.sendBusName,", outMessage)\n                    }\n\n                } else if (msg_isBang(m)) {\n                    ").concat(Lo(t,(function(){return"".concat(a.value," = ").concat(a.funcPrepareStoreValueBang,"(").concat(a.value,")")})),"\n                    const ").concat(f("outMessage","Message")," = msg_floats([").concat(a.value,"])\n                    ").concat(u[s].snds.$0,"(outMessage)\n                    if (").concat(a.sendBusName,' !== "').concat(bl,'") {\n                        msgBusPublish(').concat(a.sendBusName,", outMessage)\n                    }\n\n                } else if (\n                    msg_isMatching(m, [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN]) \n                    && msg_readStringToken(m, 0) === 'set'\n                ) {\n                    ").concat(n?"".concat(a.value," = ").concat(a.funcPrepareStoreValue,"(msg_readFloatToken(m, 1))"):"".concat(a.value," = msg_readFloatToken(m, 1)"),"\n                }\n            \n                ").concat(kl(e),"\n            }\n\n            ").concat(_l(e),"\n\n            ").concat(Lo(c.outputOnLoad,"commons_waitFrame(0, () => ".concat(o.$0,"(msg_floats([").concat(a.value,"])))")),"\n        ")},stateVariables:Sl,sharedCode:[iu,cl]}},Ol={tgl:El({prepareStoreValueBang:function(e){var n=e.maxValue;return"value === 0 ? ".concat(n,": 0")}}),nbx:El({prepareStoreValue:function(e){var n=e.minValue,t=e.maxValue;return"Math.min(Math.max(value,".concat(n,"),").concat(t,")")}}),hsl:El({}),hradio:El({})};Ol.vsl=Ol.hsl,Ol.vradio=Ol.hradio;var Tl,Cl,Al,Fl,Ml,Ll,Pl,Nl,Rl,Dl,jl,zl={tgl:Il,nbx:xl,hsl:xl,vsl:xl,hradio:Il,vradio:Il},Bl={translateArgs:function(e){var n=it(e.args,3),t=n[0],r=n[1],a=n[2];return{outputOnLoad:!!t,sendBusName:eu(a)||bl,receiveBusName:eu(r)||bl}},build:wl},Ul={declare:function(e){var n=e.state,t=e.snds,r=e.node,a=r.id,o=r.args,i=e.macros,s=i.Var,c=i.Func,u=e.compilation.codeVariableNames.nodes;return"\n        function ".concat(n.funcMessageReceiver," ").concat(c([s("m","Message")],"void")," {\n            ").concat(kl(e),"\n            else {\n                const ").concat(s("outMessage","Message")," = msg_bang()\n                ").concat(u[a].snds.$0,"(outMessage)\n                if (").concat(n.sendBusName,' !== "').concat(bl,'") {\n                    msgBusPublish(').concat(n.sendBusName,", outMessage)\n                }\n                return\n            }\n        }\n\n        ").concat(_l(e),"\n\n        ").concat(Lo(o.outputOnLoad,"commons_waitFrame(0, () => ".concat(t.$0,"(msg_bang()))")),"\n    ")},messages:function(e){var n=e.state,t=e.globs;return{0:"\n            ".concat(n.funcMessageReceiver,"(").concat(t.m,")\n            return\n        ")}},stateVariables:Sl,sharedCode:[iu,cl]},Vl={translateArgs:function(e){var n=it(e.args,4),t=(n[0],n[1],n[2]),r=n[3];return{sendBusName:eu(r)||bl,receiveBusName:eu(t)||bl}},build:wl},Wl=function(e){var n=e.initValue,t=e.messageMatch;return{declare:function(e){var r=e.state,a=e.globs,o=e.macros,i=o.Var,s=o.Func,c=e.node.id,u=e.compilation.codeVariableNames.nodes;return"\n            let ".concat(i(r.value,"Message")," = ").concat(n,"\n            \n            function ").concat(r.funcMessageReceiver," ").concat(s([i("m","Message")],"void")," {\n                ").concat(kl(e),"\n                else if (msg_isBang(m)) {\n                    ").concat(u[c].snds.$0,"(").concat(r.value,")\n                    if (").concat(r.sendBusName,' !== "').concat(bl,'") {\n                        msgBusPublish(').concat(r.sendBusName,", ").concat(r.value,")\n                    }\n                    return\n                \n                } else if (\n                    msg_getTokenType(").concat(a.m,", 0) === MSG_STRING_TOKEN\n                    && msg_readStringToken(").concat(a.m,", 0) === 'set'\n                ) {\n                    const ").concat(i("setMessage","Message")," = msg_slice(").concat(a.m,", 1, msg_getLength(").concat(a.m,"))\n                    ").concat(Lo(t,(function(){return"if (".concat(t("setMessage"),") {")}))," \n                            ").concat(r.value," = setMessage    \n                            return\n                    ").concat(Lo(t,(function(){return"}"})),"\n\n                } ").concat(t?"else if (".concat(t("m"),") {"):"else {","\n                \n                    ").concat(r.value," = m\n                    ").concat(u[c].snds.$0,"(").concat(r.value,")\n                    if (").concat(r.sendBusName,' !== "').concat(bl,'") {\n                        msgBusPublish(').concat(r.sendBusName,", ").concat(r.value,")\n                    }\n                    return\n\n                }\n                throw new Error('unsupported message ' + msg_display(m))\n            }\n\n            ").concat(_l(e),"\n        ")},messages:function(e){var n=e.state,t=e.globs;return{0:"\n                ".concat(n.funcMessageReceiver,"(").concat(t.m,")\n                return\n            ")}},stateVariables:Sl,sharedCode:[iu,cl,su]}},Gl={floatatom:Vl,symbolatom:Vl,listbox:Vl},Kl={floatatom:Wl({initValue:"msg_floats([0])",messageMatch:function(e){return"msg_isMatching(".concat(e,", [MSG_FLOAT_TOKEN])")}}),symbolatom:Wl({initValue:"msg_strings([''])",messageMatch:function(e){return"msg_isMatching(".concat(e,", [MSG_STRING_TOKEN])")}}),listbox:Wl({initValue:"msg_bang()"})},$l={declare:function(e){var n=e.snds;return"commons_waitFrame(0, () => ".concat(n.$0,"(msg_bang()))")},stateVariables:{},sharedCode:[iu]},ql=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function roundFloatAsPdInt ".concat(t([r("value","Float")],"Float")," {\n        return value > 0 ? Math.floor(value): Math.ceil(value)\n    }\n")},Hl={value:1,funcSetValue:1},Xl={translateArgs:function(e){return{value:Zc(e.args[0])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}},isPushingMessages:!0}}},Yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value";return function(n){var t=n.node.args,r=n.state,a=n.macros,o=a.Var,i=a.Func;return"\n        let ".concat(o(r.value,"Float")," = 0\n\n        const ").concat(r.funcSetValue," = ").concat(i([o("value","Float")],"void")," => { ").concat(r.value," = ").concat(e," }\n        \n        ").concat(r.funcSetValue,"(").concat(t.value,")\n    ")}},Ql=function(e){var n=e.snds,t=e.globs,r=e.state;return{0:"\n    if (msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])) {\n        ").concat(r.funcSetValue,"(msg_readFloatToken(").concat(t.m,", 0))\n        ").concat(n.$0,"(msg_floats([").concat(r.value,"]))\n        return \n\n    } else if (msg_isBang(").concat(t.m,")) {\n        ").concat(n.$0,"(msg_floats([").concat(r.value,"]))\n        return\n        \n    }\n    "),1:fu(t.m,r.funcSetValue)}},Jl={float:Xl,f:{aliasTo:"float"},int:Xl,i:{aliasTo:"int"}},Zl={float:{declare:Yl(),messages:Ql,stateVariables:Hl,sharedCode:[iu]},int:{declare:Yl("roundFloatAsPdInt(value)"),messages:Ql,stateVariables:Hl,sharedCode:[ql,iu]}},ef={},nf={translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"}}}}},tf=function(e){var n=e.operationCode,t=e.sharedCode;return{messages:function(e){var t=e.globs,r=e.snds,a=e.macros.Var;return{0:"\n        if (msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])) {\n            const ").concat(a("value","Float")," = msg_readFloatToken(").concat(t.m,", 0)\n            ").concat(r.$0,"(msg_floats([").concat(n,"]))\n            return\n        }\n        ")}},stateVariables:ef,sharedCode:void 0===t?[]:t}},rf={abs:tf({operationCode:"Math.abs(value)"}),wrap:tf({operationCode:"(1 + (value % 1)) % 1"}),cos:tf({operationCode:"Math.cos(value)"}),mtof:tf({operationCode:"mtof(value)",sharedCode:[Pu]}),ftom:tf({operationCode:"ftom(value)",sharedCode:[Nu]}),rmstodb:tf({operationCode:"value <= 0 ? 0 : 20 * Math.log(value) / Math.LN10 + 100"}),dbtorms:tf({operationCode:"value <= 0 ? 0 : Math.exp(Math.LN10 * (value - 100) / 20)"}),powtodb:tf({operationCode:"value <= 0 ? 0 : 10 * Math.log(value) / Math.LN10 + 100"}),dbtopow:tf({operationCode:"value <= 0 ? 0 : Math.exp(Math.LN10 * (value - 100) / 10)"})},af={abs:nf,cos:nf,wrap:nf,mtof:nf,ftom:nf,rmstodb:nf,dbtorms:nf,powtodb:nf,dbtopow:nf},of={leftOp:1,rightOp:1},sf=function(e){return{translateArgs:function(n){var t=Zc(n.args[0]);return{value:void 0!==t?t:e}},build:function(){return{inlets:{"0_message":{type:"message",id:"0_message"},0:{type:"signal",id:"0"},"1_message":{type:"message",id:"1_message"},1:{type:"signal",id:"1"}},outlets:{0:{type:"signal",id:"0"}}}},rerouteMessageConnection:function(e){return"0"===e?"0_message":"1"===e?"1_message":void 0}}},cf=function(e){var n=e.generateOperation;return{declare:function(e){var n=e.node,t=e.state,r=e.macros.Var;return"\n        ".concat(Lo(uf(n),"\n                let ".concat(r(t.leftOp,"Float")," = 0\n            ")),"\n        ").concat(Lo(lf(n),"\n                let ".concat(r(t.rightOp,"Float")," = ").concat(n.args.value,"\n            ")),"\n    ")},loop:function(e){var t=e.node,r=e.ins,a=e.outs,o=e.state;return"".concat(a.$0," = ").concat(n(uf(t)?o.leftOp:r.$0,lf(t)?o.rightOp:r.$1))},messages:function(e){var n=e.node,t=e.state,r=e.globs;return{"0_message":Lo(uf(n),lu(r.m,t.leftOp)),"1_message":Lo(lf(n),lu(r.m,t.rightOp))}},stateVariables:of}},uf=function(e){return!e.sources[0]||!e.sources[0].length},lf=function(e){return!e.sources[1]||!e.sources[1].length},ff={"+~":cf({generateOperation:function(e,n){return"".concat(e," + ").concat(n)}}),"-~":cf({generateOperation:function(e,n){return"".concat(e," - ").concat(n)}}),"*~":cf({generateOperation:function(e,n){return"".concat(e," * ").concat(n)}}),"/~":cf({generateOperation:function(e,n){return"".concat(n," !== 0 ? ").concat(e," / ").concat(n," : 0")}}),"min~":cf({generateOperation:function(e,n){return"Math.min(".concat(e,", ").concat(n,")")}}),"max~":cf({generateOperation:function(e,n){return"Math.max(".concat(e,", ").concat(n,")")}})},df={"+~":sf(0),"-~":sf(0),"*~":sf(0),"/~":sf(0),"min~":sf(0),"max~":sf(0)},pf={translateArgs:function(e){return{channelCount:Qc(e.args[0])}},build:function(e){return{inlets:Fo(Co(e.channelCount),(function(e){return["".concat(e),{type:"signal",id:"".concat(e)}]})),outlets:{0:{type:"signal",id:"0"}}}}},hf={loop:function(e){var n=e.node,t=e.ins,r=e.outs;return"\n    ".concat(r.$0," = ").concat(Object.keys(n.inlets).map((function(e){return t[e]})).join(" + "),"\n")},stateVariables:{}},mf={loop:function(e){var n=e.outs;return"\n    ".concat(n.$0," = Math.random() * 2 - 1\n")},messages:function(e){var n=e.globs;return{0:"\n    if (\n        msg_isMatching(".concat(n.m,", [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n        && msg_readStringToken(").concat(n.m,", 0) === 'seed'\n    ) {\n        console.log('WARNING : seed not implemented yet for [noise~]')\n        return\n    }\n    ")}},stateVariables:{}},gf=function(e){var n=e.macros,t=n.Var,r=n.Func;return"\n    const ".concat(t("DELAY_BUFFERS","Map<string, buf_SoundBuffer>")," = new Map()\n    const ").concat(t("DELAY_BUFFERS_SKEDULER","Skeduler")," = sked_create(true)\n    const ").concat(t("DELAY_BUFFERS_NULL","buf_SoundBuffer")," = buf_create(1)\n\n    function DELAY_BUFFERS_set ").concat(r([t("delayName","string"),t("buffer","buf_SoundBuffer")],"void")," {\n        DELAY_BUFFERS.set(delayName, buffer)\n        sked_emit(DELAY_BUFFERS_SKEDULER, delayName)\n    }\n\n    function DELAY_BUFFERS_get ").concat(r([t("delayName","string"),t("callback","(event: string) => void")],"void")," {\n        sked_wait(DELAY_BUFFERS_SKEDULER, delayName, callback)\n    }\n\n    function DELAY_BUFFERS_delete ").concat(r([t("delayName","string")],"void")," {\n        DELAY_BUFFERS.delete(delayName)\n    }\n")},vf={delayName:1,buffer:1,delaySamp:1,delayMsec:1,funcSetDelayName:1,funcSetDelayMsec:1},yf={translateArgs:function(e){var n=e.args;return{delayName:eu(n[0])||"",initDelayMsec:Zc(n[1])||0}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"}},outlets:{0:{type:"signal",id:"0"}}}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},bf=function(){var e=function(e){var n=e.outs,t=e.state;return"\n        ".concat(n.$0," = buf_readSample(").concat(t.buffer,", ").concat(t.delaySamp,")\n    ")},n=function(e){var n=e.globs,t=e.outs,r=e.ins,a=e.state;return"\n        ".concat(t.$0," = buf_readSample(").concat(a.buffer,", toInt(Math.round(\n            Math.min(\n                Math.max(computeUnitInSamples(").concat(n.sampleRate,", ").concat(r.$0,', "msec"), 0), \n                toFloat(').concat(a.buffer,".length - 1)\n            )\n        )))\n    ")};return{loop:function(t){return Sf(t.node)?n(t):e(t)},stateVariables:vf,messages:function(e){var n=e.state,t=e.globs;return{"0_message":fu(t.m,n.funcSetDelayMsec)}},declare:function(e){var n=e.state,t=e.globs,r=e.node.args,a=e.macros,o=a.Var,i=a.Func;return"\n        let ".concat(o(n.delayName,"string"),' = ""\n        let ').concat(o(n.buffer,"buf_SoundBuffer")," = DELAY_BUFFERS_NULL\n        let ").concat(o(n.delaySamp,"Int")," = 0\n        let ").concat(o(n.delayMsec,"Float")," = 0\n\n        const ").concat(n.funcSetDelayMsec," = ").concat(i([o("delayMsec","Float")],"void")," => {\n            ").concat(n.delayMsec," = delayMsec\n            ").concat(n.delaySamp," = toInt(Math.round(\n                Math.min(\n                    Math.max(computeUnitInSamples(").concat(t.sampleRate,', delayMsec, "msec"), 0), \n                    toFloat(').concat(n.buffer,".length - 1)\n                )\n            ))\n        }\n\n        const ").concat(n.funcSetDelayName," = ").concat(i([o("delayName","string")],"void")," => {\n            if (").concat(n.delayName,".length) {\n                ").concat(n.buffer," = DELAY_BUFFERS_NULL\n            }\n            ").concat(n.delayName," = delayName\n            if (").concat(n.delayName,".length) {\n                DELAY_BUFFERS_get(").concat(n.delayName,", () => { \n                    ").concat(n.buffer," = DELAY_BUFFERS.get(").concat(n.delayName,")\n                    ").concat(n.funcSetDelayMsec,"(").concat(n.delayMsec,')\n                })\n            }\n        }\n\n        commons_waitEngineConfigure(() => {\n            if ("').concat(r.delayName,'".length) {\n                ').concat(n.funcSetDelayName,'("').concat(r.delayName,'")\n            }\n            ').concat(n.funcSetDelayMsec,"(").concat(r.initDelayMsec,")\n        })\n    ")},sharedCode:[Ou,gf]}},Sf=function(e){return e.sources[0]&&e.sources[0].length},wf={"delread~":yf,"delread4~":yf},_f={"delread~":bf(),"delread4~":bf()},kf={translateArgs:function(e){var n=e.args;return{delayName:eu(n[0])||"",maxDurationMsec:Zc(n[1])||100}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"}},outlets:{},isPullingSignal:!0}},rerouteMessageConnection:function(e){if("0"===e)return"0_message"}},xf={loop:function(e){var n=e.ins,t=e.state;return"\n    buf_writeSample(".concat(t.buffer,", ").concat(n.$0,")\n")},stateVariables:{delayName:1,buffer:1,funcSetDelayName:1},messages:function(e){var n=e.state,t=e.globs;return{"0_message":"\n        if (msg_isAction(".concat(t.m,", 'clear')) {\n            buf_clear(").concat(n.buffer,")\n            return\n        }\n    ")}},declare:function(e){var n=e.state,t=e.globs,r=e.node.args,a=e.macros,o=a.Var,i=a.Func;return"\n    let ".concat(o(n.delayName,"string"),' = ""\n    let ').concat(o(n.buffer,"buf_SoundBuffer")," = DELAY_BUFFERS_NULL\n\n    const ").concat(n.funcSetDelayName," = ").concat(i([o("delayName","string")],"void")," => {\n        if (").concat(n.delayName,".length) {\n            DELAY_BUFFERS_delete(").concat(n.delayName,")\n        }\n        ").concat(n.delayName," = delayName\n        if (").concat(n.delayName,".length) {\n            DELAY_BUFFERS_set(").concat(n.delayName,", ").concat(n.buffer,")\n        }\n    }\n\n    commons_waitEngineConfigure(() => {\n        ").concat(n.buffer," = buf_create(\n            toInt(computeUnitInSamples(\n                ").concat(t.sampleRate,", \n                toFloat(").concat(r.maxDurationMsec,'), \n                "msec"\n            ))\n        )\n        if ("').concat(r.delayName,'".length) {\n            ').concat(n.funcSetDelayName,'("').concat(r.delayName,'")\n        }\n    })\n')},sharedCode:[Ou,gf,cu]},If={lastInput:1,lastOutput:1,coeff:1,funcSetCoeff:1},Ef={translateArgs:function(e){var n=e.args;return{initValue:Zc(n[0])||0}},build:function(){return{inlets:{0:{type:"signal",id:"0"},1:{type:"signal",id:"1"},"1_message":{type:"message",id:"1_message"}},outlets:{0:{type:"signal",id:"0"}}}},rerouteMessageConnection:function(e){if("1"===e)return"1_message"}},Of=function(e){var n=e.generateOperation,t=e.computeCoeff,r=void 0===t?function(){return"value"}:t,a=function(e){var n=e.state,t=e.macros.Var;return"\n        let ".concat(t(n.lastOutput,"Float")," = 0\n        let ").concat(t(n.lastInput,"Float")," = 0\n    ")},o=function(e){var n=e.state,t=e.globs,a=e.node.args,o=e.macros,i=o.Var,s=o.Func;return"\n        let ".concat(i(n.lastOutput,"Float")," = 0\n        let ").concat(i(n.lastInput,"Float")," = 0\n        let ").concat(i(n.coeff,"Float")," = 0\n\n        function ").concat(n.funcSetCoeff," ").concat(s([i("value","Float")],"void")," {\n            ").concat(n.coeff," = ").concat(r(t.sampleRate),"\n        }\n\n        commons_waitEngineConfigure(() => {\n            ").concat(n.funcSetCoeff,"(").concat(a.initValue,")\n        })\n    ")},i=function(e){var t=e.ins,r=e.state,a=e.outs;return"\n        ".concat(r.lastOutput," = ").concat(a.$0," = ").concat(n(t.$0,t.$1,r.lastOutput,r.lastInput),"\n        ").concat(r.lastInput," = ").concat(t.$0,"\n    ")},s=function(e){var t=e.ins,r=e.state,a=e.outs;return"\n        ".concat(r.lastOutput," = ").concat(a.$0," = ").concat(n(t.$0,r.coeff,r.lastOutput,r.lastInput),"\n        ").concat(r.lastInput," = ").concat(t.$0,"\n    ")};return{loop:function(e){return Tf(e.node)?i(e):s(e)},stateVariables:If,messages:function(e){var n=e.globs,t=e.state;return{"1_message":fu(n.m,t.funcSetCoeff)}},declare:function(e){return Tf(e.node)?a(e):o(e)}}},Tf=function(e){return e.sources[1]&&e.sources[1].length},Cf={"rpole~":Ef,"rzero~":Ef,"rzero_rev~":Ef,"hip~":Ef,"lop~":Ef},Af={"rpole~":Of({generateOperation:function(e,n,t){return"".concat(e," + ").concat(n," * ").concat(t)}}),"rzero~":Of({generateOperation:function(e,n,t,r){return"".concat(e," - ").concat(n," * ").concat(r)}}),"rzero_rev~":Of({generateOperation:function(e,n,t,r){return"".concat(r," - ").concat(n," * ").concat(e)}}),"hip~":Of({generateOperation:function(e,n,t,r){return"".concat(n," * (").concat(t," + ").concat(e," - ").concat(r,")")},computeCoeff:function(e){return"Math.min(1, Math.max(0, 1 - Math.max(0, value) * 2 * Math.PI / ".concat(e,"))")}}),"lop~":Of({generateOperation:function(e,n,t){return"".concat(t," + ").concat(n," * (").concat(e," - ").concat(t,")")},computeCoeff:function(e){return"Math.min(1, Math.max(0, Math.max(0, value) * 2 * Math.PI / ".concat(e,"))")}})},Ff={inputIm:1,coeffRe:1,coeffIm:1,lastInputRe:1,lastInputIm:1,lastOutputRe:1,lastOutputIm:1},Mf={translateArgs:function(e){var n=e.args;return{initCoeffRe:Zc(n[0])||0,initCoeffIm:Zc(n[1])||0}},build:function(){return{inlets:{0:{type:"signal",id:"0"},"0_message":{type:"message",id:"0_message"},1:{type:"signal",id:"1"},"1_message":{type:"message",id:"1_message"},2:{type:"signal",id:"2"},"2_message":{type:"message",id:"2_message"},3:{type:"signal",id:"3"},"3_message":{type:"message",id:"3_message"}},outlets:{0:{type:"signal",id:"0"},1:{type:"signal",id:"1"}}}},rerouteMessageConnection:function(e){return"0"===e?"0_message":"1"===e?"1_message":"2"===e?"2_message":"3"===e?"3_message":void 0}},Lf=function(e){var n=e.generateOperationRe,t=e.generateOperationIm;return{loop:function(e){var r=e.node,a=e.ins,o=e.state,i=e.outs;return"\n        ".concat(i.$0," = ").concat(n(a.$0,Pf("1",r)?a.$1:o.inputIm,Pf("2",r)?a.$2:o.coeffRe,Pf("3",r)?a.$3:o.coeffIm,o.lastOutputRe,o.lastOutputIm,o.lastInputRe,o.lastInputIm),"\n        ").concat(o.lastOutputIm," = ").concat(i.$1," = ").concat(t(a.$0,Pf("1",r)?a.$1:o.inputIm,Pf("2",r)?a.$2:o.coeffRe,Pf("3",r)?a.$3:o.coeffIm,o.lastOutputRe,o.lastOutputIm,o.lastInputRe,o.lastInputIm),"\n        ").concat(o.lastOutputRe," = ").concat(i.$0,"\n        ").concat(o.lastInputRe," = ").concat(a.$0,"\n        ").concat(o.lastInputIm," = ").concat(Pf("1",r)?a.$1:o.inputIm,"\n    ")},stateVariables:Ff,messages:function(e){var n=e.globs,t=e.state;return{"1_message":lu(n.m,t.inputIm),"2_message":lu(n.m,t.coeffRe),"3_message":lu(n.m,t.coeffIm)}},declare:function(e){var n=e.state,t=e.node.args,r=e.macros.Var;return"\n        let ".concat(r(n.inputIm,"Float")," = 0\n        let ").concat(r(n.coeffRe,"Float")," = ").concat(t.initCoeffRe,"\n        let ").concat(r(n.coeffIm,"Float")," = ").concat(t.initCoeffIm,"\n        let ").concat(r(n.lastOutputRe,"Float")," = 0\n        let ").concat(r(n.lastOutputIm,"Float")," = 0\n        let ").concat(r(n.lastInputRe,"Float")," = 0\n        let ").concat(r(n.lastInputIm,"Float")," = 0\n    ")}}},Pf=function(e,n){return n.sources[e]&&n.sources[e].length},Nf={"cpole~":Mf,"czero~":Mf},Rf={"cpole~":Lf({generateOperationRe:function(e,n,t,r,a,o){return"".concat(e," + ").concat(a," * ").concat(t," - ").concat(o," * ").concat(r)},generateOperationIm:function(e,n,t,r,a,o){return"".concat(n," + ").concat(a," * ").concat(r," + ").concat(o," * ").concat(t)}}),"czero~":Lf({generateOperationRe:function(e,n,t,r,a,o,i,s){return"".concat(e," - ").concat(i," * ").concat(t," + ").concat(s," * ").concat(r)},generateOperationIm:function(e,n,t,r,a,o,i,s){return"".concat(n," - ").concat(i," * ").concat(r," - ").concat(s," * ").concat(t)}})},Df={declare:function(e){var n=e.state,t=e.node,r=e.macros,a=r.Var,o=r.Func,i=t.args.templates.map((function(n,t){return jf(e,n,t)}));return Oo(Tl||(Tl=s(["\n        let "," = []\n        let "," = []\n        ","\n        \n        const "," = [\n            ","\n        ]\n    "])),a(n.outTemplates,"Array<MessageTemplate>"),a(n.outMessages,"Array<Message>"),i.map((function(e){var n=e.inMessageUsed,t=e.outMessageCode;return Lo(!n,t)})),a(n.messageTransferFunctions,"Array<(m: Message) => Message>"),i.map((function(e,t){var r=e.inMessageUsed,i=e.outMessageCode;return"\n                ".concat(o([a("inMessage","Message")],"Message")," => {\n                    ").concat(Lo(r,i),"\n                    return ").concat(n.outMessages,"[").concat(t,"]\n                }")})).join(","))},messages:function(e){var n=e.snds,t=e.state,r=e.globs,a=e.macros,o=a.Var,i=a.Func;return{0:"\n        if (\n            msg_isStringToken(".concat(r.m,", 0) \n            && msg_readStringToken(").concat(r.m,", 0) === 'set'\n        ) {\n            ").concat(t.outTemplates," = [[]]\n            for (let ").concat(o("i","Int")," = 1; i < msg_getLength(").concat(r.m,"); i++) {\n                if (msg_isFloatToken(").concat(r.m,", i)) {\n                    ").concat(t.outTemplates,"[0].push(MSG_FLOAT_TOKEN)\n                } else {\n                    ").concat(t.outTemplates,"[0].push(MSG_STRING_TOKEN)\n                    ").concat(t.outTemplates,"[0].push(msg_readStringToken(").concat(r.m,", i).length)\n                }\n            }\n\n            const ").concat(o("message","Message")," = msg_create(").concat(t.outTemplates,"[0])\n            for (let ").concat(o("i","Int")," = 1; i < msg_getLength(").concat(r.m,"); i++) {\n                if (msg_isFloatToken(").concat(r.m,", i)) {\n                    msg_writeFloatToken(\n                        message, i - 1, msg_readFloatToken(").concat(r.m,", i)\n                    )\n                } else {\n                    msg_writeStringToken(\n                        message, i - 1, msg_readStringToken(").concat(r.m,", i)\n                    )\n                }\n            }\n            ").concat(t.outMessages,"[0] = message\n            ").concat(t.messageTransferFunctions,".splice(0, ").concat(t.messageTransferFunctions,".length - 1)\n            ").concat(t.messageTransferFunctions,"[0] = ").concat(i([o("m","Message")],"Message")," => { return ").concat(t.outMessages,"[0] }\n            return\n\n        } else {\n            for (let ").concat(o("i","Int")," = 0; i < ").concat(t.messageTransferFunctions,".length; i++) {\n                ").concat(n.$0,"(").concat(t.messageTransferFunctions,"[i](").concat(r.m,"))\n            }\n            return    \n        }\n    ")}},stateVariables:{outTemplates:1,outMessages:1,messageTransferFunctions:1}},jf=function(e,n,t){var r=e.state,a=e.macros.Var,o="".concat(r.outTemplates,"[").concat(t,"]"),i="".concat(r.outMessages,"[").concat(t,"]"),c=zf(n),u="",l="",f=0;c.forEach((function(e,n){if("noop"===e.type){var t=e.inIndex;u+="\n                ".concat(o,".push(msg_getTokenType(inMessage, ").concat(t,"))\n                if (msg_isStringToken(inMessage, ").concat(t,")) {\n                    stringMem[").concat(f,"] = msg_readStringToken(inMessage, ").concat(t,")\n                    ").concat(o,".push(stringMem[").concat(f,"].length)\n                }\n            "),l+="\n                if (msg_isFloatToken(inMessage, ".concat(t,")) {\n                    msg_writeFloatToken(").concat(i,", ").concat(n,", msg_readFloatToken(inMessage, ").concat(t,"))\n                } else if (msg_isStringToken(inMessage, ").concat(t,")) {\n                    msg_writeStringToken(").concat(i,", ").concat(n,", stringMem[").concat(f,"])\n                }\n            "),f++}else"string-template"===e.type?(u+=Oo(Cl||(Cl=s(['\n                stringToken = "','"\n                ',"\n                stringMem[","] = stringToken\n                ",".push(MSG_STRING_TOKEN)\n                ",".push(stringMem[","].length)\n            "])),e.template,e.variables.map((function(e){var n=e.placeholder,t=e.inIndex;return"\n                    if (msg_isFloatToken(inMessage, ".concat(t,")) {\n                        otherStringToken = msg_readFloatToken(inMessage, ").concat(t,").toString()\n                        if (otherStringToken.endsWith('.0')) {\n                            otherStringToken = otherStringToken.slice(0, -2)\n                        }\n                        stringToken = stringToken.replace(\"").concat(n,'", otherStringToken)\n                    } else if (msg_isStringToken(inMessage, ').concat(t,')) {\n                        stringToken = stringToken.replace("').concat(n,'", msg_readStringToken(inMessage, ').concat(t,"))\n                    }")})),f,o,o,f),l+="\n                msg_writeStringToken(".concat(i,", ").concat(n,", stringMem[").concat(f,"])\n            "),f++):"string-constant"===e.type?(u+="\n                ".concat(o,".push(MSG_STRING_TOKEN)\n                ").concat(o,".push(").concat(e.value.length,")\n            "),l+="\n                msg_writeStringToken(".concat(i,", ").concat(n,', "').concat(e.value,'")\n            ')):"float-constant"===e.type&&(u+="\n                ".concat(o,".push(MSG_FLOAT_TOKEN)\n            "),l+="\n                msg_writeFloatToken(".concat(i,", ").concat(n,", ").concat(e.value,")\n            "))}));var d=c.some((function(e){return"string-template"===e.type})),p=c.some((function(e){return"noop"===e.type||"string-template"===e.type}));return{inMessageUsed:p,outMessageCode:"\n            ".concat(Lo(d,"let ".concat(a("stringToken","string"))),"\n            ").concat(Lo(d,"let ".concat(a("otherStringToken","string"))),"\n            ").concat(Lo(p,"let ".concat(a("stringMem","Array<string>")," = []")),"\n            ").concat(o," = []\n            ").concat(u,"           \n            ").concat(i," = msg_create(").concat(o,")\n            ").concat(l,"\n        ")}},zf=function(e){return e.map((function(e){if("string"===typeof e){var n=Bf.exec(e);if(n&&n[0]===e)return{type:"noop",inIndex:parseInt(n[1],10)-1};if(n){for(var t,r=[];t=Uf.exec(e);)r.push({placeholder:t[0],inIndex:parseInt(t[1],10)-1});return{type:"string-template",template:e,variables:r}}return{type:"string-constant",value:e}}return{type:"float-constant",value:e}}))},Bf=/\$(\d+)/,Uf=/\$(\d+)/g,Vf={translateArgs:function(e){var n=e.args,t=eu(n[0])||"append",r=n.slice(1);switch(t){case"split":r=[Zc(n[1])||0];break;case"trim":case"length":r=[];break;case"append":case"prepend":break;case"fromsymbol":case"tosymbol":case"store":throw new Error("list operation ".concat(t," not implemented yet"));default:throw new Error("invalid list operation ".concat(t))}return{operation:t,operationArgs:r}},build:function(e){var n=0,t=0;switch(e.operation){case"split":n=2,t=3;break;case"trim":case"length":n=1,t=1;break;case"prepend":case"append":n=2,t=1}return{inlets:Fo(Co(n),(function(e){return["".concat(e),{type:"message",id:"".concat(e)}]})),outlets:Fo(Co(t),(function(e){return["".concat(e),{type:"message",id:"".concat(e)}]}))}}},Wf={messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.macros.Var,o=e.node.args,i="const ".concat(a("inMessage","Message")," = msg_isBang(").concat(t.m,") ? msg_create([]): ").concat(t.m);switch(o.operation){case"split":return{0:"\n                ".concat(i,"\n                if (msg_getLength(inMessage) < ").concat(r.splitPoint,") {\n                    ").concat(n.$2,"(").concat(t.m,")\n                    return\n                } else if (msg_getLength(inMessage) === ").concat(r.splitPoint,") {\n                    ").concat(n.$1,"(msg_bang())\n                    ").concat(n.$0,"(").concat(t.m,")\n                    return\n                }\n                const ").concat(a("outMessage1","Message")," = msg_slice(inMessage, ").concat(r.splitPoint,", msg_getLength(inMessage))\n                const ").concat(a("outMessage0","Message")," = msg_slice(inMessage, 0, ").concat(r.splitPoint,")\n                ").concat(n.$1,"(msg_getLength(outMessage1) === 0 ? msg_bang(): outMessage1)\n                ").concat(n.$0,"(msg_getLength(outMessage0) === 0 ? msg_bang(): outMessage0)\n                return\n                "),1:fu(t.m,r.funcSetSplitPoint)};case"trim":return{0:"\n                ".concat(n.$0,"(").concat(t.m,")\n                return\n                ")};case"length":return{0:"\n                if (msg_isBang(".concat(t.m,")) {\n                    ").concat(n.$0,"(msg_floats([0]))\n                } else {\n                    ").concat(n.$0,"(msg_floats([toFloat(msg_getLength(").concat(t.m,"))]))\n                }\n                return\n                ")};case"append":case"prepend":var s="prepend"===o.operation?"msg_concat(".concat(r.currentList,", ").concat(t.m,")"):"msg_concat(".concat(t.m,", ").concat(r.currentList,")");return{0:"\n                if (msg_isBang(".concat(t.m,")) {\n                    ").concat(n.$0,"(msg_getLength(").concat(r.currentList,") === 0 ? msg_bang(): ").concat(r.currentList,")\n                } else {\n                    ").concat(n.$0,"(msg_getLength(").concat(r.currentList,") === 0 && msg_getLength(").concat(t.m,") === 0 ? msg_bang(): ").concat(s,")\n                }\n                return\n                "),1:"\n                ".concat(i,"\n                ").concat(r.currentList," = inMessage\n                return\n                ")};default:throw new Error("unknown list operation ".concat(o.operation))}},stateVariables:{currentList:1,splitPoint:1,funcSetSplitPoint:1},declare:function(e){var n=e.state,t=e.node.args,r=e.macros,a=r.Var,o=r.Func;switch(t.operation){case"split":return"\n                let ".concat(a(n.splitPoint,"Int")," = ").concat(t.operationArgs[0],"\n\n                function ").concat(n.funcSetSplitPoint," ").concat(o([a("value","Float")],"void")," {\n                    ").concat(n.splitPoint," = toInt(value)\n                }\n            ");case"trim":case"length":return"";case"append":case"prepend":return"\n                let ".concat(a(n.currentList,"Message")," = msg_create([])\n                {\n                    const ").concat(a("template","MessageTemplate")," = [").concat(t.operationArgs.map((function(e){return"string"===typeof e?"MSG_STRING_TOKEN,".concat(e.length):"MSG_FLOAT_TOKEN"})).join(","),"]\n        \n                    ").concat(n.currentList," = msg_create(template)\n        \n                    ").concat(t.operationArgs.map((function(e,t){return"string"===typeof e?"msg_writeStringToken(".concat(n.currentList,", ").concat(t,', "').concat(e,'")'):"msg_writeFloatToken(".concat(n.currentList,", ").concat(t,", ").concat(e,")")})),"\n                }\n            ");default:throw Error("unknown operation ".concat(t.operation))}},sharedCode:[iu,su]},Gf={translateArgs:function(e){return{busName:eu(e.args[0])||""}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{}}}},Kf={stateVariables:{busName:1},declare:function(e){var n=e.state,t=e.macros.Var,r=e.node.args;return"\n    let ".concat(t(n.busName,"string"),' = "').concat(r.busName,'"\n')},messages:function(e){var n,t,r=e.state,a=e.globs;return{0:"\n    msgBusPublish(".concat(r.busName,", ").concat(a.m,")\n    return\n    "),1:(n=a.m,t=r.busName,"if (msg_isMatching(".concat(n,", [MSG_STRING_TOKEN])) {\n        ").concat(t," = msg_readStringToken(").concat(n,", 0)\n        return\n    }"))}},sharedCode:[cl]},$f={translateArgs:function(e){return{busName:eu(e.args[0])||""}},build:function(){return{inlets:{},outlets:{0:{type:"message",id:"0"}},isPushingMessages:!0}}},qf={stateVariables:{},declare:function(e){var n=e.compilation.codeVariableNames.nodes,t=e.node,r=t.id,a=t.args;return'\n    commons_waitEngineConfigure(() => {\n        msgBusSubscribe("'.concat(a.busName,'", ').concat(n[r].snds.$0,")\n    })\n")},sharedCode:[cl]},Hf={declare:function(e){var n=e.state,t=e.macros,r=t.Func,a=t.Var;return"\n    class SfOperation {\n        ".concat(a("url","string"),"\n        ").concat(a("arrayNames","Array<string>"),"\n        ").concat(a("resize","boolean"),"\n        ").concat(a("maxSize","Float"),"\n        ").concat(a("framesToWrite","Float"),"\n        ").concat(a("skip","Float"),"\n        ").concat(a("soundInfo","fs_SoundInfo"),"\n    }\n    const ").concat(a(n.operations,"Map<fs_OperationId, SfOperation>")," = new Map()\n\n    const ").concat(n.buildMessage1," = ").concat(r([a("soundInfo","fs_SoundInfo")],"Message")," => {\n        const ").concat(a("m","Message")," = msg_create([\n            MSG_FLOAT_TOKEN,\n            MSG_FLOAT_TOKEN,\n            MSG_FLOAT_TOKEN,\n            MSG_FLOAT_TOKEN,\n            MSG_STRING_TOKEN,\n            soundInfo.endianness.length,\n        ])\n        msg_writeFloatToken(m, 0, toFloat(soundInfo.sampleRate))\n        msg_writeFloatToken(m, 1, -1) // TODO IMPLEMENT headersize\n        msg_writeFloatToken(m, 2, toFloat(soundInfo.channelCount))\n        msg_writeFloatToken(m, 3, Math.round(toFloat(soundInfo.bitDepth) / 8))\n        msg_writeStringToken(m, 4, soundInfo.endianness)\n        return m\n    }\n")},messages:function(e){var n=e.state,t=e.globs,r=e.snds,a=e.macros,o=a.Func,i=a.Var;return{0:"\n    if (\n        msg_getLength(".concat(t.m,") >= 3 \n        && msg_isStringToken(").concat(t.m,", 0)\n        && (\n            msg_readStringToken(").concat(t.m,", 0) === 'read'\n            || msg_readStringToken(").concat(t.m,", 0) === 'write'\n        )\n    ) {\n        const ").concat(i("operationType","string")," = msg_readStringToken(").concat(t.m,", 0)\n        const ").concat(i("soundInfo","fs_SoundInfo")," = {\n            channelCount: 0,\n            sampleRate: toInt(").concat(t.sampleRate,"),\n            bitDepth: 32,\n            encodingFormat: '',\n            endianness: '',\n            extraOptions: '',\n        }\n        const ").concat(i("operation","SfOperation")," = {\n            arrayNames: [],\n            resize: false,\n            maxSize: -1,\n            skip: 0,\n            framesToWrite: 0,\n            url: '',\n            soundInfo,\n        }\n        let ").concat(i("unhandledOptions","Set<Int>")," = parseSoundFileOpenOpts(\n            ").concat(t.m,",\n            soundInfo,\n        )\n        \n        // Remove the operation type\n        unhandledOptions.delete(0)\n        \n        let ").concat(i("i","Int")," = 1\n        let ").concat(i("str","string")," = ''\n        while (i < msg_getLength(").concat(t.m,")) {\n            if (!unhandledOptions.has(i)) {\n\n            } else if (msg_isStringToken(").concat(t.m,", i)) {\n                str = msg_readStringToken(").concat(t.m,", i)\n                if (str === '-resize') {\n                    unhandledOptions.delete(i)\n                    operation.resize = true\n\n                } else if (str === '-maxsize' || str === '-nframes') {\n                    unhandledOptions.delete(i)\n                    if (\n                        i + 1 >= msg_getLength(").concat(t.m,") \n                        || !msg_isFloatToken(").concat(t.m,', i + 1)\n                    ) {\n                        console.log("invalid value for -maxsize")\n                    }\n                    operation.maxSize = msg_readFloatToken(').concat(t.m,", i + 1)\n                    unhandledOptions.delete(i + 1)\n                    i++\n\n                } else if (str === '-skip') {\n                    unhandledOptions.delete(i)\n                    if (\n                        i + 1 >= msg_getLength(").concat(t.m,") \n                        || !msg_isFloatToken(").concat(t.m,', i + 1)\n                    ) {\n                        console.log("invalid value for -skip")\n                    }\n                    operation.skip = msg_readFloatToken(').concat(t.m,", i + 1)\n                    unhandledOptions.delete(i + 1)\n                    i++\n\n                } else if (str === '-normalize') {\n                    unhandledOptions.delete(i)\n                    console.log('-normalize not implemented')\n                }\n            }\n            i++\n        }\n\n        i = 1\n        let ").concat(i("urlFound","boolean")," = false\n        while (i < msg_getLength(").concat(t.m,")) {\n            if (!unhandledOptions.has(i)) {\n\n            } else if (msg_isStringToken(").concat(t.m,", i)) {\n                str = msg_readStringToken(").concat(t.m,", i)\n                if (!str.startsWith('-') && urlFound === false) {\n                    operation.url = str\n                    urlFound = true\n                } else {\n                    operation.arrayNames.push(str)\n                }\n                unhandledOptions.delete(i)\n            }\n            i++\n        }\n\n        for (i = 0; i < operation.arrayNames.length; i++) {\n            if (!commons_hasArray(operation.arrayNames[i])) {\n                console.log('[soundfiler] unknown array ' + operation.arrayNames[i])\n                return\n            }\n        }\n\n        if (unhandledOptions.size) {\n            console.log(\"soundfiler received invalid options\")\n        }\n\n        soundInfo.channelCount = operation.arrayNames.length\n\n        if (operationType === 'read') {\n            const callback = ").concat(o([i("id","fs_OperationId"),i("status","fs_OperationStatus"),i("sound","FloatArray[]")],"void")," => {\n                const ").concat(i("operation","SfOperation")," = ").concat(n.operations,".get(id)\n                ").concat(n.operations,".delete(id)\n                let ").concat(i("i","Int")," = 0\n                let ").concat(i("maxFramesRead","Float")," = 0\n                let ").concat(i("framesToRead","Float")," = 0\n                let ").concat(i("array","FloatArray")," = createFloatArray(0)\n                for (i = 0; i < sound.length; i++) {\n                    if (operation.resize) {\n                        if (operation.maxSize > 0) {\n                            framesToRead = Math.min(\n                                operation.maxSize, \n                                toFloat(sound[i].length) - operation.skip\n                            )\n\n                        } else {\n                            framesToRead = toFloat(sound[i].length) - operation.skip\n                        }\n\n                        commons_setArray(\n                            operation.arrayNames[i], \n                            sound[i].subarray(\n                                toInt(operation.skip), \n                                toInt(operation.skip + framesToRead)\n                            )\n                        )\n                        \n                    } else {\n                        array = commons_getArray(operation.arrayNames[i])\n                        framesToRead = Math.min(\n                            toFloat(array.length),\n                            toFloat(sound[i].length) - operation.skip\n                        )\n                        array.set(sound[i].subarray(0, array.length))\n                    }\n                    maxFramesRead = Math.max(\n                        maxFramesRead,\n                        framesToRead\n                    )\n                }\n\n                ").concat(r.$1,"(").concat(n.buildMessage1,"(operation.soundInfo))\n                ").concat(r.$0,"(msg_floats([maxFramesRead]))\n            }\n\n            const ").concat(i("id","fs_OperationId")," = fs_readSoundFile(\n                operation.url, \n                soundInfo,\n                callback\n            )\n\n            ").concat(n.operations,".set(id, operation)\n\n        } else if (operationType === 'write') {\n            let ").concat(i("i","Int")," = 0\n            let ").concat(i("framesToWrite","Float")," = 0\n            let ").concat(i("array","FloatArray")," = createFloatArray(0)\n            const ").concat(i("sound","FloatArray[]")," = []\n            \n            for (i = 0; i < operation.arrayNames.length; i++) {\n                framesToWrite = Math.max(\n                    framesToWrite,\n                    toFloat(commons_getArray(operation.arrayNames[i]).length) - operation.skip,\n                )\n            }\n\n            if (operation.maxSize >= 0) {\n                framesToWrite = Math.min(\n                    operation.maxSize, \n                    framesToWrite\n                )\n            }\n            operation.framesToWrite = framesToWrite\n\n            if (framesToWrite < 1) {\n                console.log('[soundfiler] no frames to write')\n                return\n            }\n\n            for (i = 0; i < operation.arrayNames.length; i++) {\n                array = commons_getArray(operation.arrayNames[i])\n                if (framesToWrite > toFloat(array.length) - operation.skip) {\n                    sound.push(createFloatArray(toInt(framesToWrite)))\n                    sound[i].set(array.subarray(\n                        toInt(operation.skip), \n                        toInt(operation.skip + framesToWrite)\n                    ))\n                } else {\n                    sound.push(array.subarray(\n                        toInt(operation.skip), \n                        toInt(operation.skip + framesToWrite)\n                    ))\n                }\n            }\n\n            const callback = ").concat(o([i("id","fs_OperationId"),i("status","fs_OperationStatus")],"void")," => {\n                const ").concat(i("operation","SfOperation")," = ").concat(n.operations,".get(id)\n                ").concat(n.operations,".delete(id)\n                ").concat(r.$1,"(").concat(n.buildMessage1,"(operation.soundInfo))\n                ").concat(r.$0,"(msg_floats([operation.framesToWrite]))\n            }\n\n            const ").concat(i("id","fs_OperationId")," = fs_writeSoundFile(\n                sound, \n                operation.url, \n                soundInfo, \n                callback\n            )\n\n            ").concat(n.operations,".set(id, operation)\n        }\n\n        return\n    }\n    ")}},stateVariables:{operations:1,buildMessage1:1},sharedCode:[Ju]},Xf={messages:function(e){var n=e.globs,t=e.node.args;return{0:'\n        console.log("'.concat(t.prefix,' " + msg_display(').concat(n.m,"))\n        return\n    ")}},stateVariables:{}},Yf=["float","bang","symbol","list","anything"],Qf=function(e){switch(e){case"f":return"float";case"b":return"bang";case"s":return"symbol";case"l":return"list";case"a":return"anything";case"p":return"pointer";default:return e}},Jf=function(e){if("pointer"===e)throw new nu('"pointer" not supported (yet)');if(!Yf.includes(e))throw new nu("invalid type ".concat(e));return e},Zf=function(e,n,t){switch(e){case"float":return"msg_floats([messageTokenToFloat(".concat(n,", ").concat(t,")])");case"bang":return"msg_bang()";case"symbol":return"msg_strings([messageTokenToString(".concat(n,", ").concat(t,")])");case"list":case"anything":return"".concat(n);default:throw new Error("type argument ".concat(e," not supported (yet)"))}},ed=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function messageTokenToFloat ".concat(t([r("m","Message"),r("i","Int")],"Float")," {\n        if (msg_isFloatToken(m, i)) {\n            return msg_readFloatToken(m, i)\n        } else {\n            return 0\n        }\n    }\n")},nd=function(e){var n=e.macros,t=n.Func,r=n.Var;return"\n    function messageTokenToString ".concat(t([r("m","Message"),r("i","Int")],"string")," {\n        if (msg_isStringToken(m, i)) {\n            const ").concat(r("str","string")," = msg_readStringToken(m, i)\n            if (str === 'bang') {\n                return 'symbol'\n            } else {\n                return str\n            }\n        } else {\n            return 'float'\n        }\n    }\n")},td={translateArgs:function(e){var n=e.args;return{typeArguments:0===n.length?["bang","bang"]:n.map(Jc).map(Qf).map(Jf)}},build:function(e){var n=e.typeArguments;return{inlets:{0:{type:"message",id:"0"}},outlets:Fo(n,(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]}))}}},rd={messages:function(e){var n=e.snds,t=e.globs,r=e.node.args.typeArguments;return{0:Oo(Al||(Al=s(["\n        ","\n        return\n    "])),r.reverse().map((function(e,a){return"".concat(n[r.length-a-1],"(").concat(Zf(e,t.m,0),")")})))}},stateVariables:{},sharedCode:[ed,nd,iu]},ad={translateArgs:function(e){var n=e.args;return{initValue:Zc(n[0])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"}}}}},od={messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.macros.Var;return{0:"\n    if (msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])) {\n        const ").concat(a("newValue","Float")," = msg_readFloatToken(").concat(t.m,", 0)\n        if (newValue !== ").concat(r.currentValue,") {\n            ").concat(r.currentValue," = newValue\n            ").concat(n[0],"(msg_floats([").concat(r.currentValue,"]))\n        }\n        return\n\n    } else if (msg_isBang(").concat(t.m,")) {\n        ").concat(n[0],"(msg_floats([").concat(r.currentValue,"]))\n        return \n\n    } else if (\n        msg_isMatching(").concat(t.m,", [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n        && msg_readStringToken(").concat(t.m,", 0) === 'set'\n    ) {\n        ").concat(r.currentValue," = msg_readFloatToken(").concat(t.m,", 1)\n        return\n    }\n    ")}},stateVariables:{currentValue:1},declare:function(e){var n=e.node,t=e.state,r=e.macros.Var;return"let ".concat(r(t.currentValue,"Float")," = ").concat(n.args.initValue)},sharedCode:[iu]},id={translateArgs:function(e){var n=e.args;return{threshold:Zc(n[0])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}}}}},sd={messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.macros.Var;return{0:"\n    if (msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])) {\n        const ").concat(a("value","Float")," = msg_readFloatToken(").concat(t.m,", 0)\n        if (value >= ").concat(r.threshold,") {\n            ").concat(n[1],"(msg_floats([value]))\n        } else {\n            ").concat(n[0],"(msg_floats([value]))\n        }\n        return\n    }\n    "),1:lu(t.m,r.threshold)}},stateVariables:{threshold:1},declare:function(e){var n=e.node,t=e.state,r=e.macros.Var;return"\n    let ".concat(r(t.threshold,"Float")," = ").concat(n.args.threshold,"\n")}},cd={translateArgs:function(e){var n=e.args;return{minValue:Zc(n[0])||0,maxValue:Zc(n[1])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"},2:{type:"message",id:"2"}},outlets:{0:{type:"message",id:"0"}}}}},ud={messages:function(e){var n=e.snds,t=e.globs,r=e.state;return{0:"\n    if (msg_isMatching(".concat(t.m,", [MSG_FLOAT_TOKEN])) {\n        ").concat(n[0],"(msg_floats([\n            Math.max(Math.min(").concat(r.maxValue,", msg_readFloatToken(").concat(t.m,", 0)), ").concat(r.minValue,")\n        ]))\n        return\n    }\n    "),1:lu(t.m,r.minValue),2:lu(t.m,r.maxValue)}},stateVariables:{minValue:1,maxValue:1},declare:function(e){var n=e.node,t=e.state,r=e.macros.Var;return"\n    let ".concat(r(t.minValue,"Float")," = ").concat(n.args.minValue,"\n    let ").concat(r(t.maxValue,"Float")," = ").concat(n.args.maxValue,"\n")}},ld={translateArgs:function(e){var n=e.args;return{filters:n.length?n:[0]}},build:function(e){var n={0:{type:"message",id:"0"}};return 1===e.filters.length&&(n[1]={type:"message",id:"1"}),{inlets:n,outlets:Fo(e.filters.length?Co(e.filters.length+1):[0,1],(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]}))}}},fd={messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.node.args;return a.filters.length>1?{0:Oo(Ml||(Ml=s(["\n        \n            ","\n\n            ","(",")\n            return\n            "])),a.filters.map((function(e,r){return Mo(["float"===e,"\n                    if (msg_isFloatToken(".concat(t.m,", 0)) {\n                        ").concat(n[r],"(").concat(t.m,")\n                        return\n                    }\n                ")],["symbol"===e,"\n                    if (msg_isStringToken(".concat(t.m,", 0)) {\n                        ").concat(n[r],"(").concat(t.m,")\n                        return\n                    }\n                ")],["list"===e,"\n                    if (msg_getLength(".concat(t.m,").length > 1) {\n                        ").concat(n[r],"(").concat(t.m,")\n                        return\n                    }\n                ")],["bang"===e,"\n                    if (msg_isBang(".concat(t.m,")) {\n                        ").concat(n[r],"(").concat(t.m,")\n                        return\n                    }\n                ")],["number"===typeof e,"\n                    if (\n                        msg_isFloatToken(".concat(t.m,", 0)\n                        && msg_readFloatToken(").concat(t.m,", 0) === ").concat(e,"\n                    ) {\n                        ").concat(n[r],"(msg_emptyToBang(msg_shift(").concat(t.m,")))\n                        return\n                    }\n                ")],["string"===typeof e,"\n                    if (\n                        msg_isStringToken(".concat(t.m,", 0) \n                        && msg_readStringToken(").concat(t.m,', 0) === "').concat(e,'"\n                    ) {\n                        ').concat(n[r],"(msg_emptyToBang(msg_shift(").concat(t.m,")))\n                        return\n                    }")])})),n[a.filters.length],t.m)}:{0:"\n            if (".concat(r.filterType," === MSG_STRING_TOKEN) {\n                if (\n                    (").concat(r.stringFilter," === 'float'\n                        && msg_isFloatToken(").concat(t.m,", 0))\n                    || (").concat(r.stringFilter," === 'symbol'\n                        && msg_isStringToken(").concat(t.m,", 0))\n                    || (").concat(r.stringFilter," === 'list'\n                        && msg_getLength(").concat(t.m,") > 1)\n                    || (").concat(r.stringFilter," === 'bang' \n                        && msg_isBang(").concat(t.m,"))\n                ) {\n                    ").concat(n.$0,"(").concat(t.m,")\n                    return\n                \n                } else if (\n                    msg_isStringToken(").concat(t.m,", 0)\n                    && msg_readStringToken(").concat(t.m,", 0) === ").concat(r.stringFilter,"\n                ) {\n                    ").concat(n.$0,"(msg_emptyToBang(msg_shift(").concat(t.m,")))\n                    return\n                }\n\n            } else if (\n                msg_isFloatToken(").concat(t.m,", 0)\n                && msg_readFloatToken(").concat(t.m,", 0) === ").concat(r.floatFilter,"\n            ) {\n                ").concat(n.$0,"(msg_emptyToBang(msg_shift(").concat(t.m,")))\n                return\n            }\n        \n            ").concat(n.$1,"(").concat(t.m,")\n            return\n            "),1:"\n            ".concat(r.filterType," = msg_getTokenType(").concat(t.m,", 0)\n            if (").concat(r.filterType," === MSG_STRING_TOKEN) {\n                ").concat(r.stringFilter," = msg_readStringToken(").concat(t.m,", 0)\n            } else {\n                ").concat(r.floatFilter," = msg_readFloatToken(").concat(t.m,", 0)\n            }\n            return\n            ")}},stateVariables:{filterType:1,floatFilter:1,stringFilter:1},declare:function(e){var n=e.node.args,t=e.state,r=e.macros.Var;return Oo(Fl||(Fl=s(["\n    ","\n"])),Lo(1===n.filters.length,"\n        let ".concat(r(t.floatFilter,"Float")," = ").concat("number"===typeof n.filters[0]?n.filters[0]:0,"\n        let ").concat(r(t.stringFilter,"string"),' = "').concat(n.filters[0],'"\n        let ').concat(r(t.filterType,"Int")," = ").concat("number"===typeof n.filters[0]?"MSG_FLOAT_TOKEN":"MSG_STRING_TOKEN","\n    ")))},sharedCode:[iu,su]},dd={translateArgs:function(e){var n=e.args;return{isClosed:0===(Zc(n[0])||0)}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}},pd={messages:function(e){var n=e.snds,t=e.globs,r=e.state;return{0:"\n    if (!".concat(r.isClosed,") {\n        ").concat(n.$0,"(").concat(t.m,")\n    }\n    return\n    "),1:fu(t.m,r.funcSetIsClosed)}},stateVariables:{isClosed:1,funcSetIsClosed:1},declare:function(e){var n=e.node,t=e.state,r=e.macros,a=r.Var,o=r.Func;return"\n    let ".concat(a(t.isClosed,"Float")," = ").concat(n.args.isClosed?"true":"false","\n\n    function ").concat(t.funcSetIsClosed," ").concat(o([a("value","Float")],"void")," {\n        ").concat(t.isClosed," = (value === 0)\n    }\n")}},hd={messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.macros.Var;return{0:"\n    if (msg_isBang(".concat(t.m,")) {\n        ").concat(r.continueIter," = true\n        while (").concat(r.continueIter,") {\n            ").concat(n[0],"(msg_bang())\n        }\n        return\n\n    } else if (msg_isMatching(").concat(t.m,", [MSG_FLOAT_TOKEN])) {\n        ").concat(r.continueIter," = true\n        let ").concat(a("maxIterCount","Int")," = toInt(msg_readFloatToken(").concat(t.m,", 0))\n        let ").concat(a("iterCount","Int")," = 0\n        while (").concat(r.continueIter," && iterCount++ < maxIterCount) {\n            ").concat(n[0],"(msg_bang())\n        }\n        return\n    }\n    "),1:"\n    if (msg_isBang(".concat(t.m,")) {\n        ").concat(r.continueIter," = false\n        return\n    }\n    ")}},stateVariables:{continueIter:1},declare:function(e){var n=e.state,t=e.macros.Var;return"\n    let ".concat(t(n.continueIter,"boolean")," = true\n")},sharedCode:[iu]},md={translateArgs:function(e){var n=e.args;return{maxValue:Zc(n[0])||0}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}},gd={messages:function(e){var n=e.snds,t=e.globs,r=e.state;return{0:"\n    if (msg_isBang(".concat(t.m,")) {\n        ").concat(n[0],"(msg_floats([Math.floor(Math.random() * ").concat(r.maxValue,")]))\n        return\n    } else if (\n        msg_isMatching(").concat(t.m,", [MSG_STRING_TOKEN, MSG_FLOAT_TOKEN])\n        && msg_readStringToken(").concat(t.m,", 0) === 'seed'\n    ) {\n        console.log('WARNING : seed not implemented yet for [random]')\n        return\n    }\n    "),1:fu(t.m,r.funcSetMaxValue)}},stateVariables:{maxValue:1,funcSetMaxValue:1},declare:function(e){var n=e.node,t=e.state,r=e.macros,a=r.Var,o=r.Func;return"\n    let ".concat(a(t.maxValue,"Float")," = ").concat(n.args.maxValue,"\n\n    function ").concat(t.funcSetMaxValue," ").concat(o([a("maxValue","Float")],"void")," {\n        ").concat(t.maxValue," = Math.max(maxValue, 0)\n    }\n")},sharedCode:[iu]},vd={translateArgs:function(e){var n=e.args,t=0;return n.length>=1&&(t=Qc(n[n.length-1]),n=n.slice(0,-1)),{typeArguments:(n=n.length?n:[0]).map(Qf).map((function(e){return["number"===typeof e?"float":Jf(e),"number"===typeof e?e:"float"===e?0:"symbol"]})),delay:t}},build:function(e){return{inlets:Sr(Sr({},Fo(e.typeArguments,(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]}))),{},yr({},"".concat(e.typeArguments.length),{type:"message",id:"".concat(e.typeArguments.length)})),outlets:Fo(e.typeArguments,(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]}))}}},yd={loop:function(e){var n=e.node,t=e.state,r=e.globs,a=e.snds;return"\n    while (".concat(t.scheduledFrames,".length && ").concat(t.scheduledFrames,"[0] <= ").concat(r.frame,") {\n        ").concat(t.scheduledFrames,".shift()\n        ").concat(Co(n.args.typeArguments.length).reverse().map((function(e){return"".concat(a[e],"(").concat(t.scheduledMessages,".shift())")})),"\n    }\n")},messages:function(e){var n=e.node,t=e.snds,r=e.globs,a=e.state;e.macros.Var;return Sr(Sr({0:Oo(Pl||(Pl=s(["\n    if (msg_isBang(",")) {\n        ","(msg_create([]))\n        return\n\n    } else if (msg_isAction(",", 'clear')) {\n            "," = []\n            "," = []\n            return \n\n    } else if (msg_isAction(",", 'flush')) {\n        "," = []\n        while (",".length) {\n            ","\n        }\n        return\n\n    } else {\n        ","(",")\n        return\n    }\n    "])),r.m,a.funcScheduleMessage,r.m,a.scheduledMessages,a.scheduledFrames,r.m,a.scheduledFrames,a.scheduledMessages,Co(n.args.typeArguments.length).reverse().map((function(e){return"".concat(t[e],"(").concat(a.scheduledMessages,".shift())")})),a.funcScheduleMessage,r.m)},Fo(n.args.typeArguments.slice(1),(function(e,n){var t=it(e,1)[0];return["".concat(n+1),"".concat(a.lastReceived,"[").concat(n+1,"] = ").concat(Zf(t,r.m,0),"\n            return")]}))),{},yr({},n.args.typeArguments.length,fu(r.m,a.funcSetDelay)))},stateVariables:{delay:1,scheduledMessages:1,scheduledFrames:1,lastReceived:1,funcScheduleMessage:1,funcSetDelay:1},declare:function(e){var n=e.state,t=e.globs,r=e.node.args,a=e.macros,o=a.Var,i=a.Func;return Oo(Ll||(Ll=s(["\n    let "," = 0\n    let "," = []\n    let "," = []\n    const "," = [","]\n\n    const "," = "," => {\n        let "," = 0\n        let "," = "," + ","\n        let "," = msg_create([])\n\n        while (\n            insertIndex < ",".length \n            && ","[insertIndex] <= frame\n        ) {insertIndex++}\n\n        \n        ","\n        ",".copyWithin((insertIndex + 1) * ",", insertIndex * ",")\n        ",".push(0)\n        ",".copyWithin(insertIndex + 1, insertIndex)\n\n        ","\n        ","[insertIndex] = frame\n    }\n\n    const "," = "," => {\n        "," = toInt(Math.round(delay / 1000 * ","))\n    }\n\n    commons_waitEngineConfigure(() => {\n        ","(",")\n    })\n"])),n.delay,o(n.scheduledMessages,"Array<Message>"),o(n.scheduledFrames,"Array<Int>"),o(n.lastReceived,"Array<Message>"),r.typeArguments.map((function(e){var n=it(e,2),t=(n[0],n[1]);return"number"===typeof t?"msg_floats([".concat(t,"])"):'msg_strings(["'.concat(t,'"])')})).join(","),n.funcScheduleMessage,i([o("inMessage","Message")],"void"),o("insertIndex","Int"),o("frame","Int"),t.frame,n.delay,o("outMessage","Message"),n.scheduledFrames,n.scheduledFrames,Co(r.typeArguments.length).map((function(e){return"".concat(n.scheduledMessages,".push(msg_create([]))")})),n.scheduledMessages,r.typeArguments.length,r.typeArguments.length,n.scheduledFrames,n.scheduledFrames,r.typeArguments.reverse().map((function(e,n){var t=it(e,1)[0];return[r.typeArguments.length-n-1,t]})).map((function(e,t){var a=it(e,2),o=a[0],i=a[1];return"\n                if (msg_getLength(inMessage) > ".concat(o,") {\n                    outMessage = ").concat(Zf(i,"inMessage",o),"\n                    ").concat(n.lastReceived,"[").concat(o,"] = outMessage\n                } else {\n                    outMessage = ").concat(n.lastReceived,"[").concat(o,"]\n                }\n                ").concat(n.scheduledMessages,"[insertIndex * ").concat(r.typeArguments.length," + ").concat(t,"] = outMessage\n            ")})),n.scheduledFrames,n.funcSetDelay,i([o("delay","Float")],"void"),n.delay,t.sampleRate,n.funcSetDelay,r.delay)},sharedCode:[ed,nd,iu,cu]},bd={translateArgs:function(e){var n=e.args;return{typeArguments:(n.length?n:["float"]).map(Qf).map((function(e){if("bang"===(e=e||"float")&&(e="float"),"number"===typeof e)return e;if(!["float","symbol"].includes(e))throw new Error("".concat(e," not supported (yet)"));return e})).map((function(e){return["number"===typeof e?"float":Jf(e),"number"===typeof e?e:"float"===e?0:"symbol"]}))}},build:function(e){var n=e.typeArguments;return{inlets:Fo(n,(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]})),outlets:{0:{type:"message",id:"0"}}}}},Sd={messages:function(e){var n=e.snds,t=e.globs,r=e.state,a=e.node,o=e.macros.Var;return Sr({0:Oo(Rl||(Rl=s(["\n    if (!msg_isBang(",")) {\n        for (let "," = 0; i < msg_getLength(","); i++) {\n            ","[i] = messageTokenToString(",", i)\n            ","[i] = messageTokenToFloat(",", i)\n        }\n    }\n\n    const "," = [","]\n\n    const "," = msg_create(template)\n\n    ","\n\n    ","(messageOut)\n    return\n    "])),t.m,o("i","Int"),t.m,r.stringValues,t.m,r.floatValues,t.m,o("template","MessageTemplate"),a.args.typeArguments.map((function(e,n){return"symbol"===it(e,1)[0]?"MSG_STRING_TOKEN,".concat(r.stringValues,"[").concat(n,"].length"):"MSG_FLOAT_TOKEN"})).join(","),o("messageOut","Message"),a.args.typeArguments.map((function(e,n){return"symbol"===it(e,1)[0]?"msg_writeStringToken(messageOut, ".concat(n,", ").concat(r.stringValues,"[").concat(n,"])"):"msg_writeFloatToken(messageOut, ".concat(n,", ").concat(r.floatValues,"[").concat(n,"])")})),n[0])},Fo(a.args.typeArguments.slice(1),(function(e,n){var a=it(e,1)[0];return["".concat(n+1),Mo(["symbol"===a,"".concat(r.stringValues,"[").concat(n+1,"] = messageTokenToString(").concat(t.m,", 0)")],["float"===a,"".concat(r.floatValues,"[").concat(n+1,"] = messageTokenToFloat(").concat(t.m,", 0)")])+";return"]})))},stateVariables:{floatValues:1,stringValues:1},declare:function(e){var n=e.node.args,t=e.state,r=e.macros.Var;return Oo(Nl||(Nl=s(["\n    const "," = [","]\n    const "," = [","]\n"])),r(t.floatValues,"Array<Float>"),n.typeArguments.map((function(e){var n=it(e,2),t=n[0],r=n[1];return"".concat("float"===t?r:0)})).join(","),r(t.stringValues,"Array<string>"),n.typeArguments.map((function(e){var n=it(e,2),t=n[0],r=n[1];return"".concat("symbol"===t?'"'.concat(r,'"'):'""')})).join(","))},sharedCode:[nd,ed,iu]},wd={translateArgs:function(e){var n=e.args;return{typeArguments:0===n.length?["float","float"]:n.map(Qf).map((function(e){if("number"===typeof e)return"float";if("symbol"===e||"float"===e)return e;throw new Error('Invalid type argument for unpack "'.concat(e,'"'))}))}},build:function(e){var n=e.typeArguments;return{inlets:{0:{type:"message",id:"0"}},outlets:Fo(n,(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]}))}}},_d={messages:function(e){var n=e.snds,t=e.globs,r=e.node.args;return{0:"\n    if (msg_isMatching(".concat(t.m,", [").concat(r.typeArguments.map((function(e){return"float"===e?"MSG_FLOAT_TOKEN":"MSG_STRING_TOKEN"})).join(","),"])\n    ) {\n        ").concat(r.typeArguments.reverse().map((function(e,a){var o=r.typeArguments.length-a-1;return Mo(["float"===e,"".concat(n[o],"(msg_floats([msg_readFloatToken(").concat(t.m,", ").concat(o,")]))")],["symbol"===e,"".concat(n[o],"(msg_strings([msg_readStringToken(").concat(t.m,", ").concat(o,")]))")])})),"\n        return\n    }\n    ")}},stateVariables:{}},kd={floatInputs:1,stringInputs:1,outputs:1},xd={translateArgs:function(e){var n=e.args;return{tokenizedExpressions:Pd(n).map(Cd)}},build:function(e){return{inlets:Fo(Md(e.tokenizedExpressions),(function(e){var n=e.id;return["".concat(n),{type:"message",id:"".concat(n)}]})),outlets:Fo(e.tokenizedExpressions,(function(e,n){return["".concat(n),{type:"message",id:"".concat(n)}]}))}}},Id={translateArgs:function(e){var n=e.args;return{tokenizedExpressions:Pd(n).map(Cd)}},build:function(e){return{inlets:Fo(Ld(e.tokenizedExpressions),(function(e){var n=e.id,t=e.type;return["".concat(n),{type:"signal"===t?"signal":"message",id:"".concat(n)}]})),outlets:Fo(e.tokenizedExpressions,(function(e,n){return["".concat(n),{type:"signal",id:"".concat(n)}]}))}}},Ed=function(e){var n=e.node,t=n.args,r=n.type,a=e.state,o=e.macros.Var,i="expr"===r?Md(t.tokenizedExpressions):Ld(t.tokenizedExpressions).filter((function(e){return"signal"!==e.type}));return Oo(Dl||(Dl=s(["\n        const "," = new Map()\n        const "," = new Map()\n        const "," = new Array(",")\n        ","\n        ","\n    "])),o(a.floatInputs,"Map<Int, Float>"),o(a.stringInputs,"Map<Int, string>"),o(a.outputs,"Array<Float>"),t.tokenizedExpressions.length,i.filter((function(e){return"float"===e.type||"int"===e.type})).map((function(e){return"".concat(a.floatInputs,".set(").concat(e.id,", 0)")})),i.filter((function(e){return"string"===e.type})).map((function(e){return"".concat(a.stringInputs,".set(").concat(e.id,", '')")})))},Od=function(e){var n=e.snds,t=e.globs,r=e.state,a=e.node,o=a.args,i=a.type,c=e.macros.Var,u="expr"===i?Md(o.tokenizedExpressions):Ld(o.tokenizedExpressions).filter((function(e){return"signal"!==e.type})),l=u.length&&0===u[0].id;return Sr({0:Oo(jl||(jl=s(["\n\n        if (!msg_isBang(",")) {\n            for (let "," = 0; i < msg_getLength(","); i++) {\n                ",".set(i, messageTokenToString(",", i))\n                ",".set(i, messageTokenToFloat(",", i))\n            }\n        }\n\n        ","\n        \n        return\n        "])),t.m,c("i","Int"),t.m,r.stringInputs,t.m,r.floatInputs,t.m,Lo("expr"===i,(function(){return"\n                ".concat(o.tokenizedExpressions.map((function(e,n){return"".concat(r.outputs,"[").concat(n,"] = ").concat(Ad(r,null,e))})),"\n        \n                ").concat(o.tokenizedExpressions.map((function(e,t){return"".concat(n["".concat(t)],"(msg_floats([").concat(r.outputs,"[").concat(t,"]]))")})),"\n            ")})))},Fo(u.slice(l?1:0),(function(e){var n=e.id,a=e.type;return["".concat(n),Mo(["float"===a||"int"===a,"".concat(r.floatInputs,".set(").concat(n,", messageTokenToFloat(").concat(t.m,", 0));return")],["string"===a,"".concat(r.stringInputs,".set(").concat(n,", messageTokenToString(").concat(t.m,", 0));return")])]})))},Td=ui(/(\$f([0-9]+))|(\$v([0-9]+))|(\$i([0-9]+))|(\$s([0-9]+)\s*\[([^\[\]]*)\])/,{f:1,id_f:2,v:3,id_v:4,i:5,id_i:6,s:7,id_s:8,sIndex:9}),Cd=function e(n){for(var t,r=[];t=Td.exec(n);)t.index&&r.push({type:"raw",content:n.slice(0,t.index)}),t[1]?r.push({type:"float",id:parseInt(t[2])-1}):t[3]?r.push({type:"signal",id:parseInt(t[4])-1}):t[5]?r.push({type:"int",id:parseInt(t[6])-1}):t[7]&&(r=[].concat(Pa(r),[{type:"string",id:parseInt(t[8])-1},{type:"indexing-start"}],Pa(e(t[9])),[{type:"indexing-end"}])),n=n.slice(t.index+t[0].length);return n.length&&r.push({type:"raw",content:n}),r},Ad=function(e,n,t){return"+("+t.map((function(t){switch(t.type){case"float":return"".concat(e.floatInputs,".get(").concat(t.id,")");case"signal":if(null===n)throw new Error("invalid token signal received");return n[t.id];case"int":return"roundFloatAsPdInt(".concat(e.floatInputs,".get(").concat(t.id,"))");case"string":return"commons_getArray(".concat(e.stringInputs,".get(").concat(t.id,"))");case"indexing-start":return"[toInt(";case"indexing-end":return")]";case"raw":return t.content}})).join("")+")"},Fd=function(e){var n=[];e.forEach((function(e){e.forEach((function(e){"float"!==e.type&&"signal"!==e.type&&"int"!==e.type&&"string"!==e.type||n.push(e)}))})),n.sort((function(e,n){return e.id-n.id}));var t=new Map;return n.filter((function(e){if(t.has(e.id)){if(t.get(e.id).type!==e.type)throw new Error("contradictory definitions for input ".concat(e.id));return!1}return t.set(e.id,e),!0}))},Md=function(e){var n=Fd(e);return n.forEach((function(e){if("signal"===e.type)throw new Error("invalid signal token $v# for [expr]")})),n},Ld=function(e){return Fd(e)},Pd=function(e){var n=e.join(" ");return Object.getOwnPropertyNames(Math).forEach((function(e){n=n.replaceAll(e,"Math.".concat(e))})),n.split(";").map((function(e){return e.trim()}))},Nd={expr:{messages:Od,stateVariables:kd,declare:Ed,sharedCode:[nd,ed,ql,iu]},"expr~":{messages:Od,stateVariables:kd,declare:Ed,loop:function(e){var n=e.node.args,t=e.state,r=e.outs,a=e.ins;return"\n    ".concat(n.tokenizedExpressions.map((function(e,n){return"".concat(r[n]," = ").concat(Ad(t,a,e))})),"\n")},sharedCode:[nd,ed,ql,iu]}},Rd={expr:xd,"expr~":Id},Dd={leftOp:1,rightOp:1,funcSetRightOp:1,funcSetLeftOp:1},jd=function(e){return{translateArgs:function(n){var t=Zc(n.args[0]);return{value:void 0!==t?t:e}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}}},zd=function(e){var n=e.generateOperation,t=e.prepareLeftOp,r=void 0===t?"value":t,a=e.prepareRightOp,o=void 0===a?"value":a;return{declare:function(e){var n=e.state,t=e.macros,a=t.Var,i=t.Func,s=e.node.args;return"\n        let ".concat(a(n.leftOp,"Float")," = 0\n        let ").concat(a(n.rightOp,"Float")," = 0\n\n        const ").concat(n.funcSetLeftOp," = ").concat(i([a("value","Float")],"void")," => {\n            ").concat(n.leftOp," = ").concat(r,"\n        }\n\n        const ").concat(n.funcSetRightOp," = ").concat(i([a("value","Float")],"void")," => {\n            ").concat(n.rightOp," = ").concat(o,"\n        }\n\n        ").concat(n.funcSetLeftOp,"(0)\n        ").concat(n.funcSetRightOp,"(").concat(s.value,")\n    ")},messages:function(e){var t=e.state,r=e.globs,a=e.snds;return{0:"\n        if (msg_isMatching(".concat(r.m,", [MSG_FLOAT_TOKEN])) {\n            ").concat(t.funcSetLeftOp,"(msg_readFloatToken(").concat(r.m,", 0))\n            ").concat(a.$0,"(msg_floats([").concat(n(t),"]))\n            return\n        \n        } else if (msg_isBang(").concat(r.m,")) {\n            ").concat(a.$0,"(msg_floats([").concat(n(t),"]))\n            return\n        }\n        "),1:fu(r.m,t.funcSetRightOp)}},stateVariables:Dd,sharedCode:[iu]}},Bd={"+":zd({generateOperation:function(e){return"".concat(e.leftOp," + ").concat(e.rightOp)}}),"-":zd({generateOperation:function(e){return"".concat(e.leftOp," - ").concat(e.rightOp)}}),"*":zd({generateOperation:function(e){return"".concat(e.leftOp," * ").concat(e.rightOp)}}),"/":zd({generateOperation:function(e){return"".concat(e.rightOp," !== 0 ? ").concat(e.leftOp," / ").concat(e.rightOp,": 0")}}),mod:zd({prepareLeftOp:"value > 0 ? Math.floor(value): Math.ceil(value)",prepareRightOp:"Math.floor(Math.abs(value))",generateOperation:function(e){return"".concat(e.rightOp," !== 0 ? (").concat(e.rightOp," + (").concat(e.leftOp," % ").concat(e.rightOp,")) % ").concat(e.rightOp,": 0")}}),pow:zd({generateOperation:function(e){return"".concat(e.leftOp," > 0 || (Math.round(").concat(e.rightOp,") === ").concat(e.rightOp,") ? Math.pow(").concat(e.leftOp,", ").concat(e.rightOp,"): 0")}}),"||":zd({prepareLeftOp:"Math.floor(Math.abs(value))",prepareRightOp:"Math.floor(Math.abs(value))",generateOperation:function(e){return"".concat(e.leftOp," || ").concat(e.rightOp," ? 1: 0")}}),"&&":zd({prepareLeftOp:"Math.floor(Math.abs(value))",prepareRightOp:"Math.floor(Math.abs(value))",generateOperation:function(e){return"".concat(e.leftOp," && ").concat(e.rightOp," ? 1: 0")}}),">":zd({generateOperation:function(e){return"".concat(e.leftOp," > ").concat(e.rightOp," ? 1: 0")}}),">=":zd({generateOperation:function(e){return"".concat(e.leftOp," >= ").concat(e.rightOp," ? 1: 0")}}),"<":zd({generateOperation:function(e){return"".concat(e.leftOp," < ").concat(e.rightOp," ? 1: 0")}}),"<=":zd({generateOperation:function(e){return"".concat(e.leftOp," <= ").concat(e.rightOp," ? 1: 0")}}),"==":zd({generateOperation:function(e){return"".concat(e.leftOp," == ").concat(e.rightOp," ? 1: 0")}}),"!=":zd({generateOperation:function(e){return"".concat(e.leftOp," != ").concat(e.rightOp," ? 1: 0")}})},Ud={"+":jd(0),"-":jd(0),"*":jd(1),"/":jd(1),mod:jd(0),pow:jd(0),"||":jd(0),"&&":jd(0),">":jd(0),">=":jd(0),"<":jd(0),"<=":jd(0),"==":jd(0),"!=":jd(0)},Vd=Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr({},Gi),df),Bu),vu),Cf),Nf),wf),{},{"noise~":{translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"signal",id:"0"}}}}},"snapshot~":ku,"sig~":wu,"clip~":yu,"vline~":{translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"},2:{type:"message",id:"2"}},outlets:{0:{type:"signal",id:"0"}}}}},"line~":Cu,"dac~":tu,"adc~":au,"samplerate~":{translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"}}}}},"tabplay~":Yu,"readsf~":el,"writesf~":rl,"mixer~":pf,"vd~":{aliasTo:"delread4~"},"bp~":ol,"delwrite~":kf,"throw~":ul,"catch~":fl},zl),Gl),Ud),af),Jl),Rd),{},{bang:Bl,bng:{aliasTo:"bang"},b:{aliasTo:"bang"},list:Vf,loadbang:{translateArgs:function(){return{}},build:function(){return{inlets:{},outlets:{0:{type:"message",id:"0"}},isPushingMessages:!0}}},send:Gf,s:{aliasTo:"send"},receive:$f,r:{aliasTo:"receive"},print:{translateArgs:function(e){var n="print:";return 1===e.args.length&&"-n"===e.args[0]?n="":e.args.length>=1&&(n=e.args.join(" ")+":"),{prefix:n}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{}}}},trigger:td,t:{aliasTo:"trigger"},change:ad,clip:cd,pipe:vd,moses:id,pack:bd,unpack:wd,spigot:dd,until:{translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}},outlets:{0:{type:"message",id:"0"}}}}},random:md,route:ld,select:{aliasTo:"route"},sel:{aliasTo:"route"},msg:{skipDollarArgsResolution:!0,translateArgs:function(e){var n=e.args,t=[[]];return n.forEach((function(e){","===e?t.push([]):t[t.length-1].push(e)})),{templates:t.filter((function(e){return e.length})).map((function(e){return"symbol"===e[0]?["string"===typeof e[1]?e[1]:""]:e}))}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"}}}}},metro:pl,timer:ml,delay:vl,del:{aliasTo:"delay"},line:Fu,soundfiler:{translateArgs:function(){return{}},build:function(){return{inlets:{0:{type:"message",id:"0"}},outlets:{0:{type:"message",id:"0"},1:{type:"message",id:"1"}}}}},tabread:$u,tabwrite:Hu,graph:{isNoop:!0},table:{isNoop:!0},array:{isNoop:!0},text:{isNoop:!0},cnv:{isNoop:!0},"block~":{isNoop:!0}}),Wd=Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr(Sr({},ff),zu),gu),Af),Rf),_f),{},{"noise~":mf,"snapshot~":xu,"sig~":_u,"clip~":Su,"vline~":Tu,"line~":Au,"mixer~":hf,"dac~":ru,"adc~":ou,"samplerate~":uu,"tabplay~":Qu,"readsf~":nl,"writesf~":al,"delwrite~":xf,"bp~":il,"throw~":ll,"catch~":dl},Ol),Kl),Bd),Zl),rf),Nd),{},{bang:Ul,list:Wf,send:Kf,receive:qf,loadbang:$l,print:Xf,trigger:rd,change:od,clip:ud,pipe:yd,moses:sd,pack:Sd,unpack:_d,spigot:pd,until:hd,route:fd,random:gd,msg:Df,metro:hl,timer:gl,delay:yl,line:Mu,tabread:qu,tabwrite:Xu,soundfiler:Hf});function Gd(e){return Number.isInteger(e)&&e>=0}function Kd(e){this.name="ArgumentError",this.message=e}var $d=function(e,n){if(n=n||{},"function"!==typeof e)throw new Kd("fetch must be a function");if("object"!==typeof n)throw new Kd("defaults must be an object");if(void 0!==n.retries&&!Gd(n.retries))throw new Kd("retries must be a positive integer");if(void 0!==n.retryDelay&&!Gd(n.retryDelay)&&"function"!==typeof n.retryDelay)throw new Kd("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!==typeof n.retryOn)throw new Kd("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(t,r){var a=n.retries,o=n.retryDelay,i=n.retryOn;if(r&&void 0!==r.retries){if(!Gd(r.retries))throw new Kd("retries must be a positive integer");a=r.retries}if(r&&void 0!==r.retryDelay){if(!Gd(r.retryDelay)&&"function"!==typeof r.retryDelay)throw new Kd("retryDelay must be a positive integer or a function returning a positive integer");o=r.retryDelay}if(r&&r.retryOn){if(!Array.isArray(r.retryOn)&&"function"!==typeof r.retryOn)throw new Kd("retryOn property expects an array or function");i=r.retryOn}return new Promise((function(n,s){var c=function(o){var c="undefined"!==typeof Request&&t instanceof Request?t.clone():t;e(c,r).then((function(e){if(Array.isArray(i)&&-1===i.indexOf(e.status))n(e);else if("function"===typeof i)try{return Promise.resolve(i(o,null,e)).then((function(t){t?u(o,null,e):n(e)})).catch(s)}catch(t){s(t)}else o<a?u(o,null,e):n(e)})).catch((function(e){if("function"===typeof i)try{Promise.resolve(i(o,e,null)).then((function(n){n?u(o,e,null):s(e)})).catch((function(e){s(e)}))}catch(e){s(e)}else o<a?u(o,e,null):s(e)}))};function u(e,n,t){var r="function"===typeof o?o(e,n,t):o;setTimeout((function(){c(++e)}),r)}c(0)}))}}(fetch),qd=function(){var e=Ra(mt().mark((function e(n,t){var r,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([t],{type:"text/javascript"}),a=URL.createObjectURL(r),e.abrupt("return",n.audioWorklet.addModule(a));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Hd=function(){var e=Ra(mt().mark((function e(n){var t,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$d(n,{retries:3});case 3:t=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Qd(t.status,e.t0.toString());case 9:if(t.ok){e.next=14;break}return e.next=12,t.text();case 12:throw r=e.sent,new Qd(t.status,r);case 14:return e.abrupt("return",t.arrayBuffer());case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),Xd=function(e){for(var n=[],t=0;t<e.numberOfChannels;t++)n.push(e.getChannelData(t));return n},Yd=function(e,n){if(0===e.length)throw new Error("Received empty sound");for(var t=e[0].constructor,r=e[0].length,a=e.slice(0,n);e.length<n;)a.push(new t(r));return a},Qd=function(e){Wa(t,e);var n=qa(t);function t(e,r){return Ua(this,t),n.call(this,"Error ".concat(e," : ").concat(r))}return Ba(t)}(Xa(Error)),Jd={},Zd={},ep=Ba((function e(n,t){Ua(this,e),this.url=n,this.sound=t,this.frameCount=t[0].length,this.readPosition=0})),np=function(){var e=Ra(mt().mark((function e(n){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jd[n]){e.next=2;break}return e.abrupt("return",Jd[n]);case 2:return e.next=4,Hd(n);case 4:return t=e.sent,e.abrupt("return",{type:"binary",data:t});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),tp=function(){var e=Ra(mt().mark((function e(n,t){var r,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jd[n],e.t0){e.next=5;break}return e.next=4,np(n);case 4:e.t0=e.sent;case 5:r=e.t0,e.t1=r.type,e.next="binary"===e.t1?9:"sound"===e.t1?13:14;break;case 9:return e.next=11,t.decodeAudioData(r.data);case 11:return a=e.sent,e.abrupt("return",Xd(a));case 13:return e.abrupt("return",r.data.map((function(e){return e.slice()})));case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),rp=function(){var e=Ra(mt().mark((function e(n,t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jd[t]={type:"sound",data:n};case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ap=function(){var e=Ra(mt().mark((function e(n,t,r,a){var o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tp(t,a);case 2:return o=e.sent,Zd[n]=new ep(t,Yd(o,r)),e.abrupt("return",Zd[n]);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),op=function(){var e=Ra(mt().mark((function e(n,t,r){var a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],o=0;o<r;o++)a.push(new Float32Array(0));return Zd[n]=new ep(t,a),Jd[t]={type:"sound",data:a},e.abrupt("return",Zd[n]);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),ip=function(e){return Zd[e]},sp=function(e){console.log("KILL STREAM",e),delete Zd[e]},cp=function(e,n){var t=e.sound.map((function(t){return t.slice(e.readPosition,e.readPosition+n)}));return e.readPosition+=n,t},up=function(e,n){e.sound=e.sound.map((function(e,t){var r=new Float32Array(e.length+n[t].length);return r.set(e),r.set(n[t],e.length),r})),e.frameCount=e.sound[0].length,Jd[e.url].data=e.sound},lp={writeSound:rp,readSound:tp,readStreamSound:ap,writeStreamSound:op,pullBlock:cp,pushBlock:up},fp=function(){var e=Ra(mt().mark((function e(n,t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"onCloseSoundStream"===t.functionName&&sp(t.arguments[0]);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),dp=function(){var e=Ra(mt().mark((function e(n,t){var r,a,o,i,s,c,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("onReadSoundFile"!==t.functionName){e.next=18;break}return r=it(t.arguments,3),a=r[0],o=r[1],i=it(r[2],1),s=i[0],c=0,u=null,e.prev=4,e.next=7,lp.readSound(o,n.context);case 7:u=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),c=1,console.error(e.t0);case 14:u&&(u=Yd(u,s)),n.port.postMessage({type:"fs",payload:{functionName:"sendReadSoundFileResponse",arguments:[a,c,u]}},u.map((function(e){return e.buffer}))),e.next=19;break;case 18:t.functionName;case 19:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(n,t){return e.apply(this,arguments)}}(),pp=441e3,hp=function(){var e=Ra(mt().mark((function e(n,t){var r,a,o,i,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("onOpenSoundReadStream"!==t.functionName){e.next=15;break}return r=it(t.arguments,3),a=r[0],o=r[1],i=it(r[2],1),s=i[0],e.prev=2,e.next=5,lp.readStreamSound(a,o,s,n.context);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),console.error(e.t0),n.port.postMessage({type:"fs",payload:{functionName:"closeSoundStream",arguments:[a,1]}}),e.abrupt("return");case 12:mp(n,a,0),e.next=23;break;case 15:if("sendSoundStreamData_return"!==t.functionName){e.next=22;break}if(ip(t.operationId)){e.next=19;break}throw new Error("unknown stream ".concat(t.operationId));case 19:mp(n,t.operationId,t.returned),e.next=23;break;case 22:"closeSoundStream_return"===t.functionName&&ip(t.operationId)&&sp(t.operationId);case 23:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n,t){return e.apply(this,arguments)}}(),mp=function(e,n,t){var r=e.context.sampleRate,a=Math.max(t-220500,10)/r,o=pp-(t-a*r);setTimeout((function(){var t=ip(n);if(t)if(t.readPosition<t.frameCount){var r=cp(t,o);e.port.postMessage({type:"fs",payload:{functionName:"sendSoundStreamData",arguments:[n,r]}},r.map((function(e){return e.buffer})))}else e.port.postMessage({type:"fs",payload:{functionName:"closeSoundStream",arguments:[n,0]}});else console.log("stream ".concat(n," was maybe closed"))}),1e3*a)},gp=function(){var e=Ra(mt().mark((function e(n,t){var r,a,o,i,s,c,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("onWriteSoundFile"!==t.functionName){e.next=9;break}return r=it(t.arguments,4),a=r[0],o=r[1],i=r[2],s=it(r[3],1),c=s[0],u=Yd(o,c),e.next=5,lp.writeSound(u,i);case 5:0,n.port.postMessage({type:"fs",payload:{functionName:"sendWriteSoundFileResponse",arguments:[a,0]}}),e.next=10;break;case 9:t.functionName;case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),vp=function(){var e=Ra(mt().mark((function e(n,t){var r,a,o,i,s,c,u,l,f;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("onOpenSoundWriteStream"!==t.functionName){e.next=6;break}return r=it(t.arguments,3),a=r[0],o=r[1],i=it(r[2],1),s=i[0],e.next=4,lp.writeStreamSound(a,o,s);case 4:e.next=15;break;case 6:if("onSoundStreamData"!==t.functionName){e.next=14;break}if(c=it(t.arguments,2),u=c[0],l=c[1],f=ip(u)){e.next=11;break}throw new Error("unknown stream ".concat(u));case 11:up(f,l),e.next=15;break;case 14:"closeSoundStream_return"===t.functionName&&ip(t.operationId)&&sp(t.operationId);case 15:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),yp=function(){var e=Ra(mt().mark((function e(n,t){var r,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,a=r.payload,"fs"===r.type){e.next=4;break}throw new Error("Unknown message type from node ".concat(r.type));case 4:if("onReadSoundFile"!==a.functionName&&"sendReadSoundFileResponse_return"!==a.functionName){e.next=8;break}dp(n,a),e.next=30;break;case 8:if("onOpenSoundReadStream"!==a.functionName&&"sendSoundStreamData_return"!==a.functionName){e.next=12;break}hp(n,a),e.next=30;break;case 12:if("onWriteSoundFile"!==a.functionName&&"sendWriteSoundFileResponse_return"!==a.functionName){e.next=16;break}gp(n,a),e.next=30;break;case 16:if("onOpenSoundWriteStream"!==a.functionName&&"onSoundStreamData"!==a.functionName){e.next=20;break}vp(n,a),e.next=30;break;case 20:if("closeSoundStream_return"!==a.functionName){e.next=25;break}vp(n,a),hp(n,a),e.next=30;break;case 25:if("onCloseSoundStream"!==a.functionName){e.next=29;break}fp(n,a),e.next=30;break;case 29:throw new Error("Unknown callback ".concat(a.functionName));case 30:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),bp=function(e){Wa(t,e);var n=qa(t);function t(e){return Ua(this,t),n.call(this,e,"webpd-node",{numberOfOutputs:1,outputChannelCount:[2]})}return Ba(t,[{key:"destroy",value:function(){this.port.postMessage({type:"destroy",payload:{}})}}]),t}(Xa(AudioWorkletNode)),Sp={createArtefacts:function(){return{}},performBuildStep:$c,preloadArtefact:function(e,n,t){switch(t){case"pd":return Sr(Sr({},e),{},{pd:jc(n)});case"pdJson":return Sr(Sr({},e),{},{pdJson:JSON.parse(jc(n))});case"dspGraph":return Sr(Sr({},e),{},{dspGraph:JSON.parse(jc(n))});case"compiledJs":return Sr(Sr({},e),{},{compiledJs:jc(n)});case"compiledAsc":return Sr(Sr({},e),{},{compiledAsc:jc(n)});case"wasm":return Sr(Sr({},e),{},{wasm:n});case"wav":return Sr(Sr({},e),{},{wav:new Uint8Array(n)});default:throw new Error("Unexpected format ".concat(t))}},listOutputFormats:function(e){return new Set(Yc(Kc,[]).filter((function(n){return n.includes(e)})).map((function(n){return n.slice(n.indexOf(e)+1)})).flat())},listBuildSteps:function(e,n,t){var r=Xc(Kc,n,[]).filter((function(n){return n.includes(e)})).map((function(n){return n.slice(n.indexOf(e)+1)}));return t&&(r=r.filter((function(e){return e.includes(t)}))),0===r.length?null:r[0]},guessFormat:function(e){var n=Object.entries(Gc).filter((function(n){var t=it(n,2);t[0];return!!t[1].extensions.some((function(n){return e.endsWith(n)}))}));return 0===n.length?null:n[0][0]},setAsc:function(e){return Da=e},makeAbstractionLoader:function(e){return function(){var n=Ra(mt().mark((function n(t){var r,a;return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,e(t);case 4:r=n.sent,n.next=14;break;case 7:if(n.prev=7,n.t0=n.catch(1),!(n.t0 instanceof Rc)){n.next=13;break}return n.abrupt("return",{status:1,unknownNodeType:t});case 13:throw n.t0;case 14:if(0!==(a=Si(r)).status){n.next=19;break}return n.abrupt("return",{status:0,pd:a.pd,parsingWarnings:a.warnings});case 19:return n.abrupt("return",{status:1,parsingErrors:a.errors,parsingWarnings:a.warnings});case 20:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()},UnknownNodeTypeError:Rc},wp={buildGraphNodeId:es},_p={WebPdWorkletNode:bp,registerWebPdWorkletNode:function(e){return qd(e,"var AssemblyscriptWasmBindings = (function (exports) {\n    'use strict';\n\n    const getFloatArrayType = (bitDepth) => bitDepth === 64 ? Float64Array : Float32Array;\n\n    const liftString = (wasmExports, pointer) => {\n        if (!pointer)\n            return null;\n        pointer = pointer >>> 0;\n        const end = (pointer +\n            new Uint32Array(wasmExports.memory.buffer)[(pointer - 4) >>> 2]) >>>\n            1;\n        const memoryU16 = new Uint16Array(wasmExports.memory.buffer);\n        let start = pointer >>> 1;\n        let string = '';\n        while (end - start > 1024) {\n            string += String.fromCharCode(...memoryU16.subarray(start, (start += 1024)));\n        }\n        return string + String.fromCharCode(...memoryU16.subarray(start, end));\n    };\n    const lowerString = (wasmExports, value) => {\n        if (value == null)\n            return 0;\n        const length = value.length, pointer = wasmExports.__new(length << 1, 1) >>> 0, memoryU16 = new Uint16Array(wasmExports.memory.buffer);\n        for (let i = 0; i < length; ++i)\n            memoryU16[(pointer >>> 1) + i] = value.charCodeAt(i);\n        return pointer;\n    };\n    const readTypedArray = (wasmExports, constructor, pointer) => {\n        if (!pointer)\n            return null;\n        const memoryU32 = new Uint32Array(wasmExports.memory.buffer);\n        return new constructor(wasmExports.memory.buffer, memoryU32[(pointer + 4) >>> 2], memoryU32[(pointer + 8) >>> 2] / constructor.BYTES_PER_ELEMENT);\n    };\n    const lowerFloatArray = (wasmExports, bitDepth, data) => {\n        const arrayType = getFloatArrayType(bitDepth);\n        const arrayPointer = wasmExports.createFloatArray(data.length);\n        const array = readTypedArray(wasmExports, arrayType, arrayPointer);\n        array.set(data);\n        return { array, arrayPointer };\n    };\n    const lowerListOfFloatArrays = (wasmExports, bitDepth, data) => {\n        const arraysPointer = wasmExports.core_createListOfArrays();\n        data.forEach((array) => {\n            const { arrayPointer } = lowerFloatArray(wasmExports, bitDepth, array);\n            wasmExports.core_pushToListOfArrays(arraysPointer, arrayPointer);\n        });\n        return arraysPointer;\n    };\n    const readListOfFloatArrays = (wasmExports, bitDepth, listOfArraysPointer) => {\n        const listLength = wasmExports.core_getListOfArraysLength(listOfArraysPointer);\n        const arrays = [];\n        const arrayType = getFloatArrayType(bitDepth);\n        for (let i = 0; i < listLength; i++) {\n            const arrayPointer = wasmExports.core_getListOfArraysElem(listOfArraysPointer, i);\n            arrays.push(readTypedArray(wasmExports, arrayType, arrayPointer));\n        }\n        return arrays;\n    };\n\n    const liftMessage = (wasmExports, messagePointer) => {\n        const messageTokenTypesPointer = wasmExports.msg_getTokenTypes(messagePointer);\n        const messageTokenTypes = readTypedArray(wasmExports, Int32Array, messageTokenTypesPointer);\n        const message = [];\n        messageTokenTypes.forEach((tokenType, tokenIndex) => {\n            if (tokenType === wasmExports.MSG_FLOAT_TOKEN.valueOf()) {\n                message.push(wasmExports.msg_readFloatToken(messagePointer, tokenIndex));\n            }\n            else if (tokenType === wasmExports.MSG_STRING_TOKEN.valueOf()) {\n                const stringPointer = wasmExports.msg_readStringToken(messagePointer, tokenIndex);\n                message.push(liftString(wasmExports, stringPointer));\n            }\n        });\n        return message;\n    };\n    const lowerMessage = (wasmExports, message) => {\n        const template = message.reduce((template, value) => {\n            if (typeof value === 'number') {\n                template.push(wasmExports.MSG_FLOAT_TOKEN.valueOf());\n            }\n            else if (typeof value === 'string') {\n                template.push(wasmExports.MSG_STRING_TOKEN.valueOf());\n                template.push(value.length);\n            }\n            else {\n                throw new Error(`invalid message value ${value}`);\n            }\n            return template;\n        }, []);\n        const templateArrayPointer = wasmExports.msg_createTemplate(template.length);\n        const loweredTemplateArray = readTypedArray(wasmExports, Int32Array, templateArrayPointer);\n        loweredTemplateArray.set(template);\n        const messagePointer = wasmExports.msg_create(templateArrayPointer);\n        message.forEach((value, index) => {\n            if (typeof value === 'number') {\n                wasmExports.msg_writeFloatToken(messagePointer, index, value);\n            }\n            else if (typeof value === 'string') {\n                const stringPointer = lowerString(wasmExports, value);\n                wasmExports.msg_writeStringToken(messagePointer, index, stringPointer);\n            }\n        });\n        return messagePointer;\n    };\n\n    const instantiateWasmModule = async (wasmBuffer, wasmImports = {}) => {\n        const instanceAndModule = await WebAssembly.instantiate(wasmBuffer, {\n            env: {\n                abort: (messagePointer, _, lineNumber, columnNumber) => {\n                    const message = liftString(wasmExports, messagePointer);\n                    lineNumber = lineNumber;\n                    columnNumber = columnNumber;\n                    (() => {\n                        throw Error(`${message} at ${lineNumber}:${columnNumber}`);\n                    })();\n                },\n                seed: () => {\n                    return (() => {\n                        return Date.now() * Math.random();\n                    })();\n                },\n                'console.log': (textPointer) => {\n                    console.log(liftString(wasmExports, textPointer));\n                },\n            },\n            ...wasmImports,\n        });\n        const wasmExports = instanceAndModule.instance\n            .exports;\n        return instanceAndModule.instance;\n    };\n\n    const mapObject = (src, func) => {\n        const dest = {};\n        Object.entries(src).forEach(([key, srcValue], i) => {\n            dest[key] = func(srcValue, key, i);\n        });\n        return dest;\n    };\n    const mapArray = (src, func) => {\n        const dest = {};\n        src.forEach((srcValue, i) => {\n            const [key, destValue] = func(srcValue, i);\n            dest[key] = destValue;\n        });\n        return dest;\n    };\n\n    const createEngine = async (wasmBuffer) => {\n        const engine = new AssemblyScriptWasmEngine(wasmBuffer);\n        await engine.initialize();\n        return engine;\n    };\n    class AssemblyScriptWasmEngine {\n        constructor(wasmBuffer) {\n            this.wasmBuffer = wasmBuffer;\n        }\n        async initialize() {\n            this.metadata = await readMetadata(this.wasmBuffer);\n            this.bitDepth = this.metadata.audioSettings.bitDepth;\n            this.arrayType = getFloatArrayType(this.bitDepth);\n            const wasmImports = {\n                ...this._fsImports(),\n                ...this._outletListenersImports(),\n            };\n            const wasmInstance = await instantiateWasmModule(this.wasmBuffer, {\n                input: wasmImports,\n            });\n            this.wasmExports =\n                wasmInstance.exports;\n            this.commons = this._bindCommons();\n            this.fs = this._bindFs();\n            this.inletCallers = this._bindInletCallers();\n            this.outletListeners = this._bindOutletListeners();\n        }\n        configure(sampleRate, blockSize) {\n            this.blockSize = blockSize;\n            this.metadata.audioSettings.blockSize = blockSize;\n            this.metadata.audioSettings.sampleRate = sampleRate;\n            this.wasmExports.configure(sampleRate, blockSize);\n            this._updateWasmInOuts();\n        }\n        loop(input, output) {\n            for (let channel = 0; channel < input.length; channel++) {\n                this.wasmInput.set(input[channel], channel * this.blockSize);\n            }\n            this._updateWasmInOuts();\n            this.wasmExports.loop();\n            this._updateWasmInOuts();\n            for (let channel = 0; channel < output.length; channel++) {\n                output[channel].set(this.wasmOutput.subarray(this.blockSize * channel, this.blockSize * (channel + 1)));\n            }\n        }\n        _updateWasmInOuts() {\n            this.wasmOutput = readTypedArray(this.wasmExports, this.arrayType, this.wasmExports.getOutput());\n            this.wasmInput = readTypedArray(this.wasmExports, this.arrayType, this.wasmExports.getInput());\n        }\n        _bindCommons() {\n            return {\n                getArray: (arrayName) => {\n                    const arrayNamePointer = lowerString(this.wasmExports, arrayName);\n                    const arrayPointer = this.wasmExports.commons_getArray(arrayNamePointer);\n                    return readTypedArray(this.wasmExports, this.arrayType, arrayPointer);\n                },\n                setArray: (arrayName, array) => {\n                    const stringPointer = lowerString(this.wasmExports, arrayName);\n                    const { arrayPointer } = lowerFloatArray(this.wasmExports, this.bitDepth, array);\n                    this.wasmExports.commons_setArray(stringPointer, arrayPointer);\n                    this._updateWasmInOuts();\n                },\n            };\n        }\n        _bindFs() {\n            return {\n                sendReadSoundFileResponse: (operationId, status, sound) => {\n                    let soundPointer = 0;\n                    if (sound) {\n                        soundPointer = lowerListOfFloatArrays(this.wasmExports, this.bitDepth, sound);\n                    }\n                    this.wasmExports.fs_onReadSoundFileResponse(operationId, status, soundPointer);\n                    this._updateWasmInOuts();\n                },\n                sendWriteSoundFileResponse: this.wasmExports.fs_onWriteSoundFileResponse,\n                sendSoundStreamData: (operationId, sound) => {\n                    const soundPointer = lowerListOfFloatArrays(this.wasmExports, this.bitDepth, sound);\n                    const writtenFrameCount = this.wasmExports.fs_onSoundStreamData(operationId, soundPointer);\n                    this._updateWasmInOuts();\n                    return writtenFrameCount;\n                },\n                closeSoundStream: this.wasmExports.fs_onCloseSoundStream,\n                onReadSoundFile: () => undefined,\n                onWriteSoundFile: () => undefined,\n                onOpenSoundReadStream: () => undefined,\n                onOpenSoundWriteStream: () => undefined,\n                onSoundStreamData: () => undefined,\n                onCloseSoundStream: () => undefined,\n            };\n        }\n        _fsImports() {\n            let wasmImports = {\n                i_fs_readSoundFile: (operationId, urlPointer, infoPointer) => {\n                    const url = liftString(this.wasmExports, urlPointer);\n                    const info = liftMessage(this.wasmExports, infoPointer);\n                    this.fs.onReadSoundFile(operationId, url, info);\n                },\n                i_fs_writeSoundFile: (operationId, soundPointer, urlPointer, infoPointer) => {\n                    const sound = readListOfFloatArrays(this.wasmExports, this.bitDepth, soundPointer);\n                    const url = liftString(this.wasmExports, urlPointer);\n                    const info = liftMessage(this.wasmExports, infoPointer);\n                    this.fs.onWriteSoundFile(operationId, sound, url, info);\n                },\n                i_fs_openSoundReadStream: (operationId, urlPointer, infoPointer) => {\n                    const url = liftString(this.wasmExports, urlPointer);\n                    const info = liftMessage(this.wasmExports, infoPointer);\n                    this._updateWasmInOuts();\n                    this.fs.onOpenSoundReadStream(operationId, url, info);\n                },\n                i_fs_openSoundWriteStream: (operationId, urlPointer, infoPointer) => {\n                    const url = liftString(this.wasmExports, urlPointer);\n                    const info = liftMessage(this.wasmExports, infoPointer);\n                    this.fs.onOpenSoundWriteStream(operationId, url, info);\n                },\n                i_fs_sendSoundStreamData: (operationId, blockPointer) => {\n                    const block = readListOfFloatArrays(this.wasmExports, this.bitDepth, blockPointer);\n                    this.fs.onSoundStreamData(operationId, block);\n                },\n                i_fs_closeSoundStream: (...args) => this.fs.onCloseSoundStream(...args),\n            };\n            return wasmImports;\n        }\n        _bindInletCallers() {\n            return mapObject(this.metadata.compilation.inletCallerSpecs, (inletIds, nodeId) => mapArray(inletIds, (inletId) => [\n                inletId,\n                (message) => {\n                    const messagePointer = lowerMessage(this.wasmExports, message);\n                    this.wasmExports[this.metadata.compilation.codeVariableNames\n                        .inletCallers[nodeId][inletId]](messagePointer);\n                },\n            ]));\n        }\n        _bindOutletListeners() {\n            return mapObject(this.metadata.compilation.outletListenerSpecs, (outletIds) => mapArray(outletIds, (outletId) => [\n                outletId,\n                {\n                    onMessage: () => undefined,\n                },\n            ]));\n        }\n        _outletListenersImports() {\n            const wasmImports = {};\n            const { codeVariableNames } = this.metadata.compilation;\n            Object.entries(this.metadata.compilation.outletListenerSpecs).forEach(([nodeId, outletIds]) => {\n                outletIds.forEach((outletId) => {\n                    const listenerName = codeVariableNames.outletListeners[nodeId][outletId];\n                    wasmImports[listenerName] = (messagePointer) => {\n                        const message = liftMessage(this.wasmExports, messagePointer);\n                        this.outletListeners[nodeId][outletId].onMessage(message);\n                    };\n                });\n            });\n            return wasmImports;\n        }\n    }\n    const readMetadata = async (wasmBuffer) => {\n        const inputImports = {};\n        const wasmModule = WebAssembly.Module.imports(new WebAssembly.Module(wasmBuffer));\n        wasmModule\n            .filter((imprt) => imprt.module === 'input' && imprt.kind === 'function')\n            .forEach((imprt) => (inputImports[imprt.name] = () => undefined));\n        const wasmInstance = await instantiateWasmModule(wasmBuffer, {\n            input: inputImports,\n        });\n        const wasmExports = wasmInstance.exports;\n        const stringPointer = wasmExports.metadata.valueOf();\n        const metadataJSON = liftString(wasmExports, stringPointer);\n        return JSON.parse(metadataJSON);\n    };\n\n    exports.AssemblyScriptWasmEngine = AssemblyScriptWasmEngine;\n    exports.createEngine = createEngine;\n    exports.readMetadata = readMetadata;\n\n    return exports;\n\n})({});\n//# sourceMappingURL=assemblyscript-wasm-bindings.iife.js.map\n;\n/*\n * Copyright (c) 2012-2020 S\xe9bastien Piquemal <sebpiq@gmail.com>\n *\n * BSD Simplified License.\n * For information on usage and redistribution, and for a DISCLAIMER OF ALL\n * WARRANTIES, see the file, \"LICENSE.txt,\" in this distribution.\n *\n * See https://github.com/sebpiq/WebPd_pd-parser for documentation\n *\n */\nconst FS_CALLBACK_NAMES = [\n    'onReadSoundFile',\n    'onOpenSoundReadStream',\n    'onWriteSoundFile',\n    'onOpenSoundWriteStream',\n    'onSoundStreamData',\n    'onCloseSoundStream',\n];\nclass WasmWorkletProcessor extends AudioWorkletProcessor {\n    constructor() {\n        super();\n        this.port.onmessage = this.onMessage.bind(this);\n        this.settings = {\n            blockSize: null,\n            sampleRate,\n        };\n        this.dspConfigured = false;\n        this.engine = null;\n    }\n    process(inputs, outputs) {\n        const output = outputs[0];\n        const input = inputs[0];\n        if (!this.dspConfigured) {\n            if (!this.engine) {\n                return true;\n            }\n            this.settings.blockSize = output[0].length;\n            this.engine.configure(this.settings.sampleRate, this.settings.blockSize);\n            this.dspConfigured = true;\n        }\n        this.engine.loop(input, output);\n        return true;\n    }\n    onMessage(messageEvent) {\n        const message = messageEvent.data;\n        switch (message.type) {\n            case 'code:WASM':\n                this.setWasm(message.payload.wasmBuffer);\n                break;\n            case 'code:JS':\n                this.setJsCode(message.payload.jsCode);\n                break;\n            case 'inletCaller':\n                this.engine.inletCallers[message.payload.nodeId][message.payload.portletId](message.payload.message);\n                break;\n            case 'fs':\n                const returned = this.engine.fs[message.payload.functionName].apply(null, message.payload.arguments);\n                this.port.postMessage({\n                    type: 'fs',\n                    payload: {\n                        functionName: message.payload.functionName + '_return',\n                        operationId: message.payload.arguments[0],\n                        returned,\n                    },\n                });\n                break;\n            case 'destroy':\n                this.destroy();\n                break;\n            default:\n                new Error(`unknown message type ${message.type}`);\n        }\n    }\n    // TODO : control for channelCount of wasmModule\n    setWasm(wasmBuffer) {\n        return AssemblyscriptWasmBindings.createEngine(wasmBuffer).then((engine) => {\n            this.setEngine(engine);\n            return engine;\n        });\n    }\n    setJsCode(code) {\n        const engine = new Function(`\n            ${code}\n            return exports\n        `)();\n        this.setEngine(engine);\n    }\n    setEngine(engine) {\n        FS_CALLBACK_NAMES.forEach((functionName) => {\n            ;\n            engine.fs[functionName] = (...args) => {\n                // We don't use transferables, because that would imply reallocating each time new array in the engine.\n                this.port.postMessage({\n                    type: 'fs',\n                    payload: {\n                        functionName,\n                        arguments: args,\n                    },\n                });\n            };\n        });\n        this.engine = engine;\n        this.dspConfigured = false;\n    }\n    destroy() {\n        this.process = () => false;\n    }\n}\nregisterProcessor('webpd-node', WasmWorkletProcessor);\n")},fs:{web:yp}},kp=Jr("shared/clean"),xp=0,Ip=1,Ep=2,Op=3,Tp={artefacts:Sp.createArtefacts()},Cp={buildStatus:xp,step:null},Ap=ea({name:"buildOutput",initialState:Cp,reducers:{startBuild:function(e){e.buildStatus=Ip},buildSuccess:function(e,n){Tp.artefacts=n.payload.artefacts,e.buildStatus=Ep},startStep:function(e,n){e.step=n.payload},stepComplete:function(e,n){1===n.payload.status&&(e.buildStatus=Op)}},extraReducers:function(e){var n=function(){return Tp.artefacts=Sp.createArtefacts(),Cp};e.addCase(kp,n),e.addCase(La.actions.setFormat,n),e.addCase(Ma.actions.setLocalFile,n),e.addCase(Ma.actions.fetchUrlSuccess,n)}}),Fp={warnings:null,errors:null},Mp=ea({name:"console",initialState:Fp,reducers:{},extraReducers:function(e){e.addCase(Ap.actions.startBuild,(function(){return Fp})),e.addCase(Ap.actions.stepComplete,(function(e,n){n.payload.warnings&&(e.warnings=[].concat(Pa(e.warnings||[]),Pa(n.payload.warnings)),0===e.warnings.length&&(e.warnings=null)),n.payload.errors&&(e.errors=[].concat(Pa(e.errors||[]),Pa(n.payload.errors)))})),e.addCase(Ma.actions.setUrl,(function(){return Fp})),e.addCase(Ma.actions.clear,(function(){return Fp})),e.addCase(La.actions.setFormat,(function(){return Fp})),e.addCase(Ma.actions.fetchUrlError,(function(e,n){e.errors=[n.payload]}))}}),Lp=ea({name:"app",initialState:{isInitialized:!1,willBuildOnLoad:!1},reducers:{setWillBuildOnLoad:function(e,n){e.willBuildOnLoad=n.payload},initializationDone:function(e){e.isInitialized=!0}},extraReducers:function(e){e.addCase(Ap.actions.buildSuccess,(function(e){e.willBuildOnLoad=!0}))}}),Pp=t(457),Np="NOT_FOUND";var Rp=function(e,n){return e===n};function Dp(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,a=void 0===r?Rp:r,o=t.maxSize,i=void 0===o?1:o,s=t.resultEqualityCheck,c=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}}(a),u=1===i?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:Np},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(c):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var a=t[r];return r>0&&(t.splice(r,1),t.unshift(a)),a.value}return Np}return{get:r,put:function(n,a){r(n)===Np&&(t.unshift({key:n,value:a}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(i,c);function l(){var n=u.get(arguments);if(n===Np){if(n=e.apply(null,arguments),s){var t=u.getEntries().find((function(e){return s(e.value,n)}));t&&(n=t.value)}u.put(arguments,n)}return n}return l.clearCache=function(){return u.clear()},l}function jp(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o,i=0,s={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(s=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=s.memoizeOptions,l=void 0===u?t:u,f=Array.isArray(l)?l:[l],d=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}(r),p=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(f)),h=e((function(){for(var e=[],n=d.length,t=0;t<n;t++)e.push(d[t].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:p,dependencies:d,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),h}}var zp=jp(Dp),Bp=function(e){return e.buildInput.url},Up=function(e){return e.buildInput.filepath},Vp=function(e){return e.buildInput.arrayBuffer},Wp=zp(Bp,Up,(function(e,n){var t=e||n;return t?Sp.guessFormat(t)||"pd":null})),Gp=zp(Wp,Vp,(function(e,n){return null===e||null===n?null:Sp.preloadArtefact(Sp.createArtefacts(),n,e)})),Kp=["wasm","wav","patchPlayer"],$p=function(e){return e.buildOutput.format},qp=function(e){return e.buildOutput.codeTarget},Hp=zp(Wp,(function(e){return e=e||"pd",[].concat(Pa(Array.from(Sp.listOutputFormats(e)).filter((function(e){return Kp.includes(e)}))),["patchPlayer"])})),Xp=function(e){return"@@redux-saga/"+e},Yp=Xp("CANCEL_PROMISE"),Qp=Xp("CHANNEL_END"),Jp=Xp("IO"),Zp=Xp("MATCH"),eh=Xp("MULTICAST"),nh=Xp("SAGA_ACTION"),th=Xp("SELF_CANCELLATION"),rh=Xp("TASK"),ah=Xp("TASK_CANCEL"),oh=Xp("TERMINATE"),ih=Xp("LOCATION"),sh=t(462),ch=function(e){return null===e||void 0===e},uh=function(e){return null!==e&&void 0!==e},lh=function(e){return"function"===typeof e},fh=function(e){return"string"===typeof e},dh=Array.isArray,ph=function(e){return e&&lh(e.then)},hh=function(e){return e&&lh(e.next)&&lh(e.throw)},mh=function e(n){return n&&(fh(n)||yh(n)||lh(n)||dh(n)&&n.every(e))},gh=function(e){return e&&lh(e.take)&&lh(e.close)},vh=function(e){return lh(e)&&e.hasOwnProperty("toString")},yh=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},bh=function(e){return gh(e)&&e[eh]},Sh=2147483647;var wh=function(e,n){var t;void 0===n&&(n=!0);var r=new Promise((function(r){t=setTimeout(r,Math.min(Sh,e),n)}));return r[Yp]=function(){clearTimeout(t)},r},_h=function(e){return function(){return e}},kh=_h(!0),xh=function(){};var Ih=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Eh=function(e,n){(0,sh.Z)(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach((function(t){e[t]=n[t]}))},Oh=function(e,n){var t;return(t=[]).concat.apply(t,n.map(e))};function Th(e,n){var t=e.indexOf(n);t>=0&&e.splice(t,1)}var Ch=function(e){throw e},Ah=function(e){return{value:e,done:!0}};function Fh(e,n,t){void 0===n&&(n=Ch),void 0===t&&(t="iterator");var r={meta:{name:t},next:e,throw:n,return:Ah,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function Mh(e,n){var t=n.sagaStack;console.error(e),console.error(t)}var Lh=function(e){return Array.apply(null,new Array(e))},Ph=function(e){return function(n){return e(Object.defineProperty(n,nh,{value:!0}))}},Nh=function(e){return e===oh},Rh=function(e){return e===ah},Dh=function(e){return Nh(e)||Rh(e)};function jh(e,n){var t=Object.keys(e),r=t.length;var a,o=0,i=dh(e)?Lh(r):{},s={};return t.forEach((function(e){var t=function(t,s){a||(s||Dh(t)?(n.cancel(),n(t,s)):(i[e]=t,++o===r&&(a=!0,n(i))))};t.cancel=xh,s[e]=t})),n.cancel=function(){a||(a=!0,t.forEach((function(e){return s[e].cancel()})))},s}function zh(e){return{name:e.name||"anonymous",location:Bh(e)}}function Bh(e){return e[ih]}var Uh="Channel's Buffer overflow!",Vh=1,Wh=3,Gh=4;function Kh(e,n){void 0===e&&(e=10);var t=new Array(e),r=0,a=0,o=0,i=function(n){t[a]=n,a=(a+1)%e,r++},s=function(){if(0!=r){var n=t[o];return t[o]=null,r--,o=(o+1)%e,n}},c=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var u;if(r<e)i(s);else switch(n){case Vh:throw new Error(Uh);case Wh:t[a]=s,o=a=(a+1)%e;break;case Gh:u=2*e,t=c(),r=t.length,a=t.length,o=0,t.length=u,e=u,i(s)}},take:s,flush:c}}var $h=function(e){return Kh(e,Gh)},qh="TAKE",Hh="PUT",Xh="ALL",Yh="RACE",Qh="CALL",Jh="CPS",Zh="FORK",em="JOIN",nm="CANCEL",tm="SELECT",rm="ACTION_CHANNEL",am="CANCELLED",om="FLUSH",im="GET_CONTEXT",sm="SET_CONTEXT",cm=function(e,n){var t;return(t={})[Jp]=!0,t.combinator=!1,t.type=e,t.payload=n,t};function um(e,n){return void 0===e&&(e="*"),mh(e)?(uh(n)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),cm(qh,{pattern:e})):bh(e)&&uh(n)&&mh(n)?cm(qh,{channel:e,pattern:n}):gh(e)?(uh(n)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),cm(qh,{channel:e})):void 0}function lm(e,n){return ch(n)&&(n=e,e=void 0),cm(Hh,{channel:e,action:n})}function fm(e){var n=cm(Xh,e);return n.combinator=!0,n}function dm(e,n){var t,r=null;return lh(e)?t=e:(dh(e)?(r=e[0],t=e[1]):(r=e.context,t=e.fn),r&&fh(t)&&lh(r[t])&&(t=r[t])),{context:r,fn:t,args:n}}function pm(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return cm(Qh,dm(e,t))}function hm(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return cm(Zh,dm(e,t))}function mm(e){void 0===e&&(e=Ih);for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return cm(tm,{selector:e,args:t})}var gm=pm.bind(null,wh);function vm(){var e={};return e.promise=new Promise((function(n,t){e.resolve=n,e.reject=t})),e}var ym=vm,bm=[],Sm=0;function wm(e){try{xm(),e()}finally{Im()}}function _m(e){bm.push(e),Sm||(xm(),Em())}function km(e){try{return xm(),e()}finally{Em()}}function xm(){Sm++}function Im(){Sm--}function Em(){var e;for(Im();!Sm&&void 0!==(e=bm.shift());)wm(e)}var Om=function(e){return function(n){return e.some((function(e){return Mm(e)(n)}))}},Tm=function(e){return function(n){return e(n)}},Cm=function(e){return function(n){return n.type===String(e)}},Am=function(e){return function(n){return n.type===e}},Fm=function(){return kh};function Mm(e){var n="*"===e?Fm:fh(e)?Cm:dh(e)?Om:vh(e)?Cm:lh(e)?Tm:yh(e)?Am:null;if(null===n)throw new Error("invalid pattern: "+e);return n(e)}var Lm={type:Qp},Pm=function(e){return e&&e.type===Qp};function Nm(e){void 0===e&&(e=$h());var n=!1,t=[];return{take:function(r){n&&e.isEmpty()?r(Lm):e.isEmpty()?(t.push(r),r.cancel=function(){Th(t,r)}):r(e.take())},put:function(r){if(!n){if(0===t.length)return e.put(r);t.shift()(r)}},flush:function(t){n&&e.isEmpty()?t(Lm):t(e.flush())},close:function(){if(!n){n=!0;var e=t;t=[];for(var r=0,a=e.length;r<a;r++){(0,e[r])(Lm)}}}}}function Rm(){var e=function(){var e,n=!1,t=[],r=t,a=function(){r===t&&(r=t.slice())},o=function(){n=!0;var e=t=r;r=[],e.forEach((function(e){e(Lm)}))};return(e={})[eh]=!0,e.put=function(e){if(!n)if(Pm(e))o();else for(var a=t=r,i=0,s=a.length;i<s;i++){var c=a[i];c[Zp](e)&&(c.cancel(),c(e))}},e.take=function(e,t){void 0===t&&(t=Fm),n?e(Lm):(e[Zp]=t,a(),r.push(e),e.cancel=function(e){var n=!1;return function(){n||(n=!0,e())}}((function(){a(),Th(r,e)})))},e.close=o,e}(),n=e.put;return e.put=function(e){e[nh]?n(e):_m((function(){n(e)}))},e}var Dm=0,jm=1,zm=2,Bm=3;function Um(e,n){var t=e[Yp];lh(t)&&(n.cancel=t),e.then(n,(function(e){n(e,!0)}))}var Vm,Wm=0,Gm=function(){return++Wm};function Km(e){e.isRunning()&&e.cancel()}var $m=((Vm={})[qh]=function(e,n,t){var r=n.channel,a=void 0===r?e.channel:r,o=n.pattern,i=n.maybe,s=function(e){e instanceof Error?t(e,!0):!Pm(e)||i?t(e):t(oh)};try{a.take(s,uh(o)?Mm(o):null)}catch(c){return void t(c,!0)}t.cancel=s.cancel},Vm[Hh]=function(e,n,t){var r=n.channel,a=n.action,o=n.resolve;_m((function(){var n;try{n=(r?r.put:e.dispatch)(a)}catch(i){return void t(i,!0)}o&&ph(n)?Um(n,t):t(n)}))},Vm[Xh]=function(e,n,t,r){var a=r.digestEffect,o=Wm,i=Object.keys(n);if(0!==i.length){var s=jh(n,t);i.forEach((function(e){a(n[e],o,s[e],e)}))}else t(dh(n)?[]:{})},Vm[Yh]=function(e,n,t,r){var a=r.digestEffect,o=Wm,i=Object.keys(n),s=dh(n)?Lh(i.length):{},c={},u=!1;i.forEach((function(e){var n=function(n,r){u||(r||Dh(n)?(t.cancel(),t(n,r)):(t.cancel(),u=!0,s[e]=n,t(s)))};n.cancel=xh,c[e]=n})),t.cancel=function(){u||(u=!0,i.forEach((function(e){return c[e].cancel()})))},i.forEach((function(e){u||a(n[e],o,c[e],e)}))},Vm[Qh]=function(e,n,t,r){var a=n.context,o=n.fn,i=n.args,s=r.task;try{var c=o.apply(a,i);if(ph(c))return void Um(c,t);if(hh(c))return void rg(e,c,s.context,Wm,zh(o),!1,t);t(c)}catch(u){t(u,!0)}},Vm[Jh]=function(e,n,t){var r=n.context,a=n.fn,o=n.args;try{var i=function(e,n){ch(e)?t(n):t(e,!0)};a.apply(r,o.concat(i)),i.cancel&&(t.cancel=i.cancel)}catch(s){t(s,!0)}},Vm[Zh]=function(e,n,t,r){var a=n.context,o=n.fn,i=n.args,s=n.detached,c=r.task,u=function(e){var n=e.context,t=e.fn,r=e.args;try{var a=t.apply(n,r);if(hh(a))return a;var o=!1;return Fh((function(e){return o?{value:e,done:!0}:(o=!0,{value:a,done:!ph(a)})}))}catch(i){return Fh((function(){throw i}))}}({context:a,fn:o,args:i}),l=function(e,n){return e.isSagaIterator?{name:e.meta.name}:zh(n)}(u,o);km((function(){var n=rg(e,u,c.context,Wm,l,s,void 0);s?t(n):n.isRunning()?(c.queue.addTask(n),t(n)):n.isAborted()?c.queue.abort(n.error()):t(n)}))},Vm[em]=function(e,n,t,r){var a=r.task,o=function(e,n){if(e.isRunning()){var t={task:a,cb:n};n.cancel=function(){e.isRunning()&&Th(e.joiners,t)},e.joiners.push(t)}else e.isAborted()?n(e.error(),!0):n(e.result())};if(dh(n)){if(0===n.length)return void t([]);var i=jh(n,t);n.forEach((function(e,n){o(e,i[n])}))}else o(n,t)},Vm[nm]=function(e,n,t,r){var a=r.task;n===th?Km(a):dh(n)?n.forEach(Km):Km(n),t()},Vm[tm]=function(e,n,t){var r=n.selector,a=n.args;try{t(r.apply(void 0,[e.getState()].concat(a)))}catch(o){t(o,!0)}},Vm[rm]=function(e,n,t){var r=n.pattern,a=Nm(n.buffer),o=Mm(r),i=function n(t){Pm(t)||e.channel.take(n,o),a.put(t)},s=a.close;a.close=function(){i.cancel(),s()},e.channel.take(i,o),t(a)},Vm[am]=function(e,n,t,r){t(r.task.isCancelled())},Vm[om]=function(e,n,t){n.flush(t)},Vm[im]=function(e,n,t,r){t(r.task.context[n])},Vm[sm]=function(e,n,t,r){var a=r.task;Eh(a.context,n),t()},Vm);function qm(e,n){return e+"?"+n}function Hm(e){var n=e.name,t=e.location;return t?n+"  "+qm(t.fileName,t.lineNumber):n}function Xm(e){var n=Oh((function(e){return e.cancelledTasks}),e);return n.length?["Tasks cancelled due to error:"].concat(n).join("\n"):""}var Ym=null,Qm=[],Jm=function(e){e.crashedEffect=Ym,Qm.push(e)},Zm=function(){Ym=null,Qm.length=0},eg=function(e){Ym=e},ng=function(){var e=Qm[0],n=Qm.slice(1),t=e.crashedEffect?function(e){var n=Bh(e);return n?n.code+"  "+qm(n.fileName,n.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Hm(e.meta)+(t?" \n when executing effect "+t:"")].concat(n.map((function(e){return"    created by "+Hm(e.meta)})),[Xm(Qm)]).join("\n")};function tg(e,n,t,r,a,o,i){var s;void 0===i&&(i=xh);var c,u,l=Dm,f=null,d=[],p=Object.create(t),h=function(e,n,t){var r,a=[],o=!1;function i(e){n(),c(),t(e,!0)}function s(n){a.push(n),n.cont=function(s,c){o||(Th(a,n),n.cont=xh,c?i(s):(n===e&&(r=s),a.length||(o=!0,t(r))))}}function c(){o||(o=!0,a.forEach((function(e){e.cont=xh,e.cancel()})),a=[])}return s(e),{addTask:s,cancelAll:c,abort:i,getTasks:function(){return a}}}(n,(function(){d.push.apply(d,h.getTasks().map((function(e){return e.meta.name})))}),m);function m(n,t){if(t){if(l=zm,Jm({meta:a,cancelledTasks:d}),g.isRoot){var r=ng();Zm(),e.onError(n,{sagaStack:r})}u=n,f&&f.reject(n)}else n===ah?l=jm:l!==jm&&(l=Bm),c=n,f&&f.resolve(n);g.cont(n,t),g.joiners.forEach((function(e){e.cb(n,t)})),g.joiners=null}var g=((s={})[rh]=!0,s.id=r,s.meta=a,s.isRoot=o,s.context=p,s.joiners=[],s.queue=h,s.cancel=function(){l===Dm&&(l=jm,h.cancelAll(),m(ah,!1))},s.cont=i,s.end=m,s.setContext=function(e){Eh(p,e)},s.toPromise=function(){return f||(f=ym(),l===zm?f.reject(u):l!==Dm&&f.resolve(c)),f.promise},s.isRunning=function(){return l===Dm},s.isCancelled=function(){return l===jm||l===Dm&&n.status===jm},s.isAborted=function(){return l===zm},s.result=function(){return c},s.error=function(){return u},s);return g}function rg(e,n,t,r,a,o,i){var s=e.finalizeRunEffect((function(n,t,r){if(ph(n))Um(n,r);else if(hh(n))rg(e,n,u.context,t,a,!1,r);else if(n&&n[Jp]){(0,$m[n.type])(e,n.payload,r,l)}else r(n)}));f.cancel=xh;var c={meta:a,cancel:function(){c.status===Dm&&(c.status=jm,f(ah))},status:Dm},u=tg(e,c,t,r,a,o,i),l={task:u,digestEffect:d};return i&&(i.cancel=u.cancel),f(),u;function f(e,t){try{var a;t?(a=n.throw(e),Zm()):Rh(e)?(c.status=jm,f.cancel(),a=lh(n.return)?n.return(ah):{done:!0,value:ah}):a=Nh(e)?lh(n.return)?n.return():{done:!0}:n.next(e),a.done?(c.status!==jm&&(c.status=Bm),c.cont(a.value)):d(a.value,r,f)}catch(o){if(c.status===jm)throw o;c.status=zm,c.cont(o,!0)}}function d(n,t,r,a){void 0===a&&(a="");var o,i=Gm();function c(t,a){o||(o=!0,r.cancel=xh,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(i,t):e.sagaMonitor.effectResolved(i,t)),a&&eg(n),r(t,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:t,label:a,effect:n}),c.cancel=xh,r.cancel=function(){o||(o=!0,c.cancel(),c.cancel=xh,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},s(n,i,c)}}function ag(e,n){var t=e.channel,r=void 0===t?Rm():t,a=e.dispatch,o=e.getState,i=e.context,s=void 0===i?{}:i,c=e.sagaMonitor,u=e.effectMiddlewares,l=e.onError,f=void 0===l?Mh:l;for(var d=arguments.length,p=new Array(d>2?d-2:0),h=2;h<d;h++)p[h-2]=arguments[h];var m=n.apply(void 0,p);var g,v=Gm();if(c&&(c.rootSagaStarted=c.rootSagaStarted||xh,c.effectTriggered=c.effectTriggered||xh,c.effectResolved=c.effectResolved||xh,c.effectRejected=c.effectRejected||xh,c.effectCancelled=c.effectCancelled||xh,c.actionDispatched=c.actionDispatched||xh,c.rootSagaStarted({effectId:v,saga:n,args:p})),u){var y=Tr.apply(void 0,u);g=function(e){return function(n,t,r){return y((function(n){return e(n,t,r)}))(n)}}}else g=Ih;var b={channel:r,dispatch:Ph(a),getState:o,sagaMonitor:c,onError:f,finalizeRunEffect:g};return km((function(){var e=rg(b,m,s,v,zh(n),!0,void 0);return c&&c.effectResolved(v,e),e}))}var og=function(e){var n,t=void 0===e?{}:e,r=t.context,a=void 0===r?{}:r,o=t.channel,i=void 0===o?Rm():o,s=t.sagaMonitor,c=Li(t,["context","channel","sagaMonitor"]);function u(e){var t=e.getState,r=e.dispatch;return n=ag.bind(null,(0,sh.Z)({},c,{context:a,channel:i,dispatch:r,getState:t,sagaMonitor:s})),function(e){return function(n){s&&s.actionDispatched&&s.actionDispatched(n);var t=e(n);return i.put(n),t}}}return u.run=function(){return n.apply(void 0,arguments)},u.setContext=function(e){Eh(a,e)},u},ig=og,sg=function(e){return{done:!0,value:e}},cg={};function ug(e){return gh(e)?"channel":vh(e)?String(e):lh(e)?e.name:String(e)}function lg(e,n,t){var r,a,o,i=n;function s(n,t){if(i===cg)return sg(n);if(t&&!a)throw i=cg,t;r&&r(n);var s=t?e[a](t):e[i]();return i=s.nextState,o=s.effect,r=s.stateUpdater,a=s.errorState,i===cg?sg(n):o}return Fh(s,(function(e){return s(null,e)}),t)}function fg(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a];var o,i,s={done:!1,value:um(e)},c=function(e){return{done:!1,value:hm.apply(void 0,[n].concat(r,[e]))}},u=function(e){return{done:!1,value:(n=e,void 0===n&&(n=th),cm(nm,n))};var n},l=function(e){return o=e},f=function(e){return i=e};return lg({q1:function(){return{nextState:"q2",effect:s,stateUpdater:f}},q2:function(){return o?{nextState:"q3",effect:u(o)}:{nextState:"q1",effect:c(i),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:c(i),stateUpdater:l}}},"q1","takeLatest("+ug(e)+", "+n.name+")")}function dg(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a];return hm.apply(void 0,[fg,e,n].concat(r))}var pg=mt().mark(mg),hg=mt().mark(gg);function mg(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(Ma.actions.setUrl.type,gg);case 2:case"end":return e.stop()}}),pg)}function gg(e){var n,t;return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload,r.prev=1,r.next=4,pm(vg,n);case 4:return t=r.sent,r.next=7,lm(Ma.actions.fetchUrlSuccess({arrayBuffer:t,url:n}));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,lm(Ma.actions.fetchUrlError(r.t0.message));case 13:case"end":return r.stop()}}),hg,null,[[1,9]])}var vg=function(){var e=Ra(mt().mark((function e(n){var t,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:if((t=e.sent).ok){e.next=5;break}throw new yg("Failed to load ".concat(n));case 5:return e.next=7,t.arrayBuffer();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),yg=function(e){Wa(t,e);var n=qa(t);function t(){return Ua(this,t),n.apply(this,arguments)}return Ba(t)}(Xa(Error));function bg(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ot(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}var Sg=function(e,n){var t=n.x-e.x,r=n.y-e.y;return function(e){return{x:e.x+t,y:e.y+r}}},wg=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},_g=function(e,n){var t={x:Math.max(e.topLeft.x,n.topLeft.x),y:Math.max(e.topLeft.y,n.topLeft.y)},r={x:Math.min(e.bottomRight.x,n.bottomRight.x),y:Math.min(e.bottomRight.y,n.bottomRight.y)};return r.x<=t.x||r.y<=t.y?null:{topLeft:t,bottomRight:r}},kg=function(e,n){return n.topLeft.x<=e.x&&e.x<=n.bottomRight.x&&n.topLeft.y<=e.y&&e.y<=n.bottomRight.y},xg=function(e){return e.reduce((function(e,n){var t=e.topLeft,r=e.bottomRight;return{topLeft:{x:Math.min(n.x,t.x),y:Math.min(n.y,t.y)},bottomRight:{x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)}}}),{topLeft:{x:1/0,y:1/0},bottomRight:{x:-1/0,y:-1/0}})},Ig=function(e){return{x:e.bottomRight.x-e.topLeft.x,y:e.bottomRight.y-e.topLeft.y}},Eg=function(){return new Promise((function(e){return setTimeout(e,1)}))},Og=function(e,n){if(!e)throw new Error(n||"expected ".concat(e," to be defined"));return e},Tg="0",Cg=function e(n,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===a&&(a={topLeft:{x:-1/0,y:-1/0},bottomRight:{x:1/0,y:1/0}});var o=[];return Object.values(r.nodes).forEach((function(i){if("pd"===i.type&&"subpatch"===i.nodeClass){var s=t.patches[i.patchId],c=Lg(i.layout);if(!s.layout.graphOnParent)return;var u=Pg(s.layout),l=Sg({x:c.x,y:c.y},{x:u.viewportX,y:u.viewportY}),f={topLeft:l(a.topLeft),bottomRight:l(a.bottomRight)},d={x:u.viewportX,y:u.viewportY},p={topLeft:d,bottomRight:wg(d,{x:u.viewportWidth,y:u.viewportHeight})},h=_g(f,p);if(null===h)return;var m=e(n,t,s,h),g={type:"container",patch:r,node:i,children:m};o.push(g)}else if(i.type in mi&&"control"===i.nodeClass){var v=Lg(i.layout);if(!kg({x:v.x,y:v.y},a))return;var y={type:"control",patch:r,node:i},b=function(e){return e};"bng"===i.type||"msg"===i.type?b=function(){return"bang"}:"tgl"===i.type&&(b=function(e){return+e}),Ag(n,y,b),o.push(y)}})),o},Ag=function(e,n,t){var r=n.node,a=n.patch,o=wp.buildGraphNodeId(a.id,r.id);e.transforms[o]=t},Fg=function(e,n,t){e.controlsValues.values[n]=t,e.settings.valuesUpdatedCallback&&Mg(e),function(e,n,t){e.webpdNode.port.postMessage({type:"inletCaller",payload:{nodeId:n,portletId:"0",message:t}})}(e,n,[t])},Mg=function(e,n){var t=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t&&clearTimeout(t),t=setTimeout((function(){return n.apply(void 0,a)}),e)}}(300,(function(e){var n={};Object.entries(e.controlsValues.values).forEach((function(e){var t=it(e,2),r=t[0],a=t[1];n[r]="number"===typeof a?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=Math.round(e*Math.pow(10,n))/Math.pow(10,n);return 0===t?0:t}(a):a})),e.settings.valuesUpdatedCallback(n)})),Lg=function(e){if(!e)throw new Error("Missing node layout");var n=e.x,t=e.y;if("number"!==typeof n||"number"!==typeof t)throw new Error("Missing node layout attributes");return{x:n,y:t}},Pg=function(e){if(!e)throw new Error("Missing patch layout");var n=e.viewportX,t=e.viewportY,r=e.viewportWidth,a=e.viewportHeight;if("number"!==typeof n||"number"!==typeof t||"number"!==typeof r||"number"!==typeof a)throw new Error("Missing patch layout attributes");return{viewportX:n,viewportY:t,viewportWidth:r,viewportHeight:a}},Ng=function(){var e=Ra(mt().mark((function e(n,t,r){var a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.audioContext.createMediaStreamSource(t),o=new _p.WebPdWorkletNode(n.audioContext),a.connect(o),o.connect(n.audioContext.destination),o.port.onmessage=function(e){return _p.fs.web(o,e)},!r.compiledJs){e.next=9;break}o.port.postMessage({type:"code:JS",payload:{jsCode:r.compiledJs}}),e.next=14;break;case 9:if(!r.wasm){e.next=13;break}o.port.postMessage({type:"code:WASM",payload:{wasmBuffer:r.wasm}}),e.next=14;break;case 13:throw new Error("Missing artefacts for creating the engine");case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),Rg={x:7,y:12},Dg=function e(n){var t=n.map((function(n){switch(n.type){case"container":var t=it(zg(e(n.children)),1)[0],r={type:"container",label:"string"===typeof n.node.args[0]?n.node.args[0]:null,control:n,dimensions:wg(Rg,Ig(xg([].concat(Pa(t.map((function(e){return e.position}))),Pa(t.map((function(e){return wg(e.position,e.dimensions)}))))))),children:t,position:{x:Wg(Gg(n.node).x),y:Wg(Gg(n.node).y)}};return r;case"control":return{type:"control",label:Ug(n.node),control:n,dimensions:Bg(n.node),position:{x:Wg(Gg(n.node).x),y:Wg(Gg(n.node).y)}}}}));return t},jg=function(e){return e.map((function(e){return{type:"comment",text:e.text,position:{x:Wg(Gg(e.node).x),y:Wg(Gg(e.node).y)}}}))},zg=function(e){var n=xg([].concat(Pa(e.map((function(e){return e.position}))),Pa(e.map((function(e){return wg(e.position,e.dimensions)}))))),t=function(e,n){return{x:e.x*n,y:e.y*n}}(n.topLeft,-1);return[e.map((function(e){return Sr(Sr({},e),{},{position:wg(e.position,t)})})),t]},Bg=function(e){if("control"!==e.nodeClass)throw new Error("Can only get dimension for control node");switch(e.type){case"floatatom":case"symbolatom":return{x:Wg(7*(Gg(e).widthInChars||3)),y:Wg(15)};case"bng":case"tgl":return{x:Wg(Gg(e).size),y:Wg(Gg(e).size)};case"nbx":return{x:Wg(7*(Gg(e).widthInChars||3)),y:Wg(Gg(e).height)};case"vradio":return{x:Wg(Gg(e).size),y:Wg(Vg(e.args[0])*Vg(Gg(e).size))};case"hradio":return{x:Wg(Vg(e.args[0])*Vg(Gg(e).size)),y:Wg(Gg(e).size)};case"vsl":case"hsl":return{x:Wg(Gg(e).width),y:Wg(Gg(e).height)};case"msg":return{x:Wg(7*e.args.join(" ").length),y:Wg(15)};case"cnv":return{x:0,y:0};default:throw new Error("unsupported type ".concat(e.type))}},Ug=function(e){var n=Gg(e).label;return n.length?n:null},Vg=function(e){if("number"!==typeof e)throw new Error("Expected ".concat(e," to be a number"));return e},Wg=function(e){return 1*Math.round(Vg(e)/1)},Gg=function(e){return Og(e.layout,"expected node to have a layout")},Kg=function(e){return e.innerHTML='\n    <div id="splash-container">\n        <div id="loading"></div>\n        <button id="start">START</button>\n    </div>\n\n    <div id="patch-controls">\n        <div id="controls-root"></div>\n    </div>\n\n    <div id="credits">\n        <button>Credits</button>\n        <div class="content">\n        <div>Sound made using <a href="https://github.com/sebpiq/WebPd/" target="_blank" rel="noopener noreferrer" >WebPd</a>.</div>\n        <div>UI made using <a href="https://nexus-js.github.io/ui/" target="_blank" rel="noopener noreferrer" >NexusUI</a>.</div>\n        <div>Demo source code available <a href="https://github.com/sebpiq/WebPd_demos/" target="_blank" rel="noopener noreferrer" >here</a>.</div>\n        <div>Patch ginger2.pd by <a href="http://www.martin-brinkmann.de/pd-patches.html" target="_blank" rel="noopener noreferrer" >Martin Brinkmann</a>.</div>\n        </div>\n    </div>\n',{controlsRoot:Og(e.querySelector("#controls-root"),"controlsRoot not found"),startButton:Og(e.querySelector("#start"),"startButton not found"),loadingLabel:Og(e.querySelector("#loading"),"loadingLabel not found"),loadingContainer:Og(e.querySelector("#splash-container"),"loadingContainer not found"),creditsButton:Og(e.querySelector("#credits button"),"creditsButton not found"),creditsContainer:Og(e.querySelector("#credits"),"creditsContainer not found")}},$g=function(e,n){Hg(e,n,e.controlsViews,null)},qg=function(e,n){e.commentsViews.forEach((function(e){var t=document.createElement("div");t.classList.add("comment"),t.innerHTML=e.text,n.appendChild(t),t.style.left="".concat(Zg(e.position.x),"px"),t.style.top="".concat(Zg(e.position.y),"px")}))},Hg=function e(n,t,r,a){r.forEach((function(r){if("container"===r.type){var o=Xg(n,t,r);e(n,o,r.children,r)}else"control"===r.type&&Yg(n,t,r,ev(!!a&&nv(a)))}))},Xg=function(e,n,t){var r=document.createElement("div");r.classList.add("controls-container");var a=ev(nv(t));return r.style.left="".concat(Zg(t.position.x),"px"),r.style.top="".concat(Zg(t.position.y),"px"),r.style.width="".concat(Zg(t.dimensions.x),"px"),r.style.height="".concat(Zg(t.dimensions.y),"px"),r.style.paddingTop="".concat(Zg(a.top),"px"),r.style.paddingBottom="".concat(Zg(a.bottom),"px"),r.style.paddingRight="".concat(Zg(a.right),"px"),r.style.paddingLeft="".concat(Zg(a.left),"px"),nv(t)&&Qg(r,t.label),n.appendChild(r),r},Yg=function(e,n,t,r){var a=t.control,o=a.node,i=a.patch,s=e.settings.colorScheme.next(),c=document.createElement("div");(c.classList.add("control"),c.classList.add(o.type),c.id="control-".concat(i.id,"-").concat(o.id),c.style.left="".concat(Zg(t.position.x+r.left),"px"),c.style.top="".concat(Zg(t.position.y+r.top),"px"),c.style.width="".concat(Zg(t.dimensions.x),"px"),c.style.height="".concat(Zg(t.dimensions.y),"px"),n.appendChild(c),nv(t))&&(Qg(c,t.label||"").style.color=s);var u=document.createElement("div");c.appendChild(u);var l={x:Zg(t.dimensions.x),y:Zg(t.dimensions.y-(nv(t)?4:0))},f=Jg(e,u,t,l);return f.colorize("accent",s),f.colorize("fill","black"),f.colorize("dark",s),f.colorize("mediumDark","#222"),f.colorize("mediumLight","#333"),f.element.style.fontFamily="Rajdhani",c},Qg=function(e,n){var t=document.createElement("div");return t.classList.add("label"),t.innerHTML=n,t.style.height="".concat(Zg(4),"px"),e.appendChild(t),t},Jg=function(e,n,t,r){var a,o=r.x,i=r.y,s=t.control.node,c=function(e,n){var t=n.node,r=n.patch,a=wp.buildGraphNodeId(r.id,t.id);return e.controlsValues.values[a]}(e,t.control);switch(s.type){case"hsl":case"vsl":"hsl"===s.type?i*=1.2:o*=1.2,a=new Nexus.Add.Slider(n,{min:s.args[0],max:s.args[1],value:void 0!==c?c:s.args[3],size:[o,i]});break;case"hradio":case"vradio":a=new Nexus.RadioButton(n,{numberOfButtons:s.args[0],active:void 0!==c?c:s.args[2],size:[o,i]});break;case"bng":a=new Nexus.Button(n,{size:[i,i]});break;case"msg":a=new Nexus.TextButton(n,{size:[o,i],text:s.args.join(" ")});break;case"nbx":case"floatatom":a=new Nexus.Number(n,{value:void 0!==c?c:"nbx"===s.type?s.args[3]:0,size:[o,i]});break;case"tgl":a=new Nexus.Button(n,{mode:"toggle",state:void 0!==c?c:!!s.args[2],size:[o,i]});break;case"symbolatom":a=new Nexus.TextButton(n,{size:[o,i],state:!1,text:"SYMBOLATOM NOT SUPPORTED"});break;case"cnv":a=new Nexus.TextButton(n,{size:[o,i],state:!1,text:"CNV NOT SUPPORTED"});break;default:throw new Error("Not supported ".concat(s.type))}return a.on("change",(function(n){return function(e,n,t){var r=n.node,a=n.patch,o=wp.buildGraphNodeId(a.id,r.id),i=e.controlsValues.transforms[o];if(!i)throw new Error("no value transform for ".concat(o));Fg(e,o,i(t))}(e,t.control,n)})),a},Zg=function(e){return 4*e},ev=function(e){return{top:e?Rg.y-Rg.x/2:Rg.y/2,left:Rg.x/2,right:Rg.x/2,bottom:e?Rg.x/2:Rg.y/2}},nv=function(e){return!(!e.label||!e.label.length)},tv=function(e){var n=Og(e.pdJson,"artefacts.pdJson not defined"),t=Og(e.dspGraph,"artefacts missing dspGraph"),r={values:{},transforms:{}},a=function(e,n){var t=n.patches[0];return{controls:Cg(e,n,t).map((function(e){var n={type:"container",patch:e.patch,node:e.node,children:[e]};return"control"===e.type?n:e})),comments:Object.values(t.nodes).filter((function(e){return"text"===e.type})).map((function(e){return{type:"comment",patch:t,node:e,text:e.args[0].toString()}}))}}(r,n),o=a.controls,i=function(e,n){var t=it(zg(Dg(e)),2),r=t[0],a=t[1];return{controlsViews:r,commentsViews:jg(n).map((function(e){return Sr(Sr({},e),{},{position:wg(e.position,a)})}))}}(o,a.comments),s=i.controlsViews,c=i.commentsViews,u=new AudioContext;return u.suspend(),{rootElem:null,audioContext:u,webpdNode:null,pdJson:n,controls:o,controlsValues:r,controlsViews:s,commentsViews:c,settings:null,inletCallerSpecs:av(o,t.graph)}},rv=function(){var e=Ra(mt().mark((function e(n,t,r){var a,o,i,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sr(Sr({},t),{},{controlsValues:Sr(Sr({},t.controlsValues),{},{values:r.initialValues?Sr({},r.initialValues):{}}),settings:r}),o=document.createElement("div"),a.settings.container.appendChild(o),i=Kg(o),!0!==a.settings.showCredits&&(i.creditsButton.style.display="none"),i.creditsButton.onclick=function(){i.creditsContainer.classList.contains("expanded")?i.creditsContainer.classList.remove("expanded"):i.creditsContainer.classList.add("expanded")},i.startButton.style.display="none",i.startButton.onclick=function(){i.loadingContainer.style.display="none",ov(a)},i.loadingLabel.innerHTML="loading assemblyscript compiler ...",console.log("PatchPlayer START"),e.next=12,_p.registerWebPdWorkletNode(a.audioContext);case 12:return i.loadingLabel.innerHTML="generating GUI ...",e.next=15,Eg();case 15:return $g(a,i.controlsRoot),qg(a,i.controlsRoot),e.next=19,Eg();case 19:return e.next=21,navigator.mediaDevices.getUserMedia({audio:!0});case 21:return s=e.sent,e.next=24,Ng(a,s,n);case 24:return a.webpdNode=e.sent,a.rootElem=o,i.loadingLabel.style.display="none",i.startButton.style.display="block",e.abrupt("return",a);case 29:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),av=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.forEach((function(n){if("container"===n.type)r=e(n.children,t,r);else if("control"===n.type){var a=wp.buildGraphNodeId(n.patch.id,n.node.id),o=Tg;if(!t[a])return;r[a]=r[a]||[],r[a].push(o)}})),r},ov=function(e){"suspended"===e.audioContext.state&&e.audioContext.resume(),function(e){Object.entries(e.controlsValues.values).forEach((function(n){var t=it(n,2),r=t[0],a=t[1];Fg(e,r,a)}))}(e)},iv=zp(Wp,$p,qp,(function(e,n,t){if(console.log("selectBuildSteps CODE TARGET",t),!e||!n)return null;if("patchPlayer"===n)switch(t){case"JavaScript":n="compiledJs";break;case"WebAssembly":n="wasm"}return"wav"===n&&["pd","pdJson","dspGraph"].includes(e)?Sp.listBuildSteps(e,n,"JavaScript"===t?"compiledJs":"wasm"):Sp.listBuildSteps(e,n)})),sv=zp(Wp,$p,(function(e,n){return e&&n?!(!["pd","pdJson","dspGraph"].includes(e)||!["wav","patchPlayer"].includes(n)):null})),cv=(zp(Wp,(function(e){return e&&["pd","pdJson"].includes(e)?void 0:null})),64),uv={WebAssembly:{display:"Web Assembly",info:"Web Assembly is slower to build, but provides a higher performance when running. Good for when your patch is stable and you want to take it elsewhere."},JavaScript:{display:"JavaScript",info:"JavaScript is fast to build, but slower when running. Good if you want to test things fast."}},lv=mt().mark(dv),fv=mt().mark(pv);function dv(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(Ap.actions.startBuild.type,pv);case 2:case"end":return e.stop()}}),lv)}function pv(){var e,n,t,r,a,o,i,s,c,u,l;return mt().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,mm(Gp);case 2:return e=f.sent,f.next=5,mm(iv);case 5:return n=f.sent,f.next=8,mm($p);case 8:return t=f.sent,f.next=11,mm(Bp);case 11:if(r=f.sent,console.log("BUILD ?",e,n,!e||!n),e&&n){f.next=15;break}return f.abrupt("return");case 15:a=Sr({},e),o=null,i=bg(n),f.prev=18,i.s();case 20:if((s=i.n()).done){f.next=36;break}return c=s.value,console.log("BUILD STEP START",c),f.next=25,lm(Ap.actions.startStep(c));case 25:return f.next=27,pm(Sp.performBuildStep,a,c,{audioSettings:{channelCount:{in:2,out:2},bitDepth:cv,sampleRate:44100,blockSize:4096,previewDurationSeconds:15},inletCallerSpecs:o?o.inletCallerSpecs:{},nodeBuilders:Vd,nodeImplementations:Wd,abstractionLoader:r?hv(r):mv});case 27:return u=f.sent,l=1===u.status?u.errors:void 0,f.next=31,lm(Ap.actions.stepComplete({status:u.status,errors:l,warnings:u.warnings}));case 31:if(1!==u.status){f.next=33;break}return f.abrupt("break",36);case 33:"dspGraph"===c&&"patchPlayer"===t&&(o=tv(a));case 34:f.next=20;break;case 36:f.next=41;break;case 38:f.prev=38,f.t0=f.catch(18),i.e(f.t0);case 41:return f.prev=41,i.f(),f.finish(41);case 44:return f.next=46,lm(Ap.actions.buildSuccess({artefacts:a,patchPlayer:o}));case 46:case"end":return f.stop()}}),fv,null,[[18,38,41,44]])}var hv=function(e){var n=new URL(e),t=n.origin+n.pathname.split("/").slice(0,-1).join("/");return Sp.makeAbstractionLoader(function(){var e=Ra(mt().mark((function e(n){var r,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t+"/"+(n.endsWith(".pd")?n:"".concat(n,".pd")),console.log("LOADING ABSTRACTION",r),e.next=4,fetch(r);case 4:if((a=e.sent).ok){e.next=8;break}throw console.log("ERROR LOADING ABSTRACTION",r),new Sp.UnknownNodeTypeError(n);case 8:return e.next=10,a.text();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},mv=Sp.makeAbstractionLoader(function(){var e=Ra(mt().mark((function e(n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Sp.UnknownNodeTypeError(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),gv=function(e){return e.app.isInitialized},vv=function(e){return e.app.willBuildOnLoad},yv=mt().mark(bv);function bv(){var e,n;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.asc){t.next=5;break}return t.next=3,gm(100);case 3:t.next=0;break;case 5:return Sp.setAsc(window.asc),t.next=8,mm(Bp);case 8:return e=t.sent,t.next=11,mm(Vp);case 11:if(n=t.sent,!e||n){t.next=19;break}return t.next=15,um([Ma.actions.fetchUrlSuccess,Ma.actions.fetchUrlError]);case 15:if(t.sent.type!==Ma.actions.fetchUrlError.type){t.next=19;break}return console.log("INIT FAILED ERROR"),t.abrupt("return");case 19:return t.next=21,mm(vv);case 21:if(!t.sent){t.next=25;break}return t.next=25,lm(Ap.actions.startBuild());case 25:return t.next=27,lm(Lp.actions.initializationDone());case 27:case"end":return t.stop()}}),yv)}var Sv={patchPlayer:null},wv={values:{}},_v=ea({name:"patchPlayer",initialState:wv,reducers:{valuesChanged:function(e,n){e.values=n.payload}},extraReducers:function(e){e.addCase(Ap.actions.buildSuccess,(function(e,n){Sv.patchPlayer=n.payload.patchPlayer})),e.addCase(kp,(function(){return Sv.patchPlayer=null,wv}))}}),kv=function(e){return e.patchPlayer.values},xv=function(){return Sv.patchPlayer},Iv=ig(),Ev=function(e){var n,t=Yr(),r=e||{},a=r.reducer,o=void 0===a?void 0:a,i=r.middleware,s=void 0===i?t():i,c=r.devTools,u=void 0===c||c,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,p=void 0===d?void 0:d;if("function"===typeof o)n=o;else{if(!qr(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');n=Or(o)}var h=s;if("function"===typeof h&&(h=h(t),!Qr&&!Array.isArray(h)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Qr&&h.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var m=Cr.apply(void 0,h),g=Tr;u&&(g=$r(Wr({trace:!Qr},"object"===typeof u&&u)));var v=[m];return Array.isArray(p)?v=Nr([m],p):"function"===typeof p&&(v=p(v)),Er(n,f,g.apply(void 0,v))}({reducer:{app:Lp.reducer,buildInput:Ma.reducer,buildOutput:La.reducer,artefacts:Ap.reducer,console:Mp.reducer,patchPlayer:_v.reducer},middleware:function(e){return e({serializableCheck:!1}).concat([Iv])}}),Ov=Aa,Tv=wa;Iv.run(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fm([bv(),mg(),dv()]);case 2:case"end":return e.stop()}}),e)}))),(0,Pp.Z)({store:Ev,params:{jsOrAsc:{selector:qp,action:La.actions.setCodeTarget,defaultValue:La.getInitialState().codeTarget},target:{selector:$p,action:La.actions.setFormat,defaultValue:La.getInitialState().format},url:{selector:Bp,action:Ma.actions.setUrl,defaultValue:Ma.getInitialState().url},build:{selector:vv,action:Lp.actions.setWillBuildOnLoad,defaultValue:Lp.getInitialState().willBuildOnLoad,stringToValue:function(e){return"1"===e},valueToString:function(e){return e?"1":"0"}},pp:{selector:kv,action:_v.actions.valuesChanged,defaultValue:_v.getInitialState().values,stringToValue:function(e){return JSON.parse(e)},valueToString:function(e){return JSON.stringify(e)}}},replaceState:!0,initialTruth:"location"});var Cv=t(7),Av=t.n(Cv);function Fv(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(n){o(n)}}function s(e){try{c(r.throw(e))}catch(n){o(n)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}c((r=r.apply(e,n||[])).next())}))}function Mv(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(c){s=[6,c],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function Lv(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}function Pv(e,n,t){if(t||2===arguments.length)for(var r,a=0,o=n.length;a<o;a++)!r&&a in n||(r||(r=Array.prototype.slice.call(n,0,a)),r[a]=n[a]);return e.concat(r||Array.prototype.slice.call(n))}Object.create;var Nv=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Rv(e,n){var t=function(e){var n=e.name;if(n&&-1!==n.lastIndexOf(".")&&!e.type){var t=n.split(".").pop().toLowerCase(),r=Nv.get(t);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof t.path){var r=e.webkitRelativePath;Object.defineProperty(t,"path",{value:"string"===typeof n?n:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}var Dv=[".DS_Store","Thumbs.db"];function jv(e){return"object"===typeof e&&null!==e}function zv(e){return Wv(e.target.files).map((function(e){return Rv(e)}))}function Bv(e){return Fv(this,void 0,void 0,(function(){return Mv(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,n.sent().map((function(e){return Rv(e)}))]}}))}))}function Uv(e,n){return Fv(this,void 0,void 0,(function(){var t;return Mv(this,(function(r){switch(r.label){case 0:return e.items?(t=Wv(e.items).filter((function(e){return"file"===e.kind})),"drop"!==n?[2,t]:[4,Promise.all(t.map(Gv))]):[3,2];case 1:return[2,Vv(Kv(r.sent()))];case 2:return[2,Vv(Wv(e.files).map((function(e){return Rv(e)})))]}}))}))}function Vv(e){return e.filter((function(e){return-1===Dv.indexOf(e.name)}))}function Wv(e){if(null===e)return[];for(var n=[],t=0;t<e.length;t++){var r=e[t];n.push(r)}return n}function Gv(e){if("function"!==typeof e.webkitGetAsEntry)return $v(e);var n=e.webkitGetAsEntry();return n&&n.isDirectory?Hv(n):$v(e)}function Kv(e){return e.reduce((function(e,n){return Pv(Pv([],Lv(e),!1),Lv(Array.isArray(n)?Kv(n):[n]),!1)}),[])}function $v(e){var n=e.getAsFile();if(!n)return Promise.reject("".concat(e," is not a File"));var t=Rv(n);return Promise.resolve(t)}function qv(e){return Fv(this,void 0,void 0,(function(){return Mv(this,(function(n){return[2,e.isDirectory?Hv(e):Xv(e)]}))}))}function Hv(e){var n=e.createReader();return new Promise((function(e,t){var r=[];!function a(){var o=this;n.readEntries((function(n){return Fv(o,void 0,void 0,(function(){var o,i,s;return Mv(this,(function(c){switch(c.label){case 0:if(n.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=c.sent(),e(o),[3,4];case 3:return i=c.sent(),t(i),[3,4];case 4:return[3,6];case 5:s=Promise.all(n.map(qv)),r.push(s),a(),c.label=6;case 6:return[2]}}))}))}),(function(e){t(e)}))}()}))}function Xv(e){return Fv(this,void 0,void 0,(function(){return Mv(this,(function(n){return[2,new Promise((function(n,t){e.file((function(t){var r=Rv(t,e.fullPath);n(r)}),(function(e){t(e)}))}))]}))}))}var Yv=t(998);function Qv(e){return function(e){if(Array.isArray(e))return ry(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ty(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Zv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jv(Object(t),!0).forEach((function(n){ey(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ey(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ny(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}(e,n)||ty(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ty(e,n){if(e){if("string"===typeof e)return ry(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ry(e,n):void 0}}function ry(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ay="file-invalid-type",oy="file-too-large",iy="file-too-small",sy="too-many-files",cy=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:ay,message:"File type must be ".concat(n)}},uy=function(e){return{code:oy,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},ly=function(e){return{code:iy,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},fy={code:sy,message:"Too many files"};function dy(e,n){var t="application/x-moz-file"===e.type||(0,Yv.Z)(e,n);return[t,t?null:cy(n)]}function py(e,n,t){if(hy(e.size))if(hy(n)&&hy(t)){if(e.size>t)return[!1,uy(t)];if(e.size<n)return[!1,ly(n)]}else{if(hy(n)&&e.size<n)return[!1,ly(n)];if(hy(t)&&e.size>t)return[!1,uy(t)]}return[!0,null]}function hy(e){return void 0!==e&&null!==e}function my(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function gy(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function vy(e){e.preventDefault()}function yy(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return n.some((function(n){return!my(e)&&n&&n.apply(void 0,[e].concat(r)),my(e)}))}}function by(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Sy(e){return/^.*\.[\w]+$/.test(e)}var wy=["children"],_y=["open"],ky=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],xy=["refKey","onChange","onClick"];function Iy(e){return function(e){if(Array.isArray(e))return Ty(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Oy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ey(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,a,o=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return o}(e,n)||Oy(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oy(e,n){if(e){if("string"===typeof e)return Ty(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ty(e,n):void 0}}function Ty(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Cy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ay(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cy(Object(t),!0).forEach((function(n){Fy(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cy(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Fy(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function My(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var Ly=(0,o.forwardRef)((function(e,n){var t=e.children,r=jy(My(e,wy)),a=r.open,i=My(r,_y);return(0,o.useImperativeHandle)(n,(function(){return{open:a}}),[a]),o.createElement(o.Fragment,null,t(Ay(Ay({},i),{},{open:a})))}));Ly.displayName="Dropzone";var Py={disabled:!1,getFilesFromEvent:function(e){return Fv(this,void 0,void 0,(function(){return Mv(this,(function(n){return jv(e)&&jv(e.dataTransfer)?[2,Uv(e.dataTransfer,e.type)]:function(e){return jv(e)&&jv(e.target)}(e)?[2,zv(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,Bv(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ly.defaultProps=Py,Ly.propTypes={children:Av().func,accept:Av().objectOf(Av().arrayOf(Av().string)),multiple:Av().bool,preventDropOnDocument:Av().bool,noClick:Av().bool,noKeyboard:Av().bool,noDrag:Av().bool,noDragEventsBubbling:Av().bool,minSize:Av().number,maxSize:Av().number,maxFiles:Av().number,disabled:Av().bool,getFilesFromEvent:Av().func,onFileDialogCancel:Av().func,onFileDialogOpen:Av().func,useFsAccessApi:Av().bool,autoFocus:Av().bool,onDragEnter:Av().func,onDragLeave:Av().func,onDragOver:Av().func,onDrop:Av().func,onDropAccepted:Av().func,onDropRejected:Av().func,onError:Av().func,validator:Av().func};var Ny,Ry,Dy={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ay(Ay({},Py),e),t=n.accept,r=n.disabled,a=n.getFilesFromEvent,i=n.maxSize,s=n.minSize,c=n.multiple,u=n.maxFiles,l=n.onDragEnter,f=n.onDragLeave,d=n.onDragOver,p=n.onDrop,h=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.autoFocus,S=n.preventDropOnDocument,w=n.noClick,_=n.noKeyboard,k=n.noDrag,x=n.noDragEventsBubbling,I=n.onError,E=n.validator,O=(0,o.useMemo)((function(){return function(e){if(hy(e))return Object.entries(e).reduce((function(e,n){var t=ny(n,2),r=t[0],a=t[1];return[].concat(Qv(e),[r],Qv(a))}),[]).filter((function(e){return by(e)||Sy(e)})).join(",")}(t)}),[t]),T=(0,o.useMemo)((function(){return function(e){return hy(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var n=ny(e,2),t=n[0],r=n[1],a=!0;return by(t)||(console.warn('Skipped "'.concat(t,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),Array.isArray(r)&&r.every(Sy)||(console.warn('Skipped "'.concat(t,'" because an invalid file extension was provided.')),a=!1),a})).reduce((function(e,n){var t=ny(n,2),r=t[0],a=t[1];return Zv(Zv({},e),{},ey({},r,a))}),{})}]:e}(t)}),[t]),C=(0,o.useMemo)((function(){return"function"===typeof v?v:By}),[v]),A=(0,o.useMemo)((function(){return"function"===typeof g?g:By}),[g]),F=(0,o.useRef)(null),M=(0,o.useRef)(null),L=Ey((0,o.useReducer)(zy,Dy),2),P=L[0],N=L[1],R=P.isFocused,D=P.isFileDialogActive,j=(0,o.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),z=function(){!j.current&&D&&setTimeout((function(){M.current&&(M.current.files.length||(N({type:"closeDialog"}),A()))}),300)};(0,o.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[M,D,A,j]);var B=(0,o.useRef)([]),U=function(e){F.current&&F.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,o.useEffect)((function(){return S&&(document.addEventListener("dragover",vy,!1),document.addEventListener("drop",U,!1)),function(){S&&(document.removeEventListener("dragover",vy),document.removeEventListener("drop",U))}}),[F,S]),(0,o.useEffect)((function(){return!r&&b&&F.current&&F.current.focus(),function(){}}),[F,b,r]);var V=(0,o.useCallback)((function(e){I?I(e):console.error(e)}),[I]),W=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),te(e),B.current=[].concat(Iy(B.current),[e.target]),gy(e)&&Promise.resolve(a(e)).then((function(n){if(!my(e)||x){var t=n.length,r=t>0&&function(e){var n=e.files,t=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,i=e.maxFiles,s=e.validator;return!(!o&&n.length>1||o&&i>=1&&n.length>i)&&n.every((function(e){var n=ny(dy(e,t),1)[0],o=ny(py(e,r,a),1)[0],i=s?s(e):null;return n&&o&&!i}))}({files:n,accept:O,minSize:s,maxSize:i,multiple:c,maxFiles:u,validator:E});N({isDragAccept:r,isDragReject:t>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e)}})).catch((function(e){return V(e)}))}),[a,l,V,x,O,s,i,c,u,E]),G=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),te(e);var n=gy(e);if(n&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(t){}return n&&d&&d(e),!1}),[d,x]),K=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),te(e);var n=B.current.filter((function(e){return F.current&&F.current.contains(e)})),t=n.indexOf(e.target);-1!==t&&n.splice(t,1),B.current=n,n.length>0||(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gy(e)&&f&&f(e))}),[F,f,x]),$=(0,o.useCallback)((function(e,n){var t=[],r=[];e.forEach((function(e){var n=Ey(dy(e,O),2),a=n[0],o=n[1],c=Ey(py(e,s,i),2),u=c[0],l=c[1],f=E?E(e):null;if(a&&u&&!f)t.push(e);else{var d=[o,l];f&&(d=d.concat(f)),r.push({file:e,errors:d.filter((function(e){return e}))})}})),(!c&&t.length>1||c&&u>=1&&t.length>u)&&(t.forEach((function(e){r.push({file:e,errors:[fy]})})),t.splice(0)),N({acceptedFiles:t,fileRejections:r,type:"setFiles"}),p&&p(t,r,n),r.length>0&&m&&m(r,n),t.length>0&&h&&h(t,n)}),[N,c,O,s,i,u,p,h,m,E]),q=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),te(e),B.current=[],gy(e)&&Promise.resolve(a(e)).then((function(n){my(e)&&!x||$(n,e)})).catch((function(e){return V(e)})),N({type:"reset"})}),[a,$,V,x]),H=(0,o.useCallback)((function(){if(j.current){N({type:"openDialog"}),C();var e={multiple:c,types:T};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){$(e,null),N({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?V(e):(j.current=!1,M.current?(M.current.value=null,M.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):(A(e),N({type:"closeDialog"}))}))}else M.current&&(N({type:"openDialog"}),C(),M.current.value=null,M.current.click())}),[N,C,A,y,$,V,T,c]),X=(0,o.useCallback)((function(e){F.current&&F.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),H()))}),[F,H]),Y=(0,o.useCallback)((function(){N({type:"focus"})}),[]),Q=(0,o.useCallback)((function(){N({type:"blur"})}),[]),J=(0,o.useCallback)((function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?H():setTimeout(H,0))}),[w,H]),Z=function(e){return r?null:e},ee=function(e){return _?null:Z(e)},ne=function(e){return k?null:Z(e)},te=function(e){x&&e.stopPropagation()},re=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,t=void 0===n?"ref":n,a=e.role,o=e.onKeyDown,i=e.onFocus,s=e.onBlur,c=e.onClick,u=e.onDragEnter,l=e.onDragOver,f=e.onDragLeave,d=e.onDrop,p=My(e,ky);return Ay(Ay(Fy({onKeyDown:ee(yy(o,X)),onFocus:ee(yy(i,Y)),onBlur:ee(yy(s,Q)),onClick:Z(yy(c,J)),onDragEnter:ne(yy(u,W)),onDragOver:ne(yy(l,G)),onDragLeave:ne(yy(f,K)),onDrop:ne(yy(d,q)),role:"string"===typeof a&&""!==a?a:"presentation"},t,F),r||_?{}:{tabIndex:0}),p)}}),[F,X,Y,Q,J,W,G,K,q,_,k,r]),ae=(0,o.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,t=void 0===n?"ref":n,r=e.onChange,a=e.onClick,o=My(e,xy);return Ay(Ay({},Fy({accept:O,multiple:c,type:"file",style:{display:"none"},onChange:Z(yy(r,q)),onClick:Z(yy(a,ae)),tabIndex:-1},t,M)),o)}}),[M,t,c,q,r]);return Ay(Ay({},P),{},{isFocused:R&&!r,getRootProps:re,getInputProps:oe,rootRef:F,inputRef:M,open:Z(H)})}function zy(e,n){switch(n.type){case"focus":return Ay(Ay({},e),{},{isFocused:!0});case"blur":return Ay(Ay({},e),{},{isFocused:!1});case"openDialog":return Ay(Ay({},Dy),{},{isFileDialogActive:!0});case"closeDialog":return Ay(Ay({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ay(Ay({},e),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return Ay(Ay({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections});case"reset":return Ay({},Dy);default:return e}}function By(){}var Uy,Vy,Wy,Gy,Ky,$y,qy,Hy,Xy,Yy,Qy,Jy,Zy,eb,nb,tb,rb,ab,ob,ib,sb,cb,ub,lb,fb=ze.span(Ny||(Ny=s(["\n    padding: "," 0;\n    cursor: pointer;\n"])),on.spacings.space0p1),db=ze.span(Ry||(Ry=s(["\n    color: ",";\n"])),on.colors.fg1),pb=function(){var e=Tv(Up),n=Ov(),t=jy({onDrop:(0,o.useCallback)((function(e){var t=e[0],r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){n(Ma.actions.setLocalFile({arrayBuffer:r.result,filepath:t.name}))},r.readAsArrayBuffer(t)}),[])}),r=t.getRootProps,a=t.getInputProps,i=t.isDragActive;return(0,sn.jsxs)(fb,Sr(Sr({},r()),{},{children:[(0,sn.jsx)("input",Sr({},a())),i?(0,sn.jsx)(db,{children:"Drop the file here ..."}):(0,sn.jsx)(db,{children:e?"Choose a different file":"Upload a file from your computer"})]}))},hb=ze.form(Uy||(Uy=s(["\n    display: inline;\n"]))),mb=ze.input(Vy||(Vy=s(["\n    padding: "," 0;\n    color: ",";\n    ::placeholder,\n    ::-webkit-input-placeholder {\n        color: ",";\n    }\n    :-ms-input-placeholder {\n        color: ",";\n    }\n"])),on.spacings.space0p1,on.colors.fg1,on.colors.fg1,on.colors.fg1),gb=ze(fn)(Wy||(Wy=s(["\n    margin-left: ",";\n"])),on.spacings.space1),vb=function(){var e=Ov(),n=Tv(Bp),t=it((0,o.useState)(n||""),2),r=t[0],a=t[1];return(0,sn.jsxs)(hb,{onSubmit:function(n){n.preventDefault(),e(Ma.actions.setUrl(r))},children:[(0,sn.jsx)(mb,{value:r,onChange:function(n){a(n.target.value),e(Ma.actions.setFocusOn("url"))},placeholder:"Load a file from a URL"}),r.length?(0,sn.jsx)(gb,{children:"Load"}):null]})},yb=ze(bn)(Gy||(Gy=s(["\n    position: relative;\n"]))),bb=ze.div(Ky||(Ky=s(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    flex: auto;\n    & > * {\n        display: inline-block;\n    }\n"]))),Sb=ze(fn)($y||($y=s(["\n    position: absolute;\n    top: calc("," + ",");\n    right: calc("," + ",");\n"])),on.spacings.space1,on.spacings.space0p1,on.spacings.space1,on.spacings.space0p1),wb=function(){var e=Ov(),n=Tv(Up),t=Tv(Bp),r=Tv(Wp),a=Tv(Gp);return(0,sn.jsxs)(yb,{children:[(0,sn.jsx)(Sn,{children:(0,sn.jsx)(un,{children:"\u2192 input"})}),(0,sn.jsx)(wn,{children:r&&a?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(pt,{format:r,artefacts:a,filename:n||t||void 0}),(0,sn.jsx)(Sb,{onClick:function(){e(Ma.actions.clear())},children:"Clear"})]}):(0,sn.jsxs)(bb,{children:[(0,sn.jsx)(pb,{})," ",(0,sn.jsx)(vn,{children:"OR"})," ",(0,sn.jsx)(vb,{})]})})]})},_b=Sr(Sr({},Gc),{},{patchPlayer:{description:"Patch player"}}),kb={pd:{info:"A Pure Data file (.pd) in text format."},pdJson:{info:"Will compile a JSON representation of a pure data file."},dspGraph:{info:"Will compile a DSP graph that is used internally by the WebPd compiler to generate the audio output."},compiledJs:{info:"Will compile a JavaScript function for generating audio."},compiledAsc:{info:"Will compile an AssemblyScript function which can then be compiled to Web Assembly."},wasm:{info:"Will generate a Web Assembly module from your patch. This module can be loaded again here at a later time to play your patch."},wav:{info:"Will generate an audio preview of your patch."},patchPlayer:{info:"Will render a interactive interface, allowing to play your patch online."}},xb=ze.div.withConfig({displayName:"OutputSelector__Container",componentId:"sc-1qpzo58-0"})([""]),Ib=ze.div.withConfig({displayName:"OutputSelector__FormatSelector",componentId:"sc-1qpzo58-1"})(["width:100%;display:flex;flex-direction:row;justify-content:space-between;"]),Eb=ze(yn).withConfig({displayName:"OutputSelector__FormatHint",componentId:"sc-1qpzo58-2"})(["margin-top:",";"],on.spacings.space0p1),Ob=ze(fn).withConfig({displayName:"OutputSelector__ButtonInit",componentId:"sc-1qpzo58-3"})([""]),Tb=ze(fn).withConfig({displayName:"OutputSelector__ButtonActive",componentId:"sc-1qpzo58-4"})(["background-color:",";"],on.colors.bg1p5),Cb=ze(fn).withConfig({displayName:"OutputSelector__ButtonInactive",componentId:"sc-1qpzo58-5"})(["background-color:",";color:",";"],on.colors.bg1p5,on.colors.fg2),Ab=function(){var e=Ov(),n=Tv($p),t=Array.from(Tv(Hp));return(0,sn.jsxs)(xb,{children:[(0,sn.jsx)(Ib,{children:t.flatMap((function(r,a){var o=r===n?Tb:n?Cb:Ob;return[(0,sn.jsx)(o,{onClick:function(){return e(La.actions.setFormat(r))},children:_b[r].description},r),a<t.length-1?(0,sn.jsx)(vn,{children:"OR"},r+"OR"):null]}))}),n?(0,sn.jsx)(Eb,{children:kb[n].info}):null]})},Fb=ze.div(qy||(qy=s(["\n    margin-top: ",";\n"])),on.spacings.space2),Mb=ze(pn)(Hy||(Hy=s(["\n    min-width: 8em;\n    margin-left: ",";\n"])),on.spacings.space1),Lb=ze(yn)(Xy||(Xy=s(["\n    margin-top: ",";\n"])),on.spacings.space0p1),Pb=function(){var e=Tv(qp),n=Ov();return(0,sn.jsxs)(Fb,{children:[(0,sn.jsx)("label",{children:"Compilation target"}),(0,sn.jsx)(Mb,{value:e,onChange:function(e){return n(La.actions.setCodeTarget(e.currentTarget.value))},children:Object.entries(uv).map((function(e){var n=it(e,2),t=n[0],r=n[1].display;return(0,sn.jsx)("option",{value:t,children:r},t)}))}),(0,sn.jsx)(Lb,{children:uv[e].info})]})},Nb=function(){return Tp.artefacts},Rb=function(e){return e.artefacts.buildStatus},Db=function(e){return e.artefacts.step},jb=function(e){return e.console.errors},zb=function(e){return e.console.warnings},Bb=ze.div(Yy||(Yy=s(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    background-color: ",";\n"])),on.colors.bg1),Ub=ze(fn)(Qy||(Qy=s(["\n    position: fixed;\n    right: ",";\n    top: ",";\n    z-index: ",";\n"])),on.spacings.space1,on.spacings.space1,on.zIndexes.closeButton),Vb=function(e){var n=e.artefacts,t=(0,o.useRef)(null),r=Ov(),a=Tv(xv),i=Tv(kv);(0,o.useEffect)((function(){if(a){var e=rv(n,a,{container:t.current,colorScheme:on.colors.colorScheme,showCredits:!1,initialValues:i,valuesUpdatedCallback:function(e){r(_v.actions.valuesChanged(e))}});return function(){console.log("DESTROY"),e.then((function(e){return function(e){e.rootElem&&(e.rootElem.innerHTML="",e.rootElem.remove(),console.log("DESTROY PATCH PLAYER",e.rootElem)),e.webpdNode.disconnect(),e.audioContext.suspend()}(e)}))}}}),[n,a]);return(0,sn.jsx)(Bb,{id:"PatchPlayer",ref:t,children:(0,sn.jsx)(Ub,{onClick:function(){r(kp())},children:"Close"})})},Wb=ze.div(Jy||(Jy=s([""]))),Gb=function(){var e=Tv($p),n=Tv(Nb),t=Tv(jb),r=Tv(Db),a=Tv(Rb);return!e||t||a!==Ep?null:(0,sn.jsxs)(Wb,{children:[a===Ip&&(0,sn.jsxs)(un,{children:["Building ",r," ..."]}),a===Ep?"patchPlayer"!==e?(0,sn.jsx)(pt,{artefacts:n,format:e,showDownloadButton:!0}):(0,sn.jsx)(Vb,{artefacts:n}):null]})},Kb=ze(bn)(Zy||(Zy=s([""]))),$b=ze.div(eb||(eb=s(["\n    margin-top: ",";\n"])),on.spacings.space2),qb=ze(dn)(nb||(nb=s(["\n    font-size: 150%;\n    padding: 0.1em 0.5em;\n"]))),Hb=function(){var e=Ov(),n=Tv(Gp),t=Tv($p),r=Tv(Rb),a=Tv(sv),o=Tv(jb);return n?(0,sn.jsxs)(Kb,{children:[(0,sn.jsx)(Sn,{children:(0,sn.jsx)(un,{children:"\u2190 output"})}),(0,sn.jsx)(wn,{children:t&&!o&&r===Ep?(0,sn.jsx)(Gb,{}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Ab,{}),t&&a?(0,sn.jsx)(Pb,{}):null,t?(0,sn.jsx)($b,{children:(0,sn.jsx)(qb,{onClick:function(){e(Ap.actions.startBuild())},children:"Go !"})}):null]})})]}):null},Xb=t.p+"static/media/README.520a98ba68fa232b2f79.md",Yb=ze(ln)(tb||(tb=s(["\n    background: linear-gradient(180deg, rgba(0,0,0,0) 10%, "," 50%, "," 67%); \n"])),on.colors.bg2,on.colors.bg2),Qb=ze.h1(rb||(rb=s(["\n    position: relative;\n    bottom: 0.15em;\n    right: 0.08em;\n    font-size: 600%;\n    font-family: ",";\n    color: ",";\n    margin: 0;\n    padding: 0;\n    margin-bottom: ",";\n    line-height: 100%;\n    letter-spacing: 0.3em;\n    text-align: center;\n"])),on.fonts.title,on.colors.colorScheme.next(),on.spacings.space2),Jb=ze.div(ab||(ab=s(["\n    & > *:last-child {\n        margin-bottom: 0;\n    }\n"]))),Zb=function(){var e=it((0,o.useState)(null),2),n=e[0],t=e[1];return(0,o.useEffect)((function(){var e=function(){var e=Ra(mt().mark((function e(){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Xb);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Failed to load text");case 5:return e.t0=t,e.next=8,n.text();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,sn.jsxs)(Yb,{children:[(0,sn.jsx)(Qb,{children:"WebPd"}),n?(0,sn.jsx)(Jb,{dangerouslySetInnerHTML:{__html:n}}):null]})},eS=ze(ln)(ob||(ob=s([""]))),nS=ze.pre(ib||(ib=s(["\n    overflow: auto;\n    margin: 0;\n"]))),tS=ze.pre(sb||(sb=s(["\n    overflow: auto;\n    margin: 0;\n"]))),rS=ze.div(cb||(cb=s(["\n    margin-top: ",";\n"])),on.spacings.space1),aS=function(){var e=Tv(jb),n=Tv(zb);return e||n?(0,sn.jsxs)(eS,{children:[(0,sn.jsx)(un,{children:"Compilation output :"}),(0,sn.jsxs)(rS,{children:[n?n.map((function(e,n){return(0,sn.jsxs)(nS,{children:["WARNING : ",e]},n)})):null,e?e.map((function(e,n){return(0,sn.jsxs)(tS,{children:["ERROR : ",e]},n)})):null]})]}):null},oS=ze(ln)(ub||(ub=s(["\n    text-align: center;\n"]))),iS=function(){return(0,sn.jsx)(oS,{children:(0,sn.jsx)(cn,{children:"\u2193 Online compiler \u2193"})})},sS=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=ke.apply(void 0,[e].concat(t)),i="sc-global-"+Te(JSON.stringify(a)),s=new je(a,i);function c(e){var n=fe(),t=de(),r=(0,o.useContext)(Pe),a=(0,o.useRef)(n.allocateGSInstance(i)).current;return n.server&&u(a,e,n,r,t),(0,o.useLayoutEffect)((function(){if(!n.server)return u(a,e,n,r,t),function(){return s.removeStyles(a,n)}}),[a,e,n,r,t]),null}function u(e,n,t,r,a){if(s.isStatic)s.renderStyles(e,C,t,a);else{var o=y({},n,{theme:xe(n,r,c.defaultProps)});s.renderStyles(e,o,t,a)}}return o.memo(c)}(lb||(lb=s(["\n    @font-face {\n        font-family: 'Rajdhani';\n        src: local('Rajdhani'),\n            url('./fonts/Rajdhani/Rajdhani-Medium.ttf') format('woff');\n    }\n\n    body, html {\n        padding: 0;\n        margin: 0;\n        background-color: ",";\n    }\n\n    * { \n        box-sizing: border-box;\n        /* To enable flex items shrink : https://stackoverflow.com/questions/36247140/why-dont-flex-items-shrink-past-content-size */\n        min-width: 0; \n        min-height: 0;\n        font-size: ","px;\n        font-family: ",";\n        color: ",";\n    }\n\n    input {\n        background-color: ",";\n        border: none;\n        font-size: 100%;\n    }\n\n    textarea:focus, input:focus{\n        outline: "," solid 1px;\n    }\n"])),on.colors.bg1,on.devices.desktop.fontSize,on.fonts.default,on.colors.fg1,on.colors.bg2,on.colors.fg2),cS=function(){return Tv(gv)?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Zb,{}),(0,sn.jsx)(iS,{}),(0,sn.jsx)(wb,{}),(0,sn.jsx)(Hb,{}),(0,sn.jsx)(aS,{})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Zb,{}),(0,sn.jsx)(ln,{children:"LOADING"})]})},uS=function(){return(0,sn.jsxs)(Ia,{store:Ev,children:[(0,sn.jsx)(sS,{}),(0,sn.jsx)(cS,{})]})},lS=function(e){e&&e instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),o(e),i(e)}))};i.createRoot(document.getElementById("root")).render((0,sn.jsx)(uS,{})),lS()}()}();
//# sourceMappingURL=main.8d642037.js.map